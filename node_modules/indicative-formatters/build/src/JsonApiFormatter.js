"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class JsonApiFormatter {
    constructor() {
        this.errors = [];
    }
    addError(error, field, rule, args) {
        let message = '';
        let validation = rule;
        if (error instanceof Error) {
            message = error.message;
            validation = 'ENGINE_EXCEPTION';
        }
        else {
            message = error;
        }
        this.errors.push({
            source: { pointer: field },
            title: validation,
            detail: message,
            meta: { args },
        });
    }
    toJSON() {
        return this.errors.length ? { errors: this.errors } : null;
    }
}
exports.JsonApiFormatter = JsonApiFormatter;
