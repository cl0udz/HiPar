/* eslint id-length: 0  */
"use strict";

require("core-js/modules/es.symbol");

require("core-js/modules/es.symbol.description");

require("core-js/modules/es.symbol.iterator");

require("core-js/modules/es.array.iterator");

require("core-js/modules/es.object.to-string");

require("core-js/modules/es.string.iterator");

require("core-js/modules/web.dom-collections.iterator");

function _typeof3(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof3 = function _typeof3(obj) { return typeof obj; }; } else { _typeof3 = function _typeof3(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof3(obj); }

require("core-js/modules/es.symbol");

require("core-js/modules/es.symbol.description");

require("core-js/modules/es.symbol.iterator");

require("core-js/modules/es.array.iterator");

require("core-js/modules/es.object.to-string");

require("core-js/modules/es.string.iterator");

require("core-js/modules/web.dom-collections.iterator");

function _typeof2(obj) {
  if (typeof Symbol === "function" && _typeof3(Symbol.iterator) === "symbol") {
    _typeof2 = function _typeof2(obj) {
      return _typeof3(obj);
    };
  } else {
    _typeof2 = function _typeof2(obj) {
      return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : _typeof3(obj);
    };
  }

  return _typeof2(obj);
}

require("core-js/modules/es.symbol");

require("core-js/modules/es.symbol.description");

require("core-js/modules/es.symbol.iterator");

require("core-js/modules/es.array.iterator");

require("core-js/modules/es.object.to-string");

require("core-js/modules/es.string.iterator");

require("core-js/modules/web.dom-collections.iterator");

function _typeof(obj) {
  if (typeof Symbol === "function" && _typeof2(Symbol.iterator) === "symbol") {
    _typeof = function _typeof(obj) {
      return _typeof2(obj);
    };
  } else {
    _typeof = function _typeof(obj) {
      return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : _typeof2(obj);
    };
  }

  return _typeof(obj);
}

module.exports = function (t) {
  return {
    "": function _(a) {
      var i = 0,
          fn = function fn(x) {
        ++i;
        return x;
      },
          mfn,
          y = {
        toString: function toString() {
          return "foo";
        }
      };

      mfn = t(fn, {
        primitive: true
      });
      a(_typeof(mfn), "function", "Returns");
      a(mfn.__memoized__, true, "Marked");
      a(t(mfn), mfn, "Do not memoize memoized");
      a(mfn(y), y, "#1");
      a(mfn("foo"), y, "#2");
      a(i, 1, "Called once");
    },
    "Clear cache": function ClearCache(a) {
      var i = 0,
          fn = function fn(x, y, z) {
        ++i;
        return x + y + z;
      },
          mfn,
          y = {
        toString: function toString() {
          return "foo";
        }
      };

      mfn = t(fn, {
        primitive: true
      });
      a(mfn(y, "bar", "zeta"), "foobarzeta", "#1");
      a(mfn("foo", "bar", "zeta"), "foobarzeta", "#2");
      a(i, 1, "Called once");
      mfn["delete"]("foo", {
        toString: function toString() {
          return "bar";
        }
      }, "zeta");
      a(mfn(y, "bar", "zeta"), "foobarzeta", "#3");
      a(i, 2, "Called twice");
    }
  };
};