"use strict";

require("core-js/modules/es.date.to-string");

require("core-js/modules/es.object.assign");

require("core-js/modules/es.object.define-property");

require("core-js/modules/es.object.to-string");

require("core-js/modules/es.regexp.to-string");

require("core-js/modules/es.date.to-string");

require("core-js/modules/es.object.assign");

require("core-js/modules/es.object.define-property");

require("core-js/modules/es.object.to-string");

require("core-js/modules/es.regexp.to-string");

Object.defineProperty(exports, "__esModule", {
  value: true
});

var cross_spawn_1 = require("cross-spawn");

var defaultOptions = {
  logStdErrOnError: true,
  throwOnError: true
};

exports.spawnSafeSync = function (command, args, options) {
  var mergedOptions = Object.assign({}, defaultOptions, options);
  var result = cross_spawn_1.sync(command, args, options);

  if (result.error || result.status !== 0) {
    if (mergedOptions.logStdErrOnError) {
      if (result.stderr) {
        console.error(result.stderr.toString());
      } else if (result.error) {
        console.error(result.error);
      }
    }

    if (mergedOptions.throwOnError) {
      throw result;
    }
  }

  return result;
};