"use strict";

require("core-js/modules/es.array.slice");

require("core-js/modules/es.object.define-property");

require("core-js/modules/es.object.keys");

require("core-js/modules/es.string.starts-with");

require("core-js/modules/es.array.slice");

require("core-js/modules/es.object.define-property");

require("core-js/modules/es.object.keys");

require("core-js/modules/es.string.starts-with");

Object.defineProperty(exports, "__esModule", {
  value: true
});

var path_1 = require("./path");

function transformVersionString(version, appRootPath) {
  if (version.startsWith("file:") && version[5] !== "/") {
    return "file:" + path_1.resolve(appRootPath, version.slice(5));
  } else {
    return version;
  }
}

function resolveRelativeFileDependencies(appRootPath, resolutions) {
  var result = {};

  for (var _i = 0, _a = Object.keys(resolutions); _i < _a.length; _i++) {
    var packageName = _a[_i];
    result[packageName] = transformVersionString(resolutions[packageName], appRootPath);
  }

  return result;
}

exports.resolveRelativeFileDependencies = resolveRelativeFileDependencies;