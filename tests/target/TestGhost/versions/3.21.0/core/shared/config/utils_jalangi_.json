{"8":[6,9,6,29],"9":[1,12,1,19],"10":[6,9,6,29],"16":[13,13,13,54],"17":[1,20,1,26],"18":[11,9,11,48],"24":[11,9,11,48],"25":[1,12,1,27],"26":[13,13,13,54],"32":[39,9,39,60],"33":[1,12,1,27],"34":[20,12,20,54],"40":[38,9,39,61],"41":[1,12,1,27],"42":[36,55,36,67],"48":[38,9,40,38],"49":[2,10,2,17],"50":[36,55,36,78],"56":[38,9,40,38],"57":[2,18,2,28],"58":[39,41,39,60],"64":[35,13,35,36],"65":[2,10,2,29],"66":[40,9,40,38],"72":[51,13,51,17],"73":[2,10,2,29],"74":[42,22,42,34],"80":[52,14,52,22],"81":[2,10,2,29],"82":[42,22,42,45],"88":[54,14,54,22],"89":[3,9,3,16],"90":[65,29,65,70],"96":[56,14,56,24],"97":[3,17,3,25],"98":[74,9,74,58],"104":[58,14,58,20],"105":[3,9,3,26],"106":[85,9,85,36],"112":[60,14,60,20],"113":[3,9,3,26],"114":[100,9,100,48],"120":[62,14,62,24],"121":[3,9,3,26],"122":[101,9,101,44],"128":[74,9,74,58],"129":[5,1,5,8],"130":[103,9,103,40],"136":[85,9,85,36],"137":[6,10,6,14],"138":[104,9,104,40],"144":[100,9,100,48],"145":[6,19,6,28],"146":[105,9,105,44],"153":[6,10,6,29],"154":[106,9,106,44],"155":[6,10,6,18],"161":[7,16,7,21],"169":[7,16,7,21],"177":[7,9,7,22],"185":[11,9,11,13],"193":[11,18,11,27],"201":[11,9,11,28],"203":[11,9,11,17],"209":[11,9,11,39],"217":[11,44,11,48],"225":[13,13,13,17],"233":[13,22,13,31],"241":[13,13,13,32],"243":[13,13,13,21],"249":[13,33,13,44],"257":[13,13,13,45],"265":[13,50,13,54],"273":[14,20,14,25],"281":[14,20,14,25],"289":[14,13,14,26],"297":[17,16,17,20],"305":[17,16,17,20],"313":[17,9,17,21],"321":[20,12,20,16],"329":[20,21,20,30],"337":[20,12,20,31],"339":[20,12,20,20],"345":[20,32,20,43],"353":[20,12,20,44],"361":[20,49,20,54],"369":[20,12,20,54],"377":[20,5,20,55],"385":[5,29,21,2],"393":[5,29,21,2],"401":[5,29,21,2],"409":[5,29,21,2],"417":[5,29,21,2],"425":[5,1,21,2],"433":[5,1,21,3],"441":[31,1,31,8],"449":[32,16,32,20],"457":[32,16,32,20],"465":[32,16,32,20],"473":[34,5,34,6],"481":[34,12,34,15],"489":[35,13,35,14],"497":[35,24,35,35],"505":[35,13,35,36],"507":[35,13,35,23],"513":[36,13,36,30],"521":[36,36,36,40],"529":[36,13,36,41],"531":[36,13,36,35],"537":[36,42,36,53],"545":[36,55,36,61],"553":[36,64,36,67],"561":[36,70,36,78],"569":[36,13,36,79],"577":[36,13,36,80],"585":[38,9,38,10],"593":[38,20,38,31],"601":[38,9,38,32],"603":[38,9,38,19],"609":[39,9,39,20],"617":[39,27,39,36],"625":[39,9,39,37],"627":[39,9,39,26],"633":[39,41,39,52],"641":[39,57,39,60],"649":[40,10,40,14],"657":[40,26,40,37],"665":[40,10,40,38],"667":[40,10,40,25],"673":[42,13,42,17],"681":[42,22,42,28],"689":[42,31,42,34],"697":[42,37,42,45],"705":[42,47,42,51],"713":[42,62,42,66],"721":[42,72,42,81],"729":[42,83,42,93],"737":[42,95,42,106],"745":[42,62,42,107],"747":[42,62,42,71],"753":[42,47,42,108],"755":[42,47,42,61],"761":[42,13,42,109],"763":[42,13,42,21],"769":[42,13,42,110],"777":[34,17,44,6],"785":[34,17,44,6],"793":[34,17,44,6],"801":[34,17,44,6],"809":[34,17,44,6],"817":[34,5,44,7],"819":[34,5,34,11],"825":[34,5,44,8],"833":[31,29,45,2],"841":[31,29,45,2],"849":[31,29,45,2],"857":[31,29,45,2],"865":[31,29,45,2],"873":[31,29,45,2],"881":[31,29,45,2],"889":[31,1,45,2],"897":[31,1,45,3],"905":[50,1,50,8],"913":[51,13,51,17],"921":[53,20,53,24],"929":[53,30,53,34],"937":[53,39,53,58],"945":[53,30,53,59],"947":[53,30,53,38],"953":[53,61,53,70],"961":[53,20,53,71],"963":[53,20,53,29],"969":[53,20,53,71],"977":[53,13,53,72],"985":[52,14,52,22],"993":[55,20,55,24],"1001":[55,30,55,34],"1009":[55,39,55,58],"1017":[55,30,55,59],"1019":[55,30,55,38],"1025":[55,61,55,70],"1033":[55,20,55,71],"1035":[55,20,55,29],"1041":[55,20,55,71],"1049":[55,13,55,72],"1057":[54,14,54,22],"1065":[57,20,57,24],"1073":[57,30,57,34],"1081":[57,39,57,58],"1089":[57,30,57,59],"1091":[57,30,57,38],"1097":[57,61,57,72],"1105":[57,20,57,73],"1107":[57,20,57,29],"1113":[57,20,57,73],"1121":[57,13,57,74],"1129":[56,14,56,24],"1137":[59,20,59,24],"1145":[59,30,59,34],"1153":[59,39,59,58],"1161":[59,30,59,59],"1163":[59,30,59,38],"1169":[59,61,59,68],"1177":[59,20,59,69],"1179":[59,20,59,29],"1185":[59,20,59,69],"1193":[59,13,59,70],"1201":[58,14,58,20],"1209":[61,20,61,24],"1217":[61,30,61,34],"1225":[61,39,61,58],"1233":[61,30,61,59],"1235":[61,30,61,38],"1241":[61,61,61,68],"1249":[61,20,61,69],"1251":[61,20,61,29],"1257":[61,20,61,69],"1265":[61,13,61,70],"1273":[60,14,60,20],"1281":[63,20,63,24],"1289":[63,30,63,34],"1297":[63,39,63,58],"1305":[63,30,63,59],"1307":[63,30,63,38],"1313":[63,61,63,72],"1321":[63,20,63,73],"1323":[63,20,63,29],"1329":[63,20,63,73],"1337":[63,13,63,74],"1345":[62,14,62,24],"1353":[65,23,65,28],"1361":[65,29,65,63],"1369":[65,66,65,70],"1377":[65,19,65,71],"1385":[65,19,65,71],"1393":[65,13,65,72],"1401":[50,26,67,2],"1409":[50,26,67,2],"1417":[50,26,67,2],"1425":[50,26,67,2],"1433":[50,26,67,2],"1441":[50,1,67,2],"1449":[50,1,67,3],"1457":[73,1,73,8],"1465":[74,10,74,12],"1473":[74,28,74,32],"1481":[74,37,74,56],"1489":[74,28,74,57],"1491":[74,28,74,36],"1497":[74,10,74,58],"1499":[74,10,74,27],"1505":[75,19,75,24],"1513":[75,25,75,156],"1521":[75,15,75,157],"1529":[75,15,75,157],"1537":[75,9,75,158],"1545":[73,32,77,2],"1553":[73,32,77,2],"1561":[73,32,77,2],"1569":[73,32,77,2],"1577":[73,1,77,2],"1585":[73,1,77,3],"1593":[82,1,82,8],"1601":[83,15,83,19],"1609":[83,24,83,29],"1617":[83,15,83,30],"1619":[83,15,83,23],"1625":[83,15,83,30],"1633":[83,15,83,30],"1641":[85,10,85,13],"1649":[85,20,85,35],"1657":[85,10,85,36],"1659":[85,10,85,19],"1665":[86,19,86,24],"1673":[86,25,86,103],"1681":[86,15,86,104],"1689":[86,15,86,104],"1697":[86,9,86,105],"1705":[82,28,88,2],"1713":[82,28,88,2],"1721":[82,28,88,2],"1729":[82,28,88,2],"1737":[82,28,88,2],"1745":[82,1,88,2],"1753":[82,1,88,3],"1761":[97,1,97,8],"1769":[98,20,98,24],"1777":[98,29,98,39],"1785":[98,20,98,40],"1787":[98,20,98,28],"1793":[98,20,98,40],"1801":[98,20,98,40],"1809":[100,9,100,13],"1817":[100,18,100,35],"1825":[100,9,100,36],"1827":[100,9,100,17],"1833":[100,41,100,48],"1841":[101,16,101,24],"1849":[101,16,101,35],"1857":[101,9,101,45],"1865":[103,16,103,24],"1873":[103,16,103,35],"1881":[103,9,103,41],"1889":[104,16,104,24],"1897":[104,16,104,35],"1905":[104,9,104,41],"1913":[105,16,105,24],"1921":[105,16,105,35],"1929":[105,9,105,45],"1937":[106,16,106,24],"1945":[106,16,106,35],"1953":[106,9,106,45],"1961":[109,5,109,9],"1969":[109,14,109,24],"1977":[109,26,109,34],"1985":[109,5,109,35],"1987":[109,5,109,13],"1993":[109,5,109,36],"2001":[97,38,110,2],"2009":[97,38,110,2],"2017":[97,38,110,2],"2025":[97,38,110,2],"2033":[97,38,110,2],"2041":[97,1,110,2],"2049":[97,1,110,3],"2057":[1,1,110,3],"2065":[1,1,110,3],"2073":[1,1,110,3],"2081":[1,1,110,3],"2089":[6,5,8,6],"2097":[13,9,15,10],"2105":[11,5,18,6],"2113":[5,29,21,2],"2121":[5,29,21,2],"2129":[37,16,43,10],"2137":[35,9,43,10],"2145":[34,17,44,6],"2153":[34,17,44,6],"2161":[31,29,45,2],"2169":[31,29,45,2],"2177":[51,13,51,17],"2185":[52,14,52,22],"2193":[54,14,54,22],"2201":[56,14,56,24],"2209":[58,14,58,20],"2217":[60,14,60,20],"2225":[62,14,62,24],"2233":[50,26,67,2],"2241":[50,26,67,2],"2249":[74,5,76,6],"2257":[73,32,77,2],"2265":[73,32,77,2],"2273":[85,5,87,6],"2281":[82,28,88,2],"2289":[82,28,88,2],"2297":[100,5,107,6],"2305":[97,38,110,2],"2313":[97,38,110,2],"2321":[1,1,110,3],"2329":[1,1,110,3],"nBranches":36,"originalCodeFileName":"/home/hipar/HiPar/tests/target/TestGhost/versions/3.21.0/core/shared/config/utils.js","instrumentedCodeFileName":"/home/hipar/HiPar/tests/target/TestGhost/versions/3.21.0/core/shared/config/utils_jalangi_.js","code":"const path = require('path');\nconst fs = require('fs-extra');\nconst _ = require('lodash');\n\nexports.isPrivacyDisabled = function isPrivacyDisabled(privacyFlag) {\n    if (!this.get('privacy')) {\n        return false;\n    }\n\n    // CASE: disable all privacy features\n    if (this.get('privacy').useTinfoil === true) {\n        // CASE: you can still enable single features\n        if (this.get('privacy')[privacyFlag] === true) {\n            return false;\n        }\n\n        return true;\n    }\n\n    return this.get('privacy')[privacyFlag] === false;\n};\n\n/**\n * transform all relative paths to absolute paths\n * @TODO: re-write this function a little bit so we don't have to add the parent path - that is hard to understand\n *\n * Path must be string.\n * Path must match minimum one / or \\\n * Path can be a \".\" to re-present current folder\n */\nexports.makePathsAbsolute = function makePathsAbsolute(obj, parent) {\n    const self = this;\n\n    _.each(obj, function (configValue, pathsKey) {\n        if (_.isObject(configValue)) {\n            makePathsAbsolute.bind(self)(configValue, parent + ':' + pathsKey);\n        } else if (\n            _.isString(configValue) &&\n            (configValue.match(/\\/+|\\\\+/) || configValue === '.') &&\n            !path.isAbsolute(configValue)\n        ) {\n            self.set(parent + ':' + pathsKey, path.normalize(path.join(__dirname, '../../..', configValue)));\n        }\n    });\n};\n\n/**\n * we can later support setting folder names via custom config values\n */\nexports.getContentPath = function getContentPath(type) {\n    switch (type) {\n    case 'images':\n        return path.join(this.get('paths:contentPath'), 'images/');\n    case 'themes':\n        return path.join(this.get('paths:contentPath'), 'themes/');\n    case 'adapters':\n        return path.join(this.get('paths:contentPath'), 'adapters/');\n    case 'logs':\n        return path.join(this.get('paths:contentPath'), 'logs/');\n    case 'data':\n        return path.join(this.get('paths:contentPath'), 'data/');\n    case 'settings':\n        return path.join(this.get('paths:contentPath'), 'settings/');\n    default:\n        throw new Error('getContentPath was called with: ' + type);\n    }\n};\n\n/**\n * @TODO:\n *   - content/logs folder is required right now, otherwise Ghost want start\n */\nexports.doesContentPathExist = function doesContentPathExist() {\n    if (!fs.pathExistsSync(this.get('paths:contentPath'))) {\n        throw new Error('Your content path does not exist! Please double check `paths.contentPath` in your custom config file e.g. config.production.json.');\n    }\n};\n\n/**\n* Check if the URL in config has a protocol and sanitise it if not including a warning that it should be changed\n*/\nexports.checkUrlProtocol = function checkUrlProtocol() {\n    const url = this.get('url');\n\n    if (!url.match(/^https?:\\/\\//i)) {\n        throw new Error('URL in config must be provided with protocol, eg. \"http://my-ghost-blog.com\"');\n    }\n};\n\n/**\n * nconf merges all database keys together and this can be confusing\n * e.g. production default database is sqlite, but you override the configuration with mysql\n *\n * this.clear('key') does not work\n * https://github.com/indexzero/nconf/issues/235#issuecomment-257606507\n */\nexports.sanitizeDatabaseProperties = function sanitizeDatabaseProperties() {\n    const database = this.get('database');\n\n    if (this.get('database:client') === 'mysql') {\n        delete database.connection.filename;\n    } else {\n        delete database.connection.host;\n        delete database.connection.user;\n        delete database.connection.password;\n        delete database.connection.database;\n    }\n\n    this.set('database', database);\n};\n"}