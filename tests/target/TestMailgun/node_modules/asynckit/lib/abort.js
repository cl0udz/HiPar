"use strict";

require("core-js/modules/es.array.for-each.js");

require("core-js/modules/es.function.bind.js");

require("core-js/modules/es.object.keys.js");

require("core-js/modules/web.dom-collections.for-each.js");

// API
module.exports = abort;
/**
 * Aborts leftover active jobs
 *
 * @param {object} state - current state object
 */

function abort(state) {
  Object.keys(state.jobs).forEach(clean.bind(state)); // reset leftover jobs

  state.jobs = {};
}
/**
 * Cleans up leftover job by invoking abort function for the provided job id
 *
 * @this  state
 * @param {string|number} key - job id to abort
 */


function clean(key) {
  if (typeof this.jobs[key] == 'function') {
    this.jobs[key]();
  }
}