'use strict';

require("core-js/modules/es.date.to-string");

require("core-js/modules/es.object.to-string");

require("core-js/modules/es.parse-float");

require("core-js/modules/es.regexp.to-string");

function toExtendedJSON(obj, options) {
  if (options && options.relaxed && isFinite(obj.value)) return obj.value;
  return {
    $numberDouble: obj.value.toString()
  };
}

function fromExtendedJSON(BSON, doc, options) {
  return options && options.relaxed ? parseFloat(doc.$numberDouble) : new BSON.Double(parseFloat(doc.$numberDouble));
}

module.exports = {
  toExtendedJSON: toExtendedJSON,
  fromExtendedJSON: fromExtendedJSON
};