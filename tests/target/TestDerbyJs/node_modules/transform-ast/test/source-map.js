"use strict";

require("core-js/modules/es.array.map");

require("core-js/modules/es.date.to-string");

require("core-js/modules/es.object.to-string");

require("core-js/modules/es.regexp.to-string");

var test = require('tape');

var transform = require('../');

test('update()', function (t) {
  var source = "\n    var a = 0\n    a += 10\n  ";
  var result = transform(source, function (node) {
    if (node.type === 'Literal') node.update(String(node.value + 10));
  });
  t.is(result.toString(), "\n    var a = 10\n    a += 20\n  ");
  t.is(JSON.stringify(result.map), '{"version":3,"file":null,"sources":["input.js"],"sourcesContent":["\\n    var a = 0\\n    a += 10\\n  "],"names":[],"mappings":"AAAA;IACI,IAAI,CAAC,GAAG,EAAC;IACT,CAAC,IAAI,EAAE;"}');
  t.end();
});
test('append/prepend()', function (t) {
  var source = "\n    var a = 'hello'\n  ";
  var result = transform(source, function (node) {
    if (node.type === 'Literal') node.prepend('beep(').append(').boop');
  });
  t.is(result.toString(), "\n    var a = beep('hello').boop\n  ");
  t.is(JSON.stringify(result.map), '{"version":3,"file":null,"sources":["input.js"],"sourcesContent":["\\n    var a = \'hello\'\\n  "],"names":[],"mappings":"AAAA;IACI,IAAI,CAAC,QAAG,aAAO;"}');
  t.end();
});
test('input sourcemap', function (t) {
  t.end();
});