{
  "version": 3,
  "sources": [
    "node_modules/browser-pack-flat/_prelude",
    "sink/src/index.coffee",
    "sink/src/table.coffee",
    "sink/src/leaderboard.coffee",
    "sink/src/home.coffee",
    "sink/src/live-css.coffee",
    "sink/src/bench.coffee",
    "sink/src/pages.coffee",
    "/home/wupco/hp/HiPar/tests/target/TestDerbyJs/node_modules/derby/lib/documentListeners.js",
    "node_modules/derby-templates/lib/templates.js",
    "node_modules/derby-templates/lib/options.js",
    "/home/wupco/hp/HiPar/tests/target/TestDerbyJs/node_modules/serialize-object/index.js",
    "node_modules/events/events.js",
    "node_modules/uuid/rng-browser.js",
    "node_modules/uuid/uuid.js",
    "node_modules/racer/lib/Model/Model.js",
    "node_modules/fast-deep-equal/index.js",
    "node_modules/process/browser.js",
    "node_modules/racer/lib/util.js",
    "node_modules/racer/lib/Model/unbundle.js",
    "node_modules/racer/lib/Model/events.js",
    "node_modules/racer/lib/Model/paths.js",
    "node_modules/racer/lib/Model/Doc.js",
    "node_modules/racer/lib/Model/LocalDoc.js",
    "node_modules/racer/lib/Model/collections.js",
    "node_modules/racer/lib/Model/mutators.js",
    "node_modules/arraydiff/index.js",
    "node_modules/racer/lib/Model/setDiff.js",
    "/home/wupco/hp/HiPar/tests/target/TestDerbyJs/node_modules/sharedb/lib/emitter.js",
    "node_modules/sharedb/lib/logger/logger.js",
    "node_modules/sharedb/lib/logger/index.js",
    "node_modules/sharedb/lib/error.js",
    "node_modules/ot-json0/lib/bootstrapTransform.js",
    "node_modules/ot-json0/lib/text0.js",
    "node_modules/ot-json0/lib/json0.js",
    "/home/wupco/hp/HiPar/tests/target/TestDerbyJs/node_modules/ot-json0/lib/index.js",
    "node_modules/sharedb/lib/types.js",
    "node_modules/sharedb/lib/client/doc.js",
    "node_modules/sharedb/lib/client/query.js",
    "node_modules/sharedb/lib/snapshot.js",
    "node_modules/sharedb/lib/client/snapshot-request/snapshot-request.js",
    "/home/wupco/hp/HiPar/tests/target/TestDerbyJs/node_modules/sharedb/lib/util.js",
    "node_modules/sharedb/lib/client/snapshot-request/snapshot-version-request.js",
    "node_modules/sharedb/lib/client/snapshot-request/snapshot-timestamp-request.js",
    "node_modules/sharedb/lib/client/connection.js",
    "/home/wupco/hp/HiPar/tests/target/TestDerbyJs/node_modules/sharedb/lib/client/index.js",
    "node_modules/racer/lib/Model/RemoteDoc.js",
    "node_modules/racer/lib/Model/connection.js",
    "node_modules/racer/lib/Model/Query.js",
    "node_modules/racer/lib/Model/CollectionCounter.js",
    "node_modules/racer/lib/Model/subscriptions.js",
    "node_modules/racer/lib/Model/contexts.js",
    "node_modules/racer/lib/Model/defaultFns.js",
    "node_modules/racer/lib/Model/fn.js",
    "node_modules/racer/lib/Model/filter.js",
    "node_modules/racer/lib/Model/refList.js",
    "node_modules/racer/lib/Model/ref.js",
    "node_modules/racer/lib/Model/index.js",
    "node_modules/racer/lib/Racer.js",
    "node_modules/racer/lib/index.js",
    "/home/wupco/hp/HiPar/tests/target/TestDerbyJs/node_modules/browserchannel/dist/bcsocket-uncompressed.js",
    "node_modules/racer-highway/lib/browser/socket.js",
    "/home/wupco/hp/HiPar/tests/target/TestDerbyJs/node_modules/racer-highway/lib/browser/index.js",
    "node_modules/path-browserify/index.js",
    "/home/wupco/hp/HiPar/tests/target/TestDerbyJs/node_modules/tracks/vendor/express/utils.js",
    "node_modules/tracks/vendor/express/router/route.js",
    "/home/wupco/hp/HiPar/tests/target/TestDerbyJs/node_modules/qs/lib/utils.js",
    "node_modules/qs/lib/formats.js",
    "node_modules/qs/lib/stringify.js",
    "node_modules/qs/lib/parse.js",
    "/home/wupco/hp/HiPar/tests/target/TestDerbyJs/node_modules/qs/lib/index.js",
    "node_modules/punycode/punycode.js",
    "/home/wupco/hp/HiPar/tests/target/TestDerbyJs/node_modules/url/util.js",
    "node_modules/querystring-es3/decode.js",
    "node_modules/querystring-es3/encode.js",
    "/home/wupco/hp/HiPar/tests/target/TestDerbyJs/node_modules/querystring-es3/index.js",
    "/home/wupco/hp/HiPar/tests/target/TestDerbyJs/node_modules/url/url.js",
    "node_modules/tracks/lib/router.js",
    "node_modules/tracks/lib/History.js",
    "node_modules/tracks/lib/browser.js",
    "node_modules/derby-templates/lib/contexts.js",
    "node_modules/derby-templates/lib/operatorFns.js",
    "node_modules/saddle/index.js",
    "/home/wupco/hp/HiPar/tests/target/TestDerbyJs/node_modules/derby-templates/lib/util.js",
    "node_modules/derby-templates/lib/expressions.js",
    "node_modules/derby-templates/index.js",
    "node_modules/derby/lib/Dom.js",
    "node_modules/derby/lib/Controller.js",
    "/home/wupco/hp/HiPar/tests/target/TestDerbyJs/node_modules/derby/lib/components.js",
    "node_modules/derby/lib/eventmodel.js",
    "/home/wupco/hp/HiPar/tests/target/TestDerbyJs/node_modules/derby/lib/textDiff.js",
    "node_modules/derby/lib/Page.js",
    "node_modules/derby/lib/_views.js",
    "node_modules/derby/lib/App.js",
    "node_modules/derby/lib/Derby.js",
    "node_modules/derby",
    "node_modules/derby-debug/index.js",
    "node_modules/d-connection-alert/index.js",
    "node_modules/d-before-unload/index.js",
    "sink/components/sortable-table.coffee",
    "node_modules/browser-pack-flat/_postlude"
  ],
  "names": [
    "require",
    "exposedRequire",
    "e",
    "r",
    "m",
    "hasOwnProperty",
    "createModuleFactory",
    "t",
    "exports",
    "parent",
    "_$index_93",
    "module",
    "app",
    "_$derby_derby",
    "createApp",
    "__filename",
    "use",
    "_$derbyDebug_5",
    "serverUse",
    "loadViews",
    "__dirname",
    "loadStyles",
    "component",
    "_$ConnectionAlert_4",
    "_$BeforeUnload_3",
    "_$pages_96",
    "_$bench_91",
    "_$liveCss_95",
    "_$home_92",
    "_$leaderboard_94",
    "_$table_97",
    "forEach",
    "method",
    "pages",
    "submit",
    "href",
    "page",
    "model",
    "arg",
    "argsJson",
    "body",
    "query",
    "JSON",
    "stringify",
    "set",
    "render",
    "get",
    "error",
    "Error",
    "back",
    "redirect",
    "_$sortableTable_90",
    "table",
    "params",
    "next",
    "subscribe",
    "err",
    "createNull",
    "rows",
    "init",
    "this",
    "scope",
    "ref",
    "onRowMove",
    "from",
    "to",
    "move",
    "onColMove",
    "row",
    "addRow",
    "cells",
    "col",
    "push",
    "addCol",
    "deleteRow",
    "i",
    "remove",
    "deleteCol",
    "colName",
    "num",
    "out",
    "mod",
    "String",
    "fromCharCode",
    "Math",
    "floor",
    "randomScore",
    "random",
    "leaderboard",
    "$sort",
    "score",
    "name",
    "$limit",
    "players",
    "root",
    "at",
    "sort",
    "limit",
    "a",
    "b",
    "create",
    "dom",
    "on",
    "_this",
    "board",
    "contains",
    "target",
    "deselect",
    "add",
    "del",
    "increment",
    "byNum",
    "select",
    "player",
    "id",
    "removeRef",
    "home",
    "titleColor",
    "colors",
    "ellipse",
    "cx",
    "cy",
    "rx",
    "ry",
    "fill",
    "unspace",
    "s",
    "replace",
    "capitalize",
    "charAt",
    "toUpperCase",
    "slice",
    "toLowerCase",
    "colorInputValue",
    "value",
    "titleInputValue",
    "j",
    "len",
    "length",
    "setDiff",
    "route",
    "liveCss",
    "data",
    "styles",
    "prop",
    "active",
    "outputText",
    "addStyle",
    "deleteStyle",
    "hasActiveStyles",
    "Box",
    "bench",
    "boxes",
    "n",
    "results",
    "start",
    "mode",
    "clearTimeout",
    "timeout",
    "fn",
    "frames",
    "startTime",
    "Date",
    "run",
    "stop",
    "fps",
    "toFixed",
    "setTimeout",
    "tickProperty",
    "box",
    "count",
    "sin",
    "cos",
    "setProperty",
    "tickBox",
    "top",
    "left",
    "color",
    "content",
    "setBox",
    "setAll",
    "previous",
    "dash",
    "title",
    "proto",
    "navItems",
    "current",
    "items",
    "isCurrent",
    "isLast",
    "pageTitle",
    "camelName",
    "match",
    "inputSupportsSelection",
    "input",
    "type",
    "inputIsNumberValue",
    "multiple",
    "doc",
    "addEventListener",
    "documentInput",
    "documentChange",
    "parseFloat",
    "window",
    "navigator",
    "appVersion",
    "split",
    "document",
    "activeElement",
    "createElement",
    "valueAsNumber",
    "oldInputValue",
    "inputValue",
    "apply",
    "arguments",
    "tagName",
    "setInputValue",
    "setBoundProperty",
    "setOptionBindings",
    "node",
    "firstChild",
    "nextSibling",
    "hasChildNodes",
    "property",
    "binding",
    "$bindAttributes",
    "isUnbound",
    "template",
    "expression",
    "context",
    "pass",
    "$event",
    "segments",
    "pathSegments",
    "controller",
    "_$textDiff_22",
    "onTextInput",
    "textDiffBinding",
    "serializeObject",
    "_$serializeObject_66",
    "DependencyOptions",
    "_$options_10",
    "concat",
    "_$util_12",
    "hasKeys",
    "traverseAndCreate",
    "concatArrayDependencies",
    "dependencies",
    "expressions",
    "options",
    "concatDependencies",
    "expressionDependencies",
    "getDependencies",
    "key",
    "_$saddle_65",
    "Marker",
    "View",
    "ViewInstance",
    "DynamicViewInstance",
    "ViewParent",
    "ContextClosure",
    "Views",
    "MarkupHook",
    "ElementOn",
    "ComponentOn",
    "AsProperty",
    "AsObject",
    "AsObjectComponent",
    "AsArray",
    "AsArrayComponent",
    "emptyTemplate",
    "Template",
    "prototype",
    "unbound",
    "Binding",
    "resolve",
    "shouldIgnoreTemplate",
    "Doctype",
    "Text",
    "DynamicText",
    "Comment",
    "DynamicComment",
    "Html",
    "DynamicHtml",
    "Element",
    "concatMapDependencies",
    "attributes",
    "DynamicElement",
    "Block",
    "meta",
    "blockType",
    "blockContext",
    "child",
    "ConditionalBlock",
    "condition",
    "getCondition",
    "end",
    "concatSubArrayDependencies",
    "contents",
    "EachBlock",
    "itemContext",
    "eachChild",
    "elseContent",
    "Attribute",
    "DynamicAttribute",
    "markerHooks",
    "emit",
    "$component",
    "markerNode",
    "call",
    "ViewAttributesMap",
    "source",
    "ViewArraysMap",
    "item",
    "views",
    "nameSegments",
    "lastSegment",
    "pop",
    "namespace",
    "join",
    "registeredName",
    "attributesMap",
    "arraysMap",
    "arrays",
    "unminified",
    "string",
    "literal",
    "componentFactory",
    "fromSerialized",
    "hooks",
    "initHooks",
    "view",
    "nameExpression",
    "ViewsMap",
    "nameMap",
    "tagMap",
    "elementMap",
    "keyExpression",
    "Object",
    "constructor",
    "serialize",
    "instance",
    "_isComponent",
    "extend",
    "_initComponent",
    "_queueCreate",
    "viewContext",
    "queue",
    "unescaped",
    "parse",
    "getFragment",
    "fragment",
    "appendTo",
    "attachTo",
    "componentChild",
    "_parse",
    "marker",
    "unshift",
    "_find",
    "viewChild",
    "contextView",
    "getView",
    "find",
    "message",
    "findErrorMessage",
    "nameDependencies",
    "viewDependencies",
    "parentContext",
    "forViewParent",
    "closureContext",
    "closureChild",
    "equals",
    "other",
    "map",
    "segmentsDepth",
    "testSegments",
    "splice",
    "register",
    "mapName",
    "tag",
    "element",
    "deserialize",
    "setTemplate",
    "forServer",
    "server",
    "minify",
    "serverOnly",
    "args",
    "names",
    "keys",
    "elementOn",
    "$destroyListeners",
    "event",
    "modelData",
    "$element",
    "Array",
    "object",
    "addListeners",
    "addDestroyListener",
    "listener",
    "array",
    "comparePosition",
    "index",
    "indexOf",
    "compareDocumentPosition",
    "templates",
    "_$templates_11",
    "setIgnoreTemplate",
    "ignoreTemplate",
    "serializeArgs",
    "serializeValue",
    "formatString",
    "isArray",
    "objectCreate",
    "objectCreatePolyfill",
    "objectKeys",
    "objectKeysPolyfill",
    "bind",
    "Function",
    "functionBindPolyfill",
    "EventEmitter",
    "_events",
    "_eventsCount",
    "_maxListeners",
    "undefined",
    "_$EventEmitter_23",
    "defaultMaxListeners",
    "hasDefineProperty",
    "o",
    "defineProperty",
    "x",
    "$getMaxListeners",
    "that",
    "emitNone",
    "handler",
    "isFn",
    "self",
    "listeners",
    "arrayClone",
    "emitOne",
    "arg1",
    "emitTwo",
    "arg2",
    "emitThree",
    "arg3",
    "emitMany",
    "_addListener",
    "prepend",
    "events",
    "existing",
    "TypeError",
    "newListener",
    "warned",
    "w",
    "emitter",
    "console",
    "warn",
    "onceWrapper",
    "fired",
    "removeListener",
    "wrapFn",
    "_onceWrap",
    "state",
    "wrapped",
    "_listeners",
    "unwrap",
    "evlistener",
    "unwrapListeners",
    "listenerCount",
    "spliceOne",
    "list",
    "k",
    "arr",
    "copy",
    "ret",
    "F",
    "obj",
    "enumerable",
    "setMaxListeners",
    "isNaN",
    "getMaxListeners",
    "er",
    "doError",
    "addListener",
    "prependListener",
    "once",
    "prependOnceListener",
    "position",
    "originalListener",
    "shift",
    "removeAllListeners",
    "rawListeners",
    "eventNames",
    "Reflect",
    "ownKeys",
    "rng",
    "crypto",
    "global",
    "msCrypto",
    "getRandomValues",
    "_rnds8",
    "Uint8Array",
    "_rnds",
    "_$rng_88",
    "_byteToHex",
    "_hexToByte",
    "toString",
    "substr",
    "buf",
    "offset",
    "ii",
    "oct",
    "unparse",
    "bth",
    "_seedBytes",
    "_nodeId",
    "_clockseq",
    "_lastMSecs",
    "_lastNSecs",
    "v1",
    "clockseq",
    "msecs",
    "getTime",
    "nsecs",
    "dt",
    "tl",
    "tmh",
    "v4",
    "rnds",
    "uuid",
    "_$uuid_89",
    "Model",
    "INITS",
    "_$Model_45",
    "inits",
    "debug",
    "ChildModel",
    "_context",
    "_at",
    "_pass",
    "_silent",
    "_eventContext",
    "_preventCompose",
    "_child",
    "keyList",
    "hasProp",
    "_$equal_24",
    "equal",
    "arrA",
    "arrB",
    "dateA",
    "dateB",
    "regexpA",
    "RegExp",
    "regexpB",
    "process",
    "_$browser_30",
    "cachedSetTimeout",
    "cachedClearTimeout",
    "defaultSetTimout",
    "defaultClearTimeout",
    "runTimeout",
    "fun",
    "runClearTimeout",
    "draining",
    "currentQueue",
    "queueIndex",
    "cleanUpNextTick",
    "drainQueue",
    "Item",
    "noop",
    "nextTick",
    "browser",
    "env",
    "argv",
    "version",
    "versions",
    "off",
    "cwd",
    "chdir",
    "dir",
    "umask",
    "isServer",
    "AsyncGroup",
    "cb",
    "isDone",
    "copyObject",
    "equalsNaN",
    "isArrayIndex",
    "segment",
    "test",
    "mayImpact",
    "min",
    "_$util_64",
    "asyncGroup",
    "group",
    "castSegments",
    "deepCopy",
    "deepEqual",
    "lookup",
    "mergeInto",
    "mayImpactAny",
    "segmentsList",
    "serverRequire",
    "plugin",
    "plugins",
    "_plugins",
    "unbundle",
    "collectionName",
    "connection",
    "startBulk",
    "_initQueries",
    "queries",
    "collections",
    "collection",
    "getOrCreateDoc",
    "contextId",
    "contexts",
    "contextData",
    "contextModel",
    "fetchedDocs",
    "fetchDoc",
    "_fetchedDocs",
    "subscribedDocs",
    "subscribeDoc",
    "createdDocs",
    "createDoc",
    "endBulk",
    "refs",
    "refLists",
    "refList",
    "fns",
    "filters",
    "_filters",
    "__EventEmitter_52",
    "patternContained",
    "pattern",
    "listenerSegments",
    "patternSegments",
    "Passed",
    "eventListener",
    "eventType",
    "arg4",
    "subpattern",
    "isPath",
    "useEventObjects",
    "path",
    "modelEventListener",
    "modelEventListenerLegacy",
    "eventContext",
    "testFn",
    "testPatternFn",
    "modelListener",
    "eventArgs",
    "captures",
    "eventFactory",
    "getEventFactory",
    "ChangeEvent",
    "InsertEvent",
    "RemoveEvent",
    "MoveEvent",
    "LoadEvent",
    "UnloadEvent",
    "concreteEventFactory",
    "passed",
    "values",
    "removed",
    "howMany",
    "previousDocument",
    "endingRest",
    "stripRestWildcard",
    "patternLen",
    "patternSegment",
    "remainder",
    "lastIndex",
    "exec",
    "MUTATOR_EVENTS",
    "change",
    "insert",
    "load",
    "unload",
    "_defaultCallback",
    "_emitError",
    "_mutatorEventQueue",
    "wrapCallback",
    "stringifyErr",
    "_emit",
    "queued",
    "_on",
    "g",
    "_removeAllListeners",
    "invert",
    "silent",
    "removeContextListeners",
    "createScoped",
    "scoped",
    "_$paths_57",
    "mixin",
    "_splitPath",
    "subpath",
    "levels",
    "max",
    "leaf",
    "lastIndexOf",
    "_$Doc_43",
    "Doc",
    "collectionData",
    "_errorMessage",
    "description",
    "_$LocalDoc_44",
    "LocalDoc",
    "_updateCollectionData",
    "nodeCreateArray",
    "_apply",
    "byNumber",
    "_validatedApply",
    "_arrayApply",
    "stringInsert",
    "stringRemove",
    "_createImplied",
    "nextKey",
    "validate",
    "CollectionMap",
    "ModelData",
    "DocMap",
    "CollectionData",
    "Collection",
    "docs",
    "noKeys",
    "getCollection",
    "getDoc",
    "_get",
    "getCopy",
    "_getCopy",
    "getDeepCopy",
    "_getDeepCopy",
    "getOrCreateCollection",
    "_getDocConstructor",
    "destroy",
    "silentModel",
    "_removeAllRefs",
    "_stopAll",
    "_removeAllFilters",
    "_del",
    "_mutate",
    "docSegments",
    "shareDoc",
    "oldPreventCompose",
    "preventCompose",
    "_set",
    "_dereference",
    "fnCb",
    "setNull",
    "_setNull",
    "setEach",
    "_setEach",
    "_create",
    "_createNull",
    "_add",
    "_increment",
    "_push",
    "_unshift",
    "_insert",
    "inserted",
    "_pop",
    "_shift",
    "_remove",
    "_move",
    "moved",
    "text",
    "_stringInsert",
    "$stringInsert",
    "_stringRemove",
    "$stringRemove",
    "subtypeSubmit",
    "subtype",
    "subtypeOp",
    "_subtypeSubmit",
    "$subtype",
    "op",
    "_$arrayDiff_1",
    "arrayDiff",
    "InsertDiff",
    "RemoveDiff",
    "MoveDiff",
    "strictEqual",
    "before",
    "after",
    "equalFn",
    "beforeLength",
    "afterLength",
    "moves",
    "beforeMarked",
    "afterMarked",
    "beforeIndex",
    "beforeItem",
    "afterIndex",
    "removes",
    "inserts",
    "insertsLength",
    "removesLength",
    "movesLength",
    "earlier",
    "outputMoves",
    "later",
    "toJSON",
    "diffDeep",
    "diff",
    "itemSegments",
    "_applyArrayDiff",
    "_setDiff",
    "setDiffDeep",
    "_setDiffDeep",
    "finished",
    "setArrayDiff",
    "_setArrayDiff",
    "setArrayDiffDeep",
    "_setArrayDiffDeep",
    "_equalFn",
    "__EventEmitter_74",
    "Constructor",
    "_$emitter_74",
    "SUPPORTED_METHODS",
    "Logger",
    "defaultMethods",
    "setMethods",
    "_$Logger_77",
    "overrides",
    "logger",
    "_$logger_76",
    "ShareDBError",
    "code",
    "captureStackTrace",
    "stack",
    "CODES",
    "ERR_APPLY_OP_VERSION_DOES_NOT_MATCH_SNAPSHOT",
    "ERR_APPLY_SNAPSHOT_NOT_PROVIDED",
    "ERR_CLIENT_ID_BADLY_FORMED",
    "ERR_CONNECTION_STATE_TRANSITION_INVALID",
    "ERR_DATABASE_ADAPTER_NOT_FOUND",
    "ERR_DATABASE_DOES_NOT_SUPPORT_SUBSCRIBE",
    "ERR_DATABASE_METHOD_NOT_IMPLEMENTED",
    "ERR_DEFAULT_TYPE_MISMATCH",
    "ERR_DOC_MISSING_VERSION",
    "ERR_DOC_ALREADY_CREATED",
    "ERR_DOC_DOES_NOT_EXIST",
    "ERR_DOC_TYPE_NOT_RECOGNIZED",
    "ERR_DOC_WAS_DELETED",
    "ERR_INFLIGHT_OP_MISSING",
    "ERR_INGESTED_SNAPSHOT_HAS_NO_VERSION",
    "ERR_MAX_SUBMIT_RETRIES_EXCEEDED",
    "ERR_MESSAGE_BADLY_FORMED",
    "ERR_MILESTONE_ARGUMENT_INVALID",
    "ERR_OP_ALREADY_SUBMITTED",
    "ERR_OP_NOT_ALLOWED_IN_PROJECTION",
    "ERR_OP_SUBMIT_REJECTED",
    "ERR_OP_VERSION_MISMATCH_AFTER_TRANSFORM",
    "ERR_OP_VERSION_MISMATCH_DURING_TRANSFORM",
    "ERR_OP_VERSION_NEWER_THAN_CURRENT_SNAPSHOT",
    "ERR_OT_OP_BADLY_FORMED",
    "ERR_OT_OP_NOT_PROVIDED",
    "ERR_PROTOCOL_VERSION_NOT_SUPPORTED",
    "ERR_QUERY_EMITTER_LISTENER_NOT_ASSIGNED",
    "ERR_SNAPSHOT_READ_SILENT_REJECTION",
    "ERR_SNAPSHOT_READS_REJECTED",
    "ERR_SUBMIT_TRANSFORM_OPS_NOT_FOUND",
    "ERR_TYPE_CANNOT_BE_PROJECTED",
    "ERR_UNKNOWN_ERROR",
    "_$ShareDBError_75",
    "_$bootstrapTransform_25",
    "bootstrapTransform",
    "transformComponent",
    "checkValidOp",
    "append",
    "transformX",
    "leftOp",
    "rightOp",
    "right",
    "destRight",
    "newRightOp",
    "rightComponent",
    "newLeftOp",
    "nextC",
    "pair",
    "l",
    "transform",
    "otherOp",
    "_$text0_28",
    "uri",
    "initial",
    "strInject",
    "s1",
    "pos",
    "s2",
    "checkValidComponent",
    "c",
    "p",
    "d",
    "snapshot",
    "deleted",
    "_append",
    "newOp",
    "last",
    "compose",
    "op1",
    "op2",
    "normalize",
    "transformPosition",
    "insertAfter",
    "transformCursor",
    "side",
    "_tc",
    "dest",
    "otherC",
    "newC",
    "intersectStart",
    "intersectEnd",
    "invertComponent",
    "reverse",
    "__isArray_27",
    "isObject",
    "clone",
    "json",
    "subtypes",
    "convertFromText",
    "si",
    "sd",
    "convertToText",
    "registerSubtype",
    "c_",
    "oi",
    "od",
    "li",
    "ld",
    "na",
    "lm",
    "op_",
    "iop",
    "checkList",
    "elem",
    "checkObj",
    "container",
    "shatter",
    "incrementalApply",
    "_yield",
    "smallOp",
    "pathMatches",
    "p1",
    "p2",
    "ignoreLast",
    "commonLengthForOps",
    "alen",
    "blen",
    "canOpAffectPath",
    "common",
    "common2",
    "cplength",
    "otherCplength",
    "oc",
    "commonOperand",
    "res",
    "otherFrom",
    "otherTo",
    "_$json_27",
    "_$lib_26",
    "_$types_79",
    "defaultType",
    "ERROR_CODE",
    "inflightFetch",
    "inflightSubscribe",
    "inflightUnsubscribe",
    "pendingFetch",
    "subscribed",
    "wantSubscribe",
    "inflightOp",
    "pendingOps",
    "applyStack",
    "pushActionCallback",
    "inflight",
    "isDuplicate",
    "callback",
    "lastCallback",
    "client",
    "result",
    "clientOp",
    "serverOp",
    "callEach",
    "callbacks",
    "called",
    "_$Doc_68",
    "whenNothingPending",
    "unsubscribe",
    "_destroyDoc",
    "_setType",
    "newType",
    "ingestSnapshot",
    "v",
    "hasWritePending",
    "fetch",
    "hasPending",
    "_emitNothingPending",
    "_emitResponseError",
    "_handleFetch",
    "_handleSubscribe",
    "_handleUnsubscribe",
    "_handleOp",
    "_rollback",
    "src",
    "seq",
    "_opAcknowledged",
    "transformErr",
    "_hardRollback",
    "_otApply",
    "_onConnectionStateChanged",
    "canSend",
    "flush",
    "_resubscribe",
    "sendFetch",
    "sendSubscribe",
    "sendUnsubscribe",
    "paused",
    "_sendOp",
    "stackLength",
    "componentOp",
    "_popApplyStack",
    "createDeserialized",
    "oldData",
    "sentAt",
    "now",
    "retries",
    "sendOp",
    "_submit",
    "_pushOp",
    "composed",
    "_tryCompose",
    "ops",
    "submitOp",
    "pause",
    "resume",
    "_clearInflightOp",
    "allOpsHadCallbacks",
    "Query",
    "action",
    "extra",
    "ready",
    "sent",
    "_$Query_70",
    "send",
    "q",
    "_destroyQuery",
    "_handleResponse",
    "_finishResponse",
    "wait",
    "finish",
    "_ingestSnapshots",
    "snapshots",
    "_handleError",
    "_handleDiff",
    "newDocs",
    "_handleExtra",
    "_$Snapshot_78",
    "Snapshot",
    "_$SnapshotRequest_71",
    "SnapshotRequest",
    "requestId",
    "_message",
    "metadata",
    "doNothing",
    "_$util_80",
    "isInteger",
    "Number",
    "isFinite",
    "isValidVersion",
    "isValidTimestamp",
    "timestamp",
    "_$SnapshotVersionRequest_73",
    "SnapshotVersionRequest",
    "_$SnapshotTimestampRequest_72",
    "SnapshotTimestampRequest",
    "ts",
    "connectionState",
    "socket",
    "readyState",
    "Connection",
    "nextQueryId",
    "nextSnapshotRequestId",
    "_snapshotRequests",
    "agent",
    "bindToSocket",
    "wrapErrorData",
    "errorData",
    "fullMessage",
    "_$Connection_67",
    "close",
    "onmessage",
    "onopen",
    "onerror",
    "onclose",
    "newState",
    "_setState",
    "info",
    "request",
    "handleMessage",
    "reason",
    "protocol",
    "_handleBulkMessage",
    "_handleSnapshotFetch",
    "getExisting",
    "dataForId",
    "_reset",
    "bulk",
    "actions",
    "_sendBulk",
    "f",
    "u",
    "versionId",
    "ids",
    "versionsCount",
    "_sendAction",
    "_addDoc",
    "_createQuery",
    "createFetchQuery",
    "createSubscribeQuery",
    "_firstDoc",
    "_firstQuery",
    "_firstSnapshotRequest",
    "_nothingPendingRetry",
    "snapshotRequest",
    "fetchSnapshot",
    "fetchSnapshotByTimestamp",
    "_$client_69",
    "types",
    "_$RemoteDoc_47",
    "RemoteDoc",
    "$remote",
    "debugMutations",
    "remoteMutations",
    "_initShareDoc",
    "createInsertOp",
    "ListInsertOp",
    "ImpliedOp",
    "ObjectReplaceOp",
    "ObjectInsertOp",
    "ObjectDeleteOp",
    "ListReplaceOp",
    "ListRemoveOp",
    "ListMoveOp",
    "StringInsertOp",
    "StringRemoveOp",
    "IncrementOp",
    "SubtypeOp",
    "defined",
    "disableSubmit",
    "isLocal",
    "_onOp",
    "log",
    "allowCompose",
    "createConnection",
    "bundle",
    "_createSocket",
    "_finishCreateConnection",
    "connect",
    "open",
    "disconnect",
    "reconnect",
    "getAgent",
    "_isLocal",
    "firstCharcter",
    "Queries",
    "$query",
    "hash",
    "queryHash",
    "idsSegments",
    "extraSegments",
    "_pendingSubscribeCallbacks",
    "subscribeCount",
    "fetchCount",
    "created",
    "shareQuery",
    "idMap",
    "resultsIds",
    "_$Query_46",
    "_queries",
    "db",
    "_getOrCreateQuery",
    "QueryConstructor",
    "sanitizeQuery",
    "counts",
    "_setExtra",
    "resultIndex",
    "_addMapIds",
    "countIndex",
    "fetched",
    "setContext",
    "fetchQuery",
    "getIds",
    "_maybeUnloadDocs",
    "_setResults",
    "subscribeQuery",
    "_getShareResults",
    "fetchOnly",
    "_shareFetchedSubscribe",
    "_shareSubscribe",
    "_subscribeCb",
    "_flushSubscribeCallbacks",
    "shareDocs",
    "_removeMapIds",
    "unloadDelay",
    "_diffMapIds",
    "addedIds",
    "removedIds",
    "newMap",
    "_setResultIds",
    "_maybeUnloadDoc",
    "pendingCallback",
    "unfetch",
    "unfetchQuery",
    "finishUnfetchQuery",
    "unsubscribeQuery",
    "finishUnsubscribeQuery",
    "unsubscribeQueryCallback",
    "getExtra",
    "idsPath",
    "refIds",
    "refExtra",
    "relPath",
    "extraPath",
    "_contexts",
    "subscribedQueries",
    "fetchedQueries",
    "serialized",
    "_$CollectionCounter_42",
    "CollectionCounter",
    "reset",
    "decrement",
    "_subscribedDocs",
    "_forSubscribable",
    "argumentsObject",
    "docMethod",
    "unfetchDoc",
    "finishUnfetchDoc",
    "unsubscribeDoc",
    "finishUnsubscribeDoc",
    "unsubscribeDocCallback",
    "_hasDocReferences",
    "Contexts",
    "FetchedQueries",
    "SubscribedQueries",
    "Context",
    "mapIncrement",
    "mapDecrement",
    "getOrCreateContext",
    "unloadAll",
    "defaultFns",
    "_$defaultFns_51",
    "DefaultFns",
    "FnPair",
    "getReverse",
    "setReverse",
    "0",
    "asc",
    "desc",
    "NamedFns",
    "parseStartArguments",
    "hasPath",
    "inputs",
    "inputPaths",
    "FromMap",
    "Fns",
    "_namedFns",
    "fromMap",
    "Fn",
    "$fn",
    "getFn",
    "setFn",
    "fromSegments",
    "inputsSegments",
    "copyInput",
    "copyOutput",
    "async",
    "eventPending",
    "_fns",
    "onInput",
    "onOutput",
    "evaluate",
    "parsed",
    "_stop",
    "fromPath",
    "stopAll",
    "_onInput",
    "_setValue",
    "parseFilterArguments",
    "Filters",
    "Filter",
    "filterFn",
    "sortFn",
    "$filter",
    "filterName",
    "sortName",
    "skip",
    "filter",
    "update",
    "removeAllFilters",
    "_slice",
    "begin",
    "getInputs",
    "callFilter",
    "_removeRef",
    "_refLists",
    "$refList",
    "onMutation",
    "patchFromEvent",
    "fromLength",
    "segmentsLength",
    "toSegments",
    "toSegmentsByItem",
    "updateIdForValue",
    "setNewToValues",
    "deleteRemoved",
    "itemById",
    "idByItem",
    "outSegments",
    "patchToEvent",
    "toLength",
    "indices",
    "indicesByItem",
    "removeIndex",
    "indicesLen",
    "remaining",
    "dereferenced",
    "newIndices",
    "oldIndices",
    "equivalentArrays",
    "patchIdsEvent",
    "idsLength",
    "idByIndex",
    "RefList",
    "__FromMap_59",
    "RefLists",
    "toPath",
    "dereference",
    "addIndexListeners",
    "onIndexChange",
    "patch",
    "_refs",
    "updateIndices",
    "patched",
    "refIndex",
    "refChange",
    "parentSegments",
    "refLoad",
    "refUnload",
    "refInsert",
    "refRemove",
    "refMove",
    "__addListener_58",
    "toMap",
    "numRefs",
    "setterModel",
    "noopDereference",
    "parentToMap",
    "Ref",
    "$ref",
    "parentTos",
    "parentTo",
    "__FromMap_58",
    "ToMap",
    "Refs",
    "listMapAdd",
    "listMapRemove",
    "_canRefTo",
    "removeAllRefs",
    "_removeMapRefs",
    "forArrayMutator",
    "ignore",
    "doAgain",
    "_$Model_55",
    "__EventEmitter_63",
    "Racer",
    "_$Racer_63",
    "util",
    "createModel",
    "_$lib_racer",
    "aa",
    "ba",
    "ca",
    "da",
    "propertyIsEnumerable",
    "ea",
    "fa",
    "ga",
    "ha",
    "ia",
    "ja",
    "pa",
    "Hc",
    "h",
    "ka",
    "la",
    "ma",
    "oa",
    "qa",
    "ra",
    "ua",
    "va",
    "wa",
    "ya",
    "sa",
    "abs",
    "ta",
    "xa",
    "userAgent",
    "za",
    "product",
    "Aa",
    "y",
    "Ba",
    "z",
    "Da",
    "Ca",
    "documentMode",
    "Ea",
    "Fa",
    "opera",
    "Ga",
    "Ha",
    "Ia",
    "Ja",
    "A",
    "K",
    "parseInt",
    "La",
    "Ma",
    "compatMode",
    "Na",
    "Oa",
    "Pa",
    "Qa",
    "Ra",
    "Sa",
    "location",
    "decodeURIComponent",
    "hostname",
    "Ta",
    "Ua",
    "Va",
    "Wa",
    "B",
    "Xa",
    "Ya",
    "Za",
    "$a",
    "ab",
    "bb",
    "O",
    "N",
    "C",
    "eb",
    "D",
    "E",
    "fb",
    "gb",
    "hb",
    "ib",
    "I",
    "jb",
    "R",
    "kb",
    "ub",
    "lb",
    "qb",
    "G",
    "rb",
    "sb",
    "H",
    "tb",
    "encodeURI",
    "vb",
    "charCodeAt",
    "mb",
    "encodeURIComponent",
    "nb",
    "ob",
    "pb",
    "substring",
    "J",
    "wb",
    "eval",
    "xb",
    "yb",
    "zb",
    "Ab",
    "Bb",
    "Cb",
    "\"",
    "\\",
    "/",
    "\b",
    "\f",
    "\n",
    "\r",
    "\t",
    "\u000b",
    "Db",
    "Eb",
    "Fb",
    "callee",
    "caller",
    "Gb",
    "Hb",
    "Ib",
    "Jb",
    "L",
    "rc",
    "Kb",
    "qc",
    "$b",
    "Lb",
    "Mb",
    "Nb",
    "Ob",
    "Pb",
    "Qb",
    "getParent",
    "mc",
    "timeStamp",
    "markTimeline",
    "msWriteProfilerMark",
    "lineNumber",
    "fileName",
    "Ic",
    "filename",
    "sourceURL",
    "$googDebugFname",
    "Ka",
    "Z",
    "Rb",
    "Sb",
    "Tb",
    "M",
    "Ub",
    "Vb",
    "Wb",
    "Xb",
    "Yb",
    "P",
    "Zb",
    "ac",
    "bc",
    "cc",
    "dc",
    "capture",
    "ec",
    "gc",
    "fc",
    "hc",
    "ic",
    "Q",
    "currentTarget",
    "jc",
    "kc",
    "relatedTarget",
    "charCode",
    "keyCode",
    "button",
    "screenY",
    "screenX",
    "clientY",
    "clientX",
    "offsetY",
    "offsetX",
    "metaKey",
    "shiftKey",
    "altKey",
    "ctrlKey",
    "srcElement",
    "nodeName",
    "fromElement",
    "toElement",
    "layerX",
    "layerY",
    "pageX",
    "pageY",
    "defaultPrevented",
    "preventDefault",
    "returnValue",
    "lc",
    "nc",
    "pc",
    "attachEvent",
    "sc",
    "tc",
    "uc",
    "W",
    "removeEventListener",
    "detachEvent",
    "vc",
    "wc",
    "Boolean",
    "parentNode",
    "xc",
    "handleEvent",
    "yc",
    "zc",
    "Gc",
    "dispatchEvent",
    "enabled",
    "setInterval",
    "Ac",
    "Fc",
    "Bc",
    "Cc",
    "Dc",
    "Ec",
    "ActiveXObject",
    "XMLHttpRequest",
    "headers",
    "T",
    "Jc",
    "Kc",
    "Lc",
    "Oc",
    "ontimeout",
    "Mc",
    "abort",
    "Pc",
    "Qc",
    "Rc",
    "Sc",
    "S",
    "statusText",
    "Nc",
    "onreadystatechange",
    "status",
    "Tc",
    "responseText",
    "Uc",
    "Vc",
    "FormData",
    "setRequestHeader",
    "responseType",
    "withCredentials",
    "isActive",
    "Wc",
    "Xc",
    "Yc",
    "U",
    "Y",
    "Zc",
    "$c",
    "X",
    "$",
    "ad",
    "bd",
    "dd",
    "ed",
    "fd",
    "gd",
    "hd",
    "jd",
    "nd",
    "qd",
    "V",
    "pd",
    "rd",
    "write",
    "parentWindow",
    "rpcClose",
    "appendChild",
    "innerHTML",
    "td",
    "md",
    "ud",
    "vd",
    "onload",
    "onabort",
    "Image",
    "wd",
    "yd",
    "Ad",
    "zd",
    "Bd",
    "Cd",
    "Ed",
    "Fd",
    "Gd",
    "kd",
    "cancel",
    "xd",
    "correctHostPrefix",
    "Dd",
    "Hd",
    "Id",
    "Jd",
    "size",
    "Kd",
    "Yd",
    "Md",
    "Pd",
    "Qd",
    "Sd",
    "Rd",
    "Nd",
    "round",
    "getAdditionalParams",
    "badMapError",
    "Td",
    "Ud",
    "Vd",
    "Ld",
    "okToMakeRequest",
    "getNetworkTestImageUri",
    "Wd",
    "channelError",
    "Od",
    "channelClosed",
    "port",
    "Xd",
    "OSID",
    "OAID",
    "channelHandleMultipleArrays",
    "channelOpened",
    "channelHandleArray",
    "4",
    "6",
    "7",
    "8",
    "2",
    "9",
    "5",
    "10",
    "11",
    "cd",
    "reconnectTime",
    "extraHeaders",
    "extraParams",
    "affinity",
    "affinityParam",
    "CLOSED",
    "prev",
    "OPEN",
    "CONNECTING",
    "crossDomainXhr",
    "failFast",
    "sendMap",
    "_S",
    "canSendWhileConnecting",
    "canSendJSON",
    "CLOSING",
    "_$bcsocketUncompressed_2",
    "BCSocket",
    "_$Socket_41",
    "Socket",
    "_options",
    "_messageQueue",
    "_connectedOnce",
    "_attemptNum",
    "_url",
    "getWebSocketURL",
    "supportWebSockets",
    "browserChannelOnly",
    "_createWebSocket",
    "_createBrowserChannel",
    "getRandom",
    "WebSocket",
    "srvPort",
    "srvSecurePort",
    "srvHost",
    "srvProtocol",
    "base",
    "_type",
    "_socket",
    "_syncState",
    "_ws_onmessage",
    "_ws_onopen",
    "_ws_onclose",
    "_bc_onmessage",
    "_bc_onopen",
    "_bc_onclose",
    "_flushQueue",
    "wasClean",
    "_getTimeout",
    "maxTimeout",
    "timeoutIncrement",
    "_send",
    "CLIENT_OPTIONS",
    "_$pathBrowserify_29",
    "basename",
    "ext",
    "matchedSlash",
    "paramsEqual",
    "some",
    "acceptParams",
    "str",
    "parts",
    "quality",
    "originalIndex",
    "pms",
    "_$utils_85",
    "pathRegexp",
    "sensitive",
    "strict",
    "_",
    "slash",
    "format",
    "optional",
    "star",
    "_$Route_84",
    "Route",
    "regexp",
    "val",
    "has",
    "__isArray_36",
    "hexTable",
    "compactQueue",
    "compacted",
    "arrayToObject",
    "plainObjects",
    "merge",
    "allowPrototypes",
    "mergeTarget",
    "targetItem",
    "reduce",
    "acc",
    "assign",
    "decode",
    "decoder",
    "charset",
    "strWithoutPlus",
    "unescape",
    "encode",
    "defaultEncoder",
    "Symbol",
    "escape",
    "$0",
    "compact",
    "isRegExp",
    "isBuffer",
    "combine",
    "_$utils_36",
    "percentTwenties",
    "Format",
    "RFC1738",
    "RFC3986",
    "_$formats_32",
    "default",
    "formatters",
    "__has_35",
    "arrayPrefixGenerators",
    "brackets",
    "prefix",
    "comma",
    "repeat",
    "__isArray_35",
    "pushToArray",
    "valueOrArray",
    "toISO",
    "toISOString",
    "defaultFormat",
    "defaults",
    "addQueryPrefix",
    "allowDots",
    "charsetSentinel",
    "delimiter",
    "encoder",
    "encodeValuesOnly",
    "formatter",
    "serializeDate",
    "date",
    "skipNulls",
    "strictNullHandling",
    "isNonNullishPrimitive",
    "generateArrayPrefix",
    "objKeys",
    "normalizeStringifyOptions",
    "opts",
    "_$stringify_35",
    "arrayFormat",
    "joined",
    "__has_34",
    "__isArray_34",
    "__defaults_34",
    "arrayLimit",
    "depth",
    "ignoreQueryPrefix",
    "interpretNumericEntities",
    "parameterLimit",
    "parseArrays",
    "numberStr",
    "isoSentinel",
    "parseValues",
    "cleanStr",
    "Infinity",
    "skipIndex",
    "part",
    "bracketEqualsPos",
    "parseObject",
    "chain",
    "cleanRoot",
    "parseKeys",
    "givenKey",
    "normalizeParseOptions",
    "_$parse_34",
    "tempObj",
    "newObj",
    "_$lib_33",
    "freeExports",
    "_$punycode_31",
    "nodeType",
    "freeModule",
    "freeGlobal",
    "punycode",
    "maxInt",
    "tMin",
    "tMax",
    "skew",
    "damp",
    "initialBias",
    "initialN",
    "regexPunycode",
    "regexNonASCII",
    "regexSeparators",
    "errors",
    "overflow",
    "not-basic",
    "invalid-input",
    "baseMinusTMin",
    "stringFromCharCode",
    "RangeError",
    "mapDomain",
    "ucs2decode",
    "output",
    "counter",
    "ucs2encode",
    "digitToBasic",
    "digit",
    "flag",
    "adapt",
    "delta",
    "numPoints",
    "firstTime",
    "basic",
    "oldi",
    "baseMinusT",
    "codePoint",
    "inputLength",
    "bias",
    "handledCPCount",
    "basicLength",
    "currentValue",
    "handledCPCountPlusOne",
    "qMinusT",
    "ucs2",
    "toASCII",
    "toUnicode",
    "define",
    "amd",
    "_$util_87",
    "isString",
    "isNull",
    "isNullOrUndefined",
    "_$decode_37",
    "qs",
    "sep",
    "eq",
    "maxKeys",
    "kstr",
    "vstr",
    "idx",
    "__isArray_37",
    "xs",
    "stringifyPrimitive",
    "_$encode_38",
    "__objectKeys_38",
    "ks",
    "__isArray_38",
    "_$querystringEs3_39",
    "Url",
    "slashes",
    "auth",
    "host",
    "search",
    "pathname",
    "_$url_86",
    "urlParse",
    "urlResolve",
    "protocolPattern",
    "portPattern",
    "simplePathPattern",
    "delims",
    "unwise",
    "autoEscape",
    "nonHostChars",
    "hostEndingChars",
    "hostnameMaxLen",
    "hostnamePartPattern",
    "hostnamePartStart",
    "unsafeProtocol",
    "javascript",
    "javascript:",
    "hostlessProtocol",
    "slashedProtocol",
    "http",
    "https",
    "ftp",
    "gopher",
    "file",
    "http:",
    "https:",
    "ftp:",
    "gopher:",
    "file:",
    "url",
    "parseQueryString",
    "slashesDenoteHost",
    "urlFormat",
    "relative",
    "urlResolveObject",
    "resolveObject",
    "queryIndex",
    "splitter",
    "uSplit",
    "rest",
    "trim",
    "simplePath",
    "lowerProto",
    "atSign",
    "hostEnd",
    "hec",
    "parseHost",
    "ipv6Hostname",
    "hostparts",
    "newpart",
    "validParts",
    "notHost",
    "bit",
    "ae",
    "esc",
    "qm",
    "rel",
    "tkeys",
    "tk",
    "tkey",
    "rkeys",
    "rk",
    "rkey",
    "isSourceAbs",
    "isRelAbs",
    "mustEndAbs",
    "removeAllDots",
    "srcPath",
    "psychotic",
    "authInHost",
    "hasTrailingSlash",
    "up",
    "isAbsolute",
    "_$router_83",
    "isTransitional",
    "mapRoute",
    "queryString",
    "history",
    "req",
    "RenderReq",
    "routes",
    "routeTransitional",
    "routeQueue",
    "setUrl",
    "setPrevious",
    "transitional",
    "noNavigate",
    "form",
    "setAttribute",
    "previousPath",
    "routeParams",
    "onMatch",
    "done",
    "onRoute",
    "parseUrl",
    "resolveUrl",
    "currentPath",
    "replaceState",
    "$render",
    "$method",
    "_$History_81",
    "History",
    "pushState",
    "routePath",
    "renderOptions",
    "el",
    "elements",
    "override",
    "link",
    "_tracksLink",
    "which",
    "hasAttribute",
    "hashIndex",
    "enctype",
    "getElementById",
    "getElementsByName",
    "scrollIntoView",
    "_update",
    "refresh",
    "forward",
    "go",
    "historyMethod",
    "relativeUrl",
    "createPage",
    "__router_82",
    "_$browser_82",
    "setup",
    "fromRoute",
    "toRoute",
    "__noop_7",
    "ContextMeta",
    "addBinding",
    "removeBinding",
    "removeNode",
    "addItemContext",
    "removeItemContext",
    "idNamespace",
    "idCount",
    "pending",
    "pauseCount",
    "__Context_7",
    "alias",
    "as",
    "keyAlias",
    "keyAs",
    "closure",
    "_id",
    "_$contexts_7",
    "itemFor",
    "forRelative",
    "forAlias",
    "forAttribute",
    "attribute",
    "inherit",
    "unpause",
    "!U",
    "-U",
    "+U",
    "~U",
    "typeofU",
    "||",
    "&&",
    "|",
    "^",
    "&",
    "==",
    "!=",
    "===",
    "!==",
    "<",
    ">",
    "<=",
    ">=",
    "instanceof",
    "in",
    "<<",
    ">>",
    ">>>",
    "+",
    "-",
    "*",
    "%",
    "?",
    "consequent",
    "alternate",
    ",",
    "1",
    "BOOLEAN_PROPERTIES",
    "checked",
    "disabled",
    "readonly",
    "selected",
    "INTEGER_PROPERTIES",
    "colspan",
    "maxlength",
    "rowspan",
    "tabindex",
    "STRING_PROPERTIES",
    "cellpadding",
    "cellspacing",
    "class",
    "contenteditable",
    "for",
    "frameborder",
    "usemap",
    "UPDATE_PROPERTIES",
    "CREATE_PROPERTIES",
    "VOID_ELEMENTS",
    "area",
    "br",
    "embed",
    "hr",
    "img",
    "keygen",
    "menuitem",
    "param",
    "track",
    "wbr",
    "NAMESPACE_URIS",
    "svg",
    "xlink",
    "xmlns",
    "publicId",
    "systemId",
    "escaped",
    "escapeHtml",
    "attachText",
    "newNode",
    "createTextNode",
    "addNodeBinding",
    "nextNode",
    "splitData",
    "normalizeLineBreaks",
    "attachError",
    "insertBefore",
    "attachComment",
    "createComment",
    "NodeBinding",
    "emitHooks",
    "ending",
    "createHtmlFragment",
    "html",
    "range",
    "createRange",
    "selectNodeContents",
    "createContextualFragment",
    "div",
    "extractContents",
    "attachHtml",
    "childNodes",
    "ns",
    "elementNs",
    "getUnescapedValue",
    "selfClosing",
    "notClosed",
    "endTag",
    "getEndTag",
    "startClose",
    "getStartClose",
    "lowerTagName",
    "unescapedContent",
    "bindContentToValue",
    "getAttributeValue",
    "propertyName",
    "getAttribute",
    "beginning",
    "indexStartNode",
    "$bindItemStart",
    "updateRange",
    "setNodeBounds",
    "RangeBinding",
    "setNodeProperty",
    "appendContent",
    "attachContent",
    "contentHtml",
    "replaceRange",
    "innerOnly",
    "replaceChild",
    "emitRemoved",
    "removeChild",
    "emitRemovedBinding",
    "AttributeBindingsMap",
    "AttributeBinding",
    "__noop_65",
    "escapeAttribute",
    "equalConditions",
    "cloneNode",
    "deleteData",
    "createDocumentFragment",
    "publicText",
    "systemText",
    "_blockUpdate",
    "getBound",
    "propertyValue",
    "setAttributeNS",
    "removeAttributeNS",
    "removeAttribute",
    "getTagName",
    "tagItems",
    "startTag",
    "createElementNS",
    "_bindContent",
    "NaN",
    "truthy",
    "appendItemTo",
    "lastChild",
    "attachItemTo",
    "oldPrevious",
    "previousSibling",
    "windowsLength",
    "unixLength",
    "newLines",
    "defaultValue",
    "$try",
    "proxyNode",
    "$bindProxy",
    "templateTruthy",
    "renderValue",
    "renderTemplate",
    "hasTemplateProperty",
    "renderArrayProperties",
    "renderArray",
    "renderObjectProperties",
    "renderObject",
    "ExpressionMeta",
    "isEnd",
    "bindType",
    "valueType",
    "Expression",
    "LiteralExpression",
    "PathExpression",
    "RelativePathExpression",
    "AliasPathExpression",
    "AttributePathExpression",
    "BracketsExpression",
    "inside",
    "afterSegments",
    "DeferRenderExpression",
    "ArrayExpression",
    "ObjectExpression",
    "properties",
    "FnExpression",
    "NewExpression",
    "OperatorExpression",
    "_$operatorFns_9",
    "SequenceExpression",
    "ViewParentExpression",
    "ScopedModelExpression",
    "appendDependency",
    "swapLastDependency",
    "_$expressions_8",
    "_resolvePatch",
    "_lookupAndContextifyValue",
    "_scope",
    "relativeContext",
    "aliasContext",
    "attributeContext",
    "inner",
    "itemDependencies",
    "propertyDependencies",
    "extraInputs",
    "_lookupParent",
    "_applyFn",
    "_getInputs",
    "thisArg",
    "argDependencies",
    "jLen",
    "_$derbyTemplates_6",
    "operatorFns",
    "_$Dom_16",
    "Dom",
    "DomListener",
    "useCapture",
    "DestroyListener",
    "_initListeners",
    "_listenerIndex",
    "domListener",
    "wrappedListener",
    "__EventEmitter_14",
    "_$Controller_14",
    "Controller",
    "$controller",
    "emitCancellable",
    "cancelled",
    "emitDelayable",
    "delayed",
    "__templates_19",
    "Component",
    "_components",
    "isDestroyed",
    "ComponentAttribute",
    "ComponentAttributeBinding",
    "setModelAttributes",
    "setModelAttribute",
    "createFactory",
    "singleton",
    "SingletonComponentFactory",
    "ComponentFactory",
    "emitInitHooks",
    "ComponentModelData",
    "__noop_19",
    "isBasePrototype",
    "getRootPrototype",
    "getPrototypeOf",
    "_$components_19",
    "extendComponent",
    "components",
    "_eventModel",
    "$components",
    "throttle",
    "delayArg",
    "delay",
    "boundCallback",
    "nextArgs",
    "queueCall",
    "debounce",
    "debounceAsync",
    "applyArguments",
    "running",
    "viewName",
    "setNullAttribute",
    "DataConstructor",
    "isSingleton",
    "_extendComponent",
    "setPrototypeOf",
    "rootPrototype",
    "__expressions_21",
    "_$EventModel_21",
    "EventModel",
    "nextId",
    "ModelRef",
    "outside",
    "refChild",
    "RefOutMap",
    "RefChildrenMap",
    "BindingsMap",
    "ItemContextsMap",
    "EventModelsMap",
    "arrayByReference",
    "refOut",
    "refChildren",
    "bindings",
    "itemContexts",
    "__hasKeys_21",
    "childSetWildcard",
    "newItem",
    "arrayLookup",
    "segmentsBefore",
    "segmentsInside",
    "eventModel",
    "isEmpty",
    "dependancies",
    "_addItemContext",
    "_removeItemContext",
    "_addBinding",
    "eventModels",
    "_each",
    "localUpdate",
    "_updateChildItemContexts",
    "_updateArray",
    "_updateObject",
    "first",
    "mutate",
    "wildcardSegments",
    "onStringInsert",
    "replaceText",
    "cursor",
    "onStringRemove",
    "newText",
    "selectionStart",
    "selectionEnd",
    "scrollTop",
    "__expressions_17",
    "__templates_17",
    "__DependencyOptions_17",
    "documentListeners",
    "_$documentListeners_20",
    "_$Page_17",
    "Page",
    "_createContext",
    "_removeModelListeners",
    "_addListeners",
    "useLegacyListeners",
    "useLegacy",
    "addDependencies",
    "BindingWrapper",
    "updateDependencies",
    "$bodyClass",
    "classNames",
    "className",
    "$preventDefault",
    "$stopPropagation",
    "stopPropagation",
    "_setRenderParams",
    "_setRenderPrefix",
    "titleFragment",
    "bodyFragment",
    "titleElement",
    "getElementsByTagName",
    "attach",
    "titleView",
    "bodyView",
    "contextMeta",
    "_addModelListeners",
    "_addContextListeners",
    "_addModelListenersLegacy",
    "changeListener",
    "loadListener",
    "unloadListener",
    "insertListener",
    "moveListener",
    "patchTextBinding",
    "bindingWrappers",
    "destroyListeners",
    "__nextId_17",
    "ignoreTemplateDependency",
    "equalDependencies",
    "lenA",
    "itemA",
    "itemB",
    "lenItemA",
    "lenItemB",
    "textInputUpdate",
    "textUpdate",
    "dependencyOptions",
    "dependency",
    "_$_views_18",
    "derbyTemplates",
    "style",
    "is",
    "width",
    "height",
    "label",
    "cols",
    "__EventEmitter_13",
    "__templates_13",
    "_$App_13",
    "App",
    "derby",
    "scriptHash",
    "bundledAt",
    "createAppPage",
    "tracksRoutes",
    "_pendingComponentMap",
    "_init",
    "AppPage",
    "_waitForAttach",
    "_cancelAttach",
    "_contentReady",
    "_finishInit",
    "script",
    "_getScript",
    "isProduction",
    "nodeEnv",
    "_autoRefresh",
    "isReady",
    "onDOMContentLoaded",
    "onDOMReady",
    "toplevel",
    "frameElement",
    "documentElement",
    "doScroll",
    "doScrollCheck",
    "querySelector",
    "addViews",
    "isDependency",
    "viewIs",
    "viewFilename",
    "viewSource",
    "viewProp",
    "currentView",
    "_handleMessage",
    "styleElement",
    "css",
    "_$Derby_15",
    "Derby",
    "__Derby_derby",
    "MODEL",
    "APP",
    "findComponent",
    "componentCommand",
    "logEvents",
    "commentIterator",
    "createTreeWalker",
    "comment",
    "ConnectionAlert",
    "reload",
    "sentenceCase",
    "BeforeUnload",
    "SortableTable",
    "breakLeft",
    "breakTop",
    "cloneCol",
    "cloneRow",
    "finishCol",
    "finishRow",
    "setLeft",
    "setTop",
    "targetIndex",
    "listenerFn",
    "confirmationMessage",
    "dragging",
    "onMove",
    "endDragging",
    "onRowDown",
    "dragStart",
    "onColDown",
    "breakFn",
    "children",
    "loc",
    "ref1",
    "querySelectorAll",
    "selector",
    "cloneFn",
    "nodeOffset",
    "offsetLeft",
    "offsetTop",
    "rect",
    "getBoundingClientRect",
    "pageXOffset",
    "pageYOffset",
    "spacerHtml",
    "offsetWidth",
    "cloneRows",
    "len1",
    "nodeIndex",
    "offsetHeight",
    "padding"
  ],
  "mappings": "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",
  "sourcesContent": [
    "require = (function (require) {\nvar exposedRequire = function exposedRequire(e,r){return exposedRequire.m.hasOwnProperty(e)?exposedRequire.m[e]:\"function\"!=typeof require||r?\"function\"==typeof exposedRequire.r?exposedRequire.r(e,1):void 0:require(e,1)};\nexposedRequire.m = {};\nexposedRequire.r = require;var createModuleFactory = function createModuleFactory(t){var e;return function(r){return e||t(e={exports:{},parent:r},e.exports),e.exports}};\n",
    "app = module.exports = require('derby').createApp 'sink', __filename\napp.use require('derby-debug')\napp.serverUse module, 'derby-stylus'\napp.loadViews __dirname + '/../views'\napp.loadStyles __dirname + '/../styles'\napp.component require('d-connection-alert')\napp.component require('d-before-unload')\n\nrequire './pages'\n\nrequire './bench'\nrequire './live-css'\nrequire './home'\nrequire './leaderboard'\nrequire './table'\n\n['get', 'post', 'put', 'del'].forEach (method) ->\n  app[method] app.pages.submit.href, (page, model, {body, query}) ->\n    argsJson = JSON.stringify {method, body, query}, null, '  '\n    model.set '_page.args', argsJson\n    page.render 'submit'\n\napp.get app.pages.error.href, ->\n  throw new Error 500\n\napp.get app.pages.back.href, (page) ->\n  page.redirect 'back'\n",
    "app = require './index'\napp.component require '../components/sortable-table'\n\napp.get app.pages.table.href, (page, model, params, next) ->\n  model.subscribe 'sink.table', (err) ->\n    return next err if err\n    model.createNull 'sink.table', {rows: []}\n    page.render 'table'\n\napp.component 'table', class TableEditor\n  init: (model) ->\n    @rows = model.scope 'sink.table.rows'\n    model.ref 'table', @rows\n\n  onRowMove: (from, to) ->\n    @rows.move from, to\n\n  onColMove: (from, to) ->\n    row = @rows.get 'length'\n    while row--\n      @rows.move row + '.cells', from, to\n    return\n\n  addRow: ->\n    cells = []\n    col = @rows.get '0.cells.length'\n    while col--\n      cells.push {}\n    @rows.push {cells}\n\n  addCol: ->\n    row = @rows.get 'length'\n    while row--\n      @rows.push row + '.cells', {}\n    return\n\n  deleteRow: (i) ->\n    @rows.remove i\n\n  deleteCol: (i) ->\n    row = @rows.get 'length'\n    while row--\n      @rows.remove row + '.cells', i\n    return\n\n  colName: (num, out = '') ->\n    mod = num % 26\n    out = String.fromCharCode(65 + mod) + out\n    return if num = Math.floor num / 26\n      @colName num - 1, out\n    else\n      out\n",
    "app = require './index'\n\nrandomScore = -> Math.floor(Math.random() * 20) * 5\n\napp.get app.pages.leaderboard.href, (page, model, params, next) ->\n  model.query('players', {$sort: {score: -1, name: 1}, $limit: 10}).subscribe (err) ->\n    return next err if err\n    page.render 'leaderboard'\n\napp.component 'leaderboard', class Leaderboard\n  init: (model) ->\n    @players = model.root.at 'players'\n    model.ref 'list', @players.sort {limit: 5}, (a, b) ->\n      # Guard against null values\n      return 0 unless a && b\n      # Sort first by score, descending\n      return 1 if a.score < b.score\n      return -1 if a.score > b.score\n      # Sort second by name, ascending\n      return 1 if a.name > b.name\n      return -1 if a.name < b.name\n      return 0\n\n  create: ->\n    @dom.on 'click', (e) =>\n      @deselect() unless @board.contains e.target\n\n  add: ->\n    name = @model.del 'newPlayer'\n    @players.add {name, score: randomScore()} if name\n  remove: ->\n    @model.del 'selected'\n  increment: (byNum) ->\n    @model.increment 'selected.score', byNum\n\n  select: (player) ->\n    @model.ref 'selected', @players.at player.id\n  deselect: ->\n    @model.removeRef 'selected'\n",
    "app = require './index'\n\napp.get app.pages.home.href, (page, model, params, next) ->\n  home = model.at 'sink.home'\n  home.subscribe (err) ->\n    return next err if err\n    # Create initial data\n    home.createNull\n      titleColor: 'black'\n      colors: [\n        {name: 'black'}\n        {name: 'deep pink'}\n        {name: 'lime green'}\n        {name: 'coral'}\n        {name: 'dark turquoise'}\n        {name: 'dark orchid'}\n      ]\n      ellipse: {cx: 100, cy: 100, rx: 50, ry: 50, fill: 'red'}\n    page.render 'home'\n\napp.component 'home:colored-title', class ColoredTitle\n  init: (model) ->\n    model.ref 'titleColor', model.scope('sink.home.titleColor')\n    @colors = model.scope 'sink.home.colors'\n    model.ref 'colors', @colors\n\n  unspace: (s) ->\n    return s if typeof s isnt 'string'\n    return s.replace /\\s/g, ''\n\n  capitalize: (s) ->\n    return s if typeof s isnt 'string'\n    return s.charAt(0).toUpperCase() + s.slice(1).toLowerCase()\n\n  colorInputValue:\n    get: (name, titleColor) -> name\n    set: (value, name, titleColor) ->\n      return if name == titleColor then [value, value] else [value]\n\n  titleInputValue:\n    get: (titleColor) -> titleColor\n    set: (value, titleColor) ->\n      for color, i in @colors.get() || []\n        if color.name == titleColor\n          @colors.setDiff i + '.name', value\n      return [value]\n",
    "app = require './index'\n\nroute = app.pages.liveCss.href + '/:popped(popout)?'\n\napp.get route, (page, model, params, next) ->\n  data = model.at 'sink.liveCss'\n  data.subscribe (err) ->\n    return next err if err\n    data.createNull\n      styles: [\n        {prop: 'color', value: '#c00', active: true}\n        {prop: 'font-weight', value: 'bold', active: true}\n        {prop: 'font-size', value: '18px', active: false}\n      ]\n      outputText: 'Edit this text...'\n    page.render 'live-css'\n\napp.get from: route, to: route, ->\n  # This is a transition route, which defines how to apply an update\n  # without re-rendering the entire page. Since we've bound to the\n  # render parameters directly, we don't need to do anything\n\napp.component 'live-css', class LiveCss\n  init: (model) ->\n    model.ref 'poppedOut', model.scope('$render.params.popped')\n    styles = model.ref 'styles', model.scope('sink.liveCss.styles')\n    outputText = model.ref 'outputText', model.scope('sink.liveCss.outputText')\n\n  addStyle: ->\n    @model.push 'styles', {}\n\n  deleteStyle: (i) ->\n    @model.remove 'styles', i\n\n  hasActiveStyles: (styles) ->\n    for style in styles || []\n      return true if style.active\n    return false\n",
    "app = require './index'\n\napp.get app.pages.bench.href, (page) ->\n  page.render 'bench'\n\napp.component 'bench:circles', class BenchCircles\n  init: (model) ->\n    @n = model.get('n') || 100\n    @boxes = model.at 'boxes'\n    boxes = (new Box(0) for i in [0...@n])\n    @boxes.set boxes\n    model.set 'modes', ['setAll', 'setBox', 'setProperty']\n\n  start: (mode) ->\n    clearTimeout @timeout\n    @model.set 'mode', mode\n    @fn = this[mode]\n    @frames = 0\n    @startTime = +new Date\n    @run()\n\n  stop: ->\n    clearTimeout @timeout\n\n  run: ->\n    @fn()\n    if @frames++ == 20\n      fps = @frames * 1000 / (new Date - @startTime)\n      @model.set 'fps', fps.toFixed(1)\n      @frames = 0\n      @startTime = +new Date\n    @timeout = setTimeout =>\n      @run()\n    , 0\n\n  tickProperty: (box) ->\n    count = box.increment 'count'\n    box.set 'top', Math.sin(count / 10) * 10\n    box.set 'left', Math.cos(count / 10) * 10\n    box.set 'color', count % 255\n    box.set 'content', count % 100\n  setProperty: ->\n    for i in [0...@n]\n      @tickProperty @boxes.at(i)\n    return\n\n  tickBox: (box) ->\n    count = box.get('count') + 1\n    box.set\n      count: count\n      top: Math.sin(count / 10) * 10\n      left: Math.cos(count / 10) * 10\n      color: count % 255\n      content: count % 100\n  setBox: ->\n    for i in [0...@n]\n      @tickBox @boxes.at(i)\n    return\n\n  setAll: ->\n    previous = @boxes.get()\n    boxes = (new Box(box.count + 1) for box in previous)\n    @boxes.set boxes\n\nclass Box\n  constructor: (count) ->\n    this.count = count\n    this.top = Math.sin(count / 10) * 10\n    this.left = Math.cos(count / 10) * 10\n    this.color = count % 255\n    this.content = count % 100\n",
    "app = require './index'\n\napp.pages =\n  home:\n    title: 'Home'\n    href: '/'\n  liveCss:\n    title: 'Live CSS'\n    href: '/live-css'\n  table:\n    title: 'Table editor'\n    href: '/table'\n  leaderboard:\n    title: 'Leaderboard'\n    href: '/leaderboard'\n  bench:\n    title: 'Bindings benchmark'\n    href: '/bench'\n  submit:\n    title: 'Submit form'\n    href: '/submit'\n  back:\n    title: 'Back redirect'\n    href: '/back'\n  error:\n    title: 'Error test'\n    href: '/error'\n\napp.proto.navItems = (current) ->\n  items = []\n  for name, page of app.pages\n    items.push\n      title: page.title\n      href: page.href\n      isCurrent: current == dash(name)\n  items[items.length - 1].isLast = true\n  return items\n\napp.proto.pageTitle = (current) ->\n  return app.pages[current]?.title\n\ndash = (camelName) ->\n  return camelName.replace /[a-z][A-Z]/g, (match) ->\n    match.charAt(0) + '-' + match.charAt(1).toLowerCase()\n",
    "var textDiff = require('./textDiff');\n\nexports.add = addDocumentListeners;\nexports.inputSupportsSelection = inputSupportsSelection;\n\n// http://www.whatwg.org/specs/web-apps/current-work/multipage/the-input-element.html#do-not-apply\n// TODO: Date types support\nfunction inputSupportsSelection(input) {\n  var type = input.type;\n  return (\n    type === 'text' ||\n    type === 'textarea' ||\n    type === 'search' ||\n    type === 'url' ||\n    type === 'tel' ||\n    type === 'password'\n  );\n}\nfunction inputIsNumberValue(input) {\n  var type = input.type;\n  return (type === 'number' || (type === 'range' && !input.multiple));\n}\nvar inputValue = function(input) {\n  return inputIsNumberValue(input) ? input.valueAsNumber : input.value;\n};\n\nfunction addDocumentListeners(doc) {\n  doc.addEventListener('input', documentInput, true);\n  doc.addEventListener('change', documentChange, true);\n\n  // Listen to more events for versions of IE with buggy input event implementations\n  if (parseFloat(window.navigator.appVersion.split('MSIE ')[1]) <= 9) {\n    // We're listening on selectionchange because there's no other event emitted when\n    // the user clicks 'delete' from a context menu when right clicking on selected text.\n    // So although this event fires overly aggressively, it's the only real way\n    // to ensure that we can detect all changes to the input value in IE <= 9\n    doc.addEventListener('selectionchange', function(e){\n      if (document.activeElement) {\n        documentInput({target: document.activeElement}); // selectionchange evts don't have the e.target we need\n      }\n    }, true);\n  }\n\n  // For some reason valueAsNumber returns NaN for number inputs in IE\n  // until a new IE version that handles this is released, parse input.value as a fallback\n  var input = document.createElement('input');\n  input.type = 'number';\n  input.value = '7';\n  if (input.valueAsNumber !== input.valueAsNumber) {\n    var oldInputValue = inputValue;\n    inputValue = function(input) {\n      if (input.type === 'number') {\n        return inputIsNumberValue(input) ? parseFloat(input.value) : input.value;\n      } else {\n        return oldInputValue.apply(this, arguments);\n      }\n    };\n  }\n}\n\nfunction documentInput(e) {\n  var target = e.target;\n\n  if (target.tagName === 'INPUT' || target.tagName === 'TEXTAREA') {\n    setInputValue(e, target);\n  }\n}\n\nfunction documentChange(e) {\n  var target = e.target;\n\n  if (target.tagName === 'INPUT') {\n    setBoundProperty(target, 'checked');\n    setInputValue(e, target);\n\n  } else if (target.tagName === 'SELECT') {\n    setOptionBindings(target);\n\n  } else if (target.tagName === 'TEXTAREA') {\n    setInputValue(e, target);\n  }\n}\n\nfunction setBoundProperty(node, property) {\n  var binding = node.$bindAttributes && node.$bindAttributes[property];\n  if (!binding || binding.isUnbound()) return;\n\n  var value = node[property];\n  binding.template.expression.set(binding.context, value);\n}\n\nfunction setInputValue(e, target) {\n  var binding = target.$bindAttributes && target.$bindAttributes.value;\n  if (!binding || binding.isUnbound()) return;\n\n  if (inputSupportsSelection(target)) {\n    var pass = {$event: e};\n    textDiffBinding(binding, target.value, pass);\n  } else {\n    var value = inputValue(target);\n    binding.template.expression.set(binding.context, value);\n  }\n}\n\nfunction textDiffBinding(binding, value, pass) {\n  var expression = binding.template.expression;\n  var segments = expression.pathSegments(binding.context);\n  if (segments) {\n    var model = binding.context.controller.model.pass(pass);\n    textDiff.onTextInput(model, segments, value);\n  } else if (expression.set) {\n    expression.set(binding.context, value);\n  }\n}\n\nfunction setOptionBindings(parent) {\n  for (var node = parent.firstChild; node; node = node.nextSibling) {\n    if (node.tagName === 'OPTION') {\n      setBoundProperty(node, 'selected');\n    } else if (node.hasChildNodes()) {\n      setOptionBindings(node);\n    }\n  }\n}\n",
    "var saddle = require('saddle');\nvar serializeObject = require('serialize-object');\nvar DependencyOptions = require('./options').DependencyOptions;\nvar util = require('./util');\nvar concat = util.concat;\nvar hasKeys = util.hasKeys;\nvar traverseAndCreate = util.traverseAndCreate;\n\n(function() {\n  for (var key in saddle) {\n    exports[key] = saddle[key];\n  }\n})();\n\nexports.Marker = Marker;\nexports.View = View;\nexports.ViewInstance = ViewInstance;\nexports.DynamicViewInstance = DynamicViewInstance;\nexports.ViewParent = ViewParent;\nexports.ContextClosure = ContextClosure;\n\nexports.Views = Views;\n\nexports.MarkupHook = MarkupHook;\nexports.ElementOn = ElementOn;\nexports.ComponentOn = ComponentOn;\nexports.AsProperty = AsProperty;\nexports.AsObject = AsObject;\nexports.AsObjectComponent = AsObjectComponent;\nexports.AsArray = AsArray;\nexports.AsArrayComponent = AsArrayComponent;\n\nexports.emptyTemplate = new saddle.Template([]);\n\n// Add ::isUnbound to Template && Binding\nsaddle.Template.prototype.isUnbound = function(context) {\n  return context.unbound;\n};\nsaddle.Binding.prototype.isUnbound = function() {\n  return this.template.expression.isUnbound(this.context);\n};\n\n// Add Template::resolve\nsaddle.Template.prototype.resolve = function() {};\n\n// The Template::dependencies method is specific to how Derby bindings work,\n// so extend all of the Saddle Template types here\nsaddle.Template.prototype.dependencies = function(context, options) {\n  if (DependencyOptions.shouldIgnoreTemplate(this, options)) return;\n  return concatArrayDependencies(null, this.content, context, options);\n};\nsaddle.Doctype.prototype.dependencies = function() {};\nsaddle.Text.prototype.dependencies = function() {};\nsaddle.DynamicText.prototype.dependencies = function(context, options) {\n  if (DependencyOptions.shouldIgnoreTemplate(this, options)) return;\n  return getDependencies(this.expression, context, options);\n};\nsaddle.Comment.prototype.dependencies = function() {};\nsaddle.DynamicComment.prototype.dependencies = function(context, options) {\n  if (DependencyOptions.shouldIgnoreTemplate(this, options)) return;\n  return getDependencies(this.expression, context, options);\n};\nsaddle.Html.prototype.dependencies = function() {};\nsaddle.DynamicHtml.prototype.dependencies = function(context, options) {\n  if (DependencyOptions.shouldIgnoreTemplate(this, options)) return;\n  return getDependencies(this.expression, context, options);\n};\nsaddle.Element.prototype.dependencies = function(context, options) {\n  if (DependencyOptions.shouldIgnoreTemplate(this, options)) return;\n  var dependencies = concatMapDependencies(null, this.attributes, context, options);\n  if (!this.content) return dependencies;\n  return concatArrayDependencies(dependencies, this.content, context, options);\n};\nsaddle.DynamicElement.prototype.dependencies = function(context, options) {\n  if (DependencyOptions.shouldIgnoreTemplate(this, options)) return;\n  var dependencies = saddle.Element.prototype.dependencies(context, options);\n  return concatDependencies(dependencies, this.tagName, context, options);\n};\nsaddle.Block.prototype.dependencies = function(context, options) {\n  if (DependencyOptions.shouldIgnoreTemplate(this, options)) return;\n  var dependencies = (this.expression.meta && this.expression.meta.blockType === 'on') ?\n    getDependencies(this.expression, context, options) : null;\n  var blockContext = context.child(this.expression);\n  return concatArrayDependencies(dependencies, this.content, blockContext, options);\n};\nsaddle.ConditionalBlock.prototype.dependencies = function(context, options) {\n  if (DependencyOptions.shouldIgnoreTemplate(this, options)) return;\n  var condition = this.getCondition(context);\n  if (condition == null) {\n    return getDependencies(this.expressions[0], context, options);\n  }\n  var dependencies = concatSubArrayDependencies(null, this.expressions, context, options, condition);\n  var expression = this.expressions[condition];\n  var content = this.contents[condition];\n  var blockContext = context.child(expression);\n  return concatArrayDependencies(dependencies, content, blockContext, options);\n};\nsaddle.EachBlock.prototype.dependencies = function(context, options) {\n  if (DependencyOptions.shouldIgnoreTemplate(this, options)) return;\n  var dependencies = getDependencies(this.expression, context, options);\n  var items = this.expression.get(context);\n  if (items && items.length) {\n    for (var i = 0; i < items.length; i++) {\n      var itemContext = context.eachChild(this.expression, i);\n      dependencies = concatArrayDependencies(dependencies, this.content, itemContext, options);\n    }\n  } else if (this.elseContent) {\n    dependencies = concatArrayDependencies(dependencies, this.elseContent, context, options);\n  }\n  return dependencies;\n};\nsaddle.Attribute.prototype.dependencies = function() {};\nsaddle.DynamicAttribute.prototype.dependencies = function(context, options) {\n  if (DependencyOptions.shouldIgnoreTemplate(this, options)) return;\n  return getDependencies(this.expression, context, options);\n};\n\nfunction concatSubArrayDependencies(dependencies, expressions, context, options, end) {\n  for (var i = 0; i <= end; i++) {\n    dependencies = concatDependencies(dependencies, expressions[i], context, options);\n  }\n  return dependencies;\n}\nfunction concatArrayDependencies(dependencies, expressions, context, options) {\n  for (var i = 0; i < expressions.length; i++) {\n    dependencies = concatDependencies(dependencies, expressions[i], context, options);\n  }\n  return dependencies;\n}\nfunction concatMapDependencies(dependencies, expressions, context, options) {\n  for (var key in expressions) {\n    dependencies = concatDependencies(dependencies, expressions[key], context, options);\n  }\n  return dependencies;\n}\nfunction concatDependencies(dependencies, expression, context, options) {\n  var expressionDependencies = getDependencies(expression, context, options);\n  return concat(dependencies, expressionDependencies);\n}\nfunction getDependencies(expression, context, options) {\n  return expression.dependencies(context, options);\n}\n\nvar markerHooks = [{\n  emit: function(context, node) {\n    node.$component = context.controller;\n    context.controller.markerNode = node;\n  }\n}];\nfunction Marker(data) {\n  saddle.Comment.call(this, data, markerHooks);\n}\nMarker.prototype = Object.create(saddle.Comment.prototype);\nMarker.prototype.constructor = Marker;\nMarker.prototype.type = 'Marker';\nMarker.prototype.serialize = function() {\n  return serializeObject.instance(this, this.data);\n};\nMarker.prototype.get = function() {\n  return '';\n};\n\nfunction ViewAttributesMap(source) {\n  var items = source.split(/\\s+/);\n  for (var i = 0, len = items.length; i < len; i++) {\n    this[items[i]] = true;\n  }\n}\nfunction ViewArraysMap(source) {\n  var items = source.split(/\\s+/);\n  for (var i = 0, len = items.length; i < len; i++) {\n    var item = items[i].split('/');\n    this[item[0]] = item[1] || item[0];\n  }\n}\nfunction View(views, name, source, options) {\n  this.views = views;\n  this.name = name;\n  this.source = source;\n  this.options = options;\n\n  var nameSegments = (this.name || '').split(':');\n  var lastSegment = nameSegments.pop();\n  this.namespace = nameSegments.join(':');\n  this.registeredName = (lastSegment === 'index') ? this.namespace : this.name;\n\n  this.attributesMap = options && options.attributes &&\n    new ViewAttributesMap(options.attributes);\n  this.arraysMap = options && options.arrays &&\n    new ViewArraysMap(options.arrays);\n  // The empty string is considered true for easier HTML attribute parsing\n  this.unminified = options && (options.unminified || options.unminified === '');\n  this.string = options && (options.string || options.string === '');\n  this.literal = options && (options.literal || options.literal === '');\n  this.template = null;\n  this.componentFactory = null;\n  this.fromSerialized = false;\n}\nView.prototype = Object.create(saddle.Template.prototype);\nView.prototype.constructor = View;\nView.prototype.type = 'View';\nView.prototype.serialize = function() {\n  return null;\n};\nView.prototype._isComponent = function(context) {\n  if (!this.componentFactory) return false;\n  if (context.attributes && context.attributes.extend) return false;\n  return true;\n};\nView.prototype._initComponent = function(context) {\n  return (this._isComponent(context)) ?\n    this.componentFactory.init(context) : context;\n};\nView.prototype._queueCreate = function(context, viewContext) {\n  if (this._isComponent(context)) {\n    var componentFactory = this.componentFactory;\n    context.queue(function queuedCreate() {\n      componentFactory.create(viewContext);\n    });\n\n    if (!context.hooks) return;\n    context.queue(function queuedComponentHooks() {\n      // Kick off hooks if view instance specified `on` or `as` attributes\n      for (var i = 0, len = context.hooks.length; i < len; i++) {\n        context.hooks[i].emit(context, viewContext.controller);\n      }\n    });\n  }\n};\nView.prototype.get = function(context, unescaped) {\n  var viewContext = this._initComponent(context);\n  var template = this.template || this.parse();\n  return template.get(viewContext, unescaped);\n};\nView.prototype.getFragment = function(context, binding) {\n  var viewContext = this._initComponent(context);\n  var template = this.template || this.parse();\n  var fragment = template.getFragment(viewContext, binding);\n  this._queueCreate(context, viewContext);\n  return fragment;\n};\nView.prototype.appendTo = function(parent, context) {\n  var viewContext = this._initComponent(context);\n  var template = this.template || this.parse();\n  template.appendTo(parent, viewContext);\n  this._queueCreate(context, viewContext);\n};\nView.prototype.attachTo = function(parent, node, context) {\n  var viewContext = this._initComponent(context);\n  var template = this.template || this.parse();\n  var node = template.attachTo(parent, node, viewContext);\n  this._queueCreate(context, viewContext);\n  return node;\n};\nView.prototype.dependencies = function(context, options) {\n  if (DependencyOptions.shouldIgnoreTemplate(this, options)) return;\n  var template = this.template || this.parse();\n  // We can't figure out relative path dependencies within a component without\n  // rendering it, because each component instance's scope is dynamically set\n  // based on its unique `id` property. To represent this, set the context\n  // controller to `null`.\n  //\n  // Under normal rendering conditions, contexts should always have reference\n  // to a controller. Expression::get() methods use the reference to\n  // `context.controller.model.data` to lookup values, and paths are resolved\n  // based on `context.controller.model._scope`.\n  //\n  // To handle this, Expression methods guard against a null controller by not\n  // returning any dependencies for model paths. In addition, they return\n  // `undefined` from get, which affect dependencies computed for\n  // ConditionalBlock and EachBlock, as their dependencies will differ based\n  // on the value of model data.\n  //\n  // TODO: This likely under-estimates the true dependencies within a\n  // template. However, to provide a more complete view of dependencies, we'd\n  // need information we only have at render time, namely, the scope and data\n  // within the component model. This may indicate that Derby should use a\n  // more Functional Reactive Programming (FRP)-like approach of having\n  // dependencies be returned from getFragment and attach methods along with\n  // DOM nodes rather than computing dependencies separately from rendering.\n  var viewContext = (this._isComponent(context)) ?\n    context.componentChild(null) : context;\n  return template.dependencies(viewContext, options);\n};\nView.prototype.parse = function() {\n  this._parse();\n  if (this.componentFactory) {\n    var marker = new Marker(this.name);\n    this.template.content.unshift(marker);\n  }\n  return this.template;\n};\n// View.prototype._parse is defined in parsing.js, so that it doesn't have to\n// be included in the client if templates are all parsed server-side\nView.prototype._parse = function() {\n  throw new Error('View parsing not available');\n};\n\nfunction ViewInstance(name, attributes, hooks, initHooks) {\n  this.name = name;\n  this.attributes = attributes;\n  this.hooks = hooks;\n  this.initHooks = initHooks;\n  this.view = null;\n}\nViewInstance.prototype = Object.create(saddle.Template.prototype);\nViewInstance.prototype.constructor = ViewInstance;\nViewInstance.prototype.type = 'ViewInstance';\nViewInstance.prototype.serialize = function() {\n  return serializeObject.instance(this, this.name, this.attributes, this.hooks, this.initHooks);\n};\nViewInstance.prototype.get = function(context, unescaped) {\n  var view = this._find(context);\n  var viewContext = context.viewChild(view, this.attributes, this.hooks, this.initHooks);\n  return view.get(viewContext, unescaped);\n};\nViewInstance.prototype.getFragment = function(context, binding) {\n  var view = this._find(context);\n  var viewContext = context.viewChild(view, this.attributes, this.hooks, this.initHooks);\n  return view.getFragment(viewContext, binding);\n};\nViewInstance.prototype.appendTo = function(parent, context) {\n  var view = this._find(context);\n  var viewContext = context.viewChild(view, this.attributes, this.hooks, this.initHooks);\n  view.appendTo(parent, viewContext);\n};\nViewInstance.prototype.attachTo = function(parent, node, context) {\n  var view = this._find(context);\n  var viewContext = context.viewChild(view, this.attributes, this.hooks, this.initHooks);\n  return view.attachTo(parent, node, viewContext);\n};\nViewInstance.prototype.dependencies = function(context, options) {\n  if (DependencyOptions.shouldIgnoreTemplate(this, options)) return;\n  var view = this._find(context);\n  var viewContext = context.viewChild(view, this.attributes, this.hooks, this.initHooks);\n  return view.dependencies(viewContext, options);\n};\nViewInstance.prototype._find = function(context) {\n  if (this.view) return this.view;\n  var contextView = context.getView();\n  var namespace = contextView && contextView.namespace;\n  this.view = context.meta.views.find(this.name, namespace);\n  if (!this.view) {\n    var message = context.meta.views.findErrorMessage(this.name, contextView);\n    throw new Error(message);\n  }\n  return this.view;\n};\n\nfunction DynamicViewInstance(nameExpression, attributes, hooks, initHooks) {\n  this.nameExpression = nameExpression;\n  this.attributes = attributes;\n  this.hooks = hooks;\n  this.initHooks = initHooks;\n}\nDynamicViewInstance.prototype = Object.create(ViewInstance.prototype);\nDynamicViewInstance.prototype.constructor = DynamicViewInstance;\nDynamicViewInstance.prototype.type = 'DynamicViewInstance';\nDynamicViewInstance.prototype.serialize = function() {\n  return serializeObject.instance(this, this.nameExpression, this.attributes, this.hooks, this.initHooks);\n};\nDynamicViewInstance.prototype._find = function(context) {\n  var name = this.nameExpression.get(context);\n  var contextView = context.getView();\n  var namespace = contextView && contextView.namespace;\n  var view = name && context.meta.views.find(name, namespace);\n  return view || exports.emptyTemplate;\n};\nDynamicViewInstance.prototype.dependencies = function(context, options) {\n  if (DependencyOptions.shouldIgnoreTemplate(this, options)) return;\n  var nameDependencies = this.nameExpression.dependencies(context);\n  var viewDependencies = ViewInstance.prototype.dependencies.call(this, context, options);\n  return concat(nameDependencies, viewDependencies);\n};\n\n// Without a ContextClosure, ViewParent will return the nearest context that\n// is the parent of a view instance. When a context with a `closure` property\n// is encountered first, ViewParent will find the specific referenced context,\n// even if it is further up the context hierarchy.\nfunction ViewParent(template) {\n  this.template = template;\n}\nViewParent.prototype = Object.create(saddle.Template.prototype);\nViewParent.prototype.constructor = ViewParent;\nViewParent.prototype.type = 'ViewParent';\nViewParent.prototype.serialize = function() {\n  return serializeObject.instance(this, this.template);\n};\nViewParent.prototype.get = function(context, unescaped) {\n  var parentContext = context.forViewParent();\n  return this.template.get(parentContext, unescaped);\n};\nViewParent.prototype.getFragment = function(context, binding) {\n  var parentContext = context.forViewParent();\n  return this.template.getFragment(parentContext, binding);\n};\nViewParent.prototype.appendTo = function(parent, context) {\n  var parentContext = context.forViewParent();\n  this.template.appendTo(parent, parentContext);\n};\nViewParent.prototype.attachTo = function(parent, node, context) {\n  var parentContext = context.forViewParent();\n  return this.template.attachTo(parent, node, parentContext);\n};\nViewParent.prototype.dependencies = function(context, options) {\n  if (DependencyOptions.shouldIgnoreTemplate(this, options)) return;\n  var parentContext = context.forViewParent();\n  return this.template.dependencies(parentContext, options);\n};\n\n// At render time, this template creates a context child and sets its\n// `closure` property to a fixed reference. It is used in combination with\n// ViewParent in order to control which context is returned.\n//\n// Instances of this template cannot be serialized. It is intended for use\n// dynamically during rendering only.\nfunction ContextClosure(template, context) {\n  this.template = template;\n  this.context = context;\n}\nContextClosure.prototype = Object.create(saddle.Template.prototype);\nContextClosure.prototype.constructor = ContextClosure;\nContextClosure.prototype.serialize = function() {\n  throw new Error('ContextClosure cannot be serialized');\n};\nContextClosure.prototype.get = function(context, unescaped) {\n  var closureContext = context.closureChild(this.context);\n  return this.template.get(closureContext, unescaped);\n};\nContextClosure.prototype.getFragment = function(context, binding) {\n  var closureContext = context.closureChild(this.context);\n  return this.template.getFragment(closureContext, binding);\n};\nContextClosure.prototype.appendTo = function(parent, context) {\n  var closureContext = context.closureChild(this.context);\n  this.template.appendTo(parent, closureContext);\n};\nContextClosure.prototype.attachTo = function(parent, node, context) {\n  var closureContext = context.closureChild(this.context);\n  return this.template.attachTo(parent, node, closureContext);\n};\nContextClosure.prototype.dependencies = function(context, options) {\n  if (DependencyOptions.shouldIgnoreTemplate(this.template, options)) return;\n  var closureContext = context.closureChild(this.context);\n  return this.template.dependencies(closureContext, options);\n};\nContextClosure.prototype.equals = function(other) {\n  return (other instanceof ContextClosure) &&\n    (this.context === other.context) &&\n    (this.template.equals(other.template));\n};\n\nfunction ViewsMap() {}\nfunction Views() {\n  this.nameMap = new ViewsMap();\n  this.tagMap = new ViewsMap();\n  // TODO: elementMap is deprecated and should be removed with Derby 0.6.0\n  this.elementMap = this.tagMap;\n}\nViews.prototype.find = function(name, namespace) {\n  var map = this.nameMap;\n\n  // Exact match lookup\n  var exactName = (namespace) ? namespace + ':' + name : name;\n  var match = map[exactName];\n  if (match) return match;\n\n  // Relative lookup\n  var segments = name.split(':');\n  var segmentsDepth = segments.length;\n  if (namespace) segments = namespace.split(':').concat(segments);\n  // Iterate through segments, leaving the `segmentsDepth` segments and\n  // removing the second to `segmentsDepth` segment to traverse up the\n  // namespaces. Decrease `segmentsDepth` if not found and repeat again.\n  while (segmentsDepth > 0) {\n    var testSegments = segments.slice();\n    while (testSegments.length > segmentsDepth) {\n      testSegments.splice(-1 - segmentsDepth, 1);\n      var testName = testSegments.join(':');\n      var match = map[testName];\n      if (match) return match;\n    }\n    segmentsDepth--;\n  }\n};\nViews.prototype.register = function(name, source, options) {\n  var mapName = name.replace(/:index$/, '');\n  var view = this.nameMap[mapName];\n  if (view) {\n    // Recreate the view if it already exists. We re-apply the constructor\n    // instead of creating a new view object so that references to object\n    // can be cached after finding the first time\n    var componentFactory = view.componentFactory;\n    View.call(view, this, name, source, options);\n    view.componentFactory = componentFactory;\n  } else {\n    view = new View(this, name, source, options);\n  }\n  this.nameMap[mapName] = view;\n  // TODO: element is deprecated and should be removed with Derby 0.6.0\n  var tagName = options && (options.tag || options.element);\n  if (tagName) this.tagMap[tagName] = view;\n  return view;\n};\nViews.prototype.deserialize = function(items) {\n  for (var i = 0; i < items.length; i++) {\n    var item = items[i];\n    var setTemplate = item[0];\n    var name = item[1];\n    var source = item[2];\n    var options = item[3];\n    var view = this.register(name, source, options);\n    view.parse = setTemplate;\n    view.fromSerialized = true;\n  }\n};\nViews.prototype.serialize = function(options) {\n  var forServer = options && options.server;\n  var minify = options && options.minify;\n  var items = [];\n  for (var name in this.nameMap) {\n    var view = this.nameMap[name];\n    var template = view.template || view.parse();\n    if (!forServer && view.options) {\n      // Do not serialize views with the `serverOnly` option, except when\n      // serializing for a server script\n      if (view.options.serverOnly) continue;\n      // For views with the `server` option, serialize them with a blank\n      // template body. This allows them to be used from other views on the\n      // browser, but they will output nothing on the browser\n      if (view.options.server) template = exports.emptyTemplate;\n    }\n    // Serializing views as a function allows them to be constructed lazily upon\n    // first use. This can improve initial load times of the application when\n    // there are many views\n    items.push(\n      '[function(){return this.template=' +\n        template.serialize() + '},' +\n        serializeObject.args([\n          view.name,\n          (minify) ? null : view.source,\n          (hasKeys(view.options)) ? view.options : null\n        ]) +\n      ']'\n    );\n  }\n  return 'function(derbyTemplates, views){' +\n    'var expressions = derbyTemplates.expressions,' +\n    'templates = derbyTemplates.templates;' +\n    'views.deserialize([' + items.join(',') + '])}';\n};\nViews.prototype.findErrorMessage = function(name, contextView) {\n  var names = Object.keys(this.nameMap);\n  var message = 'Cannot find view \"' + name + '\" in' +\n    [''].concat(names).join('\\n  ') + '\\n';\n  if (contextView) {\n    message += '\\nWithin template \"' + contextView.name + '\":\\n' + contextView.source;\n  }\n  return message;\n};\n\n\nfunction MarkupHook() {}\nMarkupHook.prototype.module = saddle.Template.prototype.module;\n\nfunction ElementOn(name, expression) {\n  this.name = name;\n  this.expression = expression;\n}\nElementOn.prototype = Object.create(MarkupHook.prototype);\nElementOn.prototype.constructor = ElementOn;\nElementOn.prototype.type = 'ElementOn';\nElementOn.prototype.serialize = function() {\n  return serializeObject.instance(this, this.name, this.expression);\n};\nElementOn.prototype.emit = function(context, element) {\n  var elementOn = this;\n  if (this.name === 'create') {\n    this.apply(context, element);\n\n  } else if (this.name === 'destroy') {\n    var destroyListeners = element.$destroyListeners || (element.$destroyListeners = []);\n    destroyListeners.push(function elementOnDestroy() {\n      elementOn.apply(context, element);\n    });\n\n  } else {\n    element.addEventListener(this.name, function elementOnListener(event) {\n      return elementOn.apply(context, element, event);\n    }, false);\n  }\n};\nElementOn.prototype.apply = function(context, element, event) {\n  var modelData = context.controller.model.data;\n  modelData.$event = event;\n  modelData.$element = element;\n  var out = this.expression.apply(context);\n  delete modelData.$event;\n  delete modelData.$element;\n  return out;\n};\n\nfunction ComponentOn(name, expression) {\n  this.name = name;\n  this.expression = expression;\n}\nComponentOn.prototype = Object.create(MarkupHook.prototype);\nComponentOn.prototype.constructor = ComponentOn;\nComponentOn.prototype.type = 'ComponentOn';\nComponentOn.prototype.serialize = function() {\n  return serializeObject.instance(this, this.name, this.expression);\n};\nComponentOn.prototype.emit = function(context, component) {\n  var expression = this.expression;\n  component.on(this.name, function componentOnListener() {\n    var args = arguments.length && Array.prototype.slice.call(arguments);\n    return expression.apply(context, args);\n  });\n};\n\nfunction AsProperty(segments) {\n  this.segments = segments;\n  this.lastSegment = segments.pop();\n}\nAsProperty.prototype = Object.create(MarkupHook.prototype);\nAsProperty.prototype.constructor = AsProperty;\nAsProperty.prototype.type = 'AsProperty';\nAsProperty.prototype.serialize = function() {\n  var segments = this.segments.concat(this.lastSegment);\n  return serializeObject.instance(this, segments);\n};\nAsProperty.prototype.emit = function(context, target) {\n  var node = traverseAndCreate(context.controller, this.segments);\n  node[this.lastSegment] = target;\n};\n\nfunction AsObject(segments, keyExpression) {\n  AsProperty.call(this, segments);\n  this.keyExpression = keyExpression;\n}\nAsObject.prototype = Object.create(AsProperty.prototype);\nAsObject.prototype.constructor = AsObject;\nAsObject.prototype.type = 'AsObject';\nAsObject.prototype.serialize = function() {\n  var segments = this.segments.concat(this.lastSegment);\n  return serializeObject.instance(this, segments, this.keyExpression);\n};\nAsObject.prototype.emit = function(context, target) {\n  var node = traverseAndCreate(context.controller, this.segments);\n  var object = node[this.lastSegment] || (node[this.lastSegment] = {});\n  var key = this.keyExpression.get(context);\n  object[key] = target;\n  this.addListeners(target, object, key);\n};\nAsObject.prototype.addListeners = function(target, object, key) {\n  this.addDestroyListener(target, function asObjectDestroy() {\n    delete object[key];\n  });\n};\nAsObject.prototype.addDestroyListener = function(target, listener) {\n  var listeners = target.$destroyListeners || (target.$destroyListeners = []);\n  listeners.push(listener);\n};\n\nfunction AsObjectComponent(segments, keyExpression) {\n  AsObject.call(this, segments, keyExpression);\n}\nAsObjectComponent.prototype = Object.create(AsObject.prototype);\nAsObjectComponent.prototype.constructor = AsObjectComponent;\nAsObjectComponent.prototype.type = 'AsObjectComponent';\nAsObjectComponent.prototype.addDestroyListener = function(target, listener) {\n  target.on('destroy', listener);\n};\n\nfunction AsArray(segments) {\n  AsProperty.call(this, segments);\n}\nAsArray.prototype = Object.create(AsProperty.prototype);\nAsArray.prototype.constructor = AsArray;\nAsArray.prototype.type = 'AsArray';\nAsArray.prototype.emit = function(context, target) {\n  var node = traverseAndCreate(context.controller, this.segments);\n  var array = node[this.lastSegment] || (node[this.lastSegment] = []);\n\n  // Iterate backwards, since rendering will usually append\n  for (var i = array.length; i--;) {\n    var item = array[i];\n    // Don't add an item if already in the array\n    if (item === target) return;\n    var mask = this.comparePosition(target, item);\n    // If the emitted target is after the current item in the document,\n    // insert it next in the array\n    // Node.DOCUMENT_POSITION_FOLLOWING = 4\n    if (mask & 4) {\n      array.splice(i + 1, 0, target);\n      this.addListeners(target, array);\n      return;\n    }\n  }\n  // Add to the beginning if before all items\n  array.unshift(target);\n  this.addListeners(target, array);\n};\nAsArray.prototype.addListeners = function(target, array) {\n  this.addDestroyListener(target, function asArrayDestroy() {\n    var index = array.indexOf(target);\n    if (index !== -1) array.splice(index, 1);\n  });\n};\nAsArray.prototype.comparePosition = function(target, item) {\n  return item.compareDocumentPosition(target);\n};\nAsArray.prototype.addDestroyListener = AsObject.prototype.addDestroyListener;\n\nfunction AsArrayComponent(segments) {\n  AsArray.call(this, segments);\n}\nAsArrayComponent.prototype = Object.create(AsArray.prototype);\nAsArrayComponent.prototype.constructor = AsArrayComponent;\nAsArrayComponent.prototype.type = 'AsArrayComponent';\nAsArrayComponent.prototype.comparePosition = function(target, item) {\n  return item.markerNode.compareDocumentPosition(target.markerNode);\n};\nAsArrayComponent.prototype.addDestroyListener = AsObjectComponent.prototype.addDestroyListener;\n",
    "var templates = require('./templates');\n\nexports.DependencyOptions = DependencyOptions;\n\nfunction DependencyOptions(options) {\n  this.setIgnoreTemplate(options && options.ignoreTemplate);\n}\nDependencyOptions.shouldIgnoreTemplate = function(template, options) {\n  return (options) ? options.ignoreTemplate === template : false;\n};\nDependencyOptions.prototype.setIgnoreTemplate = function(template) {\n  while (template instanceof templates.ContextClosure) {\n    template = template.template;\n  }\n  this.ignoreTemplate = template;\n};\n",
    "exports.instance = serializeInstance;\nexports.args = serializeArgs;\nexports.value = serializeValue;\n\nfunction serializeInstance(instance) {\n  var args = Array.prototype.slice.call(arguments, 1);\n  return 'new ' + instance.module + '.' + instance.type +\n    '(' + serializeArgs(args) + ')';\n}\n\nfunction serializeArgs(args) {\n  // Map each argument into its string representation\n  var items = [];\n  for (var i = args.length; i--;) {\n    var item = serializeValue(args[i]);\n    items.unshift(item);\n  }\n  // Remove trailing null values, assuming they are optional\n  for (var i = items.length; i--;) {\n    var item = items[i];\n    if (item !== 'void 0' && item !== 'null') break;\n    items.pop();\n  }\n  return items.join(', ');\n}\n\nfunction serializeValue(input) {\n  if (input && input.serialize) {\n    return input.serialize();\n\n  } else if (typeof input === 'undefined') {\n    return 'void 0';\n\n  } else if (input === null) {\n    return 'null';\n\n  } else if (typeof input === 'string') {\n    return formatString(input);\n\n  } else if (typeof input === 'number' || typeof input === 'boolean') {\n    return input + '';\n\n  } else if (Array.isArray(input)) {\n    var items = [];\n    for (var i = 0; i < input.length; i++) {\n      var value = serializeValue(input[i]);\n      items.push(value);\n    }\n    return '[' + items.join(', ') + ']';\n\n  } else if (typeof input === 'object') {\n    var items = [];\n    for (var key in input) {\n      var value = serializeValue(input[key]);\n      items.push(formatString(key) + ': ' + value);\n    }\n    return '{' + items.join(', ') + '}';\n  }\n}\nfunction formatString(value) {\n  var escaped = value.replace(/['\\r\\n\\\\]/g, function(match) {\n    return (match === '\\'') ? '\\\\\\'' :\n      (match === '\\r') ? '\\\\r' :\n      (match === '\\n') ? '\\\\n' :\n      (match === '\\\\') ? '\\\\\\\\' :\n      '';\n  });\n  return '\\'' + escaped + '\\'';\n}\n",
    "// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar objectCreate = Object.create || objectCreatePolyfill\nvar objectKeys = Object.keys || objectKeysPolyfill\nvar bind = Function.prototype.bind || functionBindPolyfill\n\nfunction EventEmitter() {\n  if (!this._events || !Object.prototype.hasOwnProperty.call(this, '_events')) {\n    this._events = objectCreate(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nvar hasDefineProperty;\ntry {\n  var o = {};\n  if (Object.defineProperty) Object.defineProperty(o, 'x', { value: 0 });\n  hasDefineProperty = o.x === 0;\n} catch (err) { hasDefineProperty = false }\nif (hasDefineProperty) {\n  Object.defineProperty(EventEmitter, 'defaultMaxListeners', {\n    enumerable: true,\n    get: function() {\n      return defaultMaxListeners;\n    },\n    set: function(arg) {\n      // check whether the input is a positive number (whose value is zero or\n      // greater and not a NaN).\n      if (typeof arg !== 'number' || arg < 0 || arg !== arg)\n        throw new TypeError('\"defaultMaxListeners\" must be a positive number');\n      defaultMaxListeners = arg;\n    }\n  });\n} else {\n  EventEmitter.defaultMaxListeners = defaultMaxListeners;\n}\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || isNaN(n))\n    throw new TypeError('\"n\" argument must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nfunction $getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return $getMaxListeners(this);\n};\n\n// These standalone emit* functions are used to optimize calling of event\n// handlers for fast cases because emit() itself often has a variable number of\n// arguments and can be deoptimized because of that. These functions always have\n// the same number of arguments and thus do not get deoptimized, so the code\n// inside them can execute faster.\nfunction emitNone(handler, isFn, self) {\n  if (isFn)\n    handler.call(self);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self);\n  }\n}\nfunction emitOne(handler, isFn, self, arg1) {\n  if (isFn)\n    handler.call(self, arg1);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1);\n  }\n}\nfunction emitTwo(handler, isFn, self, arg1, arg2) {\n  if (isFn)\n    handler.call(self, arg1, arg2);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1, arg2);\n  }\n}\nfunction emitThree(handler, isFn, self, arg1, arg2, arg3) {\n  if (isFn)\n    handler.call(self, arg1, arg2, arg3);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1, arg2, arg3);\n  }\n}\n\nfunction emitMany(handler, isFn, self, args) {\n  if (isFn)\n    handler.apply(self, args);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].apply(self, args);\n  }\n}\n\nEventEmitter.prototype.emit = function emit(type) {\n  var er, handler, len, args, i, events;\n  var doError = (type === 'error');\n\n  events = this._events;\n  if (events)\n    doError = (doError && events.error == null);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    if (arguments.length > 1)\n      er = arguments[1];\n    if (er instanceof Error) {\n      throw er; // Unhandled 'error' event\n    } else {\n      // At least give some kind of context to the user\n      var err = new Error('Unhandled \"error\" event. (' + er + ')');\n      err.context = er;\n      throw err;\n    }\n    return false;\n  }\n\n  handler = events[type];\n\n  if (!handler)\n    return false;\n\n  var isFn = typeof handler === 'function';\n  len = arguments.length;\n  switch (len) {\n      // fast cases\n    case 1:\n      emitNone(handler, isFn, this);\n      break;\n    case 2:\n      emitOne(handler, isFn, this, arguments[1]);\n      break;\n    case 3:\n      emitTwo(handler, isFn, this, arguments[1], arguments[2]);\n      break;\n    case 4:\n      emitThree(handler, isFn, this, arguments[1], arguments[2], arguments[3]);\n      break;\n      // slower\n    default:\n      args = new Array(len - 1);\n      for (i = 1; i < len; i++)\n        args[i - 1] = arguments[i];\n      emitMany(handler, isFn, this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  if (typeof listener !== 'function')\n    throw new TypeError('\"listener\" argument must be a function');\n\n  events = target._events;\n  if (!events) {\n    events = target._events = objectCreate(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener) {\n      target.emit('newListener', type,\n          listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (!existing) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n          prepend ? [listener, existing] : [existing, listener];\n    } else {\n      // If we've already got an array, just append.\n      if (prepend) {\n        existing.unshift(listener);\n      } else {\n        existing.push(listener);\n      }\n    }\n\n    // Check for listener leak\n    if (!existing.warned) {\n      m = $getMaxListeners(target);\n      if (m && m > 0 && existing.length > m) {\n        existing.warned = true;\n        var w = new Error('Possible EventEmitter memory leak detected. ' +\n            existing.length + ' \"' + String(type) + '\" listeners ' +\n            'added. Use emitter.setMaxListeners() to ' +\n            'increase limit.');\n        w.name = 'MaxListenersExceededWarning';\n        w.emitter = target;\n        w.type = type;\n        w.count = existing.length;\n        if (typeof console === 'object' && console.warn) {\n          console.warn('%s: %s', w.name, w.message);\n        }\n      }\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    switch (arguments.length) {\n      case 0:\n        return this.listener.call(this.target);\n      case 1:\n        return this.listener.call(this.target, arguments[0]);\n      case 2:\n        return this.listener.call(this.target, arguments[0], arguments[1]);\n      case 3:\n        return this.listener.call(this.target, arguments[0], arguments[1],\n            arguments[2]);\n      default:\n        var args = new Array(arguments.length);\n        for (var i = 0; i < args.length; ++i)\n          args[i] = arguments[i];\n        this.listener.apply(this.target, args);\n    }\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = bind.call(onceWrapper, state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  if (typeof listener !== 'function')\n    throw new TypeError('\"listener\" argument must be a function');\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      if (typeof listener !== 'function')\n        throw new TypeError('\"listener\" argument must be a function');\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      if (typeof listener !== 'function')\n        throw new TypeError('\"listener\" argument must be a function');\n\n      events = this._events;\n      if (!events)\n        return this;\n\n      list = events[type];\n      if (!list)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = objectCreate(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else\n          spliceOne(list, position);\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (!events)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (!events.removeListener) {\n        if (arguments.length === 0) {\n          this._events = objectCreate(null);\n          this._eventsCount = 0;\n        } else if (events[type]) {\n          if (--this._eventsCount === 0)\n            this._events = objectCreate(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = objectKeys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = objectCreate(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (!events)\n    return [];\n\n  var evlistener = events[type];\n  if (!evlistener)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ? unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? Reflect.ownKeys(this._events) : [];\n};\n\n// About 1.5x faster than the two-arg version of Array#splice().\nfunction spliceOne(list, index) {\n  for (var i = index, k = i + 1, n = list.length; k < n; i += 1, k += 1)\n    list[i] = list[k];\n  list.pop();\n}\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction objectCreatePolyfill(proto) {\n  var F = function() {};\n  F.prototype = proto;\n  return new F;\n}\nfunction objectKeysPolyfill(obj) {\n  var keys = [];\n  for (var k in obj) if (Object.prototype.hasOwnProperty.call(obj, k)) {\n    keys.push(k);\n  }\n  return k;\n}\nfunction functionBindPolyfill(context) {\n  var fn = this;\n  return function () {\n    return fn.apply(context, arguments);\n  };\n}\n",
    "\nvar rng;\n\nvar crypto = global.crypto || global.msCrypto; // for IE 11\nif (crypto && crypto.getRandomValues) {\n  // WHATWG crypto-based RNG - http://wiki.whatwg.org/wiki/Crypto\n  // Moderately fast, high quality\n  var _rnds8 = new Uint8Array(16);\n  rng = function whatwgRNG() {\n    crypto.getRandomValues(_rnds8);\n    return _rnds8;\n  };\n}\n\nif (!rng) {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var  _rnds = new Array(16);\n  rng = function() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      _rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return _rnds;\n  };\n}\n\nmodule.exports = rng;\n\n",
    "//     uuid.js\n//\n//     Copyright (c) 2010-2012 Robert Kieffer\n//     MIT License - http://opensource.org/licenses/mit-license.php\n\n// Unique ID creation requires a high quality random # generator.  We feature\n// detect to determine the best RNG source, normalizing to a function that\n// returns 128-bits of randomness, since that's what's usually required\nvar _rng = require('./rng');\n\n// Maps for number <-> hex string conversion\nvar _byteToHex = [];\nvar _hexToByte = {};\nfor (var i = 0; i < 256; i++) {\n  _byteToHex[i] = (i + 0x100).toString(16).substr(1);\n  _hexToByte[_byteToHex[i]] = i;\n}\n\n// **`parse()` - Parse a UUID into it's component bytes**\nfunction parse(s, buf, offset) {\n  var i = (buf && offset) || 0, ii = 0;\n\n  buf = buf || [];\n  s.toLowerCase().replace(/[0-9a-f]{2}/g, function(oct) {\n    if (ii < 16) { // Don't overflow!\n      buf[i + ii++] = _hexToByte[oct];\n    }\n  });\n\n  // Zero out remaining bytes if string was short\n  while (ii < 16) {\n    buf[i + ii++] = 0;\n  }\n\n  return buf;\n}\n\n// **`unparse()` - Convert UUID byte array (ala parse()) into a string**\nfunction unparse(buf, offset) {\n  var i = offset || 0, bth = _byteToHex;\n  return  bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]];\n}\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\n// random #'s we need to init node and clockseq\nvar _seedBytes = _rng();\n\n// Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\nvar _nodeId = [\n  _seedBytes[0] | 0x01,\n  _seedBytes[1], _seedBytes[2], _seedBytes[3], _seedBytes[4], _seedBytes[5]\n];\n\n// Per 4.2.2, randomize (14 bit) clockseq\nvar _clockseq = (_seedBytes[6] << 8 | _seedBytes[7]) & 0x3fff;\n\n// Previous uuid creation time\nvar _lastMSecs = 0, _lastNSecs = 0;\n\n// See https://github.com/broofa/node-uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  var node = options.node || _nodeId;\n  for (var n = 0; n < 6; n++) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : unparse(b);\n}\n\n// **`v4()` - Generate random UUID**\n\n// See https://github.com/broofa/node-uuid for API details\nfunction v4(options, buf, offset) {\n  // Deprecated - 'format' argument, as supported in v1.2\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options == 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || _rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ii++) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || unparse(rnds);\n}\n\n// Export public API\nvar uuid = v4;\nuuid.v1 = v1;\nuuid.v4 = v4;\nuuid.parse = parse;\nuuid.unparse = unparse;\n\nmodule.exports = uuid;\n",
    "var uuid = require('uuid');\n\nModel.INITS = [];\n\nmodule.exports = Model;\n\nfunction Model(options) {\n  this.root = this;\n\n  var inits = Model.INITS;\n  if (!options) options = {};\n  this.debug = options.debug || {};\n  for (var i = 0; i < inits.length; i++) {\n    inits[i](this, options);\n  }\n}\n\nModel.prototype.id = function() {\n  return uuid.v4();\n};\n\nModel.prototype._child = function() {\n  return new ChildModel(this);\n};\n\nModel.ChildModel = ChildModel;\n\nfunction ChildModel(model) {\n  // Shared properties should be accessed via the root. This makes inheritance\n  // cheap and easily extensible\n  this.root = model.root;\n\n  // EventEmitter methods access these properties directly, so they must be\n  // inherited manually instead of via the root\n  this._events = model._events;\n  this._maxListeners = model._maxListeners;\n\n  // Properties specific to a child instance\n  this._context = model._context;\n  this._at = model._at;\n  this._pass = model._pass;\n  this._silent = model._silent;\n  this._eventContext = model._eventContext;\n  this._preventCompose = model._preventCompose;\n}\nChildModel.prototype = new Model();\n",
    "'use strict';\n\nvar isArray = Array.isArray;\nvar keyList = Object.keys;\nvar hasProp = Object.prototype.hasOwnProperty;\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    var arrA = isArray(a)\n      , arrB = isArray(b)\n      , i\n      , length\n      , key;\n\n    if (arrA && arrB) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n    if (arrA != arrB) return false;\n\n    var dateA = a instanceof Date\n      , dateB = b instanceof Date;\n    if (dateA != dateB) return false;\n    if (dateA && dateB) return a.getTime() == b.getTime();\n\n    var regexpA = a instanceof RegExp\n      , regexpB = b instanceof RegExp;\n    if (regexpA != regexpB) return false;\n    if (regexpA && regexpB) return a.toString() == b.toString();\n\n    var keys = keyList(a);\n    length = keys.length;\n\n    if (length !== keyList(b).length)\n      return false;\n\n    for (i = length; i-- !== 0;)\n      if (!hasProp.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      key = keys[i];\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  return a!==a && b!==b;\n};\n",
    "// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n",
    "var deepEqual = require('fast-deep-equal');\n\nvar isServer = process.title !== 'browser';\nexports.isServer = isServer;\n\nexports.asyncGroup = asyncGroup;\nexports.castSegments = castSegments;\nexports.contains = contains;\nexports.copy = copy;\nexports.copyObject = copyObject;\nexports.deepCopy = deepCopy;\nexports.deepEqual = deepEqual;\nexports.equal = equal;\nexports.equalsNaN = equalsNaN;\nexports.isArrayIndex = isArrayIndex;\nexports.lookup = lookup;\nexports.mergeInto = mergeInto;\nexports.mayImpact = mayImpact;\nexports.mayImpactAny = mayImpactAny;\nexports.serverRequire = serverRequire;\nexports.serverUse = serverUse;\nexports.use = use;\n\nfunction asyncGroup(cb) {\n  var group = new AsyncGroup(cb);\n  return function asyncGroupAdd() {\n    return group.add();\n  };\n}\n\n/**\n * @constructor\n * @param {Function} cb(err)\n */\nfunction AsyncGroup(cb) {\n  this.cb = cb;\n  this.isDone = false;\n  this.count = 0;\n}\nAsyncGroup.prototype.add = function() {\n  this.count++;\n  var self = this;\n  return function(err) {\n    self.count--;\n    if (self.isDone) return;\n    if (err) {\n      self.isDone = true;\n      self.cb(err);\n      return;\n    }\n    if (self.count > 0) return;\n    self.isDone = true;\n    self.cb();\n  };\n};\n\n/**\n * @param {Array<string | number>} segments\n * @return {Array<string | number>}\n */\nfunction castSegments(segments) {\n  // Cast number path segments from strings to numbers\n  for (var i = segments.length; i--;) {\n    var segment = segments[i];\n    if (typeof segment === 'string' && isArrayIndex(segment)) {\n      segments[i] = +segment;\n    }\n  }\n  return segments;\n}\n\nfunction contains(segments, testSegments) {\n  for (var i = 0; i < segments.length; i++) {\n    if (segments[i] !== testSegments[i]) return false;\n  }\n  return true;\n}\n\nfunction copy(value) {\n  if (value instanceof Date) return new Date(value);\n  if (typeof value === 'object') {\n    if (value === null) return null;\n    if (Array.isArray(value)) return value.slice();\n    return copyObject(value);\n  }\n  return value;\n}\n\nfunction copyObject(object) {\n  var out = new object.constructor();\n  for (var key in object) {\n    if (object.hasOwnProperty(key)) {\n      out[key] = object[key];\n    }\n  }\n  return out;\n}\n\nfunction deepCopy(value) {\n  if (value instanceof Date) return new Date(value);\n  if (typeof value === 'object') {\n    if (value === null) return null;\n    if (Array.isArray(value)) {\n      var array = [];\n      for (var i = value.length; i--;) {\n        array[i] = deepCopy(value[i]);\n      }\n      return array;\n    }\n    var object = new value.constructor();\n    for (var key in value) {\n      if (value.hasOwnProperty(key)) {\n        object[key] = deepCopy(value[key]);\n      }\n    }\n    return object;\n  }\n  return value;\n}\n\nfunction equal(a, b) {\n  return (a === b) || (equalsNaN(a) && equalsNaN(b));\n}\n\nfunction equalsNaN(x) {\n  // eslint-disable-next-line no-self-compare\n  return x !== x;\n}\n\nfunction isArrayIndex(segment) {\n  return (/^[0-9]+$/).test(segment);\n}\n\nfunction lookup(segments, value) {\n  if (!segments) return value;\n\n  for (var i = 0, len = segments.length; i < len; i++) {\n    if (value == null) return value;\n    value = value[segments[i]];\n  }\n  return value;\n}\n\nfunction mayImpactAny(segmentsList, testSegments) {\n  for (var i = 0, len = segmentsList.length; i < len; i++) {\n    if (mayImpact(segmentsList[i], testSegments)) return true;\n  }\n  return false;\n}\n\nfunction mayImpact(segments, testSegments) {\n  var len = Math.min(segments.length, testSegments.length);\n  for (var i = 0; i < len; i++) {\n    if (segments[i] !== testSegments[i]) return false;\n  }\n  return true;\n}\n\nfunction mergeInto(to, from) {\n  for (var key in from) {\n    to[key] = from[key];\n  }\n  return to;\n}\n\nfunction serverRequire(module, id) {\n  if (!isServer) return;\n  return module.require(id);\n}\n\nfunction serverUse(module, id, options) {\n  if (!isServer) return this;\n  var plugin = module.require(id);\n  return this.use(plugin, options);\n}\n\nfunction use(plugin, options) {\n  // Don't include a plugin more than once\n  var plugins = this._plugins || (this._plugins = []);\n  if (plugins.indexOf(plugin) === -1) {\n    plugins.push(plugin);\n    plugin(this, options);\n  }\n  return this;\n}\n",
    "var Model = require('./Model');\n\nModel.prototype.unbundle = function(data) {\n  if (this.connection) this.connection.startBulk();\n\n  // Re-create and subscribe queries; re-create documents associated with queries\n  this._initQueries(data.queries);\n\n  // Re-create other documents\n  for (var collectionName in data.collections) {\n    var collection = data.collections[collectionName];\n    for (var id in collection) {\n      this.getOrCreateDoc(collectionName, id, collection[id]);\n    }\n  }\n\n  for (var contextId in data.contexts) {\n    var contextData = data.contexts[contextId];\n    var contextModel = this.context(contextId);\n    // Re-init fetchedDocs counts\n    for (var collectionName in contextData.fetchedDocs) {\n      var collection = contextData.fetchedDocs[collectionName];\n      for (var id in collection) {\n        var count = collection[id];\n        while (count--) {\n          contextModel._context.fetchDoc(collectionName, id);\n          this._fetchedDocs.increment(collectionName, id);\n        }\n      }\n    }\n    // Subscribe to document subscriptions\n    for (var collectionName in contextData.subscribedDocs) {\n      var collection = contextData.subscribedDocs[collectionName];\n      for (var id in collection) {\n        var count = collection[id];\n        while (count--) {\n          contextModel.subscribeDoc(collectionName, id);\n        }\n      }\n    }\n    // Re-init createdDocs counts\n    for (var collectionName in contextData.createdDocs) {\n      var collection = contextData.createdDocs[collectionName];\n      for (var id in collection) {\n        // Count value doesn't matter for tracking creates\n        contextModel._context.createDoc(collectionName, id);\n      }\n    }\n  }\n\n  if (this.connection) this.connection.endBulk();\n\n  // Re-create refs\n  for (var i = 0; i < data.refs.length; i++) {\n    var item = data.refs[i];\n    this.ref(item[0], item[1]);\n  }\n  // Re-create refLists\n  for (var i = 0; i < data.refLists.length; i++) {\n    var item = data.refLists[i];\n    this.refList(item[0], item[1], item[2], item[3]);\n  }\n  // Re-create fns\n  for (var i = 0; i < data.fns.length; i++) {\n    var item = data.fns[i];\n    this.start.apply(this, item);\n  }\n  // Re-create filters\n  for (var i = 0; i < data.filters.length; i++) {\n    var item = data.filters[i];\n    var filter = this._filters.add(item[1], item[2], item[3], item[4], item[5]);\n    filter.ref(item[0]);\n  }\n};\n",
    "// @ts-check\n\nvar EventEmitter = require('events').EventEmitter;\nvar util = require('../util');\n/** @type any */\nvar Model = require('./Model');\n\n// These events are re-emitted as 'all' events, and they are queued up and\n// emitted in sequence, so that events generated by other events are not\n// seen in a different order by later listeners\nModel.MUTATOR_EVENTS = {\n  change: true,\n  insert: true,\n  remove: true,\n  move: true,\n  load: true,\n  unload: true\n};\n\nModel.INITS.push(function(model) {\n  EventEmitter.call(this);\n\n  // Set max listeners to unlimited\n  model.setMaxListeners(0);\n\n  // Used in async methods to emit an error event if a callback is not supplied.\n  // This will throw if there is no handler for model.on('error')\n  model.root._defaultCallback = defaultCallback;\n  function defaultCallback(err) {\n    if (err) model._emitError(err);\n  }\n\n  model.root._mutatorEventQueue = null;\n  model.root._pass = new Passed({}, {});\n  model.root._silent = null;\n  model.root._eventContext = null;\n});\n\nutil.mergeInto(Model.prototype, EventEmitter.prototype);\n\nModel.prototype.wrapCallback = function(cb) {\n  if (!cb) return this.root._defaultCallback;\n  var model = this;\n  return function wrappedCallback() {\n    try {\n      return cb.apply(this, arguments);\n    } catch (err) {\n      model._emitError(err);\n    }\n  };\n};\n\nModel.prototype._emitError = function(err, context) {\n  var message = (err.message) ? err.message :\n    (typeof err === 'string') ? err :\n      'Unknown model error';\n  if (context) {\n    message += ' ' + context;\n  }\n  if (err.data) {\n    try {\n      message += ' ' + JSON.stringify(err.data);\n    } catch (stringifyErr) {}\n  }\n  if (err instanceof Error) {\n    err.message = message;\n  } else {\n    err = new Error(message);\n  }\n  this.emit('error', err);\n};\n\n// EventEmitter.prototype.on, EventEmitter.prototype.addListener, and\n// EventEmitter.prototype.once return `this`. The Model equivalents return\n// the listener instead, since it is made internally for method subscriptions\n// and may need to be passed to removeListener.\n\nModel.prototype._emit = EventEmitter.prototype.emit;\nModel.prototype.emit = function(type) {\n  if (type === 'error') {\n    return this._emit.apply(this, arguments);\n  }\n  if (Model.MUTATOR_EVENTS[type]) {\n    if (this._silent) return this;\n    // `segments` is almost definitely an array of strings.\n    //\n    // A search for `.emit(` shows that `segments` is generated from either\n    // `Model#_splitPath` or `Model#_dereference`, both of which return an array\n    // of strings.\n    var segments = arguments[1];\n    var eventArgs = arguments[2];\n    this._emit(type + 'Immediate', segments, eventArgs);\n    if (this.root._mutatorEventQueue) {\n      this.root._mutatorEventQueue.push([type, segments, eventArgs]);\n      return this;\n    }\n    this.root._mutatorEventQueue = [];\n    this._emit(type, segments, eventArgs);\n    this._emit('all', segments, [type].concat(eventArgs));\n    while (this.root._mutatorEventQueue.length) {\n      var queued = this.root._mutatorEventQueue.shift();\n      type = queued[0];\n      segments = queued[1];\n      eventArgs = queued[2];\n      this._emit(type, segments, eventArgs);\n      this._emit('all', segments, [type].concat(eventArgs));\n    }\n    this.root._mutatorEventQueue = null;\n    return this;\n  }\n  return this._emit.apply(this, arguments);\n};\n\nModel.prototype._on = EventEmitter.prototype.on;\nModel.prototype.addListener =\nModel.prototype.on = function(type, pattern, options, cb) {\n  var listener = eventListener(this, type, pattern, options, cb);\n  this._on(type, listener);\n  return listener;\n};\n\nModel.prototype.once = function(type, pattern, options, cb) {\n  var listener = eventListener(this, type, pattern, options, cb);\n  function g() {\n    var matches = listener.apply(null, arguments);\n    if (matches) this.removeListener(type, g);\n  }\n  this._on(type, g);\n  return g;\n};\n\n/**\n * @typedef {Object} ModelOnOptions\n * @property {boolean} [useEventObjects] - If true, the listener is called with\n *   `cb(event: ___Event, captures: string[])`, instead of the legacy var-args\n *   style `cb(captures..., [eventType], eventArgs..., passed)`.\n */\n\nModel.prototype._removeAllListeners = EventEmitter.prototype.removeAllListeners;\nModel.prototype.removeAllListeners = function(type, subpattern) {\n  // If a pattern is specified without an event type, remove all model event\n  // listeners under that pattern for all events\n  if (!type) {\n    for (var key in this._events) {\n      this.removeAllListeners(key, subpattern);\n    }\n    return this;\n  }\n\n  var pattern = this.path(subpattern);\n  // If no pattern is specified, remove all listeners like normal\n  if (!pattern) {\n    if (arguments.length === 0) {\n      return this._removeAllListeners();\n    }\n    return this._removeAllListeners(type);\n  }\n\n  // Remove all listeners for an event under a pattern\n  var listeners = this.listeners(type);\n  var segments = pattern.split('.');\n  // Make sure to iterate in reverse, since the array might be\n  // mutated as listeners are removed\n  for (var i = listeners.length; i--;) {\n    var listener = listeners[i];\n    if (patternContained(pattern, segments, listener)) {\n      this.removeListener(type, listener);\n    }\n  }\n  return this;\n};\n\nfunction patternContained(pattern, segments, listener) {\n  var listenerSegments = listener.patternSegments;\n  if (!listenerSegments) return false;\n  if (pattern === listener.pattern || pattern === '**') return true;\n  var len = segments.length;\n  if (len > listenerSegments.length) return false;\n  for (var i = 0; i < len; i++) {\n    if (segments[i] !== listenerSegments[i]) return false;\n  }\n  return true;\n}\n\nModel.prototype.pass = function(object, invert) {\n  var model = this._child();\n  model._pass = (invert) ?\n    new Passed(object, this._pass) :\n    new Passed(this._pass, object);\n  return model;\n};\n\nfunction Passed(previous, value) {\n  for (var key in previous) {\n    this[key] = previous[key];\n  }\n  for (var key in value) {\n    this[key] = value[key];\n  }\n}\n\n/**\n * The returned Model will or won't trigger event handlers when the model emits\n * events, depending on `value`\n * @param {Boolean|Null} value defaults to true\n * @return {Model}\n */\nModel.prototype.silent = function(value) {\n  var model = this._child();\n  model._silent = (value == null) ? true : value;\n  return model;\n};\n\nModel.prototype.eventContext = function(value) {\n  var model = this._child();\n  model._eventContext = value;\n  return model;\n};\n\nModel.prototype.removeContextListeners = function(value) {\n  if (arguments.length === 0) {\n    value = this._eventContext;\n  }\n  // Remove all events created within a given context\n  for (var type in this._events) {\n    var listeners = this.listeners(type);\n    // Make sure to iterate in reverse, since the array might be\n    // mutated as listeners are removed\n    for (var i = listeners.length; i--;) {\n      var listener = listeners[i];\n      if (listener.eventContext === value) {\n        this.removeListener(type, listener);\n      }\n    }\n  }\n  return this;\n};\n\n/**\n * @param {Model} model\n * @param {string} eventType\n */\nfunction eventListener(model, eventType, arg2, arg3, arg4) {\n  var subpattern, options, cb;\n  if (arg4) {\n    // on(eventType, path, options, cb)\n    subpattern = arg2;\n    options = arg3;\n    cb = arg4;\n  } else if (arg3) {\n    // on(eventType, path, cb)\n    // on(eventType, options, cb)\n    cb = arg3;\n    if (model.isPath(arg2)) {\n      subpattern = arg2;\n    } else {\n      options = arg2;\n    }\n  } else { // if (arg2)\n    // on(eventType, cb)\n    cb = arg2;\n  }\n  if (options) {\n    if (options.useEventObjects) {\n      var useEventObjects = true;\n    }\n  }\n\n  if (subpattern) {\n    // For signatures with pattern:\n    // model.on('change', 'example.subpath.**', callback)\n    // model.at('example').on('change', 'subpath', callback)\n    var pattern = model.path(subpattern);\n    return (useEventObjects) ?\n      modelEventListener(eventType, pattern, cb, model._eventContext) :\n      modelEventListenerLegacy(pattern, cb, model._eventContext);\n  }\n  // For signature without explicit pattern:\n  // model.at('example').on('change', callback)\n  /** @type string */\n  var path = model.path();\n  if (path) {\n    return (useEventObjects) ?\n      modelEventListener(eventType, path, cb, model._eventContext) :\n      modelEventListenerLegacy(path, cb, model._eventContext);\n  }\n  // For signature:\n  // model.on('normalEvent', callback)\n  return cb;\n}\n\n/**\n * Legacy version of `modelEventListener` that calls `cb` with var-args\n * `(captures..., [eventType], args..., passed)` instead of new-style\n * `___Event` objects.\n *\n * @param {string} pattern\n * @param {Function} cb\n * @param {*} eventContext\n * @return {ModelListenerFn & ModelListenerProps}\n */\nfunction modelEventListenerLegacy(pattern, cb, eventContext) {\n  var patternSegments = util.castSegments(pattern.split('.'));\n  var testFn = testPatternFn(pattern, patternSegments);\n\n  /** @type ModelListenerFn */\n  function modelListener(segments, eventArgs) {\n    var captures = testFn(segments);\n    if (!captures) return;\n\n    var args = (captures.length) ? captures.concat(eventArgs) : eventArgs;\n    cb.apply(null, args);\n    return true;\n  }\n\n  // Used in Model#removeAllListeners\n  modelListener.pattern = pattern;\n  modelListener.patternSegments = patternSegments;\n  modelListener.eventContext = eventContext;\n\n  return modelListener;\n}\n\n/**\n * Returns a function that can be passed to `EventEmitter#on`, with some\n * additional properties used for `Model#removeAllListeners`.\n *\n * When the function is called, it checks if the event matches `patternArg`, and\n * if there's a match, it calls `cb`.\n *\n * @param {string} eventType\n * @param {string} pattern\n * @param {Function} cb\n * @param {*} eventContext\n * @return {ModelListenerFn & ModelListenerProps}\n */\nfunction modelEventListener(eventType, pattern, cb, eventContext) {\n  var patternSegments = util.castSegments(pattern.split('.'));\n  var testFn = testPatternFn(pattern, patternSegments);\n\n  var eventFactory = getEventFactory(eventType);\n  /** @type ModelListenerFn */\n  function modelListener(segments, eventArgs) {\n    var captures = testFn(segments);\n    if (!captures) return;\n\n    var event = eventFactory(eventArgs);\n    cb(event, captures);\n    return true;\n  }\n\n  // Used in Model#removeAllListeners\n  modelListener.pattern = pattern;\n  modelListener.patternSegments = patternSegments;\n  modelListener.eventContext = eventContext;\n\n  return modelListener;\n}\n\n/** @typedef { (segments: string[], eventArgs: any[]) => (boolean | undefined) } ModelListenerFn */\n/** @typedef { {pattern: string, patternSegments: Array<string | number>, eventContext: any} } ModelListenerProps */\n\n/**\n * Returns a factory function that creates an `___Event` object based on an\n * old-style `eventArgs` array.\n *\n * @param {string} eventType\n * @return {(eventArgs: any[]) => ChangeEvent | InsertEvent | RemoveEvent | MoveEvent | LoadEvent | UnloadEvent}\n */\nfunction getEventFactory(eventType) {\n  switch (eventType) {\n    case 'change':\n      return function(eventArgs) {\n        return new ChangeEvent(eventArgs);\n      };\n    case 'insert':\n      return function(eventArgs) {\n        return new InsertEvent(eventArgs);\n      };\n    case 'remove':\n      return function(eventArgs) {\n        return new RemoveEvent(eventArgs);\n      };\n    case 'move':\n      return function(eventArgs) {\n        return new MoveEvent(eventArgs);\n      };\n    case 'load':\n      return function(eventArgs) {\n        return new LoadEvent(eventArgs);\n      };\n    case 'unload':\n      return function(eventArgs) {\n        return new UnloadEvent(eventArgs);\n      };\n    case 'all':\n      return function(eventArgs) {\n        var concreteEventType = eventArgs[0]; // 'change', 'insert', etc.\n        var concreteEventFactory = getEventFactory(concreteEventType);\n        return concreteEventFactory(eventArgs.slice(1));\n      };\n    default: throw new Error('Unknown event: ' + eventType);\n  }\n}\n\n// These constructors accept the `eventArgs` array format that Racer uses\n// internally when calling `Model#emit`.\n//\n// Eventually, Racer should switch to passing these events around directly,\n// but that will require updating all the places that parse the `eventArgs`\n// array format, to extract things like `passed`.\n\nfunction ChangeEvent(eventArgs) {\n  this.value = eventArgs[0];\n  this.previous = eventArgs[1];\n  this.passed = eventArgs[2];\n}\nChangeEvent.prototype.type = 'change';\n\nfunction InsertEvent(eventArgs) {\n  this.index = eventArgs[0];\n  this.values = eventArgs[1];\n  this.passed = eventArgs[2];\n}\nInsertEvent.prototype.type = 'insert';\n\nfunction RemoveEvent(eventArgs) {\n  this.index = eventArgs[0];\n  this.removed = eventArgs[1];\n  this.passed = eventArgs[2];\n}\nRemoveEvent.prototype.type = 'remove';\n\nfunction MoveEvent(eventArgs) {\n  this.from = eventArgs[0];\n  this.to = eventArgs[1];\n  this.howMany = eventArgs[2];\n  this.passed = eventArgs[3];\n}\nMoveEvent.prototype.type = 'move';\n\nfunction LoadEvent(eventArgs) {\n  this.document = eventArgs[0];\n  this.passed = eventArgs[1];\n}\nLoadEvent.prototype.type = 'load';\n\nfunction UnloadEvent(eventArgs) {\n  this.previousDocument = eventArgs[0];\n  this.passed = eventArgs[1];\n}\nUnloadEvent.prototype.type = 'unload';\n\n/**\n * Returns a function that tests an array of event segments against the\n * `patternSegments`. (`pattern` only matters if it's exactly `'**'`.)\n *\n * @param {string?} pattern\n * @param {Array<string | number>} patternSegments\n * @return {(segments: string[]) => (string[] | undefined)} A function to test\n *   an array of event segments. If the event segments match, an array of 0 or\n *   more segments captured by `'*'` / `'**'` is returned, one per wildcard. If\n *   the event segments don't match, `undefined` is returned.\n */\nfunction testPatternFn(pattern, patternSegments) {\n  if (pattern === '**') {\n    return function testPattern(segments) {\n      return [segments.join('.')];\n    };\n  }\n\n  var endingRest = stripRestWildcard(patternSegments);\n\n  return function testPattern(segments) {\n    // Any pattern with more segments does not match\n    var patternLen = patternSegments.length;\n    if (patternLen > segments.length) return;\n\n    // A pattern with the same number of segments matches if each\n    // of the segments are wildcards or equal. A shorter pattern matches\n    // if it ends in a rest wildcard and each of the corresponding\n    // segments are wildcards or equal.\n    if (patternLen === segments.length || endingRest) {\n      /** @type string[] */\n      var captures = [];\n      for (var i = 0; i < patternLen; i++) {\n        var patternSegment = patternSegments[i];\n        var segment = segments[i];\n        if (patternSegment === '*' || patternSegment === '**') {\n          captures.push(segment);\n          continue;\n        }\n        if (patternSegment !== segment) return;\n      }\n      if (endingRest) {\n        var remainder = segments.slice(i).join('.');\n        captures.push(remainder);\n      }\n      return captures;\n    }\n  };\n}\n\n/**\n * @param {Array<string | number>} segments\n */\nfunction stripRestWildcard(segments) {\n  // ['example', '**'] -> ['example']; return true\n  var lastIndex = segments.length - 1;\n  var lastSegment = segments[lastIndex];\n  if (lastSegment === '**') {\n    segments.pop();\n    return true;\n  }\n  // ['example', 'subpath**'] -> ['example', 'subpath']; return true\n  if (typeof lastSegment !== 'string') return false;\n  var match = /^([^\\*]+)\\*\\*$/.exec(lastSegment);\n  if (!match) return false;\n  segments[lastIndex] = match[1];\n  return true;\n}\n",
    "var Model = require('./Model');\n\nexports.mixin = {};\n\nModel.prototype._splitPath = function(subpath) {\n  var path = this.path(subpath);\n  return (path && path.split('.')) || [];\n};\n\n/**\n * Returns the path equivalent to the path of the current scoped model plus\n * (optionally) a suffix subpath\n *\n * @optional @param {String} subpath\n * @return {String} absolute path\n * @api public\n */\nModel.prototype.path = function(subpath) {\n  if (subpath == null || subpath === '') return (this._at) ? this._at : '';\n  if (typeof subpath === 'string' || typeof subpath === 'number') {\n    return (this._at) ? this._at + '.' + subpath : '' + subpath;\n  }\n  if (typeof subpath.path === 'function') return subpath.path();\n};\n\nModel.prototype.isPath = function(subpath) {\n  return this.path(subpath) != null;\n};\n\nModel.prototype.scope = function(path) {\n  if (arguments.length > 1) {\n    for (var i = 1; i < arguments.length; i++) {\n      path = path + '.' + arguments[i];\n    }\n  }\n  return createScoped(this, path);\n};\n\n/**\n * Create a model object scoped to a particular path.\n * Example:\n *     var user = model.at('users.1');\n *     user.set('username', 'brian');\n *     user.on('push', 'todos', function(todo) {\n *       // ...\n *     });\n *\n *  @param {String} segment\n *  @return {Model} a scoped model\n *  @api public\n */\nModel.prototype.at = function(subpath) {\n  if (arguments.length > 1) {\n    for (var i = 1; i < arguments.length; i++) {\n      subpath = subpath + '.' + arguments[i];\n    }\n  }\n  var path = this.path(subpath);\n  return createScoped(this, path);\n};\n\nfunction createScoped(model, path) {\n  var scoped = model._child();\n  scoped._at = path;\n  return scoped;\n}\n\n/**\n * Returns a model scope that is a number of levels above the current scoped\n * path. Number of levels defaults to 1, so this method called without\n * arguments returns the model scope's parent model scope.\n *\n * @optional @param {Number} levels\n * @return {Model} a scoped model\n */\nModel.prototype.parent = function(levels) {\n  if (levels == null) levels = 1;\n  var segments = this._splitPath();\n  var len = Math.max(0, segments.length - levels);\n  var path = segments.slice(0, len).join('.');\n  return this.scope(path);\n};\n\n/**\n * Returns the last property segment of the current model scope path\n *\n * @optional @param {String} path\n * @return {String}\n */\nModel.prototype.leaf = function(path) {\n  if (!path) path = this.path();\n  var i = path.lastIndexOf('.');\n  return path.slice(i + 1);\n};\n",
    "module.exports = Doc;\n\nfunction Doc(model, collectionName, id) {\n  this.collectionName = collectionName;\n  this.id = id;\n  this.collectionData = model && model.data[collectionName];\n}\n\nDoc.prototype.path = function(segments) {\n  var path = this.collectionName + '.' + this.id;\n  if (segments && segments.length) path += '.' + segments.join('.');\n  return path;\n};\n\nDoc.prototype._errorMessage = function(description, segments, value) {\n  return description + ' at ' + this.path(segments) + ': ' +\n    JSON.stringify(value, null, 2);\n};\n",
    "var Doc = require('./Doc');\nvar util = require('../util');\n\nmodule.exports = LocalDoc;\n\nfunction LocalDoc(model, collectionName, id, data) {\n  Doc.call(this, model, collectionName, id);\n  this.data = data;\n  this._updateCollectionData();\n}\n\nLocalDoc.prototype = new Doc();\n\nLocalDoc.prototype._updateCollectionData = function() {\n  this.collectionData[this.id] = this.data;\n};\n\nLocalDoc.prototype.create = function(value, cb) {\n  if (this.data !== undefined) {\n    var message = this._errorMessage('create on local document with data', null, this.data);\n    var err = new Error(message);\n    return cb(err);\n  }\n  this.data = value;\n  this._updateCollectionData();\n  cb();\n};\n\nLocalDoc.prototype.set = function(segments, value, cb) {\n  function set(node, key) {\n    var previous = node[key];\n    node[key] = value;\n    return previous;\n  }\n  return this._apply(segments, set, cb);\n};\n\nLocalDoc.prototype.del = function(segments, cb) {\n  // Don't do anything if the value is already undefined, since\n  // apply creates objects as it traverses, and the del method\n  // should not create anything\n  var previous = this.get(segments);\n  if (previous === undefined) {\n    cb();\n    return;\n  }\n  function del(node, key) {\n    delete node[key];\n    return previous;\n  }\n  return this._apply(segments, del, cb);\n};\n\nLocalDoc.prototype.increment = function(segments, byNumber, cb) {\n  var self = this;\n  function validate(value) {\n    if (typeof value === 'number' || value == null) return;\n    return new TypeError(self._errorMessage(\n      'increment on non-number', segments, value\n    ));\n  }\n  function increment(node, key) {\n    var value = (node[key] || 0) + byNumber;\n    node[key] = value;\n    return value;\n  }\n  return this._validatedApply(segments, validate, increment, cb);\n};\n\nLocalDoc.prototype.push = function(segments, value, cb) {\n  function push(arr) {\n    return arr.push(value);\n  }\n  return this._arrayApply(segments, push, cb);\n};\n\nLocalDoc.prototype.unshift = function(segments, value, cb) {\n  function unshift(arr) {\n    return arr.unshift(value);\n  }\n  return this._arrayApply(segments, unshift, cb);\n};\n\nLocalDoc.prototype.insert = function(segments, index, values, cb) {\n  function insert(arr) {\n    arr.splice.apply(arr, [index, 0].concat(values));\n    return arr.length;\n  }\n  return this._arrayApply(segments, insert, cb);\n};\n\nLocalDoc.prototype.pop = function(segments, cb) {\n  function pop(arr) {\n    return arr.pop();\n  }\n  return this._arrayApply(segments, pop, cb);\n};\n\nLocalDoc.prototype.shift = function(segments, cb) {\n  function shift(arr) {\n    return arr.shift();\n  }\n  return this._arrayApply(segments, shift, cb);\n};\n\nLocalDoc.prototype.remove = function(segments, index, howMany, cb) {\n  function remove(arr) {\n    return arr.splice(index, howMany);\n  }\n  return this._arrayApply(segments, remove, cb);\n};\n\nLocalDoc.prototype.move = function(segments, from, to, howMany, cb) {\n  function move(arr) {\n    // Remove from old location\n    var values = arr.splice(from, howMany);\n    // Insert in new location\n    arr.splice.apply(arr, [to, 0].concat(values));\n    return values;\n  }\n  return this._arrayApply(segments, move, cb);\n};\n\nLocalDoc.prototype.stringInsert = function(segments, index, value, cb) {\n  var self = this;\n  function validate(value) {\n    if (typeof value === 'string' || value == null) return;\n    return new TypeError(self._errorMessage(\n      'stringInsert on non-string', segments, value\n    ));\n  }\n  function stringInsert(node, key) {\n    var previous = node[key];\n    if (previous == null) {\n      node[key] = value;\n      return previous;\n    }\n    node[key] = previous.slice(0, index) + value + previous.slice(index);\n    return previous;\n  }\n  return this._validatedApply(segments, validate, stringInsert, cb);\n};\n\nLocalDoc.prototype.stringRemove = function(segments, index, howMany, cb) {\n  var self = this;\n  function validate(value) {\n    if (typeof value === 'string' || value == null) return;\n    return new TypeError(self._errorMessage(\n      'stringRemove on non-string', segments, value\n    ));\n  }\n  function stringRemove(node, key) {\n    var previous = node[key];\n    if (previous == null) return previous;\n    if (index < 0) index += previous.length;\n    node[key] = previous.slice(0, index) + previous.slice(index + howMany);\n    return previous;\n  }\n  return this._validatedApply(segments, validate, stringRemove, cb);\n};\n\nLocalDoc.prototype.get = function(segments) {\n  return util.lookup(segments, this.data);\n};\n\n/**\n * @param {Array} segments is the array representing a path\n * @param {Function} fn(node, key) applies a mutation on node[key]\n * @return {Object} returns the return value of fn(node, key)\n */\nLocalDoc.prototype._createImplied = function(segments, fn) {\n  var node = this;\n  var key = 'data';\n  var i = 0;\n  var nextKey = segments[i++];\n  while (nextKey != null) {\n    // Get or create implied object or array\n    node = node[key] || (node[key] = /^\\d+$/.test(nextKey) ? [] : {});\n    key = nextKey;\n    nextKey = segments[i++];\n  }\n  return fn(node, key);\n};\n\nLocalDoc.prototype._apply = function(segments, fn, cb) {\n  var out = this._createImplied(segments, fn);\n  this._updateCollectionData();\n  cb();\n  return out;\n};\n\nLocalDoc.prototype._validatedApply = function(segments, validate, fn, cb) {\n  var out = this._createImplied(segments, function(node, key) {\n    var err = validate(node[key]);\n    if (err) return cb(err);\n    return fn(node, key);\n  });\n  this._updateCollectionData();\n  cb();\n  return out;\n};\n\nLocalDoc.prototype._arrayApply = function(segments, fn, cb) {\n  // Lookup a pointer to the property or nested property &\n  // return the current value or create a new array\n  var arr = this._createImplied(segments, nodeCreateArray);\n\n  if (!Array.isArray(arr)) {\n    var message = this._errorMessage(fn.name + ' on non-array', segments, arr);\n    var err = new TypeError(message);\n    return cb(err);\n  }\n  var out = fn(arr);\n  this._updateCollectionData();\n  cb();\n  return out;\n};\n\nfunction nodeCreateArray(node, key) {\n  var node = node[key] || (node[key] = []);\n  return node;\n}\n",
    "var Model = require('./Model');\nvar LocalDoc = require('./LocalDoc');\nvar util = require('../util');\n\nfunction CollectionMap() {}\nfunction ModelData() {}\nfunction DocMap() {}\nfunction CollectionData() {}\n\nModel.INITS.push(function(model) {\n  model.root.collections = new CollectionMap();\n  model.root.data = new ModelData();\n});\n\nModel.prototype.getCollection = function(collectionName) {\n  return this.root.collections[collectionName];\n};\nModel.prototype.getDoc = function(collectionName, id) {\n  var collection = this.root.collections[collectionName];\n  return collection && collection.docs[id];\n};\nModel.prototype.get = function(subpath) {\n  var segments = this._splitPath(subpath);\n  return this._get(segments);\n};\nModel.prototype._get = function(segments) {\n  return util.lookup(segments, this.root.data);\n};\nModel.prototype.getCopy = function(subpath) {\n  var segments = this._splitPath(subpath);\n  return this._getCopy(segments);\n};\nModel.prototype._getCopy = function(segments) {\n  var value = this._get(segments);\n  return util.copy(value);\n};\nModel.prototype.getDeepCopy = function(subpath) {\n  var segments = this._splitPath(subpath);\n  return this._getDeepCopy(segments);\n};\nModel.prototype._getDeepCopy = function(segments) {\n  var value = this._get(segments);\n  return util.deepCopy(value);\n};\nModel.prototype.getOrCreateCollection = function(name) {\n  var collection = this.root.collections[name];\n  if (collection) return collection;\n  var Doc = this._getDocConstructor(name);\n  collection = new Collection(this.root, name, Doc);\n  this.root.collections[name] = collection;\n  return collection;\n};\nModel.prototype._getDocConstructor = function() {\n  // Only create local documents. This is overriden in ./connection.js, so that\n  // the RemoteDoc behavior can be selectively included\n  return LocalDoc;\n};\n\n/**\n * Returns an existing document with id in a collection. If the document does\n * not exist, then creates the document with id in a collection and returns the\n * new document.\n * @param {String} collectionName\n * @param {String} id\n * @param {Object} [data] data to create if doc with id does not exist in collection\n */\nModel.prototype.getOrCreateDoc = function(collectionName, id, data) {\n  var collection = this.getOrCreateCollection(collectionName);\n  return collection.docs[id] || collection.add(id, data);\n};\n\n/**\n * @param {String} subpath\n */\nModel.prototype.destroy = function(subpath) {\n  var segments = this._splitPath(subpath);\n  // Silently remove all types of listeners within subpath\n  var silentModel = this.silent();\n  silentModel.removeAllListeners(null, subpath);\n  silentModel._removeAllRefs(segments);\n  silentModel._stopAll(segments);\n  silentModel._removeAllFilters(segments);\n  // Silently remove all model data within subpath\n  if (segments.length === 0) {\n    this.root.collections = new CollectionMap();\n    // Delete each property of data instead of creating a new object so that\n    // it is possible to continue using a reference to the original data object\n    var data = this.root.data;\n    for (var key in data) {\n      delete data[key];\n    }\n  } else if (segments.length === 1) {\n    var collection = this.getCollection(segments[0]);\n    collection && collection.destroy();\n  } else {\n    silentModel._del(segments);\n  }\n};\n\nfunction Collection(model, name, Doc) {\n  this.model = model;\n  this.name = name;\n  this.Doc = Doc;\n  this.docs = new DocMap();\n  this.data = model.data[name] = new CollectionData();\n}\n\n/**\n * Adds a document with `id` and `data` to `this` Collection.\n * @param {String} id\n * @param {Object} data\n * @return {LocalDoc|RemoteDoc} doc\n */\nCollection.prototype.add = function(id, data) {\n  var doc = new this.Doc(this.model, this.name, id, data, this);\n  this.docs[id] = doc;\n  return doc;\n};\nCollection.prototype.destroy = function() {\n  delete this.model.collections[this.name];\n  delete this.model.data[this.name];\n};\n\n/**\n * Removes the document with `id` from `this` Collection. If there are no more\n * documents in the Collection after the given document is removed, then this\n * also destroys the Collection.\n * @param {String} id\n */\nCollection.prototype.remove = function(id) {\n  delete this.docs[id];\n  delete this.data[id];\n  if (noKeys(this.docs)) this.destroy();\n};\n\n/**\n * Returns an object that maps doc ids to fully resolved documents.\n * @return {Object}\n */\nCollection.prototype.get = function() {\n  return this.data;\n};\n\nfunction noKeys(object) {\n  // eslint-disable-next-line no-unused-vars\n  for (var key in object) {\n    return false;\n  }\n  return true;\n}\n",
    "var util = require('../util');\nvar Model = require('./Model');\n\nModel.prototype._mutate = function(segments, fn, cb) {\n  cb = this.wrapCallback(cb);\n  var collectionName = segments[0];\n  var id = segments[1];\n  if (!collectionName || !id) {\n    var message = fn.name + ' must be performed under a collection ' +\n      'and document id. Invalid path: ' + segments.join('.');\n    return cb(new Error(message));\n  }\n  var doc = this.getOrCreateDoc(collectionName, id);\n  var docSegments = segments.slice(2);\n  if (this._preventCompose && doc.shareDoc) {\n    var oldPreventCompose = doc.shareDoc.preventCompose;\n    doc.shareDoc.preventCompose = true;\n    var out = fn(doc, docSegments, cb);\n    doc.shareDoc.preventCompose = oldPreventCompose;\n    return out;\n  }\n  return fn(doc, docSegments, cb);\n};\n\nModel.prototype.set = function() {\n  var subpath, value, cb;\n  if (arguments.length === 1) {\n    value = arguments[0];\n  } else if (arguments.length === 2) {\n    subpath = arguments[0];\n    value = arguments[1];\n  } else {\n    subpath = arguments[0];\n    value = arguments[1];\n    cb = arguments[2];\n  }\n  var segments = this._splitPath(subpath);\n  return this._set(segments, value, cb);\n};\nModel.prototype._set = function(segments, value, cb) {\n  segments = this._dereference(segments);\n  var model = this;\n  function set(doc, docSegments, fnCb) {\n    var previous = doc.set(docSegments, value, fnCb);\n    // On setting the entire doc, remote docs sometimes do a copy to add the\n    // id without it being stored in the database by ShareJS\n    if (docSegments.length === 0) value = doc.get(docSegments);\n    model.emit('change', segments, [value, previous, model._pass]);\n    return previous;\n  }\n  return this._mutate(segments, set, cb);\n};\n\nModel.prototype.setNull = function() {\n  var subpath, value, cb;\n  if (arguments.length === 1) {\n    value = arguments[0];\n  } else if (arguments.length === 2) {\n    subpath = arguments[0];\n    value = arguments[1];\n  } else {\n    subpath = arguments[0];\n    value = arguments[1];\n    cb = arguments[2];\n  }\n  var segments = this._splitPath(subpath);\n  return this._setNull(segments, value, cb);\n};\nModel.prototype._setNull = function(segments, value, cb) {\n  segments = this._dereference(segments);\n  var model = this;\n  function setNull(doc, docSegments, fnCb) {\n    var previous = doc.get(docSegments);\n    if (previous != null) {\n      fnCb();\n      return previous;\n    }\n    doc.set(docSegments, value, fnCb);\n    model.emit('change', segments, [value, previous, model._pass]);\n    return value;\n  }\n  return this._mutate(segments, setNull, cb);\n};\n\nModel.prototype.setEach = function() {\n  var subpath, object, cb;\n  if (arguments.length === 1) {\n    object = arguments[0];\n  } else if (arguments.length === 2) {\n    subpath = arguments[0];\n    object = arguments[1];\n  } else {\n    subpath = arguments[0];\n    object = arguments[1];\n    cb = arguments[2];\n  }\n  var segments = this._splitPath(subpath);\n  return this._setEach(segments, object, cb);\n};\nModel.prototype._setEach = function(segments, object, cb) {\n  segments = this._dereference(segments);\n  var group = util.asyncGroup(this.wrapCallback(cb));\n  for (var key in object) {\n    var value = object[key];\n    this._set(segments.concat(key), value, group());\n  }\n};\n\nModel.prototype.create = function() {\n  var subpath, value, cb;\n  if (arguments.length === 0) {\n    value = {};\n  } else if (arguments.length === 1) {\n    if (typeof arguments[0] === 'function') {\n      value = {};\n      cb = arguments[0];\n    } else {\n      value = arguments[0];\n    }\n  } else if (arguments.length === 2) {\n    if (typeof arguments[1] === 'function') {\n      value = arguments[0];\n      cb = arguments[1];\n    } else {\n      subpath = arguments[0];\n      value = arguments[1];\n    }\n  } else {\n    subpath = arguments[0];\n    value = arguments[1];\n    cb = arguments[2];\n  }\n  var segments = this._splitPath(subpath);\n  return this._create(segments, value, cb);\n};\nModel.prototype._create = function(segments, value, cb) {\n  segments = this._dereference(segments);\n  if (segments.length !== 2) {\n    var message = 'create may only be used on a document path. ' +\n      'Invalid path: ' + segments.join('.');\n    cb = this.wrapCallback(cb);\n    return cb(new Error(message));\n  }\n  var model = this;\n  function create(doc, docSegments, fnCb) {\n    var previous;\n    doc.create(value, fnCb);\n    // On creating the doc, remote docs do a copy to add the id without\n    // it being stored in the database by ShareJS\n    value = doc.get();\n    model.emit('change', segments, [value, previous, model._pass]);\n  }\n  this._mutate(segments, create, cb);\n};\n\nModel.prototype.createNull = function() {\n  var subpath, value, cb;\n  if (arguments.length === 0) {\n    value = {};\n  } else if (arguments.length === 1) {\n    if (typeof arguments[0] === 'function') {\n      value = {};\n      cb = arguments[0];\n    } else {\n      value = arguments[0];\n    }\n  } else if (arguments.length === 2) {\n    if (typeof arguments[1] === 'function') {\n      value = arguments[0];\n      cb = arguments[1];\n    } else {\n      subpath = arguments[0];\n      value = arguments[1];\n    }\n  } else {\n    subpath = arguments[0];\n    value = arguments[1];\n    cb = arguments[2];\n  }\n  var segments = this._splitPath(subpath);\n  return this._createNull(segments, value, cb);\n};\nModel.prototype._createNull = function(segments, value, cb) {\n  segments = this._dereference(segments);\n  var doc = this.getDoc(segments[0], segments[1]);\n  if (doc && doc.get() != null) return;\n  this._create(segments, value, cb);\n};\n\nModel.prototype.add = function() {\n  var subpath, value, cb;\n  if (arguments.length === 0) {\n    value = {};\n  } else if (arguments.length === 1) {\n    if (typeof arguments[0] === 'function') {\n      value = {};\n      cb = arguments[0];\n    } else {\n      value = arguments[0];\n    }\n  } else if (arguments.length === 2) {\n    if (typeof arguments[1] === 'function') {\n      value = arguments[0];\n      cb = arguments[1];\n    } else {\n      subpath = arguments[0];\n      value = arguments[1];\n    }\n  } else {\n    subpath = arguments[0];\n    value = arguments[1];\n    cb = arguments[2];\n  }\n  var segments = this._splitPath(subpath);\n  return this._add(segments, value, cb);\n};\nModel.prototype._add = function(segments, value, cb) {\n  if (typeof value !== 'object') {\n    var message = 'add requires an object value. Invalid value: ' + value;\n    cb = this.wrapCallback(cb);\n    return cb(new Error(message));\n  }\n  var id = value.id || this.id();\n  value.id = id;\n  segments = this._dereference(segments.concat(id));\n  var model = this;\n  function add(doc, docSegments, fnCb) {\n    var previous;\n    if (docSegments.length) {\n      previous = doc.set(docSegments, value, fnCb);\n    } else {\n      doc.create(value, fnCb);\n      // On creating the doc, remote docs do a copy to add the id without\n      // it being stored in the database by ShareJS\n      value = doc.get();\n    }\n    model.emit('change', segments, [value, previous, model._pass]);\n  }\n  this._mutate(segments, add, cb);\n  return id;\n};\n\nModel.prototype.del = function() {\n  var subpath, cb;\n  if (arguments.length === 1) {\n    if (typeof arguments[0] === 'function') {\n      cb = arguments[0];\n    } else {\n      subpath = arguments[0];\n    }\n  } else {\n    subpath = arguments[0];\n    cb = arguments[1];\n  }\n  var segments = this._splitPath(subpath);\n  return this._del(segments, cb);\n};\nModel.prototype._del = function(segments, cb) {\n  segments = this._dereference(segments);\n  var model = this;\n  function del(doc, docSegments, fnCb) {\n    var previous = doc.del(docSegments, fnCb);\n    // When deleting an entire document, also remove the reference to the\n    // document object from its collection\n    if (segments.length === 2) {\n      var collectionName = segments[0];\n      var id = segments[1];\n      model.root.collections[collectionName].remove(id);\n    }\n    model.emit('change', segments, [undefined, previous, model._pass]);\n    return previous;\n  }\n  return this._mutate(segments, del, cb);\n};\n\nModel.prototype.increment = function() {\n  var subpath, byNumber, cb;\n  if (arguments.length === 1) {\n    if (typeof arguments[0] === 'function') {\n      cb = arguments[0];\n    } else if (typeof arguments[0] === 'number') {\n      byNumber = arguments[0];\n    } else {\n      subpath = arguments[0];\n    }\n  } else if (arguments.length === 2) {\n    if (typeof arguments[1] === 'function') {\n      cb = arguments[1];\n      if (typeof arguments[0] === 'number') {\n        byNumber = arguments[0];\n      } else {\n        subpath = arguments[0];\n      }\n    } else {\n      subpath = arguments[0];\n      byNumber = arguments[1];\n    }\n  } else {\n    subpath = arguments[0];\n    byNumber = arguments[1];\n    cb = arguments[2];\n  }\n  var segments = this._splitPath(subpath);\n  return this._increment(segments, byNumber, cb);\n};\nModel.prototype._increment = function(segments, byNumber, cb) {\n  segments = this._dereference(segments);\n  if (byNumber == null) byNumber = 1;\n  var model = this;\n  function increment(doc, docSegments, fnCb) {\n    var value = doc.increment(docSegments, byNumber, fnCb);\n    var previous = value - byNumber;\n    model.emit('change', segments, [value, previous, model._pass]);\n    return value;\n  }\n  return this._mutate(segments, increment, cb);\n};\n\nModel.prototype.push = function() {\n  var subpath, value, cb;\n  if (arguments.length === 1) {\n    value = arguments[0];\n  } else if (arguments.length === 2) {\n    subpath = arguments[0];\n    value = arguments[1];\n  } else {\n    subpath = arguments[0];\n    value = arguments[1];\n    cb = arguments[2];\n  }\n  var segments = this._splitPath(subpath);\n  return this._push(segments, value, cb);\n};\nModel.prototype._push = function(segments, value, cb) {\n  var forArrayMutator = true;\n  segments = this._dereference(segments, forArrayMutator);\n  var model = this;\n  function push(doc, docSegments, fnCb) {\n    var length = doc.push(docSegments, value, fnCb);\n    model.emit('insert', segments, [length - 1, [value], model._pass]);\n    return length;\n  }\n  return this._mutate(segments, push, cb);\n};\n\nModel.prototype.unshift = function() {\n  var subpath, value, cb;\n  if (arguments.length === 1) {\n    value = arguments[0];\n  } else if (arguments.length === 2) {\n    subpath = arguments[0];\n    value = arguments[1];\n  } else {\n    subpath = arguments[0];\n    value = arguments[1];\n    cb = arguments[2];\n  }\n  var segments = this._splitPath(subpath);\n  return this._unshift(segments, value, cb);\n};\nModel.prototype._unshift = function(segments, value, cb) {\n  var forArrayMutator = true;\n  segments = this._dereference(segments, forArrayMutator);\n  var model = this;\n  function unshift(doc, docSegments, fnCb) {\n    var length = doc.unshift(docSegments, value, fnCb);\n    model.emit('insert', segments, [0, [value], model._pass]);\n    return length;\n  }\n  return this._mutate(segments, unshift, cb);\n};\n\nModel.prototype.insert = function() {\n  var subpath, index, values, cb;\n  if (arguments.length < 2) {\n    throw new Error('Not enough arguments for insert');\n  } else if (arguments.length === 2) {\n    index = arguments[0];\n    values = arguments[1];\n  } else if (arguments.length === 3) {\n    subpath = arguments[0];\n    index = arguments[1];\n    values = arguments[2];\n  } else {\n    subpath = arguments[0];\n    index = arguments[1];\n    values = arguments[2];\n    cb = arguments[3];\n  }\n  var segments = this._splitPath(subpath);\n  return this._insert(segments, +index, values, cb);\n};\nModel.prototype._insert = function(segments, index, values, cb) {\n  var forArrayMutator = true;\n  segments = this._dereference(segments, forArrayMutator);\n  var model = this;\n  function insert(doc, docSegments, fnCb) {\n    var inserted = (Array.isArray(values)) ? values : [values];\n    var length = doc.insert(docSegments, index, inserted, fnCb);\n    model.emit('insert', segments, [index, inserted, model._pass]);\n    return length;\n  }\n  return this._mutate(segments, insert, cb);\n};\n\nModel.prototype.pop = function() {\n  var subpath, cb;\n  if (arguments.length === 1) {\n    if (typeof arguments[0] === 'function') {\n      cb = arguments[0];\n    } else {\n      subpath = arguments[0];\n    }\n  } else {\n    subpath = arguments[0];\n    cb = arguments[1];\n  }\n  var segments = this._splitPath(subpath);\n  return this._pop(segments, cb);\n};\nModel.prototype._pop = function(segments, cb) {\n  var forArrayMutator = true;\n  segments = this._dereference(segments, forArrayMutator);\n  var model = this;\n  function pop(doc, docSegments, fnCb) {\n    var arr = doc.get(docSegments);\n    var length = arr && arr.length;\n    if (!length) {\n      fnCb();\n      return;\n    }\n    var value = doc.pop(docSegments, fnCb);\n    model.emit('remove', segments, [length - 1, [value], model._pass]);\n    return value;\n  }\n  return this._mutate(segments, pop, cb);\n};\n\nModel.prototype.shift = function() {\n  var subpath, cb;\n  if (arguments.length === 1) {\n    if (typeof arguments[0] === 'function') {\n      cb = arguments[0];\n    } else {\n      subpath = arguments[0];\n    }\n  } else {\n    subpath = arguments[0];\n    cb = arguments[1];\n  }\n  var segments = this._splitPath(subpath);\n  return this._shift(segments, cb);\n};\nModel.prototype._shift = function(segments, cb) {\n  var forArrayMutator = true;\n  segments = this._dereference(segments, forArrayMutator);\n  var model = this;\n  function shift(doc, docSegments, fnCb) {\n    var arr = doc.get(docSegments);\n    var length = arr && arr.length;\n    if (!length) {\n      fnCb();\n      return;\n    }\n    var value = doc.shift(docSegments, fnCb);\n    model.emit('remove', segments, [0, [value], model._pass]);\n    return value;\n  }\n  return this._mutate(segments, shift, cb);\n};\n\nModel.prototype.remove = function() {\n  var subpath, index, howMany, cb;\n  if (arguments.length < 2) {\n    index = arguments[0];\n  } else if (arguments.length === 2) {\n    if (typeof arguments[1] === 'function') {\n      cb = arguments[1];\n      if (typeof arguments[0] === 'number') {\n        index = arguments[0];\n      } else {\n        subpath = arguments[0];\n      }\n    } else {\n      // eslint-disable-next-line no-lonely-if\n      if (typeof arguments[0] === 'number') {\n        index = arguments[0];\n        howMany = arguments[1];\n      } else {\n        subpath = arguments[0];\n        index = arguments[1];\n      }\n    }\n  } else if (arguments.length === 3) {\n    if (typeof arguments[2] === 'function') {\n      cb = arguments[2];\n      if (typeof arguments[0] === 'number') {\n        index = arguments[0];\n        howMany = arguments[1];\n      } else {\n        subpath = arguments[0];\n        index = arguments[1];\n      }\n    } else {\n      subpath = arguments[0];\n      index = arguments[1];\n      howMany = arguments[2];\n    }\n  } else {\n    subpath = arguments[0];\n    index = arguments[1];\n    howMany = arguments[2];\n    cb = arguments[3];\n  }\n  var segments = this._splitPath(subpath);\n  if (index == null) index = segments.pop();\n  return this._remove(segments, +index, howMany, cb);\n};\nModel.prototype._remove = function(segments, index, howMany, cb) {\n  var forArrayMutator = true;\n  segments = this._dereference(segments, forArrayMutator);\n  if (howMany == null) howMany = 1;\n  var model = this;\n  function remove(doc, docSegments, fnCb) {\n    var removed = doc.remove(docSegments, index, howMany, fnCb);\n    model.emit('remove', segments, [index, removed, model._pass]);\n    return removed;\n  }\n  return this._mutate(segments, remove, cb);\n};\n\nModel.prototype.move = function() {\n  var subpath, from, to, howMany, cb;\n  if (arguments.length < 2) {\n    throw new Error('Not enough arguments for move');\n  } else if (arguments.length === 2) {\n    from = arguments[0];\n    to = arguments[1];\n  } else if (arguments.length === 3) {\n    if (typeof arguments[2] === 'function') {\n      from = arguments[0];\n      to = arguments[1];\n      cb = arguments[2];\n    } else if (typeof arguments[0] === 'number') {\n      from = arguments[0];\n      to = arguments[1];\n      howMany = arguments[2];\n    } else {\n      subpath = arguments[0];\n      from = arguments[1];\n      to = arguments[2];\n    }\n  } else if (arguments.length === 4) {\n    if (typeof arguments[3] === 'function') {\n      cb = arguments[3];\n      if (typeof arguments[0] === 'number') {\n        from = arguments[0];\n        to = arguments[1];\n        howMany = arguments[2];\n      } else {\n        subpath = arguments[0];\n        from = arguments[1];\n        to = arguments[2];\n      }\n    } else {\n      subpath = arguments[0];\n      from = arguments[1];\n      to = arguments[2];\n      howMany = arguments[3];\n    }\n  } else {\n    subpath = arguments[0];\n    from = arguments[1];\n    to = arguments[2];\n    howMany = arguments[3];\n    cb = arguments[4];\n  }\n  var segments = this._splitPath(subpath);\n  return this._move(segments, from, to, howMany, cb);\n};\nModel.prototype._move = function(segments, from, to, howMany, cb) {\n  var forArrayMutator = true;\n  segments = this._dereference(segments, forArrayMutator);\n  if (howMany == null) howMany = 1;\n  var model = this;\n  function move(doc, docSegments, fnCb) {\n    // Cast to numbers\n    from = +from;\n    to = +to;\n    // Convert negative indices into positive\n    if (from < 0 || to < 0) {\n      var len = doc.get(docSegments).length;\n      if (from < 0) from += len;\n      if (to < 0) to += len;\n    }\n    var moved = doc.move(docSegments, from, to, howMany, fnCb);\n    model.emit('move', segments, [from, to, moved.length, model._pass]);\n    return moved;\n  }\n  return this._mutate(segments, move, cb);\n};\n\nModel.prototype.stringInsert = function() {\n  var subpath, index, text, cb;\n  if (arguments.length < 2) {\n    throw new Error('Not enough arguments for stringInsert');\n  } else if (arguments.length === 2) {\n    index = arguments[0];\n    text = arguments[1];\n  } else if (arguments.length === 3) {\n    if (typeof arguments[2] === 'function') {\n      index = arguments[0];\n      text = arguments[1];\n      cb = arguments[2];\n    } else {\n      subpath = arguments[0];\n      index = arguments[1];\n      text = arguments[2];\n    }\n  } else {\n    subpath = arguments[0];\n    index = arguments[1];\n    text = arguments[2];\n    cb = arguments[3];\n  }\n  var segments = this._splitPath(subpath);\n  return this._stringInsert(segments, index, text, cb);\n};\nModel.prototype._stringInsert = function(segments, index, text, cb) {\n  segments = this._dereference(segments);\n  var model = this;\n  function stringInsert(doc, docSegments, fnCb) {\n    var previous = doc.stringInsert(docSegments, index, text, fnCb);\n    var value = doc.get(docSegments);\n    var pass = model.pass({$stringInsert: {index: index, text: text}})._pass;\n    model.emit('change', segments, [value, previous, pass]);\n    return;\n  }\n  return this._mutate(segments, stringInsert, cb);\n};\n\nModel.prototype.stringRemove = function() {\n  var subpath, index, howMany, cb;\n  if (arguments.length < 2) {\n    throw new Error('Not enough arguments for stringRemove');\n  } else if (arguments.length === 2) {\n    index = arguments[0];\n    howMany = arguments[1];\n  } else if (arguments.length === 3) {\n    if (typeof arguments[2] === 'function') {\n      index = arguments[0];\n      howMany = arguments[1];\n      cb = arguments[2];\n    } else {\n      subpath = arguments[0];\n      index = arguments[1];\n      howMany = arguments[2];\n    }\n  } else {\n    subpath = arguments[0];\n    index = arguments[1];\n    howMany = arguments[2];\n    cb = arguments[3];\n  }\n  var segments = this._splitPath(subpath);\n  return this._stringRemove(segments, index, howMany, cb);\n};\nModel.prototype._stringRemove = function(segments, index, howMany, cb) {\n  segments = this._dereference(segments);\n  var model = this;\n  function stringRemove(doc, docSegments, fnCb) {\n    var previous = doc.stringRemove(docSegments, index, howMany, fnCb);\n    var value = doc.get(docSegments);\n    var pass = model.pass({$stringRemove: {index: index, howMany: howMany}})._pass;\n    model.emit('change', segments, [value, previous, pass]);\n    return;\n  }\n  return this._mutate(segments, stringRemove, cb);\n};\n\nModel.prototype.subtypeSubmit = function() {\n  var subpath, subtype, subtypeOp, cb;\n  if (arguments.length < 2) {\n    throw new Error('Not enough arguments for subtypeSubmit');\n  } else if (arguments.length === 2) {\n    subtype = arguments[0];\n    subtypeOp = arguments[1];\n  } else if (arguments.length === 3) {\n    if (typeof arguments[2] === 'function') {\n      subtype = arguments[0];\n      subtypeOp = arguments[1];\n      cb = arguments[2];\n    } else {\n      subpath = arguments[0];\n      subtype = arguments[1];\n      subtypeOp = arguments[2];\n    }\n  } else {\n    subpath = arguments[0];\n    subtype = arguments[1];\n    subtypeOp = arguments[2];\n    cb = arguments[3];\n  }\n  var segments = this._splitPath(subpath);\n  return this._subtypeSubmit(segments, subtype, subtypeOp, cb);\n};\n\nModel.prototype._subtypeSubmit = function(segments, subtype, subtypeOp, cb) {\n  segments = this._dereference(segments);\n  var model = this;\n  function subtypeSubmit(doc, docSegments, fnCb) {\n    var previous = doc.subtypeSubmit(docSegments, subtype, subtypeOp, fnCb);\n    var value = doc.get(docSegments);\n    var pass = model.pass({$subtype: {type: subtype, op: subtypeOp}})._pass;\n    // Emit undefined for the previous value, since we don't really know\n    // whether or not the previous value returned by the subtypeSubmit is the\n    // same object returned by reference or not. This may cause change\n    // listeners to over-trigger, but that is usually going to be better than\n    // under-triggering\n    model.emit('change', segments, [value, undefined, pass]);\n    return previous;\n  }\n  return this._mutate(segments, subtypeSubmit, cb);\n};\n",
    "module.exports = arrayDiff;\n\n// Based on some rough benchmarking, this algorithm is about O(2n) worst case,\n// and it can compute diffs on random arrays of length 1024 in about 34ms,\n// though just a few changes on an array of length 1024 takes about 0.5ms\n\narrayDiff.InsertDiff = InsertDiff;\narrayDiff.RemoveDiff = RemoveDiff;\narrayDiff.MoveDiff = MoveDiff;\n\nfunction InsertDiff(index, values) {\n  this.index = index;\n  this.values = values;\n}\nInsertDiff.prototype.type = 'insert';\nInsertDiff.prototype.toJSON = function() {\n  return {\n    type: this.type,\n    index: this.index,\n    values: this.values\n  };\n};\n\nfunction RemoveDiff(index, howMany) {\n  this.index = index;\n  this.howMany = howMany;\n}\nRemoveDiff.prototype.type = 'remove';\nRemoveDiff.prototype.toJSON = function() {\n  return {\n    type: this.type,\n    index: this.index,\n    howMany: this.howMany\n  };\n};\n\nfunction MoveDiff(from, to, howMany) {\n  this.from = from;\n  this.to = to;\n  this.howMany = howMany;\n}\nMoveDiff.prototype.type = 'move';\nMoveDiff.prototype.toJSON = function() {\n  return {\n    type: this.type,\n    from: this.from,\n    to: this.to,\n    howMany: this.howMany\n  };\n};\n\nfunction strictEqual(a, b) {\n  return a === b;\n}\n\nfunction arrayDiff(before, after, equalFn) {\n  if (!equalFn) equalFn = strictEqual;\n\n  // Find all items in both the before and after array, and represent them\n  // as moves. Many of these \"moves\" may end up being discarded in the last\n  // pass if they are from an index to the same index, but we don't know this\n  // up front, since we haven't yet offset the indices.\n  //\n  // Also keep a map of all the indices accounted for in the before and after\n  // arrays. These maps are used next to create insert and remove diffs.\n  var beforeLength = before.length;\n  var afterLength = after.length;\n  var moves = [];\n  var beforeMarked = {};\n  var afterMarked = {};\n  for (var beforeIndex = 0; beforeIndex < beforeLength; beforeIndex++) {\n    var beforeItem = before[beforeIndex];\n    for (var afterIndex = 0; afterIndex < afterLength; afterIndex++) {\n      if (afterMarked[afterIndex]) continue;\n      if (!equalFn(beforeItem, after[afterIndex])) continue;\n      var from = beforeIndex;\n      var to = afterIndex;\n      var howMany = 0;\n      do {\n        beforeMarked[beforeIndex++] = afterMarked[afterIndex++] = true;\n        howMany++;\n      } while (\n        beforeIndex < beforeLength &&\n        afterIndex < afterLength &&\n        equalFn(before[beforeIndex], after[afterIndex]) &&\n        !afterMarked[afterIndex]\n      );\n      moves.push(new MoveDiff(from, to, howMany));\n      beforeIndex--;\n      break;\n    }\n  }\n\n  // Create a remove for all of the items in the before array that were\n  // not marked as being matched in the after array as well\n  var removes = [];\n  for (beforeIndex = 0; beforeIndex < beforeLength;) {\n    if (beforeMarked[beforeIndex]) {\n      beforeIndex++;\n      continue;\n    }\n    var index = beforeIndex;\n    var howMany = 0;\n    while (beforeIndex < beforeLength && !beforeMarked[beforeIndex++]) {\n      howMany++;\n    }\n    removes.push(new RemoveDiff(index, howMany));\n  }\n\n  // Create an insert for all of the items in the after array that were\n  // not marked as being matched in the before array as well\n  var inserts = [];\n  for (var afterIndex = 0; afterIndex < afterLength;) {\n    if (afterMarked[afterIndex]) {\n      afterIndex++;\n      continue;\n    }\n    var index = afterIndex;\n    var howMany = 0;\n    while (afterIndex < afterLength && !afterMarked[afterIndex++]) {\n      howMany++;\n    }\n    var values = after.slice(index, index + howMany);\n    inserts.push(new InsertDiff(index, values));\n  }\n\n  var insertsLength = inserts.length;\n  var removesLength = removes.length;\n  var movesLength = moves.length;\n  var i, j;\n\n  // Offset subsequent removes and moves by removes\n  var count = 0;\n  for (i = 0; i < removesLength; i++) {\n    var remove = removes[i];\n    remove.index -= count;\n    count += remove.howMany;\n    for (j = 0; j < movesLength; j++) {\n      var move = moves[j];\n      if (move.from >= remove.index) move.from -= remove.howMany;\n    }\n  }\n\n  // Offset moves by inserts\n  for (i = insertsLength; i--;) {\n    var insert = inserts[i];\n    var howMany = insert.values.length;\n    for (j = movesLength; j--;) {\n      var move = moves[j];\n      if (move.to >= insert.index) move.to -= howMany;\n    }\n  }\n\n  // Offset the to of moves by later moves\n  for (i = movesLength; i-- > 1;) {\n    var move = moves[i];\n    if (move.to === move.from) continue;\n    for (j = i; j--;) {\n      var earlier = moves[j];\n      if (earlier.to >= move.to) earlier.to -= move.howMany;\n      if (earlier.to >= move.from) earlier.to += move.howMany;\n    }\n  }\n\n  // Only output moves that end up having an effect after offsetting\n  var outputMoves = [];\n\n  // Offset the from of moves by earlier moves\n  for (i = 0; i < movesLength; i++) {\n    var move = moves[i];\n    if (move.to === move.from) continue;\n    outputMoves.push(move);\n    for (j = i + 1; j < movesLength; j++) {\n      var later = moves[j];\n      if (later.from >= move.from) later.from -= move.howMany;\n      if (later.from >= move.to) later.from += move.howMany;\n    }\n  }\n\n  return removes.concat(outputMoves, inserts);\n}\n",
    "var util = require('../util');\nvar Model = require('./Model');\nvar arrayDiff = require('arraydiff');\n\nModel.prototype.setDiff = function() {\n  var subpath, value, cb;\n  if (arguments.length === 1) {\n    value = arguments[0];\n  } else if (arguments.length === 2) {\n    subpath = arguments[0];\n    value = arguments[1];\n  } else {\n    subpath = arguments[0];\n    value = arguments[1];\n    cb = arguments[2];\n  }\n  var segments = this._splitPath(subpath);\n  return this._setDiff(segments, value, cb);\n};\nModel.prototype._setDiff = function(segments, value, cb) {\n  segments = this._dereference(segments);\n  var model = this;\n  function setDiff(doc, docSegments, fnCb) {\n    var previous = doc.get(docSegments);\n    if (util.equal(previous, value)) {\n      fnCb();\n      return previous;\n    }\n    doc.set(docSegments, value, fnCb);\n    model.emit('change', segments, [value, previous, model._pass]);\n    return previous;\n  }\n  return this._mutate(segments, setDiff, cb);\n};\n\nModel.prototype.setDiffDeep = function() {\n  var subpath, value, cb;\n  if (arguments.length === 1) {\n    value = arguments[0];\n  } else if (arguments.length === 2) {\n    subpath = arguments[0];\n    value = arguments[1];\n  } else {\n    subpath = arguments[0];\n    value = arguments[1];\n    cb = arguments[2];\n  }\n  var segments = this._splitPath(subpath);\n  return this._setDiffDeep(segments, value, cb);\n};\nModel.prototype._setDiffDeep = function(segments, value, cb) {\n  var before = this._get(segments);\n  cb = this.wrapCallback(cb);\n  var group = util.asyncGroup(cb);\n  var finished = group();\n  diffDeep(this, segments, before, value, group);\n  finished();\n};\nfunction diffDeep(model, segments, before, after, group) {\n  if (typeof before !== 'object' || !before ||\n      typeof after !== 'object' || !after) {\n    // Diff the entire value if not diffable objects\n    model._setDiff(segments, after, group());\n    return;\n  }\n  if (Array.isArray(before) && Array.isArray(after)) {\n    var diff = arrayDiff(before, after, util.deepEqual);\n    if (!diff.length) return;\n    // If the only change is a single item replacement, diff the item instead\n    if (\n      diff.length === 2 &&\n      diff[0].index === diff[1].index &&\n      diff[0] instanceof arrayDiff.RemoveDiff &&\n      diff[0].howMany === 1 &&\n      diff[1] instanceof arrayDiff.InsertDiff &&\n      diff[1].values.length === 1\n    ) {\n      var index = diff[0].index;\n      var itemSegments = segments.concat(index);\n      diffDeep(model, itemSegments, before[index], after[index], group);\n      return;\n    }\n    model._applyArrayDiff(segments, diff, group());\n    return;\n  }\n\n  // Delete keys that were in before but not after\n  for (var key in before) {\n    if (key in after) continue;\n    var itemSegments = segments.concat(key);\n    model._del(itemSegments, group());\n  }\n\n  // Diff each property in after\n  for (var key in after) {\n    if (util.deepEqual(before[key], after[key])) continue;\n    var itemSegments = segments.concat(key);\n    diffDeep(model, itemSegments, before[key], after[key], group);\n  }\n}\n\nModel.prototype.setArrayDiff = function() {\n  var subpath, value, cb;\n  if (arguments.length === 1) {\n    value = arguments[0];\n  } else if (arguments.length === 2) {\n    subpath = arguments[0];\n    value = arguments[1];\n  } else {\n    subpath = arguments[0];\n    value = arguments[1];\n    cb = arguments[2];\n  }\n  var segments = this._splitPath(subpath);\n  return this._setArrayDiff(segments, value, cb);\n};\nModel.prototype.setArrayDiffDeep = function() {\n  var subpath, value, cb;\n  if (arguments.length === 1) {\n    value = arguments[0];\n  } else if (arguments.length === 2) {\n    subpath = arguments[0];\n    value = arguments[1];\n  } else {\n    subpath = arguments[0];\n    value = arguments[1];\n    cb = arguments[2];\n  }\n  var segments = this._splitPath(subpath);\n  return this._setArrayDiffDeep(segments, value, cb);\n};\nModel.prototype._setArrayDiffDeep = function(segments, value, cb) {\n  return this._setArrayDiff(segments, value, cb, util.deepEqual);\n};\nModel.prototype._setArrayDiff = function(segments, value, cb, _equalFn) {\n  var before = this._get(segments);\n  if (before === value) return this.wrapCallback(cb)();\n  if (!Array.isArray(before) || !Array.isArray(value)) {\n    this._set(segments, value, cb);\n    return;\n  }\n  var diff = arrayDiff(before, value, _equalFn);\n  this._applyArrayDiff(segments, diff, cb);\n};\nModel.prototype._applyArrayDiff = function(segments, diff, cb) {\n  if (!diff.length) return this.wrapCallback(cb)();\n  segments = this._dereference(segments);\n  var model = this;\n  function applyArrayDiff(doc, docSegments, fnCb) {\n    var group = util.asyncGroup(fnCb);\n    for (var i = 0, len = diff.length; i < len; i++) {\n      var item = diff[i];\n      if (item instanceof arrayDiff.InsertDiff) {\n        // Insert\n        doc.insert(docSegments, item.index, item.values, group());\n        model.emit('insert', segments, [item.index, item.values, model._pass]);\n      } else if (item instanceof arrayDiff.RemoveDiff) {\n        // Remove\n        var removed = doc.remove(docSegments, item.index, item.howMany, group());\n        model.emit('remove', segments, [item.index, removed, model._pass]);\n      } else if (item instanceof arrayDiff.MoveDiff) {\n        // Move\n        var moved = doc.move(docSegments, item.from, item.to, item.howMany, group());\n        model.emit('move', segments, [item.from, item.to, moved.length, model._pass]);\n      }\n    }\n  }\n  return this._mutate(segments, applyArrayDiff, cb);\n};\n",
    "var EventEmitter = require('events').EventEmitter;\n\nexports.EventEmitter = EventEmitter;\nexports.mixin = mixin;\n\nfunction mixin(Constructor) {\n  for (var key in EventEmitter.prototype) {\n    Constructor.prototype[key] = EventEmitter.prototype[key];\n  }\n}\n",
    "var SUPPORTED_METHODS = [\n  'info',\n  'warn',\n  'error'\n];\n\nfunction Logger() {\n  var defaultMethods = {};\n  SUPPORTED_METHODS.forEach(function(method) {\n    // Deal with Chrome issue: https://bugs.chromium.org/p/chromium/issues/detail?id=179628\n    defaultMethods[method] = console[method].bind(console);\n  });\n  this.setMethods(defaultMethods);\n}\nmodule.exports = Logger;\n\nLogger.prototype.setMethods = function(overrides) {\n  overrides = overrides || {};\n  var logger = this;\n\n  SUPPORTED_METHODS.forEach(function(method) {\n    if (typeof overrides[method] === 'function') {\n      logger[method] = overrides[method];\n    }\n  });\n};\n",
    "var Logger = require('./logger');\nvar logger = new Logger();\nmodule.exports = logger;\n",
    "function ShareDBError(code, message) {\n  this.code = code;\n  this.message = message || '';\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, ShareDBError);\n  } else {\n    this.stack = new Error().stack;\n  }\n}\n\nShareDBError.prototype = Object.create(Error.prototype);\nShareDBError.prototype.constructor = ShareDBError;\nShareDBError.prototype.name = 'ShareDBError';\n\nShareDBError.CODES = {\n  ERR_APPLY_OP_VERSION_DOES_NOT_MATCH_SNAPSHOT: 'ERR_APPLY_OP_VERSION_DOES_NOT_MATCH_SNAPSHOT',\n  ERR_APPLY_SNAPSHOT_NOT_PROVIDED: 'ERR_APPLY_SNAPSHOT_NOT_PROVIDED',\n  ERR_CLIENT_ID_BADLY_FORMED: 'ERR_CLIENT_ID_BADLY_FORMED',\n  ERR_CONNECTION_STATE_TRANSITION_INVALID: 'ERR_CONNECTION_STATE_TRANSITION_INVALID',\n  ERR_DATABASE_ADAPTER_NOT_FOUND: 'ERR_DATABASE_ADAPTER_NOT_FOUND',\n  ERR_DATABASE_DOES_NOT_SUPPORT_SUBSCRIBE: 'ERR_DATABASE_DOES_NOT_SUPPORT_SUBSCRIBE',\n  ERR_DATABASE_METHOD_NOT_IMPLEMENTED: 'ERR_DATABASE_METHOD_NOT_IMPLEMENTED',\n  ERR_DEFAULT_TYPE_MISMATCH: 'ERR_DEFAULT_TYPE_MISMATCH',\n  ERR_DOC_MISSING_VERSION: 'ERR_DOC_MISSING_VERSION',\n  ERR_DOC_ALREADY_CREATED: 'ERR_DOC_ALREADY_CREATED',\n  ERR_DOC_DOES_NOT_EXIST: 'ERR_DOC_DOES_NOT_EXIST',\n  ERR_DOC_TYPE_NOT_RECOGNIZED: 'ERR_DOC_TYPE_NOT_RECOGNIZED',\n  ERR_DOC_WAS_DELETED: 'ERR_DOC_WAS_DELETED',\n  ERR_INFLIGHT_OP_MISSING: 'ERR_INFLIGHT_OP_MISSING',\n  ERR_INGESTED_SNAPSHOT_HAS_NO_VERSION: 'ERR_INGESTED_SNAPSHOT_HAS_NO_VERSION',\n  ERR_MAX_SUBMIT_RETRIES_EXCEEDED: 'ERR_MAX_SUBMIT_RETRIES_EXCEEDED',\n  ERR_MESSAGE_BADLY_FORMED: 'ERR_MESSAGE_BADLY_FORMED',\n  ERR_MILESTONE_ARGUMENT_INVALID: 'ERR_MILESTONE_ARGUMENT_INVALID',\n  ERR_OP_ALREADY_SUBMITTED: 'ERR_OP_ALREADY_SUBMITTED',\n  ERR_OP_NOT_ALLOWED_IN_PROJECTION: 'ERR_OP_NOT_ALLOWED_IN_PROJECTION',\n  ERR_OP_SUBMIT_REJECTED: 'ERR_OP_SUBMIT_REJECTED',\n  ERR_OP_VERSION_MISMATCH_AFTER_TRANSFORM: 'ERR_OP_VERSION_MISMATCH_AFTER_TRANSFORM',\n  ERR_OP_VERSION_MISMATCH_DURING_TRANSFORM: 'ERR_OP_VERSION_MISMATCH_DURING_TRANSFORM',\n  ERR_OP_VERSION_NEWER_THAN_CURRENT_SNAPSHOT: 'ERR_OP_VERSION_NEWER_THAN_CURRENT_SNAPSHOT',\n  ERR_OT_OP_BADLY_FORMED: 'ERR_OT_OP_BADLY_FORMED',\n  ERR_OT_OP_NOT_PROVIDED: 'ERR_OT_OP_NOT_PROVIDED',\n  ERR_PROTOCOL_VERSION_NOT_SUPPORTED: 'ERR_PROTOCOL_VERSION_NOT_SUPPORTED',\n  ERR_QUERY_EMITTER_LISTENER_NOT_ASSIGNED: 'ERR_QUERY_EMITTER_LISTENER_NOT_ASSIGNED',\n  /**\n   * A special error that a \"readSnapshots\" middleware implementation can use to indicate that it\n   * wishes for the ShareDB client to treat it as a silent rejection, not passing the error back to\n   * user code.\n   *\n   * For subscribes, the ShareDB client will still cancel the document subscription.\n   */\n  ERR_SNAPSHOT_READ_SILENT_REJECTION: 'ERR_SNAPSHOT_READ_SILENT_REJECTION',\n  /**\n   * A \"readSnapshots\" middleware rejected the reads of specific snapshots.\n   *\n   * This error code is mostly for server use and generally will not be encountered on the client.\n   * Instead, each specific doc that encountered an error will receive its specific error.\n   *\n   * The one exception is for queries, where a \"readSnapshots\" rejection of specific snapshots will\n   * cause the client to receive this error for the whole query, since queries don't support\n   * doc-specific errors.\n   */\n  ERR_SNAPSHOT_READS_REJECTED: 'ERR_SNAPSHOT_READS_REJECTED',\n  ERR_SUBMIT_TRANSFORM_OPS_NOT_FOUND: 'ERR_SUBMIT_TRANSFORM_OPS_NOT_FOUND',\n  ERR_TYPE_CANNOT_BE_PROJECTED: 'ERR_TYPE_CANNOT_BE_PROJECTED',\n  ERR_UNKNOWN_ERROR: 'ERR_UNKNOWN_ERROR'\n};\n\nmodule.exports = ShareDBError;\n",
    "// These methods let you build a transform function from a transformComponent\n// function for OT types like JSON0 in which operations are lists of components\n// and transforming them requires N^2 work. I find it kind of nasty that I need\n// this, but I'm not really sure what a better solution is. Maybe I should do\n// this automatically to types that don't have a compose function defined.\n\n// Add transform and transformX functions for an OT type which has\n// transformComponent defined.  transformComponent(destination array,\n// component, other component, side)\nmodule.exports = bootstrapTransform\nfunction bootstrapTransform(type, transformComponent, checkValidOp, append) {\n  var transformComponentX = function(left, right, destLeft, destRight) {\n    transformComponent(destLeft, left, right, 'left');\n    transformComponent(destRight, right, left, 'right');\n  };\n\n  var transformX = type.transformX = function(leftOp, rightOp) {\n    checkValidOp(leftOp);\n    checkValidOp(rightOp);\n    var newRightOp = [];\n\n    for (var i = 0; i < rightOp.length; i++) {\n      var rightComponent = rightOp[i];\n\n      // Generate newLeftOp by composing leftOp by rightComponent\n      var newLeftOp = [];\n      var k = 0;\n      while (k < leftOp.length) {\n        var nextC = [];\n        transformComponentX(leftOp[k], rightComponent, newLeftOp, nextC);\n        k++;\n\n        if (nextC.length === 1) {\n          rightComponent = nextC[0];\n        } else if (nextC.length === 0) {\n          for (var j = k; j < leftOp.length; j++) {\n            append(newLeftOp, leftOp[j]);\n          }\n          rightComponent = null;\n          break;\n        } else {\n          // Recurse.\n          var pair = transformX(leftOp.slice(k), nextC);\n          for (var l = 0; l < pair[0].length; l++) {\n            append(newLeftOp, pair[0][l]);\n          }\n          for (var r = 0; r < pair[1].length; r++) {\n            append(newRightOp, pair[1][r]);\n          }\n          rightComponent = null;\n          break;\n        }\n      }\n\n      if (rightComponent != null) {\n        append(newRightOp, rightComponent);\n      }\n      leftOp = newLeftOp;\n    }\n    return [leftOp, newRightOp];\n  };\n\n  // Transforms op with specified type ('left' or 'right') by otherOp.\n  type.transform = function(op, otherOp, type) {\n    if (!(type === 'left' || type === 'right'))\n      throw new Error(\"type must be 'left' or 'right'\");\n\n    if (otherOp.length === 0) return op;\n\n    if (op.length === 1 && otherOp.length === 1)\n      return transformComponent([], op[0], otherOp[0], type);\n\n    if (type === 'left')\n      return transformX(op, otherOp)[0];\n    else\n      return transformX(otherOp, op)[1];\n  };\n};\n",
    "// DEPRECATED!\n//\n// This type works, but is not exported. Its included here because the JSON0\n// embedded string operations use this library.\n\n\n// A simple text implementation\n//\n// Operations are lists of components. Each component either inserts or deletes\n// at a specified position in the document.\n//\n// Components are either:\n//  {i:'str', p:100}: Insert 'str' at position 100 in the document\n//  {d:'str', p:100}: Delete 'str' at position 100 in the document\n//\n// Components in an operation are executed sequentially, so the position of components\n// assumes previous components have already executed.\n//\n// Eg: This op:\n//   [{i:'abc', p:0}]\n// is equivalent to this op:\n//   [{i:'a', p:0}, {i:'b', p:1}, {i:'c', p:2}]\n\nvar text = module.exports = {\n  name: 'text0',\n  uri: 'http://sharejs.org/types/textv0',\n  create: function(initial) {\n    if ((initial != null) && typeof initial !== 'string') {\n      throw new Error('Initial data must be a string');\n    }\n    return initial || '';\n  }\n};\n\n/** Insert s2 into s1 at pos. */\nvar strInject = function(s1, pos, s2) {\n  return s1.slice(0, pos) + s2 + s1.slice(pos);\n};\n\n/** Check that an operation component is valid. Throws if its invalid. */\nvar checkValidComponent = function(c) {\n  if (typeof c.p !== 'number')\n    throw new Error('component missing position field');\n\n  if ((typeof c.i === 'string') === (typeof c.d === 'string'))\n    throw new Error('component needs an i or d field');\n\n  if (c.p < 0)\n    throw new Error('position cannot be negative');\n};\n\n/** Check that an operation is valid */\nvar checkValidOp = function(op) {\n  for (var i = 0; i < op.length; i++) {\n    checkValidComponent(op[i]);\n  }\n};\n\n/** Apply op to snapshot */\ntext.apply = function(snapshot, op) {\n  var deleted;\n\n  checkValidOp(op);\n  for (var i = 0; i < op.length; i++) {\n    var component = op[i];\n    if (component.i != null) {\n      snapshot = strInject(snapshot, component.p, component.i);\n    } else {\n      deleted = snapshot.slice(component.p, component.p + component.d.length);\n      if (component.d !== deleted)\n        throw new Error(\"Delete component '\" + component.d + \"' does not match deleted text '\" + deleted + \"'\");\n\n      snapshot = snapshot.slice(0, component.p) + snapshot.slice(component.p + component.d.length);\n    }\n  }\n  return snapshot;\n};\n\n/**\n * Append a component to the end of newOp. Exported for use by the random op\n * generator and the JSON0 type.\n */\nvar append = text._append = function(newOp, c) {\n  if (c.i === '' || c.d === '') return;\n\n  if (newOp.length === 0) {\n    newOp.push(c);\n  } else {\n    var last = newOp[newOp.length - 1];\n\n    if (last.i != null && c.i != null && last.p <= c.p && c.p <= last.p + last.i.length) {\n      // Compose the insert into the previous insert\n      newOp[newOp.length - 1] = {i:strInject(last.i, c.p - last.p, c.i), p:last.p};\n\n    } else if (last.d != null && c.d != null && c.p <= last.p && last.p <= c.p + c.d.length) {\n      // Compose the deletes together\n      newOp[newOp.length - 1] = {d:strInject(c.d, last.p - c.p, last.d), p:c.p};\n\n    } else {\n      newOp.push(c);\n    }\n  }\n};\n\n/** Compose op1 and op2 together */\ntext.compose = function(op1, op2) {\n  checkValidOp(op1);\n  checkValidOp(op2);\n  var newOp = op1.slice();\n  for (var i = 0; i < op2.length; i++) {\n    append(newOp, op2[i]);\n  }\n  return newOp;\n};\n\n/** Clean up an op */\ntext.normalize = function(op) {\n  var newOp = [];\n\n  // Normalize should allow ops which are a single (unwrapped) component:\n  // {i:'asdf', p:23}.\n  // There's no good way to test if something is an array:\n  // http://perfectionkills.com/instanceof-considered-harmful-or-how-to-write-a-robust-isarray/\n  // so this is probably the least bad solution.\n  if (op.i != null || op.p != null) op = [op];\n\n  for (var i = 0; i < op.length; i++) {\n    var c = op[i];\n    if (c.p == null) c.p = 0;\n\n    append(newOp, c);\n  }\n\n  return newOp;\n};\n\n// This helper method transforms a position by an op component.\n//\n// If c is an insert, insertAfter specifies whether the transform\n// is pushed after the insert (true) or before it (false).\n//\n// insertAfter is optional for deletes.\nvar transformPosition = function(pos, c, insertAfter) {\n  // This will get collapsed into a giant ternary by uglify.\n  if (c.i != null) {\n    if (c.p < pos || (c.p === pos && insertAfter)) {\n      return pos + c.i.length;\n    } else {\n      return pos;\n    }\n  } else {\n    // I think this could also be written as: Math.min(c.p, Math.min(c.p -\n    // otherC.p, otherC.d.length)) but I think its harder to read that way, and\n    // it compiles using ternary operators anyway so its no slower written like\n    // this.\n    if (pos <= c.p) {\n      return pos;\n    } else if (pos <= c.p + c.d.length) {\n      return c.p;\n    } else {\n      return pos - c.d.length;\n    }\n  }\n};\n\n// Helper method to transform a cursor position as a result of an op.\n//\n// Like transformPosition above, if c is an insert, insertAfter specifies\n// whether the cursor position is pushed after an insert (true) or before it\n// (false).\ntext.transformCursor = function(position, op, side) {\n  var insertAfter = side === 'right';\n  for (var i = 0; i < op.length; i++) {\n    position = transformPosition(position, op[i], insertAfter);\n  }\n\n  return position;\n};\n\n// Transform an op component by another op component. Asymmetric.\n// The result will be appended to destination.\n//\n// exported for use in JSON type\nvar transformComponent = text._tc = function(dest, c, otherC, side) {\n  //var cIntersect, intersectEnd, intersectStart, newC, otherIntersect, s;\n\n  checkValidComponent(c);\n  checkValidComponent(otherC);\n\n  if (c.i != null) {\n    // Insert.\n    append(dest, {i:c.i, p:transformPosition(c.p, otherC, side === 'right')});\n  } else {\n    // Delete\n    if (otherC.i != null) {\n      // Delete vs insert\n      var s = c.d;\n      if (c.p < otherC.p) {\n        append(dest, {d:s.slice(0, otherC.p - c.p), p:c.p});\n        s = s.slice(otherC.p - c.p);\n      }\n      if (s !== '')\n        append(dest, {d: s, p: c.p + otherC.i.length});\n\n    } else {\n      // Delete vs delete\n      if (c.p >= otherC.p + otherC.d.length)\n        append(dest, {d: c.d, p: c.p - otherC.d.length});\n      else if (c.p + c.d.length <= otherC.p)\n        append(dest, c);\n      else {\n        // They overlap somewhere.\n        var newC = {d: '', p: c.p};\n\n        if (c.p < otherC.p)\n          newC.d = c.d.slice(0, otherC.p - c.p);\n\n        if (c.p + c.d.length > otherC.p + otherC.d.length)\n          newC.d += c.d.slice(otherC.p + otherC.d.length - c.p);\n\n        // This is entirely optional - I'm just checking the deleted text in\n        // the two ops matches\n        var intersectStart = Math.max(c.p, otherC.p);\n        var intersectEnd = Math.min(c.p + c.d.length, otherC.p + otherC.d.length);\n        var cIntersect = c.d.slice(intersectStart - c.p, intersectEnd - c.p);\n        var otherIntersect = otherC.d.slice(intersectStart - otherC.p, intersectEnd - otherC.p);\n        if (cIntersect !== otherIntersect)\n          throw new Error('Delete ops delete different text in the same region of the document');\n\n        if (newC.d !== '') {\n          newC.p = transformPosition(newC.p, otherC);\n          append(dest, newC);\n        }\n      }\n    }\n  }\n\n  return dest;\n};\n\nvar invertComponent = function(c) {\n  return (c.i != null) ? {d:c.i, p:c.p} : {i:c.d, p:c.p};\n};\n\n// No need to use append for invert, because the components won't be able to\n// cancel one another.\ntext.invert = function(op) {\n  // Shallow copy & reverse that sucka.\n  op = op.slice().reverse();\n  for (var i = 0; i < op.length; i++) {\n    op[i] = invertComponent(op[i]);\n  }\n  return op;\n};\n\nrequire('./bootstrapTransform')(text, transformComponent, checkValidOp, append);\n",
    "/*\n This is the implementation of the JSON OT type.\n\n Spec is here: https://github.com/josephg/ShareJS/wiki/JSON-Operations\n\n Note: This is being made obsolete. It will soon be replaced by the JSON2 type.\n*/\n\n/**\n * UTILITY FUNCTIONS\n */\n\n/**\n * Checks if the passed object is an Array instance. Can't use Array.isArray\n * yet because its not supported on IE8.\n *\n * @param obj\n * @returns {boolean}\n */\nvar isArray = function(obj) {\n  return Object.prototype.toString.call(obj) == '[object Array]';\n};\n\n/**\n * Checks if the passed object is an Object instance.\n * No function call (fast) version\n *\n * @param obj\n * @returns {boolean}\n */\nvar isObject = function(obj) {\n  return (!!obj) && (obj.constructor === Object);\n};\n\n/**\n * Clones the passed object using JSON serialization (which is slow).\n *\n * hax, copied from test/types/json. Apparently this is still the fastest way\n * to deep clone an object, assuming we have browser support for JSON.  @see\n * http://jsperf.com/cloning-an-object/12\n */\nvar clone = function(o) {\n  return JSON.parse(JSON.stringify(o));\n};\n\n/**\n * JSON OT Type\n * @type {*}\n */\nvar json = {\n  name: 'json0',\n  uri: 'http://sharejs.org/types/JSONv0'\n};\n\n// You can register another OT type as a subtype in a JSON document using\n// the following function. This allows another type to handle certain\n// operations instead of the builtin JSON type.\nvar subtypes = {};\njson.registerSubtype = function(subtype) {\n  subtypes[subtype.name] = subtype;\n};\n\njson.create = function(data) {\n  // Null instead of undefined if you don't pass an argument.\n  return data === undefined ? null : clone(data);\n};\n\njson.invertComponent = function(c) {\n  var c_ = {p: c.p};\n\n  // handle subtype ops\n  if (c.t && subtypes[c.t]) {\n    c_.t = c.t;\n    c_.o = subtypes[c.t].invert(c.o);\n  }\n\n  if (c.si !== void 0) c_.sd = c.si;\n  if (c.sd !== void 0) c_.si = c.sd;\n  if (c.oi !== void 0) c_.od = c.oi;\n  if (c.od !== void 0) c_.oi = c.od;\n  if (c.li !== void 0) c_.ld = c.li;\n  if (c.ld !== void 0) c_.li = c.ld;\n  if (c.na !== void 0) c_.na = -c.na;\n\n  if (c.lm !== void 0) {\n    c_.lm = c.p[c.p.length-1];\n    c_.p = c.p.slice(0,c.p.length-1).concat([c.lm]);\n  }\n\n  return c_;\n};\n\njson.invert = function(op) {\n  var op_ = op.slice().reverse();\n  var iop = [];\n  for (var i = 0; i < op_.length; i++) {\n    iop.push(json.invertComponent(op_[i]));\n  }\n  return iop;\n};\n\njson.checkValidOp = function(op) {\n  for (var i = 0; i < op.length; i++) {\n    if (!isArray(op[i].p)) throw new Error('Missing path');\n  }\n};\n\njson.checkList = function(elem) {\n  if (!isArray(elem))\n    throw new Error('Referenced element not a list');\n};\n\njson.checkObj = function(elem) {\n  if (!isObject(elem)) {\n    throw new Error(\"Referenced element not an object (it was \" + JSON.stringify(elem) + \")\");\n  }\n};\n\n// helper functions to convert old string ops to and from subtype ops\nfunction convertFromText(c) {\n  c.t = 'text0';\n  var o = {p: c.p.pop()};\n  if (c.si != null) o.i = c.si;\n  if (c.sd != null) o.d = c.sd;\n  c.o = [o];\n}\n\nfunction convertToText(c) {\n  c.p.push(c.o[0].p);\n  if (c.o[0].i != null) c.si = c.o[0].i;\n  if (c.o[0].d != null) c.sd = c.o[0].d;\n  delete c.t;\n  delete c.o;\n}\n\njson.apply = function(snapshot, op) {\n  json.checkValidOp(op);\n\n  op = clone(op);\n\n  var container = {\n    data: snapshot\n  };\n\n  for (var i = 0; i < op.length; i++) {\n    var c = op[i];\n\n    // convert old string ops to use subtype for backwards compatibility\n    if (c.si != null || c.sd != null)\n      convertFromText(c);\n\n    var parent = null;\n    var parentKey = null;\n    var elem = container;\n    var key = 'data';\n\n    for (var j = 0; j < c.p.length; j++) {\n      var p = c.p[j];\n\n      parent = elem;\n      parentKey = key;\n      elem = elem[key];\n      key = p;\n\n      if (parent == null)\n        throw new Error('Path invalid');\n    }\n\n    // handle subtype ops\n    if (c.t && c.o !== void 0 && subtypes[c.t]) {\n      elem[key] = subtypes[c.t].apply(elem[key], c.o);\n\n    // Number add\n    } else if (c.na !== void 0) {\n      if (typeof elem[key] != 'number')\n        throw new Error('Referenced element not a number');\n\n      elem[key] += c.na;\n    }\n\n    // List replace\n    else if (c.li !== void 0 && c.ld !== void 0) {\n      json.checkList(elem);\n      // Should check the list element matches c.ld\n      elem[key] = c.li;\n    }\n\n    // List insert\n    else if (c.li !== void 0) {\n      json.checkList(elem);\n      elem.splice(key,0, c.li);\n    }\n\n    // List delete\n    else if (c.ld !== void 0) {\n      json.checkList(elem);\n      // Should check the list element matches c.ld here too.\n      elem.splice(key,1);\n    }\n\n    // List move\n    else if (c.lm !== void 0) {\n      json.checkList(elem);\n      if (c.lm != key) {\n        var e = elem[key];\n        // Remove it...\n        elem.splice(key,1);\n        // And insert it back.\n        elem.splice(c.lm,0,e);\n      }\n    }\n\n    // Object insert / replace\n    else if (c.oi !== void 0) {\n      json.checkObj(elem);\n\n      // Should check that elem[key] == c.od\n      elem[key] = c.oi;\n    }\n\n    // Object delete\n    else if (c.od !== void 0) {\n      json.checkObj(elem);\n\n      // Should check that elem[key] == c.od\n      delete elem[key];\n    }\n\n    else {\n      throw new Error('invalid / missing instruction in op');\n    }\n  }\n\n  return container.data;\n};\n\n// Helper to break an operation up into a bunch of small ops.\njson.shatter = function(op) {\n  var results = [];\n  for (var i = 0; i < op.length; i++) {\n    results.push([op[i]]);\n  }\n  return results;\n};\n\n// Helper for incrementally applying an operation to a snapshot. Calls yield\n// after each op component has been applied.\njson.incrementalApply = function(snapshot, op, _yield) {\n  for (var i = 0; i < op.length; i++) {\n    var smallOp = [op[i]];\n    snapshot = json.apply(snapshot, smallOp);\n    // I'd just call this yield, but thats a reserved keyword. Bah!\n    _yield(smallOp, snapshot);\n  }\n\n  return snapshot;\n};\n\n// Checks if two paths, p1 and p2 match.\nvar pathMatches = json.pathMatches = function(p1, p2, ignoreLast) {\n  if (p1.length != p2.length)\n    return false;\n\n  for (var i = 0; i < p1.length; i++) {\n    if (p1[i] !== p2[i] && (!ignoreLast || i !== p1.length - 1))\n      return false;\n  }\n\n  return true;\n};\n\njson.append = function(dest,c) {\n  c = clone(c);\n\n  if (dest.length === 0) {\n    dest.push(c);\n    return;\n  }\n\n  var last = dest[dest.length - 1];\n\n  // convert old string ops to use subtype for backwards compatibility\n  if ((c.si != null || c.sd != null) && (last.si != null || last.sd != null)) {\n    convertFromText(c);\n    convertFromText(last);\n  }\n\n  if (pathMatches(c.p, last.p)) {\n    // handle subtype ops\n    if (c.t && last.t && c.t === last.t && subtypes[c.t]) {\n      last.o = subtypes[c.t].compose(last.o, c.o);\n\n      // convert back to old string ops\n      if (c.si != null || c.sd != null) {\n        var p = c.p;\n        for (var i = 0; i < last.o.length - 1; i++) {\n          c.o = [last.o.pop()];\n          c.p = p.slice();\n          convertToText(c);\n          dest.push(c);\n        }\n\n        convertToText(last);\n      }\n    } else if (last.na != null && c.na != null) {\n      dest[dest.length - 1] = {p: last.p, na: last.na + c.na};\n    } else if (last.li !== undefined && c.li === undefined && c.ld === last.li) {\n      // insert immediately followed by delete becomes a noop.\n      if (last.ld !== undefined) {\n        // leave the delete part of the replace\n        delete last.li;\n      } else {\n        dest.pop();\n      }\n    } else if (last.od !== undefined && last.oi === undefined && c.oi !== undefined && c.od === undefined) {\n      last.oi = c.oi;\n    } else if (last.oi !== undefined && c.od !== undefined) {\n      // The last path component inserted something that the new component deletes (or replaces).\n      // Just merge them.\n      if (c.oi !== undefined) {\n        last.oi = c.oi;\n      } else if (last.od !== undefined) {\n        delete last.oi;\n      } else {\n        // An insert directly followed by a delete turns into a no-op and can be removed.\n        dest.pop();\n      }\n    } else if (c.lm !== undefined && c.p[c.p.length - 1] === c.lm) {\n      // don't do anything\n    } else {\n      dest.push(c);\n    }\n  } else {\n    // convert string ops back\n    if ((c.si != null || c.sd != null) && (last.si != null || last.sd != null)) {\n      convertToText(c);\n      convertToText(last);\n    }\n\n    dest.push(c);\n  }\n};\n\njson.compose = function(op1,op2) {\n  json.checkValidOp(op1);\n  json.checkValidOp(op2);\n\n  var newOp = clone(op1);\n\n  for (var i = 0; i < op2.length; i++) {\n    json.append(newOp,op2[i]);\n  }\n\n  return newOp;\n};\n\njson.normalize = function(op) {\n  var newOp = [];\n\n  op = isArray(op) ? op : [op];\n\n  for (var i = 0; i < op.length; i++) {\n    var c = op[i];\n    if (c.p == null) c.p = [];\n\n    json.append(newOp,c);\n  }\n\n  return newOp;\n};\n\n// Returns the common length of the paths of ops a and b\njson.commonLengthForOps = function(a, b) {\n  var alen = a.p.length;\n  var blen = b.p.length;\n  if (a.na != null || a.t)\n    alen++;\n\n  if (b.na != null || b.t)\n    blen++;\n\n  if (alen === 0) return -1;\n  if (blen === 0) return null;\n\n  alen--;\n  blen--;\n\n  for (var i = 0; i < alen; i++) {\n    var p = a.p[i];\n    if (i >= blen || p !== b.p[i])\n      return null;\n  }\n\n  return alen;\n};\n\n// Returns true if an op can affect the given path\njson.canOpAffectPath = function(op, path) {\n  return json.commonLengthForOps({p:path}, op) != null;\n};\n\n// transform c so it applies to a document with otherC applied.\njson.transformComponent = function(dest, c, otherC, type) {\n  c = clone(c);\n\n  var common = json.commonLengthForOps(otherC, c);\n  var common2 = json.commonLengthForOps(c, otherC);\n  var cplength = c.p.length;\n  var otherCplength = otherC.p.length;\n\n  if (c.na != null || c.t)\n    cplength++;\n\n  if (otherC.na != null || otherC.t)\n    otherCplength++;\n\n  // if c is deleting something, and that thing is changed by otherC, we need to\n  // update c to reflect that change for invertibility.\n  if (common2 != null && otherCplength > cplength && c.p[common2] == otherC.p[common2]) {\n    if (c.ld !== void 0) {\n      var oc = clone(otherC);\n      oc.p = oc.p.slice(cplength);\n      c.ld = json.apply(clone(c.ld),[oc]);\n    } else if (c.od !== void 0) {\n      var oc = clone(otherC);\n      oc.p = oc.p.slice(cplength);\n      c.od = json.apply(clone(c.od),[oc]);\n    }\n  }\n\n  if (common != null) {\n    var commonOperand = cplength == otherCplength;\n\n    // backward compatibility for old string ops\n    var oc = otherC;\n    if ((c.si != null || c.sd != null) && (otherC.si != null || otherC.sd != null)) {\n      convertFromText(c);\n      oc = clone(otherC);\n      convertFromText(oc);\n    }\n\n    // handle subtype ops\n    if (oc.t && subtypes[oc.t]) {\n      if (c.t && c.t === oc.t) {\n        var res = subtypes[c.t].transform(c.o, oc.o, type);\n\n        // convert back to old string ops\n        if (c.si != null || c.sd != null) {\n          var p = c.p;\n          for (var i = 0; i < res.length; i++) {\n            c.o = [res[i]];\n            c.p = p.slice();\n            convertToText(c);\n            json.append(dest, c);\n          }\n        } else if (!isArray(res) || res.length > 0) {\n          c.o = res;\n          json.append(dest, c);\n        }\n\n        return dest;\n      }\n    }\n\n    // transform based on otherC\n    else if (otherC.na !== void 0) {\n      // this case is handled below\n    } else if (otherC.li !== void 0 && otherC.ld !== void 0) {\n      if (otherC.p[common] === c.p[common]) {\n        // noop\n\n        if (!commonOperand) {\n          return dest;\n        } else if (c.ld !== void 0) {\n          // we're trying to delete the same element, -> noop\n          if (c.li !== void 0 && type === 'left') {\n            // we're both replacing one element with another. only one can survive\n            c.ld = clone(otherC.li);\n          } else {\n            return dest;\n          }\n        }\n      }\n    } else if (otherC.li !== void 0) {\n      if (c.li !== void 0 && c.ld === undefined && commonOperand && c.p[common] === otherC.p[common]) {\n        // in li vs. li, left wins.\n        if (type === 'right')\n          c.p[common]++;\n      } else if (otherC.p[common] <= c.p[common]) {\n        c.p[common]++;\n      }\n\n      if (c.lm !== void 0) {\n        if (commonOperand) {\n          // otherC edits the same list we edit\n          if (otherC.p[common] <= c.lm)\n            c.lm++;\n          // changing c.from is handled above.\n        }\n      }\n    } else if (otherC.ld !== void 0) {\n      if (c.lm !== void 0) {\n        if (commonOperand) {\n          if (otherC.p[common] === c.p[common]) {\n            // they deleted the thing we're trying to move\n            return dest;\n          }\n          // otherC edits the same list we edit\n          var p = otherC.p[common];\n          var from = c.p[common];\n          var to = c.lm;\n          if (p < to || (p === to && from < to))\n            c.lm--;\n\n        }\n      }\n\n      if (otherC.p[common] < c.p[common]) {\n        c.p[common]--;\n      } else if (otherC.p[common] === c.p[common]) {\n        if (otherCplength < cplength) {\n          // we're below the deleted element, so -> noop\n          return dest;\n        } else if (c.ld !== void 0) {\n          if (c.li !== void 0) {\n            // we're replacing, they're deleting. we become an insert.\n            delete c.ld;\n          } else {\n            // we're trying to delete the same element, -> noop\n            return dest;\n          }\n        }\n      }\n\n    } else if (otherC.lm !== void 0) {\n      if (c.lm !== void 0 && cplength === otherCplength) {\n        // lm vs lm, here we go!\n        var from = c.p[common];\n        var to = c.lm;\n        var otherFrom = otherC.p[common];\n        var otherTo = otherC.lm;\n        if (otherFrom !== otherTo) {\n          // if otherFrom == otherTo, we don't need to change our op.\n\n          // where did my thing go?\n          if (from === otherFrom) {\n            // they moved it! tie break.\n            if (type === 'left') {\n              c.p[common] = otherTo;\n              if (from === to) // ugh\n                c.lm = otherTo;\n            } else {\n              return dest;\n            }\n          } else {\n            // they moved around it\n            if (from > otherFrom) c.p[common]--;\n            if (from > otherTo) c.p[common]++;\n            else if (from === otherTo) {\n              if (otherFrom > otherTo) {\n                c.p[common]++;\n                if (from === to) // ugh, again\n                  c.lm++;\n              }\n            }\n\n            // step 2: where am i going to put it?\n            if (to > otherFrom) {\n              c.lm--;\n            } else if (to === otherFrom) {\n              if (to > from)\n                c.lm--;\n            }\n            if (to > otherTo) {\n              c.lm++;\n            } else if (to === otherTo) {\n              // if we're both moving in the same direction, tie break\n              if ((otherTo > otherFrom && to > from) ||\n                  (otherTo < otherFrom && to < from)) {\n                if (type === 'right') c.lm++;\n              } else {\n                if (to > from) c.lm++;\n                else if (to === otherFrom) c.lm--;\n              }\n            }\n          }\n        }\n      } else if (c.li !== void 0 && c.ld === undefined && commonOperand) {\n        // li\n        var from = otherC.p[common];\n        var to = otherC.lm;\n        p = c.p[common];\n        if (p > from) c.p[common]--;\n        if (p > to) c.p[common]++;\n      } else {\n        // ld, ld+li, si, sd, na, oi, od, oi+od, any li on an element beneath\n        // the lm\n        //\n        // i.e. things care about where their item is after the move.\n        var from = otherC.p[common];\n        var to = otherC.lm;\n        p = c.p[common];\n        if (p === from) {\n          c.p[common] = to;\n        } else {\n          if (p > from) c.p[common]--;\n          if (p > to) c.p[common]++;\n          else if (p === to && from > to) c.p[common]++;\n        }\n      }\n    }\n    else if (otherC.oi !== void 0 && otherC.od !== void 0) {\n      if (c.p[common] === otherC.p[common]) {\n        if (c.oi !== void 0 && commonOperand) {\n          // we inserted where someone else replaced\n          if (type === 'right') {\n            // left wins\n            return dest;\n          } else {\n            // we win, make our op replace what they inserted\n            c.od = otherC.oi;\n          }\n        } else {\n          // -> noop if the other component is deleting the same object (or any parent)\n          return dest;\n        }\n      }\n    } else if (otherC.oi !== void 0) {\n      if (c.oi !== void 0 && c.p[common] === otherC.p[common]) {\n        // left wins if we try to insert at the same place\n        if (type === 'left') {\n          json.append(dest,{p: c.p, od:otherC.oi});\n        } else {\n          return dest;\n        }\n      }\n    } else if (otherC.od !== void 0) {\n      if (c.p[common] == otherC.p[common]) {\n        if (!commonOperand)\n          return dest;\n        if (c.oi !== void 0) {\n          delete c.od;\n        } else {\n          return dest;\n        }\n      }\n    }\n  }\n\n  json.append(dest,c);\n  return dest;\n};\n\nrequire('./bootstrapTransform')(json, json.transformComponent, json.checkValidOp, json.append);\n\n/**\n * Register a subtype for string operations, using the text0 type.\n */\nvar text = require('./text0');\n\njson.registerSubtype(text);\nmodule.exports = json;\n\n",
    "// Only the JSON type is exported, because the text type is deprecated\n// otherwise. (If you want to use it somewhere, you're welcome to pull it out\n// into a separate module that json0 can depend on).\n\nmodule.exports = {\n  type: require('./json0')\n};\n",
    "\nexports.defaultType = require('ot-json0').type;\n\nexports.map = {};\n\nexports.register = function(type) {\n  if (type.name) exports.map[type.name] = type;\n  if (type.uri) exports.map[type.uri] = type;\n};\n\nexports.register(exports.defaultType);\n",
    "var emitter = require('../emitter');\nvar logger = require('../logger');\nvar ShareDBError = require('../error');\nvar types = require('../types');\n\nvar ERROR_CODE = ShareDBError.CODES;\n\n/**\n * A Doc is a client's view on a sharejs document.\n *\n * It is is uniquely identified by its `id` and `collection`.  Documents\n * should not be created directly. Create them with connection.get()\n *\n *\n * Subscriptions\n * -------------\n *\n * We can subscribe a document to stay in sync with the server.\n *   doc.subscribe(function(error) {\n *     doc.subscribed // = true\n *   })\n * The server now sends us all changes concerning this document and these are\n * applied to our data. If the subscription was successful the initial\n * data and version sent by the server are loaded into the document.\n *\n * To stop listening to the changes we call `doc.unsubscribe()`.\n *\n * If we just want to load the data but not stay up-to-date, we call\n *   doc.fetch(function(error) {\n *     doc.data // sent by server\n *   })\n *\n *\n * Events\n * ------\n *\n * You can use doc.on(eventName, callback) to subscribe to the following events:\n * - `before op (op, source)` Fired before a partial operation is applied to the data.\n *   It may be used to read the old data just before applying an operation\n * - `op (op, source)` Fired after every partial operation with this operation as the\n *   first argument\n * - `create (source)` The document was created. That means its type was\n *   set and it has some initial data.\n * - `del (data, source)` Fired after the document is deleted, that is\n *   the data is null. It is passed the data before delteion as an\n *   arguments\n * - `load ()` Fired when a new snapshot is ingested from a fetch, subscribe, or query\n */\n\nmodule.exports = Doc;\nfunction Doc(connection, collection, id) {\n  emitter.EventEmitter.call(this);\n\n  this.connection = connection;\n\n  this.collection = collection;\n  this.id = id;\n\n  this.version = null;\n  this.type = null;\n  this.data = undefined;\n\n  // Array of callbacks or nulls as placeholders\n  this.inflightFetch = [];\n  this.inflightSubscribe = [];\n  this.inflightUnsubscribe = [];\n  this.pendingFetch = [];\n\n  // Whether we think we are subscribed on the server. Synchronously set to\n  // false on calls to unsubscribe and disconnect. Should never be true when\n  // this.wantSubscribe is false\n  this.subscribed = false;\n  // Whether to re-establish the subscription on reconnect\n  this.wantSubscribe = false;\n\n  // The op that is currently roundtripping to the server, or null.\n  //\n  // When the connection reconnects, the inflight op is resubmitted.\n  //\n  // This has the same format as an entry in pendingOps\n  this.inflightOp = null;\n\n  // All ops that are waiting for the server to acknowledge this.inflightOp\n  // This used to just be a single operation, but creates & deletes can't be\n  // composed with regular operations.\n  //\n  // This is a list of {[create:{...}], [del:true], [op:...], callbacks:[...]}\n  this.pendingOps = [];\n\n  // The OT type of this document. An uncreated document has type `null`\n  this.type = null;\n\n  // The applyStack enables us to track any ops submitted while we are\n  // applying an op incrementally. This value is an array when we are\n  // performing an incremental apply and null otherwise. When it is an array,\n  // all submitted ops should be pushed onto it. The `_otApply` method will\n  // reset it back to null when all incremental apply loops are complete.\n  this.applyStack = null;\n\n  // Disable the default behavior of composing submitted ops. This is read at\n  // the time of op submit, so it may be toggled on before submitting a\n  // specifc op and toggled off afterward\n  this.preventCompose = false;\n}\nemitter.mixin(Doc);\n\nDoc.prototype.destroy = function(callback) {\n  var doc = this;\n  doc.whenNothingPending(function() {\n    if (doc.wantSubscribe) {\n      doc.unsubscribe(function(err) {\n        if (err) {\n          if (callback) return callback(err);\n          return doc.emit('error', err);\n        }\n        doc.connection._destroyDoc(doc);\n        if (callback) callback();\n      });\n    } else {\n      doc.connection._destroyDoc(doc);\n      if (callback) callback();\n    }\n  });\n};\n\n\n// ****** Manipulating the document data, version and type.\n\n// Set the document's type, and associated properties. Most of the logic in\n// this function exists to update the document based on any added & removed API\n// methods.\n//\n// @param newType OT type provided by the ottypes library or its name or uri\nDoc.prototype._setType = function(newType) {\n  if (typeof newType === 'string') {\n    newType = types.map[newType];\n  }\n\n  if (newType) {\n    this.type = newType;\n  } else if (newType === null) {\n    this.type = newType;\n    // If we removed the type from the object, also remove its data\n    this.data = undefined;\n  } else {\n    var err = new ShareDBError(ERROR_CODE.ERR_DOC_TYPE_NOT_RECOGNIZED, 'Missing type ' + newType);\n    return this.emit('error', err);\n  }\n};\n\n// Ingest snapshot data. This data must include a version, snapshot and type.\n// This is used both to ingest data that was exported with a webpage and data\n// that was received from the server during a fetch.\n//\n// @param snapshot.v    version\n// @param snapshot.data\n// @param snapshot.type\n// @param callback\nDoc.prototype.ingestSnapshot = function(snapshot, callback) {\n  if (!snapshot) return callback && callback();\n\n  if (typeof snapshot.v !== 'number') {\n    var err = new ShareDBError(\n      ERROR_CODE.ERR_INGESTED_SNAPSHOT_HAS_NO_VERSION,\n      'Missing version in ingested snapshot. ' + this.collection + '.' + this.id\n    );\n    if (callback) return callback(err);\n    return this.emit('error', err);\n  }\n\n  // If the doc is already created or there are ops pending, we cannot use the\n  // ingested snapshot and need ops in order to update the document\n  if (this.type || this.hasWritePending()) {\n    // The version should only be null on a created document when it was\n    // created locally without fetching\n    if (this.version == null) {\n      if (this.hasWritePending()) {\n        // If we have pending ops and we get a snapshot for a locally created\n        // document, we have to wait for the pending ops to complete, because\n        // we don't know what version to fetch ops from. It is possible that\n        // the snapshot came from our local op, but it is also possible that\n        // the doc was created remotely (which would conflict and be an error)\n        return callback && this.once('no write pending', callback);\n      }\n      // Otherwise, we've encounted an error state\n      var err = new ShareDBError(\n        ERROR_CODE.ERR_DOC_MISSING_VERSION,\n        'Cannot ingest snapshot in doc with null version. ' + this.collection + '.' + this.id\n      );\n      if (callback) return callback(err);\n      return this.emit('error', err);\n    }\n    // If we got a snapshot for a version further along than the document is\n    // currently, issue a fetch to get the latest ops and catch us up\n    if (snapshot.v > this.version) return this.fetch(callback);\n    return callback && callback();\n  }\n\n  // Ignore the snapshot if we are already at a newer version. Under no\n  // circumstance should we ever set the current version backward\n  if (this.version > snapshot.v) return callback && callback();\n\n  this.version = snapshot.v;\n  var type = (snapshot.type === undefined) ? types.defaultType : snapshot.type;\n  this._setType(type);\n  this.data = (this.type && this.type.deserialize) ?\n    this.type.deserialize(snapshot.data) :\n    snapshot.data;\n  this.emit('load');\n  callback && callback();\n};\n\nDoc.prototype.whenNothingPending = function(callback) {\n  var doc = this;\n  process.nextTick(function() {\n    if (doc.hasPending()) {\n      doc.once('nothing pending', callback);\n      return;\n    }\n    callback();\n  });\n};\n\nDoc.prototype.hasPending = function() {\n  return !!(\n    this.inflightOp ||\n    this.pendingOps.length ||\n    this.inflightFetch.length ||\n    this.inflightSubscribe.length ||\n    this.inflightUnsubscribe.length ||\n    this.pendingFetch.length\n  );\n};\n\nDoc.prototype.hasWritePending = function() {\n  return !!(this.inflightOp || this.pendingOps.length);\n};\n\nDoc.prototype._emitNothingPending = function() {\n  if (this.hasWritePending()) return;\n  this.emit('no write pending');\n  if (this.hasPending()) return;\n  this.emit('nothing pending');\n};\n\n// **** Helpers for network messages\n\nDoc.prototype._emitResponseError = function(err, callback) {\n  if (err && err.code === ERROR_CODE.ERR_SNAPSHOT_READ_SILENT_REJECTION) {\n    this.wantSubscribe = false;\n    if (callback) {\n      callback();\n    }\n    this._emitNothingPending();\n    return;\n  }\n  if (callback) {\n    callback(err);\n    this._emitNothingPending();\n    return;\n  }\n  this._emitNothingPending();\n  this.emit('error', err);\n};\n\nDoc.prototype._handleFetch = function(err, snapshot) {\n  var callback = this.inflightFetch.shift();\n  if (err) return this._emitResponseError(err, callback);\n  this.ingestSnapshot(snapshot, callback);\n  this._emitNothingPending();\n};\n\nDoc.prototype._handleSubscribe = function(err, snapshot) {\n  var callback = this.inflightSubscribe.shift();\n  if (err) return this._emitResponseError(err, callback);\n  // Indicate we are subscribed only if the client still wants to be. In the\n  // time since calling subscribe and receiving a response from the server,\n  // unsubscribe could have been called and we might already be unsubscribed\n  // but not have received the response. Also, because requests from the\n  // client are not serialized and may take different async time to process,\n  // it is possible that we could hear responses back in a different order\n  // from the order originally sent\n  if (this.wantSubscribe) this.subscribed = true;\n  this.ingestSnapshot(snapshot, callback);\n  this._emitNothingPending();\n};\n\nDoc.prototype._handleUnsubscribe = function(err) {\n  var callback = this.inflightUnsubscribe.shift();\n  if (err) return this._emitResponseError(err, callback);\n  if (callback) callback();\n  this._emitNothingPending();\n};\n\nDoc.prototype._handleOp = function(err, message) {\n  if (err) {\n    if (this.inflightOp) {\n      // The server has rejected submission of the current operation. If we get\n      // an \"Op submit rejected\" error, this was done intentionally\n      // and we should roll back but not return an error to the user.\n      if (err.code === ERROR_CODE.ERR_OP_SUBMIT_REJECTED) err = null;\n      return this._rollback(err);\n    }\n    return this.emit('error', err);\n  }\n\n  if (this.inflightOp &&\n      message.src === this.inflightOp.src &&\n      message.seq === this.inflightOp.seq) {\n    // The op has already been applied locally. Just update the version\n    // and pending state appropriately\n    this._opAcknowledged(message);\n    return;\n  }\n\n  if (this.version == null || message.v > this.version) {\n    // This will happen in normal operation if we become subscribed to a\n    // new document via a query. It can also happen if we get an op for\n    // a future version beyond the version we are expecting next. This\n    // could happen if the server doesn't publish an op for whatever reason\n    // or because of a race condition. In any case, we can send a fetch\n    // command to catch back up.\n    //\n    // Fetch only sends a new fetch command if no fetches are inflight, which\n    // will act as a natural debouncing so we don't send multiple fetch\n    // requests for many ops received at once.\n    this.fetch();\n    return;\n  }\n\n  if (message.v < this.version) {\n    // We can safely ignore the old (duplicate) operation.\n    return;\n  }\n\n  if (this.inflightOp) {\n    var transformErr = transformX(this.inflightOp, message);\n    if (transformErr) return this._hardRollback(transformErr);\n  }\n\n  for (var i = 0; i < this.pendingOps.length; i++) {\n    var transformErr = transformX(this.pendingOps[i], message);\n    if (transformErr) return this._hardRollback(transformErr);\n  }\n\n  this.version++;\n  try {\n    this._otApply(message, false);\n  } catch (error) {\n    return this._hardRollback(error);\n  }\n};\n\n// Called whenever (you guessed it!) the connection state changes. This will\n// happen when we get disconnected & reconnect.\nDoc.prototype._onConnectionStateChanged = function() {\n  if (this.connection.canSend) {\n    this.flush();\n    this._resubscribe();\n  } else {\n    if (this.inflightOp) {\n      this.pendingOps.unshift(this.inflightOp);\n      this.inflightOp = null;\n    }\n    this.subscribed = false;\n    if (this.inflightFetch.length || this.inflightSubscribe.length) {\n      this.pendingFetch = this.pendingFetch.concat(this.inflightFetch, this.inflightSubscribe);\n      this.inflightFetch.length = 0;\n      this.inflightSubscribe.length = 0;\n    }\n    if (this.inflightUnsubscribe.length) {\n      var callbacks = this.inflightUnsubscribe;\n      this.inflightUnsubscribe = [];\n      callEach(callbacks);\n    }\n  }\n};\n\nDoc.prototype._resubscribe = function() {\n  var callbacks = this.pendingFetch;\n  this.pendingFetch = [];\n\n  if (this.wantSubscribe) {\n    if (callbacks.length) {\n      this.subscribe(function(err) {\n        callEach(callbacks, err);\n      });\n      return;\n    }\n    this.subscribe();\n    return;\n  }\n\n  if (callbacks.length) {\n    this.fetch(function(err) {\n      callEach(callbacks, err);\n    });\n  }\n};\n\n// Request the current document snapshot or ops that bring us up to date\nDoc.prototype.fetch = function(callback) {\n  if (this.connection.canSend) {\n    var isDuplicate = this.connection.sendFetch(this);\n    pushActionCallback(this.inflightFetch, isDuplicate, callback);\n    return;\n  }\n  this.pendingFetch.push(callback);\n};\n\n// Fetch the initial document and keep receiving updates\nDoc.prototype.subscribe = function(callback) {\n  this.wantSubscribe = true;\n  if (this.connection.canSend) {\n    var isDuplicate = this.connection.sendSubscribe(this);\n    pushActionCallback(this.inflightSubscribe, isDuplicate, callback);\n    return;\n  }\n  this.pendingFetch.push(callback);\n};\n\n// Unsubscribe. The data will stay around in local memory, but we'll stop\n// receiving updates\nDoc.prototype.unsubscribe = function(callback) {\n  this.wantSubscribe = false;\n  // The subscribed state should be conservative in indicating when we are\n  // subscribed on the server. We'll actually be unsubscribed some time\n  // between sending the message and hearing back, but we cannot know exactly\n  // when. Thus, immediately mark us as not subscribed\n  this.subscribed = false;\n  if (this.connection.canSend) {\n    var isDuplicate = this.connection.sendUnsubscribe(this);\n    pushActionCallback(this.inflightUnsubscribe, isDuplicate, callback);\n    return;\n  }\n  if (callback) process.nextTick(callback);\n};\n\nfunction pushActionCallback(inflight, isDuplicate, callback) {\n  if (isDuplicate) {\n    var lastCallback = inflight.pop();\n    inflight.push(function(err) {\n      lastCallback && lastCallback(err);\n      callback && callback(err);\n    });\n  } else {\n    inflight.push(callback);\n  }\n}\n\n\n// Operations //\n\n// Send the next pending op to the server, if we can.\n//\n// Only one operation can be in-flight at a time. If an operation is already on\n// its way, or we're not currently connected, this method does nothing.\nDoc.prototype.flush = function() {\n  // Ignore if we can't send or we are already sending an op\n  if (!this.connection.canSend || this.inflightOp) return;\n\n  // Send first pending op unless paused\n  if (!this.paused && this.pendingOps.length) {\n    this._sendOp();\n  }\n};\n\n// Helper function to set op to contain a no-op.\nfunction setNoOp(op) {\n  delete op.op;\n  delete op.create;\n  delete op.del;\n}\n\n// Transform server op data by a client op, and vice versa. Ops are edited in place.\nfunction transformX(client, server) {\n  // Order of statements in this function matters. Be especially careful if\n  // refactoring this function\n\n  // A client delete op should dominate if both the server and the client\n  // delete the document. Thus, any ops following the client delete (such as a\n  // subsequent create) will be maintained, since the server op is transformed\n  // to a no-op\n  if (client.del) return setNoOp(server);\n\n  if (server.del) {\n    return new ShareDBError(ERROR_CODE.ERR_DOC_WAS_DELETED, 'Document was deleted');\n  }\n  if (server.create) {\n    return new ShareDBError(ERROR_CODE.ERR_DOC_ALREADY_CREATED, 'Document already created');\n  }\n\n  // Ignore no-op coming from server\n  if (!server.op) return;\n\n  // I believe that this should not occur, but check just in case\n  if (client.create) {\n    return new ShareDBError(ERROR_CODE.ERR_DOC_ALREADY_CREATED, 'Document already created');\n  }\n\n  // They both edited the document. This is the normal case for this function -\n  // as in, most of the time we'll end up down here.\n  //\n  // You should be wondering why I'm using client.type instead of this.type.\n  // The reason is, if we get ops at an old version of the document, this.type\n  // might be undefined or a totally different type. By pinning the type to the\n  // op data, we make sure the right type has its transform function called.\n  if (client.type.transformX) {\n    var result = client.type.transformX(client.op, server.op);\n    client.op = result[0];\n    server.op = result[1];\n  } else {\n    var clientOp = client.type.transform(client.op, server.op, 'left');\n    var serverOp = client.type.transform(server.op, client.op, 'right');\n    client.op = clientOp;\n    server.op = serverOp;\n  }\n};\n\n/**\n * Applies the operation to the snapshot\n *\n * If the operation is create or delete it emits `create` or `del`. Then the\n * operation is applied to the snapshot and `op` and `after op` are emitted.\n * If the type supports incremental updates and `this.incremental` is true we\n * fire `op` after every small operation.\n *\n * This is the only function to fire the above mentioned events.\n *\n * @private\n */\nDoc.prototype._otApply = function(op, source) {\n  if (op.op) {\n    if (!this.type) {\n      // Throw here, because all usage of _otApply should be wrapped with a try/catch\n      throw new ShareDBError(\n        ERROR_CODE.ERR_DOC_DOES_NOT_EXIST,\n        'Cannot apply op to uncreated document. ' + this.collection + '.' + this.id\n      );\n    }\n\n    // Iteratively apply multi-component remote operations and rollback ops\n    // (source === false) for the default JSON0 OT type. It could use\n    // type.shatter(), but since this code is so specific to use cases for the\n    // JSON0 type and ShareDB explicitly bundles the default type, we might as\n    // well write it this way and save needing to iterate through the op\n    // components twice.\n    //\n    // Ideally, we would not need this extra complexity. However, it is\n    // helpful for implementing bindings that update DOM nodes and other\n    // stateful objects by translating op events directly into corresponding\n    // mutations. Such bindings are most easily written as responding to\n    // individual op components one at a time in order, and it is important\n    // that the snapshot only include updates from the particular op component\n    // at the time of emission. Eliminating this would require rethinking how\n    // such external bindings are implemented.\n    if (!source && this.type === types.defaultType && op.op.length > 1) {\n      if (!this.applyStack) this.applyStack = [];\n      var stackLength = this.applyStack.length;\n      for (var i = 0; i < op.op.length; i++) {\n        var component = op.op[i];\n        var componentOp = {op: [component]};\n        // Transform componentOp against any ops that have been submitted\n        // sychronously inside of an op event handler since we began apply of\n        // our operation\n        for (var j = stackLength; j < this.applyStack.length; j++) {\n          var transformErr = transformX(this.applyStack[j], componentOp);\n          if (transformErr) return this._hardRollback(transformErr);\n        }\n        // Apply the individual op component\n        this.emit('before op', componentOp.op, source);\n        this.data = this.type.apply(this.data, componentOp.op);\n        this.emit('op', componentOp.op, source);\n      }\n      // Pop whatever was submitted since we started applying this op\n      this._popApplyStack(stackLength);\n      return;\n    }\n\n    // The 'before op' event enables clients to pull any necessary data out of\n    // the snapshot before it gets changed\n    this.emit('before op', op.op, source);\n    // Apply the operation to the local data, mutating it in place\n    this.data = this.type.apply(this.data, op.op);\n    // Emit an 'op' event once the local data includes the changes from the\n    // op. For locally submitted ops, this will be synchronously with\n    // submission and before the server or other clients have received the op.\n    // For ops from other clients, this will be after the op has been\n    // committed to the database and published\n    this.emit('op', op.op, source);\n    return;\n  }\n\n  if (op.create) {\n    this._setType(op.create.type);\n    this.data = (this.type.deserialize) ?\n      (this.type.createDeserialized) ?\n        this.type.createDeserialized(op.create.data) :\n        this.type.deserialize(this.type.create(op.create.data)) :\n      this.type.create(op.create.data);\n    this.emit('create', source);\n    return;\n  }\n\n  if (op.del) {\n    var oldData = this.data;\n    this._setType(null);\n    this.emit('del', oldData, source);\n    return;\n  }\n};\n\n\n// ***** Sending operations\n\n// Actually send op to the server.\nDoc.prototype._sendOp = function() {\n  // Wait until we have a src id from the server\n  var src = this.connection.id;\n  if (!src) return;\n\n  // When there is no inflightOp, send the first item in pendingOps. If\n  // there is inflightOp, try sending it again\n  if (!this.inflightOp) {\n    // Send first pending op\n    this.inflightOp = this.pendingOps.shift();\n  }\n  var op = this.inflightOp;\n  if (!op) {\n    var err = new ShareDBError(ERROR_CODE.ERR_INFLIGHT_OP_MISSING, 'No op to send on call to _sendOp');\n    return this.emit('error', err);\n  }\n\n  // Track data for retrying ops\n  op.sentAt = Date.now();\n  op.retries = (op.retries == null) ? 0 : op.retries + 1;\n\n  // The src + seq number is a unique ID representing this operation. This tuple\n  // is used on the server to detect when ops have been sent multiple times and\n  // on the client to match acknowledgement of an op back to the inflightOp.\n  // Note that the src could be different from this.connection.id after a\n  // reconnect, since an op may still be pending after the reconnection and\n  // this.connection.id will change. In case an op is sent multiple times, we\n  // also need to be careful not to override the original seq value.\n  if (op.seq == null) op.seq = this.connection.seq++;\n\n  this.connection.sendOp(this, op);\n\n  // src isn't needed on the first try, since the server session will have the\n  // same id, but it must be set on the inflightOp in case it is sent again\n  // after a reconnect and the connection's id has changed by then\n  if (op.src == null) op.src = src;\n};\n\n\n// Queues the operation for submission to the server and applies it locally.\n//\n// Internal method called to do the actual work for submit(), create() and del().\n// @private\n//\n// @param op\n// @param [op.op]\n// @param [op.del]\n// @param [op.create]\n// @param [callback] called when operation is submitted\nDoc.prototype._submit = function(op, source, callback) {\n  // Locally submitted ops must always have a truthy source\n  if (!source) source = true;\n\n  // The op contains either op, create, delete, or none of the above (a no-op).\n  if (op.op) {\n    if (!this.type) {\n      var err = new ShareDBError(\n        ERROR_CODE.ERR_DOC_DOES_NOT_EXIST,\n        'Cannot submit op. Document has not been created. ' + this.collection + '.' + this.id\n      );\n      if (callback) return callback(err);\n      return this.emit('error', err);\n    }\n    // Try to normalize the op. This removes trailing skip:0's and things like that.\n    if (this.type.normalize) op.op = this.type.normalize(op.op);\n  }\n\n  try {\n    this._pushOp(op, callback);\n    this._otApply(op, source);\n  } catch (error) {\n    return this._hardRollback(error);\n  }\n\n  // The call to flush is delayed so if submit() is called multiple times\n  // synchronously, all the ops are combined before being sent to the server.\n  var doc = this;\n  process.nextTick(function() {\n    doc.flush();\n  });\n};\n\nDoc.prototype._pushOp = function(op, callback) {\n  if (this.applyStack) {\n    // If we are in the process of incrementally applying an operation, don't\n    // compose the op and push it onto the applyStack so it can be transformed\n    // against other components from the op or ops being applied\n    this.applyStack.push(op);\n  } else {\n    // If the type supports composes, try to compose the operation onto the\n    // end of the last pending operation.\n    var composed = this._tryCompose(op);\n    if (composed) {\n      composed.callbacks.push(callback);\n      return;\n    }\n  }\n  // Push on to the pendingOps queue of ops to submit if we didn't compose\n  op.type = this.type;\n  op.callbacks = [callback];\n  this.pendingOps.push(op);\n};\n\nDoc.prototype._popApplyStack = function(to) {\n  if (to > 0) {\n    this.applyStack.length = to;\n    return;\n  }\n  // Once we have completed the outermost apply loop, reset to null and no\n  // longer add ops to the applyStack as they are submitted\n  var op = this.applyStack[0];\n  this.applyStack = null;\n  if (!op) return;\n  // Compose the ops added since the beginning of the apply stack, since we\n  // had to skip compose when they were originally pushed\n  var i = this.pendingOps.indexOf(op);\n  if (i === -1) return;\n  var ops = this.pendingOps.splice(i);\n  for (var i = 0; i < ops.length; i++) {\n    var op = ops[i];\n    var composed = this._tryCompose(op);\n    if (composed) {\n      composed.callbacks = composed.callbacks.concat(op.callbacks);\n    } else {\n      this.pendingOps.push(op);\n    }\n  }\n};\n\n// Try to compose a submitted op into the last pending op. Returns the\n// composed op if it succeeds, undefined otherwise\nDoc.prototype._tryCompose = function(op) {\n  if (this.preventCompose) return;\n\n  // We can only compose into the last pending op. Inflight ops have already\n  // been sent to the server, so we can't modify them\n  var last = this.pendingOps[this.pendingOps.length - 1];\n  if (!last || last.sentAt) return;\n\n  // Compose an op into a create by applying it. This effectively makes the op\n  // invisible, as if the document were created including the op originally\n  if (last.create && op.op) {\n    last.create.data = this.type.apply(last.create.data, op.op);\n    return last;\n  }\n\n  // Compose two ops into a single op if supported by the type. Types that\n  // support compose must be able to compose any two ops together\n  if (last.op && op.op && this.type.compose) {\n    last.op = this.type.compose(last.op, op.op);\n    return last;\n  }\n};\n\n// *** Client OT entrypoints.\n\n// Submit an operation to the document.\n//\n// @param operation handled by the OT type\n// @param options  {source: ...}\n// @param [callback] called after operation submitted\n//\n// @fires before op, op, after op\nDoc.prototype.submitOp = function(component, options, callback) {\n  if (typeof options === 'function') {\n    callback = options;\n    options = null;\n  }\n  var op = {op: component};\n  var source = options && options.source;\n  this._submit(op, source, callback);\n};\n\n// Create the document, which in ShareJS semantics means to set its type. Every\n// object implicitly exists in the database but has no data and no type. Create\n// sets the type of the object and can optionally set some initial data on the\n// object, depending on the type.\n//\n// @param data  initial\n// @param type  OT type\n// @param options  {source: ...}\n// @param callback  called when operation submitted\nDoc.prototype.create = function(data, type, options, callback) {\n  if (typeof type === 'function') {\n    callback = type;\n    options = null;\n    type = null;\n  } else if (typeof options === 'function') {\n    callback = options;\n    options = null;\n  }\n  if (!type) {\n    type = types.defaultType.uri;\n  }\n  if (this.type) {\n    var err = new ShareDBError(ERROR_CODE.ERR_DOC_ALREADY_CREATED, 'Document already exists');\n    if (callback) return callback(err);\n    return this.emit('error', err);\n  }\n  var op = {create: {type: type, data: data}};\n  var source = options && options.source;\n  this._submit(op, source, callback);\n};\n\n// Delete the document. This creates and submits a delete operation to the\n// server. Deleting resets the object's type to null and deletes its data. The\n// document still exists, and still has the version it used to have before you\n// deleted it (well, old version +1).\n//\n// @param options  {source: ...}\n// @param callback  called when operation submitted\nDoc.prototype.del = function(options, callback) {\n  if (typeof options === 'function') {\n    callback = options;\n    options = null;\n  }\n  if (!this.type) {\n    var err = new ShareDBError(ERROR_CODE.ERR_DOC_DOES_NOT_EXIST, 'Document does not exist');\n    if (callback) return callback(err);\n    return this.emit('error', err);\n  }\n  var op = {del: true};\n  var source = options && options.source;\n  this._submit(op, source, callback);\n};\n\n\n// Stops the document from sending any operations to the server.\nDoc.prototype.pause = function() {\n  this.paused = true;\n};\n\n// Continue sending operations to the server\nDoc.prototype.resume = function() {\n  this.paused = false;\n  this.flush();\n};\n\n\n// *** Receiving operations\n\n// This is called when the server acknowledges an operation from the client.\nDoc.prototype._opAcknowledged = function(message) {\n  if (this.inflightOp.create) {\n    this.version = message.v;\n  } else if (message.v !== this.version) {\n    // We should already be at the same version, because the server should\n    // have sent all the ops that have happened before acknowledging our op\n    logger.warn('Invalid version from server. Expected: ' + this.version + ' Received: ' + message.v, message);\n\n    // Fetching should get us back to a working document state\n    return this.fetch();\n  }\n\n  // The op was committed successfully. Increment the version number\n  this.version++;\n\n  this._clearInflightOp();\n};\n\nDoc.prototype._rollback = function(err) {\n  // The server has rejected submission of the current operation. Invert by\n  // just the inflight op if possible. If not possible to invert, cancel all\n  // pending ops and fetch the latest from the server to get us back into a\n  // working state, then call back\n  var op = this.inflightOp;\n\n  if (op.op && op.type.invert) {\n    op.op = op.type.invert(op.op);\n\n    // Transform the undo operation by any pending ops.\n    for (var i = 0; i < this.pendingOps.length; i++) {\n      var transformErr = transformX(this.pendingOps[i], op);\n      if (transformErr) return this._hardRollback(transformErr);\n    }\n\n    // ... and apply it locally, reverting the changes.\n    //\n    // This operation is applied to look like it comes from a remote source.\n    // I'm still not 100% sure about this functionality, because its really a\n    // local op. Basically, the problem is that if the client's op is rejected\n    // by the server, the editor window should update to reflect the undo.\n    try {\n      this._otApply(op, false);\n    } catch (error) {\n      return this._hardRollback(error);\n    }\n\n    this._clearInflightOp(err);\n    return;\n  }\n\n  this._hardRollback(err);\n};\n\nDoc.prototype._hardRollback = function(err) {\n  // Store pending ops so that we can notify their callbacks of the error.\n  // We combine the inflight op and the pending ops, because it's possible\n  // to hit a condition where we have no inflight op, but we do have pending\n  // ops. This can happen when an invalid op is submitted, which causes us\n  // to hard rollback before the pending op was flushed.\n  var pendingOps = [];\n  if (this.inflightOp) pendingOps.push(this.inflightOp);\n  pendingOps = pendingOps.concat(this.pendingOps);\n\n  // Cancel all pending ops and reset if we can't invert\n  this._setType(null);\n  this.version = null;\n  this.inflightOp = null;\n  this.pendingOps = [];\n\n  // Fetch the latest version from the server to get us back into a working state\n  var doc = this;\n  this.fetch(function() {\n    // We want to check that no errors are swallowed, so we check that:\n    // - there are callbacks to call, and\n    // - that every single pending op called a callback\n    // If there are no ops queued, or one of them didn't handle the error,\n    // then we emit the error.\n    var allOpsHadCallbacks = !!pendingOps.length;\n    for (var i = 0; i < pendingOps.length; i++) {\n      allOpsHadCallbacks = callEach(pendingOps[i].callbacks, err) && allOpsHadCallbacks;\n    }\n    if (err && !allOpsHadCallbacks) return doc.emit('error', err);\n  });\n};\n\nDoc.prototype._clearInflightOp = function(err) {\n  var inflightOp = this.inflightOp;\n\n  this.inflightOp = null;\n\n  var called = callEach(inflightOp.callbacks, err);\n\n  this.flush();\n  this._emitNothingPending();\n\n  if (err && !called) return this.emit('error', err);\n};\n\nfunction callEach(callbacks, err) {\n  var called = false;\n  for (var i = 0; i < callbacks.length; i++) {\n    var callback = callbacks[i];\n    if (callback) {\n      callback(err);\n      called = true;\n    }\n  }\n  return called;\n}\n",
    "var emitter = require('../emitter');\n\n// Queries are live requests to the database for particular sets of fields.\n//\n// The server actively tells the client when there's new data that matches\n// a set of conditions.\nmodule.exports = Query;\nfunction Query(action, connection, id, collection, query, options, callback) {\n  emitter.EventEmitter.call(this);\n\n  // 'qf' or 'qs'\n  this.action = action;\n\n  this.connection = connection;\n  this.id = id;\n  this.collection = collection;\n\n  // The query itself. For mongo, this should look something like {\"data.x\":5}\n  this.query = query;\n\n  // A list of resulting documents. These are actual documents, complete with\n  // data and all the rest. It is possible to pass in an initial results set,\n  // so that a query can be serialized and then re-established\n  this.results = null;\n  if (options && options.results) {\n    this.results = options.results;\n    delete options.results;\n  }\n  this.extra = undefined;\n\n  // Options to pass through with the query\n  this.options = options;\n\n  this.callback = callback;\n  this.ready = false;\n  this.sent = false;\n}\nemitter.mixin(Query);\n\nQuery.prototype.hasPending = function() {\n  return !this.ready;\n};\n\n// Helper for subscribe & fetch, since they share the same message format.\n//\n// This function actually issues the query.\nQuery.prototype.send = function() {\n  if (!this.connection.canSend) return;\n\n  var message = {\n    a: this.action,\n    id: this.id,\n    c: this.collection,\n    q: this.query\n  };\n  if (this.options) {\n    message.o = this.options;\n  }\n  if (this.results) {\n    // Collect the version of all the documents in the current result set so we\n    // don't need to be sent their snapshots again.\n    var results = [];\n    for (var i = 0; i < this.results.length; i++) {\n      var doc = this.results[i];\n      results.push([doc.id, doc.version]);\n    }\n    message.r = results;\n  }\n\n  this.connection.send(message);\n  this.sent = true;\n};\n\n// Destroy the query object. Any subsequent messages for the query will be\n// ignored by the connection.\nQuery.prototype.destroy = function(callback) {\n  if (this.connection.canSend && this.action === 'qs') {\n    this.connection.send({a: 'qu', id: this.id});\n  }\n  this.connection._destroyQuery(this);\n  // There is a callback for consistency, but we don't actually wait for the\n  // server's unsubscribe message currently\n  if (callback) process.nextTick(callback);\n};\n\nQuery.prototype._onConnectionStateChanged = function() {\n  if (this.connection.canSend && !this.sent) {\n    this.send();\n  } else {\n    this.sent = false;\n  }\n};\n\nQuery.prototype._handleFetch = function(err, data, extra) {\n  // Once a fetch query gets its data, it is destroyed.\n  this.connection._destroyQuery(this);\n  this._handleResponse(err, data, extra);\n};\n\nQuery.prototype._handleSubscribe = function(err, data, extra) {\n  this._handleResponse(err, data, extra);\n};\n\nQuery.prototype._handleResponse = function(err, data, extra) {\n  var callback = this.callback;\n  this.callback = null;\n  if (err) return this._finishResponse(err, callback);\n  if (!data) return this._finishResponse(null, callback);\n\n  var query = this;\n  var wait = 1;\n  var finish = function(err) {\n    if (err) return query._finishResponse(err, callback);\n    if (--wait) return;\n    query._finishResponse(null, callback);\n  };\n\n  if (Array.isArray(data)) {\n    wait += data.length;\n    this.results = this._ingestSnapshots(data, finish);\n    this.extra = extra;\n  } else {\n    for (var id in data) {\n      wait++;\n      var snapshot = data[id];\n      var doc = this.connection.get(snapshot.c || this.collection, id);\n      doc.ingestSnapshot(snapshot, finish);\n    }\n  }\n\n  finish();\n};\n\nQuery.prototype._ingestSnapshots = function(snapshots, finish) {\n  var results = [];\n  for (var i = 0; i < snapshots.length; i++) {\n    var snapshot = snapshots[i];\n    var doc = this.connection.get(snapshot.c || this.collection, snapshot.d);\n    doc.ingestSnapshot(snapshot, finish);\n    results.push(doc);\n  }\n  return results;\n};\n\nQuery.prototype._finishResponse = function(err, callback) {\n  this.emit('ready');\n  this.ready = true;\n  if (err) {\n    this.connection._destroyQuery(this);\n    if (callback) return callback(err);\n    return this.emit('error', err);\n  }\n  if (callback) callback(null, this.results, this.extra);\n};\n\nQuery.prototype._handleError = function(err) {\n  this.emit('error', err);\n};\n\nQuery.prototype._handleDiff = function(diff) {\n  // We need to go through the list twice. First, we'll ingest all the new\n  // documents. After that we'll emit events and actually update our list.\n  // This avoids race conditions around setting documents to be subscribed &\n  // unsubscribing documents in event callbacks.\n  for (var i = 0; i < diff.length; i++) {\n    var d = diff[i];\n    if (d.type === 'insert') d.values = this._ingestSnapshots(d.values);\n  }\n\n  for (var i = 0; i < diff.length; i++) {\n    var d = diff[i];\n    switch (d.type) {\n      case 'insert':\n        var newDocs = d.values;\n        Array.prototype.splice.apply(this.results, [d.index, 0].concat(newDocs));\n        this.emit('insert', newDocs, d.index);\n        break;\n      case 'remove':\n        var howMany = d.howMany || 1;\n        var removed = this.results.splice(d.index, howMany);\n        this.emit('remove', removed, d.index);\n        break;\n      case 'move':\n        var howMany = d.howMany || 1;\n        var docs = this.results.splice(d.from, howMany);\n        Array.prototype.splice.apply(this.results, [d.to, 0].concat(docs));\n        this.emit('move', docs, d.from, d.to);\n        break;\n    }\n  }\n\n  this.emit('changed', this.results);\n};\n\nQuery.prototype._handleExtra = function(extra) {\n  this.extra = extra;\n  this.emit('extra', extra);\n};\n",
    "module.exports = Snapshot;\nfunction Snapshot(id, version, type, data, meta) {\n  this.id = id;\n  this.v = version;\n  this.type = type;\n  this.data = data;\n  this.m = meta;\n}\n",
    "var Snapshot = require('../../snapshot');\nvar emitter = require('../../emitter');\n\nmodule.exports = SnapshotRequest;\n\nfunction SnapshotRequest(connection, requestId, collection, id, callback) {\n  emitter.EventEmitter.call(this);\n\n  if (typeof callback !== 'function') {\n    throw new Error('Callback is required for SnapshotRequest');\n  }\n\n  this.requestId = requestId;\n  this.connection = connection;\n  this.id = id;\n  this.collection = collection;\n  this.callback = callback;\n\n  this.sent = false;\n}\nemitter.mixin(SnapshotRequest);\n\nSnapshotRequest.prototype.send = function() {\n  if (!this.connection.canSend) {\n    return;\n  }\n\n  this.connection.send(this._message());\n  this.sent = true;\n};\n\nSnapshotRequest.prototype._onConnectionStateChanged = function() {\n  if (this.connection.canSend) {\n    if (!this.sent) this.send();\n  } else {\n    // If the connection can't send, then we've had a disconnection, and even if we've already sent\n    // the request previously, we need to re-send it over this reconnected client, so reset the\n    // sent flag to false.\n    this.sent = false;\n  }\n};\n\nSnapshotRequest.prototype._handleResponse = function(error, message) {\n  this.emit('ready');\n\n  if (error) {\n    return this.callback(error);\n  }\n\n  var metadata = message.meta ? message.meta : null;\n  var snapshot = new Snapshot(this.id, message.v, message.type, message.data, metadata);\n\n  this.callback(null, snapshot);\n};\n",
    "\nexports.doNothing = doNothing;\nfunction doNothing() {}\n\nexports.hasKeys = function(object) {\n  for (var key in object) return true;\n  return false;\n};\n\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isInteger#Polyfill\nexports.isInteger = Number.isInteger || function(value) {\n  return typeof value === 'number' &&\n    isFinite(value) &&\n    Math.floor(value) === value;\n};\n\nexports.isValidVersion = function(version) {\n  if (version === null) return true;\n  return exports.isInteger(version) && version >= 0;\n};\n\nexports.isValidTimestamp = function(timestamp) {\n  return exports.isValidVersion(timestamp);\n};\n",
    "var SnapshotRequest = require('./snapshot-request');\nvar util = require('../../util');\n\nmodule.exports = SnapshotVersionRequest;\n\nfunction SnapshotVersionRequest(connection, requestId, collection, id, version, callback) {\n  SnapshotRequest.call(this, connection, requestId, collection, id, callback);\n\n  if (!util.isValidVersion(version)) {\n    throw new Error('Snapshot version must be a positive integer or null');\n  }\n\n  this.version = version;\n}\n\nSnapshotVersionRequest.prototype = Object.create(SnapshotRequest.prototype);\n\nSnapshotVersionRequest.prototype._message = function() {\n  return {\n    a: 'nf',\n    id: this.requestId,\n    c: this.collection,\n    d: this.id,\n    v: this.version\n  };\n};\n",
    "var SnapshotRequest = require('./snapshot-request');\nvar util = require('../../util');\n\nmodule.exports = SnapshotTimestampRequest;\n\nfunction SnapshotTimestampRequest(connection, requestId, collection, id, timestamp, callback) {\n  SnapshotRequest.call(this, connection, requestId, collection, id, callback);\n\n  if (!util.isValidTimestamp(timestamp)) {\n    throw new Error('Snapshot timestamp must be a positive integer or null');\n  }\n\n  this.timestamp = timestamp;\n}\n\nSnapshotTimestampRequest.prototype = Object.create(SnapshotRequest.prototype);\n\nSnapshotTimestampRequest.prototype._message = function() {\n  return {\n    a: 'nt',\n    id: this.requestId,\n    c: this.collection,\n    d: this.id,\n    ts: this.timestamp\n  };\n};\n",
    "var Doc = require('./doc');\nvar Query = require('./query');\nvar SnapshotVersionRequest = require('./snapshot-request/snapshot-version-request');\nvar SnapshotTimestampRequest = require('./snapshot-request/snapshot-timestamp-request');\nvar emitter = require('../emitter');\nvar ShareDBError = require('../error');\nvar types = require('../types');\nvar util = require('../util');\nvar logger = require('../logger');\n\nvar ERROR_CODE = ShareDBError.CODES;\n\nfunction connectionState(socket) {\n  if (socket.readyState === 0 || socket.readyState === 1) return 'connecting';\n  return 'disconnected';\n}\n\n/**\n * Handles communication with the sharejs server and provides queries and\n * documents.\n *\n * We create a connection with a socket object\n *   connection = new sharejs.Connection(sockset)\n * The socket may be any object handling the websocket protocol. See the\n * documentation of bindToSocket() for details. We then wait for the connection\n * to connect\n *   connection.on('connected', ...)\n * and are finally able to work with shared documents\n *   connection.get('food', 'steak') // Doc\n *\n * @param socket @see bindToSocket\n */\nmodule.exports = Connection;\nfunction Connection(socket) {\n  emitter.EventEmitter.call(this);\n\n  // Map of collection -> id -> doc object for created documents.\n  // (created documents MUST BE UNIQUE)\n  this.collections = {};\n\n  // Each query and snapshot request is created with an id that the server uses when it sends us\n  // info about the request (updates, etc)\n  this.nextQueryId = 1;\n  this.nextSnapshotRequestId = 1;\n\n  // Map from query ID -> query object.\n  this.queries = {};\n\n  // Map from snapshot request ID -> snapshot request\n  this._snapshotRequests = {};\n\n  // A unique message number for the given id\n  this.seq = 1;\n\n  // Equals agent.clientId on the server\n  this.id = null;\n\n  // This direct reference from connection to agent is not used internal to\n  // ShareDB, but it is handy for server-side only user code that may cache\n  // state on the agent and read it in middleware\n  this.agent = null;\n\n  this.debug = false;\n\n  this.state = connectionState(socket);\n\n  this.bindToSocket(socket);\n}\nemitter.mixin(Connection);\n\n\n/**\n * Use socket to communicate with server\n *\n * Socket is an object that can handle the websocket protocol. This method\n * installs the onopen, onclose, onmessage and onerror handlers on the socket to\n * handle communication and sends messages by calling socket.send(message). The\n * sockets `readyState` property is used to determine the initaial state.\n *\n * @param socket Handles the websocket protocol\n * @param socket.readyState\n * @param socket.close\n * @param socket.send\n * @param socket.onopen\n * @param socket.onclose\n * @param socket.onmessage\n * @param socket.onerror\n */\nConnection.prototype.bindToSocket = function(socket) {\n  if (this.socket) {\n    this.socket.close();\n    this.socket.onmessage = null;\n    this.socket.onopen = null;\n    this.socket.onerror = null;\n    this.socket.onclose = null;\n  }\n\n  this.socket = socket;\n\n  // State of the connection. The corresponding events are emitted when this changes\n  //\n  // - 'connecting'   The connection is still being established, or we are still\n  //                    waiting on the server to send us the initialization message\n  // - 'connected'    The connection is open and we have connected to a server\n  //                    and recieved the initialization message\n  // - 'disconnected' Connection is closed, but it will reconnect automatically\n  // - 'closed'       The connection was closed by the client, and will not reconnect\n  // - 'stopped'      The connection was closed by the server, and will not reconnect\n  var newState = connectionState(socket);\n  this._setState(newState);\n\n  // This is a helper variable the document uses to see whether we're\n  // currently in a 'live' state. It is true if and only if we're connected\n  this.canSend = false;\n\n  var connection = this;\n\n  socket.onmessage = function(event) {\n    try {\n      var data = (typeof event.data === 'string') ?\n        JSON.parse(event.data) : event.data;\n    } catch (err) {\n      logger.warn('Failed to parse message', event);\n      return;\n    }\n\n    if (connection.debug) logger.info('RECV', JSON.stringify(data));\n\n    var request = {data: data};\n    connection.emit('receive', request);\n    if (!request.data) return;\n\n    try {\n      connection.handleMessage(request.data);\n    } catch (err) {\n      process.nextTick(function() {\n        connection.emit('error', err);\n      });\n    }\n  };\n\n  socket.onopen = function() {\n    connection._setState('connecting');\n  };\n\n  socket.onerror = function(err) {\n    // This isn't the same as a regular error, because it will happen normally\n    // from time to time. Your connection should probably automatically\n    // reconnect anyway, but that should be triggered off onclose not onerror.\n    // (onclose happens when onerror gets called anyway).\n    connection.emit('connection error', err);\n  };\n\n  socket.onclose = function(reason) {\n    // node-browserchannel reason values:\n    //   'Closed' - The socket was manually closed by calling socket.close()\n    //   'Stopped by server' - The server sent the stop message to tell the client not to try connecting\n    //   'Request failed' - Server didn't respond to request (temporary, usually offline)\n    //   'Unknown session ID' - Server session for client is missing (temporary, will immediately reestablish)\n\n    if (reason === 'closed' || reason === 'Closed') {\n      connection._setState('closed', reason);\n    } else if (reason === 'stopped' || reason === 'Stopped by server') {\n      connection._setState('stopped', reason);\n    } else {\n      connection._setState('disconnected', reason);\n    }\n  };\n};\n\n/**\n * @param {object} message\n * @param {String} message.a action\n */\nConnection.prototype.handleMessage = function(message) {\n  var err = null;\n  if (message.error) {\n    err = wrapErrorData(message.error, message);\n    delete message.error;\n  }\n  // Switch on the message action. Most messages are for documents and are\n  // handled in the doc class.\n  switch (message.a) {\n    case 'init':\n      // Client initialization packet\n      if (message.protocol !== 1) {\n        err = new ShareDBError(\n          ERROR_CODE.ERR_PROTOCOL_VERSION_NOT_SUPPORTED,\n          'Unsupported protocol version: ' + message.protocol\n        );\n        return this.emit('error', err);\n      }\n      if (types.map[message.type] !== types.defaultType) {\n        err = new ShareDBError(\n          ERROR_CODE.ERR_DEFAULT_TYPE_MISMATCH,\n          message.type + ' does not match the server default type'\n        );\n        return this.emit('error', err);\n      }\n      if (typeof message.id !== 'string') {\n        err = new ShareDBError(ERROR_CODE.ERR_CLIENT_ID_BADLY_FORMED, 'Client id must be a string');\n        return this.emit('error', err);\n      }\n      this.id = message.id;\n\n      this._setState('connected');\n      return;\n\n    case 'qf':\n      var query = this.queries[message.id];\n      if (query) query._handleFetch(err, message.data, message.extra);\n      return;\n    case 'qs':\n      var query = this.queries[message.id];\n      if (query) query._handleSubscribe(err, message.data, message.extra);\n      return;\n    case 'qu':\n      // Queries are removed immediately on calls to destroy, so we ignore\n      // replies to query unsubscribes. Perhaps there should be a callback for\n      // destroy, but this is currently unimplemented\n      return;\n    case 'q':\n      // Query message. Pass this to the appropriate query object.\n      var query = this.queries[message.id];\n      if (!query) return;\n      if (err) return query._handleError(err);\n      if (message.diff) query._handleDiff(message.diff);\n      if (message.hasOwnProperty('extra')) query._handleExtra(message.extra);\n      return;\n\n    case 'bf':\n      return this._handleBulkMessage(err, message, '_handleFetch');\n    case 'bs':\n      return this._handleBulkMessage(err, message, '_handleSubscribe');\n    case 'bu':\n      return this._handleBulkMessage(err, message, '_handleUnsubscribe');\n\n    case 'nf':\n    case 'nt':\n      return this._handleSnapshotFetch(err, message);\n\n    case 'f':\n      var doc = this.getExisting(message.c, message.d);\n      if (doc) doc._handleFetch(err, message.data);\n      return;\n    case 's':\n      var doc = this.getExisting(message.c, message.d);\n      if (doc) doc._handleSubscribe(err, message.data);\n      return;\n    case 'u':\n      var doc = this.getExisting(message.c, message.d);\n      if (doc) doc._handleUnsubscribe(err);\n      return;\n    case 'op':\n      var doc = this.getExisting(message.c, message.d);\n      if (doc) doc._handleOp(err, message);\n      return;\n\n    default:\n      logger.warn('Ignoring unrecognized message', message);\n  }\n};\n\nfunction wrapErrorData(errorData, fullMessage) {\n  // wrap in Error object so can be passed through event emitters\n  var err = new Error(errorData.message);\n  err.code = errorData.code;\n  if (fullMessage) {\n    // Add the message data to the error object for more context\n    err.data = fullMessage;\n  }\n  return err;\n}\n\nConnection.prototype._handleBulkMessage = function(err, message, method) {\n  if (message.data) {\n    for (var id in message.data) {\n      var dataForId = message.data[id];\n      var doc = this.getExisting(message.c, id);\n      if (doc) {\n        if (err) {\n          doc[method](err);\n        } else if (dataForId.error) {\n          // Bulk reply snapshot-specific errorr - see agent.js getMapResult\n          doc[method](wrapErrorData(dataForId.error));\n        } else {\n          doc[method](null, dataForId);\n        }\n      }\n    }\n  } else if (Array.isArray(message.b)) {\n    for (var i = 0; i < message.b.length; i++) {\n      var id = message.b[i];\n      var doc = this.getExisting(message.c, id);\n      if (doc) doc[method](err);\n    }\n  } else if (message.b) {\n    for (var id in message.b) {\n      var doc = this.getExisting(message.c, id);\n      if (doc) doc[method](err);\n    }\n  } else {\n    logger.error('Invalid bulk message', message);\n  }\n};\n\nConnection.prototype._reset = function() {\n  this.seq = 1;\n  this.id = null;\n  this.agent = null;\n};\n\n// Set the connection's state. The connection is basically a state machine.\nConnection.prototype._setState = function(newState, reason) {\n  if (this.state === newState) return;\n\n  // I made a state diagram. The only invalid transitions are getting to\n  // 'connecting' from anywhere other than 'disconnected' and getting to\n  // 'connected' from anywhere other than 'connecting'.\n  if (\n    (\n      newState === 'connecting' &&\n      this.state !== 'disconnected' &&\n      this.state !== 'stopped' &&\n      this.state !== 'closed'\n    ) || (\n      newState === 'connected' &&\n      this.state !== 'connecting'\n    )\n  ) {\n    var err = new ShareDBError(\n      ERROR_CODE.ERR_CONNECTION_STATE_TRANSITION_INVALID,\n      'Cannot transition directly from ' + this.state + ' to ' + newState\n    );\n    return this.emit('error', err);\n  }\n\n  this.state = newState;\n  this.canSend = (newState === 'connected');\n\n  if (\n    newState === 'disconnected' ||\n    newState === 'stopped' ||\n    newState === 'closed'\n  ) {\n    this._reset();\n  }\n\n  // Group subscribes together to help server make more efficient calls\n  this.startBulk();\n  // Emit the event to all queries\n  for (var id in this.queries) {\n    var query = this.queries[id];\n    query._onConnectionStateChanged();\n  }\n  // Emit the event to all documents\n  for (var collection in this.collections) {\n    var docs = this.collections[collection];\n    for (var id in docs) {\n      docs[id]._onConnectionStateChanged();\n    }\n  }\n  // Emit the event to all snapshots\n  for (var id in this._snapshotRequests) {\n    var snapshotRequest = this._snapshotRequests[id];\n    snapshotRequest._onConnectionStateChanged();\n  }\n  this.endBulk();\n\n  this.emit(newState, reason);\n  this.emit('state', newState, reason);\n};\n\nConnection.prototype.startBulk = function() {\n  if (!this.bulk) this.bulk = {};\n};\n\nConnection.prototype.endBulk = function() {\n  if (this.bulk) {\n    for (var collection in this.bulk) {\n      var actions = this.bulk[collection];\n      this._sendBulk('f', collection, actions.f);\n      this._sendBulk('s', collection, actions.s);\n      this._sendBulk('u', collection, actions.u);\n    }\n  }\n  this.bulk = null;\n};\n\nConnection.prototype._sendBulk = function(action, collection, values) {\n  if (!values) return;\n  var ids = [];\n  var versions = {};\n  var versionsCount = 0;\n  var versionId;\n  for (var id in values) {\n    var value = values[id];\n    if (value == null) {\n      ids.push(id);\n    } else {\n      versions[id] = value;\n      versionId = id;\n      versionsCount++;\n    }\n  }\n  if (ids.length === 1) {\n    var id = ids[0];\n    this.send({a: action, c: collection, d: id});\n  } else if (ids.length) {\n    this.send({a: 'b' + action, c: collection, b: ids});\n  }\n  if (versionsCount === 1) {\n    var version = versions[versionId];\n    this.send({a: action, c: collection, d: versionId, v: version});\n  } else if (versionsCount) {\n    this.send({a: 'b' + action, c: collection, b: versions});\n  }\n};\n\nConnection.prototype._sendAction = function(action, doc, version) {\n  // Ensure the doc is registered so that it receives the reply message\n  this._addDoc(doc);\n  if (this.bulk) {\n    // Bulk subscribe\n    var actions = this.bulk[doc.collection] || (this.bulk[doc.collection] = {});\n    var versions = actions[action] || (actions[action] = {});\n    var isDuplicate = versions.hasOwnProperty(doc.id);\n    versions[doc.id] = version;\n    return isDuplicate;\n  } else {\n    // Send single doc subscribe message\n    var message = {a: action, c: doc.collection, d: doc.id, v: version};\n    this.send(message);\n  }\n};\n\nConnection.prototype.sendFetch = function(doc) {\n  return this._sendAction('f', doc, doc.version);\n};\n\nConnection.prototype.sendSubscribe = function(doc) {\n  return this._sendAction('s', doc, doc.version);\n};\n\nConnection.prototype.sendUnsubscribe = function(doc) {\n  return this._sendAction('u', doc);\n};\n\nConnection.prototype.sendOp = function(doc, op) {\n  // Ensure the doc is registered so that it receives the reply message\n  this._addDoc(doc);\n  var message = {\n    a: 'op',\n    c: doc.collection,\n    d: doc.id,\n    v: doc.version,\n    src: op.src,\n    seq: op.seq\n  };\n  if (op.op) message.op = op.op;\n  if (op.create) message.create = op.create;\n  if (op.del) message.del = op.del;\n  this.send(message);\n};\n\n\n/**\n * Sends a message down the socket\n */\nConnection.prototype.send = function(message) {\n  if (this.debug) logger.info('SEND', JSON.stringify(message));\n\n  this.emit('send', message);\n  this.socket.send(JSON.stringify(message));\n};\n\n\n/**\n * Closes the socket and emits 'closed'\n */\nConnection.prototype.close = function() {\n  this.socket.close();\n};\n\nConnection.prototype.getExisting = function(collection, id) {\n  if (this.collections[collection]) return this.collections[collection][id];\n};\n\n\n/**\n * Get or create a document.\n *\n * @param collection\n * @param id\n * @return {Doc}\n */\nConnection.prototype.get = function(collection, id) {\n  var docs = this.collections[collection] ||\n    (this.collections[collection] = {});\n\n  var doc = docs[id];\n  if (!doc) {\n    doc = docs[id] = new Doc(this, collection, id);\n    this.emit('doc', doc);\n  }\n\n  return doc;\n};\n\n\n/**\n * Remove document from this.collections\n *\n * @private\n */\nConnection.prototype._destroyDoc = function(doc) {\n  var docs = this.collections[doc.collection];\n  if (!docs) return;\n\n  delete docs[doc.id];\n\n  // Delete the collection container if its empty. This could be a source of\n  // memory leaks if you slowly make a billion collections, which you probably\n  // won't do anyway, but whatever.\n  if (!util.hasKeys(docs)) {\n    delete this.collections[doc.collection];\n  }\n};\n\nConnection.prototype._addDoc = function(doc) {\n  var docs = this.collections[doc.collection];\n  if (!docs) {\n    docs = this.collections[doc.collection] = {};\n  }\n  if (docs[doc.id] !== doc) {\n    docs[doc.id] = doc;\n  }\n};\n\n// Helper for createFetchQuery and createSubscribeQuery, below.\nConnection.prototype._createQuery = function(action, collection, q, options, callback) {\n  var id = this.nextQueryId++;\n  var query = new Query(action, this, id, collection, q, options, callback);\n  this.queries[id] = query;\n  query.send();\n  return query;\n};\n\n// Internal function. Use query.destroy() to remove queries.\nConnection.prototype._destroyQuery = function(query) {\n  delete this.queries[query.id];\n};\n\n// The query options object can contain the following fields:\n//\n// db: Name of the db for the query. You can attach extraDbs to ShareDB and\n//   pick which one the query should hit using this parameter.\n\n// Create a fetch query. Fetch queries are only issued once, returning the\n// results directly into the callback.\n//\n// The callback should have the signature function(error, results, extra)\n// where results is a list of Doc objects.\nConnection.prototype.createFetchQuery = function(collection, q, options, callback) {\n  return this._createQuery('qf', collection, q, options, callback);\n};\n\n// Create a subscribe query. Subscribe queries return with the initial data\n// through the callback, then update themselves whenever the query result set\n// changes via their own event emitter.\n//\n// If present, the callback should have the signature function(error, results, extra)\n// where results is a list of Doc objects.\nConnection.prototype.createSubscribeQuery = function(collection, q, options, callback) {\n  return this._createQuery('qs', collection, q, options, callback);\n};\n\nConnection.prototype.hasPending = function() {\n  return !!(\n    this._firstDoc(hasPending) ||\n    this._firstQuery(hasPending) ||\n    this._firstSnapshotRequest()\n  );\n};\nfunction hasPending(object) {\n  return object.hasPending();\n}\n\nConnection.prototype.hasWritePending = function() {\n  return !!this._firstDoc(hasWritePending);\n};\nfunction hasWritePending(object) {\n  return object.hasWritePending();\n}\n\nConnection.prototype.whenNothingPending = function(callback) {\n  var doc = this._firstDoc(hasPending);\n  if (doc) {\n    // If a document is found with a pending operation, wait for it to emit\n    // that nothing is pending anymore, and then recheck all documents again.\n    // We have to recheck all documents, just in case another mutation has\n    // been made in the meantime as a result of an event callback\n    doc.once('nothing pending', this._nothingPendingRetry(callback));\n    return;\n  }\n  var query = this._firstQuery(hasPending);\n  if (query) {\n    query.once('ready', this._nothingPendingRetry(callback));\n    return;\n  }\n  var snapshotRequest = this._firstSnapshotRequest();\n  if (snapshotRequest) {\n    snapshotRequest.once('ready', this._nothingPendingRetry(callback));\n    return;\n  }\n  // Call back when no pending operations\n  process.nextTick(callback);\n};\nConnection.prototype._nothingPendingRetry = function(callback) {\n  var connection = this;\n  return function() {\n    process.nextTick(function() {\n      connection.whenNothingPending(callback);\n    });\n  };\n};\n\nConnection.prototype._firstDoc = function(fn) {\n  for (var collection in this.collections) {\n    var docs = this.collections[collection];\n    for (var id in docs) {\n      var doc = docs[id];\n      if (fn(doc)) {\n        return doc;\n      }\n    }\n  }\n};\n\nConnection.prototype._firstQuery = function(fn) {\n  for (var id in this.queries) {\n    var query = this.queries[id];\n    if (fn(query)) {\n      return query;\n    }\n  }\n};\n\nConnection.prototype._firstSnapshotRequest = function() {\n  for (var id in this._snapshotRequests) {\n    return this._snapshotRequests[id];\n  }\n};\n\n/**\n * Fetch a read-only snapshot at a given version\n *\n * @param collection - the collection name of the snapshot\n * @param id - the ID of the snapshot\n * @param version (optional) - the version number to fetch. If null, the latest version is fetched.\n * @param callback - (error, snapshot) => void, where snapshot takes the following schema:\n *\n * {\n *   id: string;         // ID of the snapshot\n *   v: number;          // version number of the snapshot\n *   type: string;       // the OT type of the snapshot, or null if it doesn't exist or is deleted\n *   data: any;          // the snapshot\n * }\n *\n */\nConnection.prototype.fetchSnapshot = function(collection, id, version, callback) {\n  if (typeof version === 'function') {\n    callback = version;\n    version = null;\n  }\n\n  var requestId = this.nextSnapshotRequestId++;\n  var snapshotRequest = new SnapshotVersionRequest(this, requestId, collection, id, version, callback);\n  this._snapshotRequests[snapshotRequest.requestId] = snapshotRequest;\n  snapshotRequest.send();\n};\n\n/**\n * Fetch a read-only snapshot at a given timestamp\n *\n * @param collection - the collection name of the snapshot\n * @param id - the ID of the snapshot\n * @param timestamp (optional) - the timestamp to fetch. If null, the latest version is fetched.\n * @param callback - (error, snapshot) => void, where snapshot takes the following schema:\n *\n * {\n *   id: string;         // ID of the snapshot\n *   v: number;          // version number of the snapshot\n *   type: string;       // the OT type of the snapshot, or null if it doesn't exist or is deleted\n *   data: any;          // the snapshot\n * }\n *\n */\nConnection.prototype.fetchSnapshotByTimestamp = function(collection, id, timestamp, callback) {\n  if (typeof timestamp === 'function') {\n    callback = timestamp;\n    timestamp = null;\n  }\n\n  var requestId = this.nextSnapshotRequestId++;\n  var snapshotRequest = new SnapshotTimestampRequest(this, requestId, collection, id, timestamp, callback);\n  this._snapshotRequests[snapshotRequest.requestId] = snapshotRequest;\n  snapshotRequest.send();\n};\n\nConnection.prototype._handleSnapshotFetch = function(error, message) {\n  var snapshotRequest = this._snapshotRequests[message.id];\n  if (!snapshotRequest) return;\n  delete this._snapshotRequests[message.id];\n  snapshotRequest._handleResponse(error, message);\n};\n",
    "exports.Connection = require('./connection');\nexports.Doc = require('./doc');\nexports.Error = require('../error');\nexports.Query = require('./query');\nexports.types = require('../types');\nexports.logger = require('../logger');\n",
    "/**\n * RemoteDoc adapts the ShareJS operation protocol to Racer's mutator\n * interface.\n *\n * 1. It maps Racer's mutator methods to outgoing ShareJS operations.\n * 2. It maps incoming ShareJS operations to Racer events.\n */\n\nvar Doc = require('./Doc');\nvar util = require('../util');\n\nmodule.exports = RemoteDoc;\n\nfunction RemoteDoc(model, collectionName, id, snapshot, collection) {\n  // This is a bit messy, but we have to immediately register this doc on the\n  // collection that added it, so that when we create the shareDoc and the\n  // connection emits the 'doc' event, we'll find this doc instead of\n  // creating a new one\n  if (collection) collection.docs[id] = this;\n\n  Doc.call(this, model, collectionName, id);\n  this.model = model.pass({$remote: true});\n  this.debugMutations = model.root.debug.remoteMutations;\n\n  // Get or create the Share document. Note that we must have already added\n  // this doc to the collection to avoid creating a duplicate doc\n  this.shareDoc = model.root.connection.get(collectionName, id);\n  this.shareDoc.ingestSnapshot(snapshot);\n  this._initShareDoc();\n}\n\nRemoteDoc.prototype = new Doc();\n\nRemoteDoc.prototype._initShareDoc = function() {\n  var doc = this;\n  var model = this.model;\n  var collectionName = this.collectionName;\n  var id = this.id;\n  var shareDoc = this.shareDoc;\n  // Override submitOp to disable all writes and perform a dry-run\n  if (model.root.debug.disableSubmit) {\n    shareDoc.submitOp = function() {};\n    shareDoc.create = function() {};\n    shareDoc.del = function() {};\n  }\n  // Subscribe to doc events\n  shareDoc.on('op', function(op, isLocal) {\n    // Don't emit on local operations, since they are emitted in the mutator\n    if (isLocal) return;\n    doc._updateCollectionData();\n    doc._onOp(op);\n  });\n  shareDoc.on('del', function(previous, isLocal) {\n    // Calling the shareDoc.del method does not emit an operation event,\n    // so we create the appropriate event here.\n    if (isLocal) return;\n    delete doc.collectionData[id];\n    model.emit('change', [collectionName, id], [undefined, previous, model._pass]);\n  });\n  shareDoc.on('create', function(isLocal) {\n    // Local creates should not emit an event, since they only happen\n    // implicitly as a result of another mutation, and that operation will\n    // emit the appropriate event. Remote creates can set the snapshot data\n    // without emitting an operation event, so an event needs to be emitted\n    // for them.\n    if (isLocal) return;\n    doc._updateCollectionData();\n    var value = shareDoc.data;\n    model.emit('change', [collectionName, id], [value, undefined, model._pass]);\n  });\n  shareDoc.on('error', function(err) {\n    model._emitError(err, collectionName + '.' + id);\n  });\n  shareDoc.on('load', function() {\n    doc._updateCollectionData();\n    var value = shareDoc.data;\n    // If we subscribe to an uncreated document, no need to emit 'load' event\n    if (value === undefined) return;\n    model.emit('load', [collectionName, id], [value, model._pass]);\n  });\n  this._updateCollectionData();\n};\n\nRemoteDoc.prototype._updateCollectionData = function() {\n  var data = this.shareDoc.data;\n  if (typeof data === 'object' && !Array.isArray(data) && data !== null) {\n    data.id = this.id;\n  }\n  this.collectionData[this.id] = data;\n};\n\nRemoteDoc.prototype.create = function(value, cb) {\n  if (this.debugMutations) {\n    console.log('RemoteDoc create', this.path(), value);\n  }\n  // We copy the snapshot data at time of create to prevent the id added\n  // outside of ShareJS from getting stored in the data\n  var data = util.deepCopy(value);\n  if (data) delete data.id;\n  this.shareDoc.create(data, cb);\n  // The id value will get added to the data that was passed in\n  this.shareDoc.data = value;\n  this._updateCollectionData();\n  this.model._context.createDoc(this.collectionName, this.id);\n  return;\n};\n\nRemoteDoc.prototype.set = function(segments, value, cb) {\n  if (this.debugMutations) {\n    console.log('RemoteDoc set', this.path(segments), value);\n  }\n  var previous = this._createImplied(segments);\n  var lastSegment = segments[segments.length - 1];\n  if (previous instanceof ImpliedOp) {\n    previous.value[lastSegment] = value;\n    this.shareDoc.submitOp(previous.op, cb);\n    this._updateCollectionData();\n    return;\n  }\n  var op = (util.isArrayIndex(lastSegment)) ?\n    [new ListReplaceOp(segments.slice(0, -1), lastSegment, previous, value)] :\n    [new ObjectReplaceOp(segments, previous, value)];\n  this.shareDoc.submitOp(op, cb);\n  this._updateCollectionData();\n  return previous;\n};\n\nRemoteDoc.prototype.del = function(segments, cb) {\n  if (this.debugMutations) {\n    console.log('RemoteDoc del', this.path(segments));\n  }\n  if (segments.length === 0) {\n    var previous = this.get();\n    this.shareDoc.del(cb);\n    delete this.collectionData[this.id];\n    return previous;\n  }\n  // Don't do anything if the value is already undefined, since\n  // the del method should not create anything\n  var previous = this.get(segments);\n  if (previous === undefined) {\n    cb();\n    return;\n  }\n  var op = [new ObjectDeleteOp(segments, previous)];\n  this.shareDoc.submitOp(op, cb);\n  this._updateCollectionData();\n  return previous;\n};\n\nRemoteDoc.prototype.increment = function(segments, byNumber, cb) {\n  if (this.debugMutations) {\n    console.log('RemoteDoc increment', this.path(segments), byNumber);\n  }\n  var previous = this._createImplied(segments);\n  if (previous instanceof ImpliedOp) {\n    var lastSegment = segments[segments.length - 1];\n    previous.value[lastSegment] = byNumber;\n    this.shareDoc.submitOp(previous.op, cb);\n    this._updateCollectionData();\n    return byNumber;\n  }\n  if (previous == null) {\n    var lastSegment = segments[segments.length - 1];\n    var op = (util.isArrayIndex(lastSegment)) ?\n      [new ListInsertOp(segments.slice(0, -1), lastSegment, byNumber)] :\n      [new ObjectInsertOp(segments, byNumber)];\n    this.shareDoc.submitOp(op, cb);\n    this._updateCollectionData();\n    return byNumber;\n  }\n  var op = [new IncrementOp(segments, byNumber)];\n  this.shareDoc.submitOp(op, cb);\n  this._updateCollectionData();\n  return previous + byNumber;\n};\n\nRemoteDoc.prototype.push = function(segments, value, cb) {\n  if (this.debugMutations) {\n    console.log('RemoteDoc push', this.path(segments), value);\n  }\n  var shareDoc = this.shareDoc;\n  function push(arr, fnCb) {\n    var op = [new ListInsertOp(segments, arr.length, value)];\n    shareDoc.submitOp(op, fnCb);\n    return arr.length;\n  }\n  return this._arrayApply(segments, push, cb);\n};\n\nRemoteDoc.prototype.unshift = function(segments, value, cb) {\n  if (this.debugMutations) {\n    console.log('RemoteDoc unshift', this.path(segments), value);\n  }\n  var shareDoc = this.shareDoc;\n  function unshift(arr, fnCb) {\n    var op = [new ListInsertOp(segments, 0, value)];\n    shareDoc.submitOp(op, fnCb);\n    return arr.length;\n  }\n  return this._arrayApply(segments, unshift, cb);\n};\n\nRemoteDoc.prototype.insert = function(segments, index, values, cb) {\n  if (this.debugMutations) {\n    console.log('RemoteDoc insert', this.path(segments), index, values);\n  }\n  var shareDoc = this.shareDoc;\n  function insert(arr, fnCb) {\n    var op = createInsertOp(segments, index, values);\n    shareDoc.submitOp(op, fnCb);\n    return arr.length;\n  }\n  return this._arrayApply(segments, insert, cb);\n};\n\nfunction createInsertOp(segments, index, values) {\n  if (!Array.isArray(values)) {\n    return [new ListInsertOp(segments, index, values)];\n  }\n  var op = [];\n  for (var i = 0, len = values.length; i < len; i++) {\n    op.push(new ListInsertOp(segments, index++, values[i]));\n  }\n  return op;\n}\n\nRemoteDoc.prototype.pop = function(segments, cb) {\n  if (this.debugMutations) {\n    console.log('RemoteDoc pop', this.path(segments));\n  }\n  var shareDoc = this.shareDoc;\n  function pop(arr, fnCb) {\n    var index = arr.length - 1;\n    var value = arr[index];\n    var op = [new ListRemoveOp(segments, index, value)];\n    shareDoc.submitOp(op, fnCb);\n    return value;\n  }\n  return this._arrayApply(segments, pop, cb);\n};\n\nRemoteDoc.prototype.shift = function(segments, cb) {\n  if (this.debugMutations) {\n    console.log('RemoteDoc shift', this.path(segments));\n  }\n  var shareDoc = this.shareDoc;\n  function shift(arr, fnCb) {\n    var value = arr[0];\n    var op = [new ListRemoveOp(segments, 0, value)];\n    shareDoc.submitOp(op, fnCb);\n    return value;\n  }\n  return this._arrayApply(segments, shift, cb);\n};\n\nRemoteDoc.prototype.remove = function(segments, index, howMany, cb) {\n  if (this.debugMutations) {\n    console.log('RemoteDoc remove', this.path(segments), index, howMany);\n  }\n  var shareDoc = this.shareDoc;\n  function remove(arr, fnCb) {\n    var values = arr.slice(index, index + howMany);\n    var op = [];\n    for (var i = 0, len = values.length; i < len; i++) {\n      op.push(new ListRemoveOp(segments, index, values[i]));\n    }\n    shareDoc.submitOp(op, fnCb);\n    return values;\n  }\n  return this._arrayApply(segments, remove, cb);\n};\n\nRemoteDoc.prototype.move = function(segments, from, to, howMany, cb) {\n  if (this.debugMutations) {\n    console.log('RemoteDoc move', this.path(segments), from, to, howMany);\n  }\n  var shareDoc = this.shareDoc;\n  function move(arr, fnCb) {\n    // Get the return value\n    var values = arr.slice(from, from + howMany);\n\n    // Build an op that moves each item individually\n    var op = [];\n    for (var i = 0; i < howMany; i++) {\n      op.push(new ListMoveOp(segments, (from < to) ? from : from + howMany - 1, (from < to) ? to + howMany - 1 : to));\n    }\n    shareDoc.submitOp(op, fnCb);\n\n    return values;\n  }\n  return this._arrayApply(segments, move, cb);\n};\n\nRemoteDoc.prototype.stringInsert = function(segments, index, value, cb) {\n  if (this.debugMutations) {\n    console.log('RemoteDoc stringInsert', this.path(segments), index, value);\n  }\n  var previous = this._createImplied(segments);\n  if (previous instanceof ImpliedOp) {\n    var lastSegment = segments[segments.length - 1];\n    previous.value[lastSegment] = value;\n    this.shareDoc.submitOp(previous.op, cb);\n    this._updateCollectionData();\n    return;\n  }\n  if (previous == null) {\n    var lastSegment = segments[segments.length - 1];\n    var op = (util.isArrayIndex(lastSegment)) ?\n      [new ListInsertOp(segments.slice(0, -1), lastSegment, value)] :\n      [new ObjectInsertOp(segments, value)];\n    this.shareDoc.submitOp(op, cb);\n    this._updateCollectionData();\n    return previous;\n  }\n  var op = [new StringInsertOp(segments, index, value)];\n  this.shareDoc.submitOp(op, cb);\n  this._updateCollectionData();\n  return previous;\n};\n\nRemoteDoc.prototype.stringRemove = function(segments, index, howMany, cb) {\n  if (this.debugMutations) {\n    console.log('RemoteDoc stringRemove', this.path(segments), index, howMany);\n  }\n  var previous = this._createImplied(segments);\n  if (previous instanceof ImpliedOp) return;\n  if (previous == null) return previous;\n  var removed = previous.slice(index, index + howMany);\n  var op = [new StringRemoveOp(segments, index, removed)];\n  this.shareDoc.submitOp(op, cb);\n  this._updateCollectionData();\n  return previous;\n};\n\nRemoteDoc.prototype.subtypeSubmit = function(segments, subtype, subtypeOp, cb) {\n  if (this.debugMutations) {\n    console.log('RemoteDoc subtypeSubmit', this.path(segments), subtype, subtypeOp);\n  }\n  var previous = this._createImplied(segments);\n  if (previous instanceof ImpliedOp) {\n    this.shareDoc.submitOp(previous.op);\n    previous = undefined;\n  }\n  var op = new SubtypeOp(segments, subtype, subtypeOp);\n  this.shareDoc.submitOp(op, cb);\n  this._updateCollectionData();\n  return previous;\n};\n\nRemoteDoc.prototype.get = function(segments) {\n  return util.lookup(segments, this.shareDoc.data);\n};\n\nRemoteDoc.prototype._createImplied = function(segments) {\n  if (!this.shareDoc.type) {\n    throw new Error('Mutation on uncreated remote document');\n  }\n  var parent = this.shareDoc;\n  var key = 'data';\n  var node = parent[key];\n  var i = 0;\n  var nextKey = segments[i++];\n  var op, value;\n  while (nextKey != null) {\n    if (!node) {\n      if (op) {\n        value = value[key] = util.isArrayIndex(nextKey) ? [] : {};\n      } else {\n        value = util.isArrayIndex(nextKey) ? [] : {};\n        if (Array.isArray(parent)) {\n          if (key >= parent.length) {\n            op = new ListInsertOp(segments.slice(0, i - 2), key, value);\n          } else {\n            op = new ListReplaceOp(segments.slice(0, i - 2), key, node, value);\n          }\n        } else {\n          op = new ObjectInsertOp(segments.slice(0, i - 1), value);\n        }\n      }\n      node = value;\n    }\n    parent = node;\n    key = nextKey;\n    node = parent[key];\n    nextKey = segments[i++];\n  }\n  if (op) return new ImpliedOp(op, value);\n  return node;\n};\n\nfunction ImpliedOp(op, value) {\n  this.op = op;\n  this.value = value;\n}\n\nRemoteDoc.prototype._arrayApply = function(segments, fn, cb) {\n  var arr = this._createImplied(segments);\n  if (arr instanceof ImpliedOp) {\n    this.shareDoc.submitOp(arr.op);\n    arr = this.get(segments);\n  }\n  if (arr == null) {\n    var lastSegment = segments[segments.length - 1];\n    var op = (util.isArrayIndex(lastSegment)) ?\n      [new ListInsertOp(segments.slice(0, -1), lastSegment, [])] :\n      [new ObjectInsertOp(segments, [])];\n    this.shareDoc.submitOp(op);\n    arr = this.get(segments);\n  }\n\n  if (!Array.isArray(arr)) {\n    var message = this._errorMessage(fn.name + ' on non-array', segments, arr);\n    var err = new TypeError(message);\n    return cb(err);\n  }\n  var out = fn(arr, cb);\n  this._updateCollectionData();\n  return out;\n};\n\nRemoteDoc.prototype._onOp = function(op) {\n  var item;\n  if (op.length === 1) {\n    // ShareDB docs shatter json0 ops into single components during apply\n    item = op[0];\n  } else if (op.length === 0) {\n    // Ignore no-ops\n    return;\n  } else {\n    try {\n      op = JSON.stringify(op);\n    } catch (err) {}\n    throw new Error('Received op with multiple components from ShareDB ' + op);\n  }\n  var segments = [this.collectionName, this.id].concat(item.p);\n  var model = this.model;\n\n  // ObjectReplaceOp, ObjectInsertOp, or ObjectDeleteOp\n  if (defined(item.oi) || defined(item.od)) {\n    var value = item.oi;\n    var previous = item.od;\n    model.emit('change', segments, [value, previous, model._pass]);\n\n  // ListReplaceOp\n  } else if (defined(item.li) && defined(item.ld)) {\n    var value = item.li;\n    var previous = item.ld;\n    model.emit('change', segments, [value, previous, model._pass]);\n\n  // ListInsertOp\n  } else if (defined(item.li)) {\n    var index = segments[segments.length - 1];\n    var values = [item.li];\n    model.emit('insert', segments.slice(0, -1), [index, values, model._pass]);\n\n  // ListRemoveOp\n  } else if (defined(item.ld)) {\n    var index = segments[segments.length - 1];\n    var removed = [item.ld];\n    model.emit('remove', segments.slice(0, -1), [index, removed, model._pass]);\n\n  // ListMoveOp\n  } else if (defined(item.lm)) {\n    var from = segments[segments.length - 1];\n    var to = item.lm;\n    var howMany = 1;\n    model.emit('move', segments.slice(0, -1), [from, to, howMany, model._pass]);\n\n  // StringInsertOp\n  } else if (defined(item.si)) {\n    var index = segments[segments.length - 1];\n    var text = item.si;\n    segments = segments.slice(0, -1);\n    var value = model._get(segments);\n    var previous = value.slice(0, index) + value.slice(index + text.length);\n    var pass = model.pass({$stringInsert: {index: index, text: text}})._pass;\n    model.emit('change', segments, [value, previous, pass]);\n\n  // StringRemoveOp\n  } else if (defined(item.sd)) {\n    var index = segments[segments.length - 1];\n    var text = item.sd;\n    var howMany = text.length;\n    segments = segments.slice(0, -1);\n    var value = model._get(segments);\n    var previous = value.slice(0, index) + text + value.slice(index);\n    var pass = model.pass({$stringRemove: {index: index, howMany: howMany}})._pass;\n    model.emit('change', segments, [value, previous, pass]);\n\n  // IncrementOp\n  } else if (defined(item.na)) {\n    var value = this.get(item.p);\n    var previous = value - item.na;\n    model.emit('change', segments, [value, previous, model._pass]);\n\n  // SubtypeOp\n  } else if (defined(item.t)) {\n    var value = this.get(item.p);\n    // Since this is generic to all subtypes, we don't know how to get a copy\n    // of the previous value efficiently. We could make a copy eagerly, but\n    // given that embedded types are likely to be used for custom editors,\n    // we'll assume they primarily use the returned op and are unlikely to\n    // need the previous snapshot data\n    var previous = undefined;\n    var type = item.t;\n    var op = item.o;\n    var pass = model.pass({$subtype: {type: type, op: op}})._pass;\n    model.emit('change', segments, [value, previous, pass]);\n  }\n};\n\nfunction ObjectReplaceOp(segments, before, after) {\n  this.p = util.castSegments(segments);\n  this.od = before;\n  this.oi = (after === undefined) ? null : after;\n}\nfunction ObjectInsertOp(segments, value) {\n  this.p = util.castSegments(segments);\n  this.oi = (value === undefined) ? null : value;\n}\nfunction ObjectDeleteOp(segments, value) {\n  this.p = util.castSegments(segments);\n  this.od = (value === undefined) ? null : value;\n}\nfunction ListReplaceOp(segments, index, before, after) {\n  this.p = util.castSegments(segments.concat(index));\n  this.ld = before;\n  this.li = (after === undefined) ? null : after;\n}\nfunction ListInsertOp(segments, index, value) {\n  this.p = util.castSegments(segments.concat(index));\n  this.li = (value === undefined) ? null : value;\n}\nfunction ListRemoveOp(segments, index, value) {\n  this.p = util.castSegments(segments.concat(index));\n  this.ld = (value === undefined) ? null : value;\n}\nfunction ListMoveOp(segments, from, to) {\n  this.p = util.castSegments(segments.concat(from));\n  this.lm = to;\n}\nfunction StringInsertOp(segments, index, value) {\n  this.p = util.castSegments(segments.concat(index));\n  this.si = value;\n}\nfunction StringRemoveOp(segments, index, value) {\n  this.p = util.castSegments(segments.concat(index));\n  this.sd = value;\n}\nfunction IncrementOp(segments, byNumber) {\n  this.p = util.castSegments(segments);\n  this.na = byNumber;\n}\nfunction SubtypeOp(segments, subtype, subtypeOp) {\n  this.p = util.castSegments(segments);\n  this.t = subtype;\n  this.o = subtypeOp;\n}\n\nfunction defined(value) {\n  return value !== undefined;\n}\n",
    "var Connection = require('sharedb/lib/client').Connection;\nvar Model = require('./Model');\nvar LocalDoc = require('./LocalDoc');\nvar RemoteDoc = require('./RemoteDoc');\n\nModel.INITS.push(function(model) {\n  model.root._preventCompose = false;\n});\n\nModel.prototype.preventCompose = function() {\n  var model = this._child();\n  model._preventCompose = true;\n  return model;\n};\n\nModel.prototype.allowCompose = function() {\n  var model = this._child();\n  model._preventCompose = false;\n  return model;\n};\n\nModel.prototype.createConnection = function(bundle) {\n  // Model::_createSocket should be defined by the socket plugin\n  this.root.socket = this._createSocket(bundle);\n\n  // The Share connection will bind to the socket by defining the onopen,\n  // onmessage, etc. methods\n  var model = this;\n  this.root.connection = new Connection(this.root.socket);\n  this.root.connection.on('state', function(state, reason) {\n    model._setDiff(['$connection', 'state'], state);\n    model._setDiff(['$connection', 'reason'], reason);\n  });\n  this._set(['$connection', 'state'], 'connected');\n\n  this._finishCreateConnection();\n};\n\nModel.prototype._finishCreateConnection = function() {\n  var model = this;\n  this.root.connection.on('error', function(err) {\n    model._emitError(err);\n  });\n  // Share docs can be created by queries, so we need to register them\n  // with Racer as soon as they are created to capture their events\n  this.root.connection.on('doc', function(shareDoc) {\n    model.getOrCreateDoc(shareDoc.collection, shareDoc.id);\n  });\n};\n\nModel.prototype.connect = function() {\n  this.root.socket.open();\n};\nModel.prototype.disconnect = function() {\n  this.root.socket.close();\n};\nModel.prototype.reconnect = function() {\n  this.disconnect();\n  this.connect();\n};\n// Clean delayed disconnect\nModel.prototype.close = function(cb) {\n  cb = this.wrapCallback(cb);\n  var model = this;\n  this.whenNothingPending(function() {\n    model.root.socket.close();\n    cb();\n  });\n};\n\n// Returns a reference to the ShareDB agent if it is connected directly on the\n// server. Will return null if the ShareDB connection has been disconnected or\n// if we are not in the same process and we do not have a reference to the\n// server-side agent object\nModel.prototype.getAgent = function() {\n  return this.root.connection.agent;\n};\n\nModel.prototype._isLocal = function(name) {\n  // Whether the collection is local or remote is determined by its name.\n  // Collections starting with an underscore ('_') are for user-defined local\n  // collections, those starting with a dollar sign ('$'') are for\n  // framework-defined local collections, and all others are remote.\n  var firstCharcter = name.charAt(0);\n  return firstCharcter === '_' || firstCharcter === '$';\n};\n\nModel.prototype._getDocConstructor = function(name) {\n  return (this._isLocal(name)) ? LocalDoc : RemoteDoc;\n};\n\nModel.prototype.hasPending = function() {\n  return this.root.connection.hasPending();\n};\nModel.prototype.hasWritePending = function() {\n  return this.root.connection.hasWritePending();\n};\nModel.prototype.whenNothingPending = function(cb) {\n  return this.root.connection.whenNothingPending(cb);\n};\n",
    "var util = require('../util');\nvar Model = require('./Model');\nvar defaultType = require('sharedb/lib/client').types.defaultType;\n\nmodule.exports = Query;\n\nModel.INITS.push(function(model) {\n  model.root._queries = new Queries();\n});\n\nModel.prototype.query = function(collectionName, expression, options) {\n  // DEPRECATED: Passing in a string as the third argument specifies the db\n  // option for backward compatibility\n  if (typeof options === 'string') {\n    options = {db: options};\n  }\n  return this._getOrCreateQuery(collectionName, expression, options, Query);\n};\n\n/**\n * If an existing query is present with the same `collectionName`, `expression`,\n * and `options`, then returns the existing query; otherwise, constructs and\n * returns a new query using `QueryConstructor`.\n *\n * @param {string} collectionName\n * @param {*} expression\n * @param {*} options\n * @param {new (model: Model, collectionName: string, expression: any, options: any) => Query} QueryConstructor -\n *   constructor function for a Query, to create one if not already present on this model\n */\nModel.prototype._getOrCreateQuery = function(collectionName, expression, options, QueryConstructor) {\n  expression = this.sanitizeQuery(expression);\n  var query = this.root._queries.get(collectionName, expression, options);\n  if (query) return query;\n  query = new QueryConstructor(this, collectionName, expression, options);\n  this.root._queries.add(query);\n  return query;\n};\n\n// This method replaces undefined in query objects with null, because\n// undefined properties are removed in JSON stringify. This can be dangerous\n// in queries, where presenece of a property may indicate that it should be a\n// filter and absence means that all values are accepted. We aren't checking\n// for cycles, which aren't allowed in JSON, so this could throw a max call\n// stack error\nModel.prototype.sanitizeQuery = function(expression) {\n  if (expression && typeof expression === 'object') {\n    for (var key in expression) {\n      if (expression.hasOwnProperty(key)) {\n        var value = expression[key];\n        if (value === undefined) {\n          expression[key] = null;\n        } else {\n          this.sanitizeQuery(value);\n        }\n      }\n    }\n  }\n  return expression;\n};\n\n// Called during initialization of the bundle on page load.\nModel.prototype._initQueries = function(items) {\n  var queries = this.root._queries;\n  for (var i = 0; i < items.length; i++) {\n    var item = items[i];\n    var counts = item[0];\n    var collectionName = item[1];\n    var expression = item[2];\n    var results = item[3] || [];\n    var options = item[4];\n    var extra = item[5];\n    var query = this.root._queries.get(collectionName, expression, options);\n    if (!query) {\n      query = new Query(this, collectionName, expression, options);\n      queries.add(query);\n    }\n\n    query._setExtra(extra);\n\n    var ids = [];\n    for (var resultIndex = 0; resultIndex < results.length; resultIndex++) {\n      var result = results[resultIndex];\n      if (typeof result === 'string') {\n        ids.push(result);\n        continue;\n      }\n      var data = result[0];\n      var v = result[1];\n      var id = result[2] || data.id;\n      var type = result[3];\n      ids.push(id);\n      var snapshot = {data: data, v: v, type: type};\n      this.getOrCreateDoc(collectionName, id, snapshot);\n    }\n    query._addMapIds(ids);\n    this._set(query.idsSegments, ids);\n\n    for (var countIndex = 0; countIndex < counts.length; countIndex++) {\n      var count = counts[countIndex];\n      var subscribed = count[0] || 0;\n      var fetched = count[1] || 0;\n      var contextId = count[2];\n      if (contextId) query.model.setContext(contextId);\n      while (subscribed--) {\n        query.subscribe();\n      }\n      query.fetchCount += fetched;\n      while (fetched--) {\n        query.model._context.fetchQuery(query);\n      }\n    }\n  }\n};\n\nfunction Queries() {\n  // Map is a flattened map of queries by hash. Currently used in contexts\n  this.map = {};\n  // Collections is a nested map of queries by collection then hash\n  this.collections = {};\n}\nQueries.prototype.add = function(query) {\n  this.map[query.hash] = query;\n  var collection = this.collections[query.collectionName] ||\n    (this.collections[query.collectionName] = {});\n  collection[query.hash] = query;\n};\nQueries.prototype.remove = function(query) {\n  delete this.map[query.hash];\n  var collection = this.collections[query.collectionName];\n  if (!collection) return;\n  delete collection[query.hash];\n  // Check if the collection still has any keys\n  // eslint-disable-next-line no-unused-vars\n  for (var key in collection) return;\n  delete this.collections[query.collectionName];\n};\nQueries.prototype.get = function(collectionName, expression, options) {\n  var hash = queryHash(collectionName, expression, options);\n  return this.map[hash];\n};\nQueries.prototype.toJSON = function() {\n  var out = [];\n  for (var hash in this.map) {\n    var query = this.map[hash];\n    if (query.subscribeCount || query.fetchCount) {\n      out.push(query.serialize());\n    }\n  }\n  return out;\n};\n\nfunction Query(model, collectionName, expression, options) {\n  this.model = model.pass({$query: this});\n  this.collectionName = collectionName;\n  this.expression = expression;\n  this.options = options;\n  this.hash = queryHash(collectionName, expression, options);\n  this.segments = ['$queries', this.hash];\n  this.idsSegments = ['$queries', this.hash, 'ids'];\n  this.extraSegments = ['$queries', this.hash, 'extra'];\n\n  this._pendingSubscribeCallbacks = [];\n\n  // These are used to help cleanup appropriately when calling unsubscribe and\n  // unfetch. A query won't be fully cleaned up until unfetch and unsubscribe\n  // are called the same number of times that fetch and subscribe were called.\n  this.subscribeCount = 0;\n  this.fetchCount = 0;\n\n  this.created = false;\n  this.shareQuery = null;\n\n  // idMap is checked in maybeUnload to see if the query is currently holding\n  // a reference to an id in its results set. This map is duplicative of the\n  // actual results id list stored in the model, but we are maintaining it,\n  // because otherwise maybeUnload would be looping through the entire results\n  // set of each query on the same collection for every doc checked\n  //\n  // Map of id -> count of ids\n  this.idMap = {};\n}\n\nQuery.prototype.create = function() {\n  this.created = true;\n  this.model.root._queries.add(this);\n};\n\nQuery.prototype.destroy = function() {\n  var ids = this.getIds();\n  this.created = false;\n  if (this.shareQuery) {\n    this.shareQuery.destroy();\n    this.shareQuery = null;\n  }\n  this.model.root._queries.remove(this);\n  this.idMap = {};\n  this.model._del(this.segments);\n  this._maybeUnloadDocs(ids);\n};\n\nQuery.prototype.fetch = function(cb) {\n  cb = this.model.wrapCallback(cb);\n  this.model._context.fetchQuery(this);\n\n  this.fetchCount++;\n\n  if (!this.created) this.create();\n\n  var query = this;\n  function fetchCb(err, results, extra) {\n    if (err) return cb(err);\n    query._setExtra(extra);\n    query._setResults(results);\n    cb();\n  }\n  this.model.root.connection.createFetchQuery(\n    this.collectionName,\n    this.expression,\n    this.options,\n    fetchCb\n  );\n  return this;\n};\n\nQuery.prototype.subscribe = function(cb) {\n  cb = this.model.wrapCallback(cb);\n  this.model._context.subscribeQuery(this);\n\n  if (this.subscribeCount++) {\n    var query = this;\n    process.nextTick(function() {\n      var data = query.model._get(query.segments);\n      if (data) {\n        cb();\n      } else {\n        query._pendingSubscribeCallbacks.push(cb);\n      }\n    });\n    return this;\n  }\n\n  if (!this.created) this.create();\n\n  var options = (this.options) ? util.copy(this.options) : {};\n  options.results = this._getShareResults();\n\n  // When doing server-side rendering, we actually do a fetch the first time\n  // that subscribe is called, but keep track of the state as if subscribe\n  // were called for proper initialization in the client\n  if (this.model.root.fetchOnly) {\n    this._shareFetchedSubscribe(options, cb);\n  } else {\n    this._shareSubscribe(options, cb);\n  }\n\n  return this;\n};\n\nQuery.prototype._subscribeCb = function(cb) {\n  var query = this;\n  return function subscribeCb(err, results, extra) {\n    if (err) return query._flushSubscribeCallbacks(err, cb);\n    query._setExtra(extra);\n    query._setResults(results);\n    query._flushSubscribeCallbacks(null, cb);\n  };\n};\n\nQuery.prototype._shareFetchedSubscribe = function(options, cb) {\n  this.model.root.connection.createFetchQuery(\n    this.collectionName,\n    this.expression,\n    options,\n    this._subscribeCb(cb)\n  );\n};\n\nQuery.prototype._shareSubscribe = function(options, cb) {\n  var query = this;\n  // Sanity check, though this shouldn't happen\n  if (this.shareQuery) {\n    this.shareQuery.destroy();\n  }\n  this.shareQuery = this.model.root.connection.createSubscribeQuery(\n    this.collectionName,\n    this.expression,\n    options,\n    this._subscribeCb(cb)\n  );\n  this.shareQuery.on('insert', function(shareDocs, index) {\n    var ids = resultsIds(shareDocs);\n    query._addMapIds(ids);\n    query.model._insert(query.idsSegments, index, ids);\n  });\n  this.shareQuery.on('remove', function(shareDocs, index) {\n    var ids = resultsIds(shareDocs);\n    query._removeMapIds(ids);\n    query.model._remove(query.idsSegments, index, shareDocs.length);\n  });\n  this.shareQuery.on('move', function(shareDocs, from, to) {\n    query.model._move(query.idsSegments, from, to, shareDocs.length);\n  });\n  this.shareQuery.on('extra', function(extra) {\n    query.model._setDiffDeep(query.extraSegments, extra);\n  });\n  this.shareQuery.on('error', function(err) {\n    query.model._emitError(err, query.hash);\n  });\n};\n\nQuery.prototype._removeMapIds = function(ids) {\n  for (var i = ids.length; i--;) {\n    var id = ids[i];\n    if (this.idMap[id] > 1) {\n      this.idMap[id]--;\n    } else {\n      delete this.idMap[id];\n    }\n  }\n  // Technically this isn't quite right and we might not wait the full unload\n  // delay if someone else calls maybeUnload for the same doc id. However,\n  // it is a lot easier to implement than delaying the removal until later and\n  // dealing with adds that might happen in the meantime. This will probably\n  // work to avoid thrashing subscribe/unsubscribe in expected cases\n  if (this.model.root.unloadDelay) {\n    var query = this;\n    setTimeout(function() {\n      query._maybeUnloadDocs(ids);\n    }, this.model.root.unloadDelay);\n    return;\n  }\n  this._maybeUnloadDocs(ids);\n};\nQuery.prototype._addMapIds = function(ids) {\n  for (var i = ids.length; i--;) {\n    var id = ids[i];\n    this.idMap[id] = (this.idMap[id] || 0) + 1;\n  }\n};\nQuery.prototype._diffMapIds = function(ids) {\n  var addedIds = [];\n  var removedIds = [];\n  var newMap = {};\n  for (var i = ids.length; i--;) {\n    var id = ids[i];\n    newMap[id] = true;\n    if (this.idMap[id]) continue;\n    addedIds.push(id);\n  }\n  for (var id in this.idMap) {\n    if (newMap[id]) continue;\n    removedIds.push(id);\n  }\n  if (addedIds.length) this._addMapIds(addedIds);\n  if (removedIds.length) this._removeMapIds(removedIds);\n};\nQuery.prototype._setExtra = function(extra) {\n  if (extra === undefined) return;\n  this.model._setDiffDeep(this.extraSegments, extra);\n};\nQuery.prototype._setResults = function(results) {\n  var ids = resultsIds(results);\n  this._setResultIds(ids);\n};\nQuery.prototype._setResultIds = function(ids) {\n  this._diffMapIds(ids);\n  this.model._setArrayDiff(this.idsSegments, ids);\n};\nQuery.prototype._maybeUnloadDocs = function(ids) {\n  for (var i = 0; i < ids.length; i++) {\n    var id = ids[i];\n    this.model._maybeUnloadDoc(this.collectionName, id);\n  }\n};\n\n// Flushes `_pendingSubscribeCallbacks`, calling each callback in the array,\n// with an optional error to pass into each. `_pendingSubscribeCallbacks` will\n// be empty after this runs.\nQuery.prototype._flushSubscribeCallbacks = function(err, cb) {\n  cb(err);\n  var pendingCallback;\n  while ((pendingCallback = this._pendingSubscribeCallbacks.shift())) {\n    pendingCallback(err);\n  }\n};\n\nQuery.prototype.unfetch = function(cb) {\n  cb = this.model.wrapCallback(cb);\n  this.model._context.unfetchQuery(this);\n\n  // No effect if the query is not currently fetched\n  if (!this.fetchCount) {\n    cb();\n    return this;\n  }\n\n  var query = this;\n  if (this.model.root.unloadDelay) {\n    setTimeout(finishUnfetchQuery, this.model.root.unloadDelay);\n  } else {\n    finishUnfetchQuery();\n  }\n  function finishUnfetchQuery() {\n    var count = --query.fetchCount;\n    if (count) return cb(null, count);\n    // Cleanup when no fetches or subscribes remain\n    if (!query.subscribeCount) query.destroy();\n    cb(null, 0);\n  }\n  return this;\n};\n\nQuery.prototype.unsubscribe = function(cb) {\n  cb = this.model.wrapCallback(cb);\n  this.model._context.unsubscribeQuery(this);\n\n  // No effect if the query is not currently subscribed\n  if (!this.subscribeCount) {\n    cb();\n    return this;\n  }\n\n  var query = this;\n  if (this.model.root.unloadDelay) {\n    setTimeout(finishUnsubscribeQuery, this.model.root.unloadDelay);\n  } else {\n    finishUnsubscribeQuery();\n  }\n  function finishUnsubscribeQuery() {\n    var count = --query.subscribeCount;\n    if (count) return cb(null, count);\n\n    if (query.shareQuery) {\n      query.shareQuery.destroy();\n      query.shareQuery = null;\n    }\n\n    unsubscribeQueryCallback();\n  }\n  function unsubscribeQueryCallback(err) {\n    if (err) return cb(err);\n    // Cleanup when no fetches or subscribes remain\n    if (!query.fetchCount) query.destroy();\n    cb(null, 0);\n  }\n  return this;\n};\n\nQuery.prototype._getShareResults = function() {\n  var ids = this.model._get(this.idsSegments);\n  if (!ids) return;\n\n  var collection = this.model.getCollection(this.collectionName);\n  if (!collection) return;\n\n  var results = [];\n  for (var i = 0; i < ids.length; i++) {\n    var id = ids[i];\n    var doc = collection.docs[id];\n    results.push(doc && doc.shareDoc);\n  }\n  return results;\n};\n\nQuery.prototype.get = function() {\n  var results = [];\n  var data = this.model._get(this.segments);\n  if (!data) {\n    console.warn('You must fetch or subscribe to a query before getting its results.');\n    return results;\n  }\n  var ids = data.ids;\n  if (!ids) return results;\n\n  var collection = this.model.getCollection(this.collectionName);\n  for (var i = 0, l = ids.length; i < l; i++) {\n    var id = ids[i];\n    var doc = collection && collection.docs[id];\n    results.push(doc && doc.get());\n  }\n  return results;\n};\n\nQuery.prototype.getIds = function() {\n  return this.model._get(this.idsSegments) || [];\n};\n\nQuery.prototype.getExtra = function() {\n  return this.model._get(this.extraSegments);\n};\n\nQuery.prototype.ref = function(from) {\n  var idsPath = this.idsSegments.join('.');\n  return this.model.refList(from, this.collectionName, idsPath);\n};\n\nQuery.prototype.refIds = function(from) {\n  var idsPath = this.idsSegments.join('.');\n  return this.model.root.ref(from, idsPath);\n};\n\nQuery.prototype.refExtra = function(from, relPath) {\n  var extraPath = this.extraSegments.join('.');\n  if (relPath) extraPath += '.' + relPath;\n  return this.model.root.ref(from, extraPath);\n};\n\nQuery.prototype.serialize = function() {\n  var ids = this.getIds();\n  var collection = this.model.getCollection(this.collectionName);\n  var results;\n  if (collection) {\n    results = [];\n    for (var i = 0; i < ids.length; i++) {\n      var id = ids[i];\n      var doc = collection.docs[id];\n      if (doc) {\n        delete collection.docs[id];\n        var data = doc.shareDoc.data;\n        var result = [data, doc.shareDoc.version];\n        if (!data || data.id !== id) {\n          result[2] = id;\n        }\n        if (doc.shareDoc.type !== defaultType) {\n          result[3] = doc.shareDoc.type && doc.shareDoc.type.name;\n        }\n        results.push(result);\n      } else {\n        results.push(id);\n      }\n    }\n  }\n  var counts = [];\n  var contexts = this.model.root._contexts;\n  for (var key in contexts) {\n    var context = contexts[key];\n    var subscribed = context.subscribedQueries[this.hash] || 0;\n    var fetched = context.fetchedQueries[this.hash] || 0;\n    if (subscribed || fetched) {\n      if (key !== 'root') {\n        counts.push([subscribed, fetched, key]);\n      } else if (fetched) {\n        counts.push([subscribed, fetched]);\n      } else {\n        counts.push([subscribed]);\n      }\n    }\n  }\n  var serialized = [\n    counts,\n    this.collectionName,\n    this.expression,\n    results,\n    this.options,\n    this.getExtra()\n  ];\n  while (serialized[serialized.length - 1] == null) {\n    serialized.pop();\n  }\n  return serialized;\n};\n\nfunction queryHash(collectionName, expression, options) {\n  var args = [collectionName, expression, options];\n  return JSON.stringify(args).replace(/\\./g, '|');\n}\n\nfunction resultsIds(results) {\n  var ids = [];\n  for (var i = 0; i < results.length; i++) {\n    var shareDoc = results[i];\n    ids.push(shareDoc.id);\n  }\n  return ids;\n}\n",
    "module.exports = CollectionCounter;\n\nfunction CollectionCounter() {\n  this.reset();\n}\nCollectionCounter.prototype.reset = function() {\n  this.collections = {};\n};\nCollectionCounter.prototype.get = function(collectionName, id) {\n  var collection = this.collections[collectionName];\n  return collection && collection[id];\n};\nCollectionCounter.prototype.increment = function(collectionName, id) {\n  var collection = this.collections[collectionName] ||\n    (this.collections[collectionName] = {});\n  var count = (collection[id] || 0) + 1;\n  collection[id] = count;\n  return count;\n};\nCollectionCounter.prototype.decrement = function(collectionName, id) {\n  var collection = this.collections[collectionName];\n  var count = collection && collection[id];\n  if (count == null) return;\n  if (count > 1) {\n    count--;\n    collection[id] = count;\n    return count;\n  }\n  delete collection[id];\n  // Check if the collection still has any keys\n  // eslint-disable-next-line no-unused-vars\n  for (var key in collection) return 0;\n  delete this.collections[collectionName];\n  return 0;\n};\nCollectionCounter.prototype.toJSON = function() {\n  // Check to see if we have any keys\n  // eslint-disable-next-line no-unused-vars\n  for (var key in this.collections) {\n    return this.collections;\n  }\n  return;\n};\n",
    "var util = require('../util');\nvar Model = require('./Model');\nvar Query = require('./Query');\nvar CollectionCounter = require('./CollectionCounter');\n\nModel.INITS.push(function(model, options) {\n  model.root.fetchOnly = options.fetchOnly;\n  model.root.unloadDelay = options.unloadDelay || (util.isServer) ? 0 : 1000;\n\n  // Track the total number of active fetches per doc\n  model.root._fetchedDocs = new CollectionCounter();\n  // Track the total number of active susbscribes per doc\n  model.root._subscribedDocs = new CollectionCounter();\n});\n\nModel.prototype.fetch = function() {\n  this._forSubscribable(arguments, 'fetch');\n  return this;\n};\nModel.prototype.unfetch = function() {\n  this._forSubscribable(arguments, 'unfetch');\n  return this;\n};\nModel.prototype.subscribe = function() {\n  this._forSubscribable(arguments, 'subscribe');\n  return this;\n};\nModel.prototype.unsubscribe = function() {\n  this._forSubscribable(arguments, 'unsubscribe');\n  return this;\n};\n\nModel.prototype._forSubscribable = function(argumentsObject, method) {\n  var args, cb;\n  if (!argumentsObject.length) {\n    // Use this model's scope if no arguments\n    args = [null];\n  } else if (typeof argumentsObject[0] === 'function') {\n    // Use this model's scope if the first argument is a callback\n    args = [null];\n    cb = argumentsObject[0];\n  } else if (Array.isArray(argumentsObject[0])) {\n    // Items can be passed in as an array\n    args = argumentsObject[0];\n    cb = argumentsObject[1];\n  } else {\n    // Or as multiple arguments\n    args = Array.prototype.slice.call(argumentsObject);\n    var last = args[args.length - 1];\n    if (typeof last === 'function') cb = args.pop();\n  }\n\n  var group = util.asyncGroup(this.wrapCallback(cb));\n  var finished = group();\n  var docMethod = method + 'Doc';\n\n  this.root.connection.startBulk();\n  for (var i = 0; i < args.length; i++) {\n    var item = args[i];\n    if (item instanceof Query) {\n      item[method](group());\n    } else {\n      var segments = this._dereference(this._splitPath(item));\n      if (segments.length === 2) {\n        // Do the appropriate method for a single document.\n        this[docMethod](segments[0], segments[1], group());\n      } else {\n        var message = 'Cannot ' + method + ' to path: ' + segments.join('.');\n        group()(new Error(message));\n      }\n    }\n  }\n  this.root.connection.endBulk();\n  process.nextTick(finished);\n};\n\nModel.prototype.fetchDoc = function(collectionName, id, cb) {\n  cb = this.wrapCallback(cb);\n\n  // Maintain a count of fetches so that we can unload the document\n  // when there are no remaining fetches or subscribes for that document\n  this._context.fetchDoc(collectionName, id);\n  this.root._fetchedDocs.increment(collectionName, id);\n\n  // Fetch\n  var doc = this.getOrCreateDoc(collectionName, id);\n  doc.shareDoc.fetch(cb);\n};\n\nModel.prototype.subscribeDoc = function(collectionName, id, cb) {\n  cb = this.wrapCallback(cb);\n\n  // Maintain a count of subscribes so that we can unload the document\n  // when there are no remaining fetches or subscribes for that document\n  this._context.subscribeDoc(collectionName, id);\n  this.root._subscribedDocs.increment(collectionName, id);\n\n  var doc = this.getOrCreateDoc(collectionName, id);\n  // Early return if we know we are already subscribed\n  if (doc.shareDoc.subscribed) {\n    return cb();\n  }\n  // Subscribe\n  if (this.root.fetchOnly) {\n    doc.shareDoc.fetch(cb);\n  } else {\n    doc.shareDoc.subscribe(cb);\n  }\n};\n\nModel.prototype.unfetchDoc = function(collectionName, id, cb) {\n  cb = this.wrapCallback(cb);\n  this._context.unfetchDoc(collectionName, id);\n\n  // No effect if the document is not currently fetched\n  if (!this.root._fetchedDocs.get(collectionName, id)) return cb();\n\n  var model = this;\n  if (this.root.unloadDelay) {\n    setTimeout(finishUnfetchDoc, this.root.unloadDelay);\n  } else {\n    finishUnfetchDoc();\n  }\n  function finishUnfetchDoc() {\n    var count = model.root._fetchedDocs.decrement(collectionName, id);\n    if (count) return cb(null, count);\n    model._maybeUnloadDoc(collectionName, id);\n    cb(null, 0);\n  }\n};\n\nModel.prototype.unsubscribeDoc = function(collectionName, id, cb) {\n  cb = this.wrapCallback(cb);\n  this._context.unsubscribeDoc(collectionName, id);\n\n  // No effect if the document is not currently subscribed\n  if (!this.root._subscribedDocs.get(collectionName, id)) return cb();\n\n  var model = this;\n  if (this.root.unloadDelay) {\n    setTimeout(finishUnsubscribeDoc, this.root.unloadDelay);\n  } else {\n    finishUnsubscribeDoc();\n  }\n  function finishUnsubscribeDoc() {\n    var count = model.root._subscribedDocs.decrement(collectionName, id);\n    // If there are more remaining subscriptions, only decrement the count\n    // and callback with how many subscriptions are remaining\n    if (count) return cb(null, count);\n\n    // If there is only one remaining subscription, actually unsubscribe\n    if (model.root.fetchOnly) {\n      unsubscribeDocCallback();\n    } else {\n      var doc = model.getDoc(collectionName, id);\n      var shareDoc = doc && doc.shareDoc;\n      if (!shareDoc) return unsubscribeDocCallback();\n      shareDoc.unsubscribe(unsubscribeDocCallback);\n    }\n  }\n  function unsubscribeDocCallback(err) {\n    model._maybeUnloadDoc(collectionName, id);\n    if (err) return cb(err);\n    cb(null, 0);\n  }\n};\n\n// Removes the document from the local model if the model no longer has any\n// remaining fetches or subscribes via a query or direct loading\nModel.prototype._maybeUnloadDoc = function(collectionName, id) {\n  var doc = this.getDoc(collectionName, id);\n  if (!doc) return;\n\n  // If there is a query or direct fetch or subscribe that is holding reference\n  // to this doc, leave it loaded\n  if (this._hasDocReferences(collectionName, id)) return;\n  // Calling sharedDoc.destroy() will remove it from the connection only when\n  // there aren't any operations, fetches, or subscribes pending on the doc.\n  // Thus, if we remove the doc from Racer's model but don't remove it from\n  // ShareDB, we can end up with an inconsistent state, with the data existing\n  // in ShareDB not reflected in the racer model data\n  if (doc.shareDoc && doc.shareDoc.hasPending()) return;\n\n  var previous = doc.get();\n\n  // Remove doc from Racer\n  this.root.collections[collectionName].remove(id);\n  // Remove doc from Share\n  if (doc.shareDoc) doc.shareDoc.destroy();\n\n  this.emit('unload', [collectionName, id], [previous, this._pass]);\n};\n\nModel.prototype._hasDocReferences = function(collectionName, id) {\n  // Check if any fetched or subscribed queries currently have the\n  // id in their results\n  var queries = this.root._queries.collections[collectionName];\n  if (queries) {\n    for (var hash in queries) {\n      var query = queries[hash];\n      if (!query.subscribeCount && !query.fetchCount) continue;\n      if (query.idMap[id] > 0) return true;\n    }\n  }\n\n  // Check if document currently has direct fetch or subscribe\n  if (\n    this.root._fetchedDocs.get(collectionName, id) ||\n    this.root._subscribedDocs.get(collectionName, id)\n  ) return true;\n\n  return false;\n};\n",
    "/**\n * Contexts are useful for keeping track of the origin of subscribes.\n */\n\nvar Model = require('./Model');\nvar CollectionCounter = require('./CollectionCounter');\n\nModel.INITS.push(function(model) {\n  model.root._contexts = new Contexts();\n  model.root.setContext('root');\n});\n\nModel.prototype.context = function(id) {\n  var model = this._child();\n  model.setContext(id);\n  return model;\n};\n\nModel.prototype.setContext = function(id) {\n  this._context = this.getOrCreateContext(id);\n};\n\nModel.prototype.getOrCreateContext = function(id) {\n  var context = this.root._contexts[id] ||\n    (this.root._contexts[id] = new Context(this, id));\n  return context;\n};\n\nModel.prototype.unload = function(id) {\n  var context = (id) ? this.root._contexts[id] : this._context;\n  context && context.unload();\n};\n\nModel.prototype.unloadAll = function() {\n  var contexts = this.root._contexts;\n  for (var key in contexts) {\n    contexts[key].unload();\n  }\n};\n\nfunction Contexts() {}\n\nfunction FetchedQueries() {}\nfunction SubscribedQueries() {}\n\nfunction Context(model, id) {\n  this.model = model;\n  this.id = id;\n  this.fetchedDocs = new CollectionCounter();\n  this.subscribedDocs = new CollectionCounter();\n  this.createdDocs = new CollectionCounter();\n  this.fetchedQueries = new FetchedQueries();\n  this.subscribedQueries = new SubscribedQueries();\n}\n\nContext.prototype.toJSON = function() {\n  var fetchedDocs = this.fetchedDocs.toJSON();\n  var subscribedDocs = this.subscribedDocs.toJSON();\n  var createdDocs = this.createdDocs.toJSON();\n  if (!fetchedDocs && !subscribedDocs && !createdDocs) return;\n  return {\n    fetchedDocs: fetchedDocs,\n    subscribedDocs: subscribedDocs,\n    createdDocs: createdDocs\n  };\n};\n\nContext.prototype.fetchDoc = function(collectionName, id) {\n  this.fetchedDocs.increment(collectionName, id);\n};\nContext.prototype.subscribeDoc = function(collectionName, id) {\n  this.subscribedDocs.increment(collectionName, id);\n};\nContext.prototype.unfetchDoc = function(collectionName, id) {\n  this.fetchedDocs.decrement(collectionName, id);\n};\nContext.prototype.unsubscribeDoc = function(collectionName, id) {\n  this.subscribedDocs.decrement(collectionName, id);\n};\nContext.prototype.createDoc = function(collectionName, id) {\n  this.createdDocs.increment(collectionName, id);\n};\nContext.prototype.fetchQuery = function(query) {\n  mapIncrement(this.fetchedQueries, query.hash);\n};\nContext.prototype.subscribeQuery = function(query) {\n  mapIncrement(this.subscribedQueries, query.hash);\n};\nContext.prototype.unfetchQuery = function(query) {\n  mapDecrement(this.fetchedQueries, query.hash);\n};\nContext.prototype.unsubscribeQuery = function(query) {\n  mapDecrement(this.subscribedQueries, query.hash);\n};\nfunction mapIncrement(map, key) {\n  map[key] = (map[key] || 0) + 1;\n}\nfunction mapDecrement(map, key) {\n  map[key] && map[key]--;\n  if (!map[key]) delete map[key];\n}\n\nContext.prototype.unload = function() {\n  var model = this.model;\n  for (var hash in this.fetchedQueries) {\n    var query = model.root._queries.map[hash];\n    if (!query) continue;\n    var count = this.fetchedQueries[hash];\n    while (count--) query.unfetch();\n  }\n  for (var hash in this.subscribedQueries) {\n    var query = model.root._queries.map[hash];\n    if (!query) continue;\n    var count = this.subscribedQueries[hash];\n    while (count--) query.unsubscribe();\n  }\n  for (var collectionName in this.fetchedDocs.collections) {\n    var collection = this.fetchedDocs.collections[collectionName];\n    for (var id in collection) {\n      var count = collection[id];\n      while (count--) model.unfetchDoc(collectionName, id);\n    }\n  }\n  for (var collectionName in this.subscribedDocs.collections) {\n    var collection = this.subscribedDocs.collections[collectionName];\n    for (var id in collection) {\n      var count = collection[id];\n      while (count--) model.unsubscribeDoc(collectionName, id);\n    }\n  }\n  for (var collectionName in this.createdDocs.collections) {\n    var collection = this.createdDocs.collections[collectionName];\n    for (var id in collection) {\n      model._maybeUnloadDoc(collectionName, id);\n    }\n  }\n  this.createdDocs.reset();\n};\n",
    "var defaultFns = module.exports = new DefaultFns();\n\ndefaultFns.reverse = new FnPair(getReverse, setReverse);\ndefaultFns.asc = asc;\ndefaultFns.desc = desc;\n\nfunction DefaultFns() {}\nfunction FnPair(get, set) {\n  this.get = get;\n  this.set = set;\n}\n\nfunction getReverse(array) {\n  return array && array.slice().reverse();\n}\nfunction setReverse(values) {\n  return {0: getReverse(values)};\n}\n\nfunction asc(a, b) {\n  if (a < b) return -1;\n  if (a > b) return 1;\n  return 0;\n}\nfunction desc(a, b) {\n  if (a > b) return -1;\n  if (a < b) return 1;\n  return 0;\n}\n",
    "var util = require('../util');\nvar Model = require('./Model');\nvar defaultFns = require('./defaultFns');\n\nfunction NamedFns() {}\n\nModel.INITS.push(function(model) {\n  model.root._namedFns = new NamedFns();\n  model.root._fns = new Fns(model);\n  model.on('all', fnListener);\n  function fnListener(segments, eventArgs) {\n    var pass = eventArgs[eventArgs.length - 1];\n    var map = model.root._fns.fromMap;\n    for (var path in map) {\n      var fn = map[path];\n      if (pass.$fn === fn) continue;\n      if (util.mayImpactAny(fn.inputsSegments, segments)) {\n        // Mutation affecting input path\n        fn.onInput(pass);\n      } else if (util.mayImpact(fn.fromSegments, segments)) {\n        // Mutation affecting output path\n        fn.onOutput(pass);\n      }\n    }\n  }\n});\n\nModel.prototype.fn = function(name, fns) {\n  this.root._namedFns[name] = fns;\n};\n\nfunction parseStartArguments(model, args, hasPath) {\n  var last = args.pop();\n  var fns, name;\n  if (typeof last === 'string') {\n    name = last;\n  } else {\n    fns = last;\n  }\n  // For `Model#start`, the first parameter is the output path.\n  var path;\n  if (hasPath) {\n    path = model.path(args.shift());\n  }\n  // The second-to-last original argument could be an options object.\n  // If it's not an array and not path-like, then it's an options object.\n  last = args[args.length - 1];\n  var options;\n  if (!Array.isArray(last) && !model.isPath(last)) {\n    options = args.pop();\n  }\n\n  // `args` is just the input paths at this point.\n  var inputs;\n  if (args.length === 1 && Array.isArray(args[0])) {\n    // Inputs provided as one array:\n    //   model.start(outPath, [inPath1, inPath2], fn);\n    inputs = args[0];\n  } else {\n    // Inputs provided as var-args:\n    //   model.start(outPath, inPath1, inPath2, fn);\n    inputs = args;\n  }\n\n  // Normalize each input into a string path.\n  var i = inputs.length;\n  while (i--) {\n    inputs[i] = model.path(inputs[i]);\n  }\n  return {\n    name: name,\n    path: path,\n    inputPaths: inputs,\n    fns: fns,\n    options: options\n  };\n}\n\nModel.prototype.evaluate = function() {\n  var args = Array.prototype.slice.call(arguments);\n  var parsed = parseStartArguments(this, args, false);\n  return this.root._fns.get(parsed.name, parsed.inputPaths, parsed.fns, parsed.options);\n};\n\nModel.prototype.start = function() {\n  var args = Array.prototype.slice.call(arguments);\n  var parsed = parseStartArguments(this, args, true);\n  return this.root._fns.start(parsed.name, parsed.path, parsed.inputPaths, parsed.fns, parsed.options);\n};\n\nModel.prototype.stop = function(subpath) {\n  var path = this.path(subpath);\n  this._stop(path);\n};\nModel.prototype._stop = function(fromPath) {\n  this.root._fns.stop(fromPath);\n};\n\nModel.prototype.stopAll = function(subpath) {\n  var segments = this._splitPath(subpath);\n  this._stopAll(segments);\n};\nModel.prototype._stopAll = function(segments) {\n  var fns = this.root._fns.fromMap;\n  for (var from in fns) {\n    var fromSegments = fns[from].fromSegments;\n    if (util.contains(segments, fromSegments)) {\n      this._stop(from);\n    }\n  }\n};\n\nfunction FromMap() {}\nfunction Fns(model) {\n  this.model = model;\n  this.nameMap = model.root._namedFns;\n  this.fromMap = new FromMap();\n}\n\nFns.prototype.get = function(name, inputPaths, fns, options) {\n  fns || (fns = this.nameMap[name] || defaultFns[name]);\n  var fn = new Fn(this.model, name, null, inputPaths, fns, options);\n  return fn.get();\n};\n\nFns.prototype.start = function(name, path, inputPaths, fns, options) {\n  fns || (fns = this.nameMap[name] || defaultFns[name]);\n  var fn = new Fn(this.model, name, path, inputPaths, fns, options);\n  this.fromMap[path] = fn;\n  return fn._onInput();\n};\n\nFns.prototype.stop = function(path) {\n  var fn = this.fromMap[path];\n  delete this.fromMap[path];\n  return fn;\n};\n\nFns.prototype.toJSON = function() {\n  var out = [];\n  for (var from in this.fromMap) {\n    var fn = this.fromMap[from];\n    // Don't try to bundle non-named functions that were started via\n    // model.start directly instead of by name\n    if (!fn.name) continue;\n    var args = [fn.from].concat(fn.inputPaths);\n    if (fn.options) args.push(fn.options);\n    args.push(fn.name);\n    out.push(args);\n  }\n  return out;\n};\n\nfunction Fn(model, name, from, inputPaths, fns, options) {\n  this.model = model.pass({$fn: this});\n  this.name = name;\n  this.from = from;\n  this.inputPaths = inputPaths;\n  this.options = options;\n  if (!fns) {\n    throw new TypeError('Model function not found: ' + name);\n  }\n  this.getFn = fns.get || fns;\n  this.setFn = fns.set;\n  this.fromSegments = from && from.split('.');\n  this.inputsSegments = [];\n  for (var i = 0; i < this.inputPaths.length; i++) {\n    var segments = this.inputPaths[i].split('.');\n    this.inputsSegments.push(segments);\n  }\n\n  // Copy can be 'output', 'input', 'both', or 'none'\n  var copy = (options && options.copy) || 'output';\n  this.copyInput = (copy === 'input' || copy === 'both');\n  this.copyOutput = (copy === 'output' || copy === 'both');\n\n  // Mode can be 'diffDeep', 'diff', 'arrayDeep', or 'array'\n  this.mode = (options && options.mode) || 'diffDeep';\n\n  this.async = !!(options && options.async);\n  this.eventPending = false;\n}\n\nFn.prototype.apply = function(fn, inputs) {\n  for (var i = 0, len = this.inputsSegments.length; i < len; i++) {\n    var input = this.model._get(this.inputsSegments[i]);\n    inputs.push(this.copyInput ? util.deepCopy(input) : input);\n  }\n  return fn.apply(this.model, inputs);\n};\n\nFn.prototype.get = function() {\n  return this.apply(this.getFn, []);\n};\n\nFn.prototype.set = function(value, pass) {\n  if (!this.setFn) return;\n  var out = this.apply(this.setFn, [value]);\n  if (!out) return;\n  var inputsSegments = this.inputsSegments;\n  var model = this.model.pass(pass, true);\n  for (var key in out) {\n    var value = (this.copyOutput) ? util.deepCopy(out[key]) : out[key];\n    this._setValue(model, inputsSegments[key], value);\n  }\n};\n\nFn.prototype.onInput = function(pass) {\n  if (this.async) {\n    if (this.eventPending) return;\n    this.eventPending = true;\n    var fn = this;\n    process.nextTick(function() {\n      fn._onInput(pass);\n      fn.eventPending = false;\n    });\n    return;\n  }\n  return this._onInput(pass);\n};\n\nFn.prototype._onInput = function(pass) {\n  var value = (this.copyOutput) ? util.deepCopy(this.get()) : this.get();\n  this._setValue(this.model.pass(pass, true), this.fromSegments, value);\n  return value;\n};\n\nFn.prototype.onOutput = function(pass) {\n  var value = this.model._get(this.fromSegments);\n  return this.set(value, pass);\n};\n\nFn.prototype._setValue = function(model, segments, value) {\n  if (this.mode === 'diffDeep') {\n    model._setDiffDeep(segments, value);\n  } else if (this.mode === 'arrayDeep') {\n    model._setArrayDiffDeep(segments, value);\n  } else if (this.mode === 'array') {\n    model._setArrayDiff(segments, value);\n  } else {\n    model._setDiff(segments, value);\n  }\n};\n",
    "var util = require('../util');\nvar Model = require('./Model');\nvar defaultFns = require('./defaultFns');\n\nModel.INITS.push(function(model) {\n  model.root._filters = new Filters(model);\n  model.on('all', filterListener);\n  function filterListener(segments, eventArgs) {\n    var pass = eventArgs[eventArgs.length - 1];\n    var map = model.root._filters.fromMap;\n    for (var path in map) {\n      var filter = map[path];\n      if (pass.$filter === filter) continue;\n      if (\n        util.mayImpact(filter.segments, segments) ||\n        (filter.inputsSegments && util.mayImpactAny(filter.inputsSegments, segments))\n      ) {\n        filter.update(pass);\n      }\n    }\n  }\n});\n\nfunction parseFilterArguments(model, args) {\n  var fn = args.pop();\n  var options;\n  if (!model.isPath(args[args.length - 1])) {\n    options = args.pop();\n  }\n  var path = model.path(args.shift());\n  var i = args.length;\n  while (i--) {\n    args[i] = model.path(args[i]);\n  }\n  return {\n    path: path,\n    inputPaths: (args.length) ? args : null,\n    options: options,\n    fn: fn\n  };\n}\n\nModel.prototype.filter = function() {\n  var args = Array.prototype.slice.call(arguments);\n  var parsed = parseFilterArguments(this, args);\n  return this.root._filters.add(\n    parsed.path,\n    parsed.fn,\n    null,\n    parsed.inputPaths,\n    parsed.options\n  );\n};\n\nModel.prototype.sort = function() {\n  var args = Array.prototype.slice.call(arguments);\n  var parsed = parseFilterArguments(this, args);\n  return this.root._filters.add(\n    parsed.path,\n    null,\n    parsed.fn || 'asc',\n    parsed.inputPaths,\n    parsed.options\n  );\n};\n\nModel.prototype.removeAllFilters = function(subpath) {\n  var segments = this._splitPath(subpath);\n  this._removeAllFilters(segments);\n};\nModel.prototype._removeAllFilters = function(segments) {\n  var filters = this.root._filters.fromMap;\n  for (var from in filters) {\n    if (util.contains(segments, filters[from].fromSegments)) {\n      filters[from].destroy();\n    }\n  }\n};\n\nfunction FromMap() {}\nfunction Filters(model) {\n  this.model = model;\n  this.fromMap = new FromMap();\n}\n\nFilters.prototype.add = function(path, filterFn, sortFn, inputPaths, options) {\n  return new Filter(this, path, filterFn, sortFn, inputPaths, options);\n};\n\nFilters.prototype.toJSON = function() {\n  var out = [];\n  for (var from in this.fromMap) {\n    var filter = this.fromMap[from];\n    // Don't try to bundle if functions were passed directly instead of by name\n    if (!filter.bundle) continue;\n    var args = [from, filter.path, filter.filterName, filter.sortName, filter.inputPaths];\n    if (filter.options) args.push(filter.options);\n    out.push(args);\n  }\n  return out;\n};\n\nfunction Filter(filters, path, filterFn, sortFn, inputPaths, options) {\n  this.filters = filters;\n  this.model = filters.model.pass({$filter: this});\n  this.path = path;\n  this.segments = path.split('.');\n  this.filterName = null;\n  this.sortName = null;\n  this.bundle = true;\n  this.filterFn = null;\n  this.sortFn = null;\n  this.inputPaths = inputPaths;\n  this.inputsSegments = null;\n  if (inputPaths) {\n    this.inputsSegments = [];\n    for (var i = 0; i < this.inputPaths.length; i++) {\n      var segments = this.inputPaths[i].split('.');\n      this.inputsSegments.push(segments);\n    }\n  }\n  this.options = options;\n  this.skip = options && options.skip;\n  this.limit = options && options.limit;\n  if (filterFn) this.filter(filterFn);\n  if (sortFn) this.sort(sortFn);\n  this.idsSegments = null;\n  this.from = null;\n  this.fromSegments = null;\n}\n\nFilter.prototype.filter = function(fn) {\n  if (typeof fn === 'function') {\n    this.filterFn = fn;\n    this.bundle = false;\n    return this;\n  } else if (typeof fn === 'string') {\n    this.filterName = fn;\n    this.filterFn = this.model.root._namedFns[fn] || defaultFns[fn];\n    if (!this.filterFn) {\n      throw new TypeError('Filter function not found: ' + fn);\n    }\n  }\n  return this;\n};\n\nFilter.prototype.sort = function(fn) {\n  if (!fn) fn = 'asc';\n  if (typeof fn === 'function') {\n    this.sortFn = fn;\n    this.bundle = false;\n    return this;\n  } else if (typeof fn === 'string') {\n    this.sortName = fn;\n    this.sortFn = this.model.root._namedFns[fn] || defaultFns[fn];\n    if (!this.sortFn) {\n      throw new TypeError('Sort function not found: ' + fn);\n    }\n  }\n  return this;\n};\n\nFilter.prototype._slice = function(results) {\n  if (this.skip == null && this.limit == null) return results;\n  var begin = this.skip || 0;\n  // A limit of zero is equivalent to setting no limit\n  var end;\n  if (this.limit) end = begin + this.limit;\n  return results.slice(begin, end);\n};\n\nFilter.prototype.getInputs = function() {\n  if (!this.inputsSegments) return;\n  var inputs = [];\n  for (var i = 0, len = this.inputsSegments.length; i < len; i++) {\n    var input = this.model._get(this.inputsSegments[i]);\n    inputs.push(input);\n  }\n  return inputs;\n};\n\nFilter.prototype.callFilter = function(items, key, inputs) {\n  var item = items[key];\n  return (inputs) ?\n    this.filterFn.apply(this.model, [item, key, items].concat(inputs)) :\n    this.filterFn.call(this.model, item, key, items);\n};\n\nFilter.prototype.ids = function() {\n  var items = this.model._get(this.segments);\n  var ids = [];\n  if (!items) return ids;\n  if (Array.isArray(items)) {\n    throw new Error('model.filter is not currently supported on arrays');\n  }\n  if (this.filterFn) {\n    var inputs = this.getInputs();\n    for (var key in items) {\n      if (items.hasOwnProperty(key) && this.callFilter(items, key, inputs)) {\n        ids.push(key);\n      }\n    }\n  } else {\n    ids = Object.keys(items);\n  }\n  var sortFn = this.sortFn;\n  if (sortFn) {\n    ids.sort(function(a, b) {\n      return sortFn(items[a], items[b]);\n    });\n  }\n  return this._slice(ids);\n};\n\nFilter.prototype.get = function() {\n  var items = this.model._get(this.segments);\n  var results = [];\n  if (Array.isArray(items)) {\n    throw new Error('model.filter is not currently supported on arrays');\n  }\n  if (this.filterFn) {\n    var inputs = this.getInputs();\n    for (var key in items) {\n      if (items.hasOwnProperty(key) && this.callFilter(items, key, inputs)) {\n        results.push(items[key]);\n      }\n    }\n  } else {\n    for (var key in items) {\n      if (items.hasOwnProperty(key)) {\n        results.push(items[key]);\n      }\n    }\n  }\n  if (this.sortFn) results.sort(this.sortFn);\n  return this._slice(results);\n};\n\nFilter.prototype.update = function(pass) {\n  var ids = this.ids();\n  this.model.pass(pass, true)._setArrayDiff(this.idsSegments, ids);\n};\n\nFilter.prototype.ref = function(from) {\n  from = this.model.path(from);\n  this.from = from;\n  this.fromSegments = from.split('.');\n  this.filters.fromMap[from] = this;\n  this.idsSegments = ['$filters', from.replace(/\\./g, '|')];\n  this.update();\n  return this.model.refList(from, this.path, this.idsSegments.join('.'));\n};\n\nFilter.prototype.destroy = function() {\n  delete this.filters.fromMap[this.from];\n  this.model._removeRef(this.idsSegments);\n  this.model._del(this.idsSegments);\n};\n",
    "var util = require('../util');\nvar Model = require('./Model');\n\nModel.INITS.push(function(model) {\n  var root = model.root;\n  root._refLists = new RefLists();\n  for (var type in Model.MUTATOR_EVENTS) {\n    addListener(root, type);\n  }\n});\n\nfunction addListener(model, type) {\n  model.on(type + 'Immediate', refListListener);\n  function refListListener(segments, eventArgs) {\n    var pass = eventArgs[eventArgs.length - 1];\n    // Check for updates on or underneath paths\n    var fromMap = model._refLists.fromMap;\n    for (var from in fromMap) {\n      var refList = fromMap[from];\n      if (pass.$refList === refList) continue;\n      refList.onMutation(type, segments, eventArgs);\n    }\n  }\n}\n\n/**\n * @param {String} type\n * @param {Array} segments\n * @param {Array} eventArgs\n * @param {RefList} refList\n */\nfunction patchFromEvent(type, segments, eventArgs, refList) {\n  var fromLength = refList.fromSegments.length;\n  var segmentsLength = segments.length;\n  var pass = eventArgs[eventArgs.length - 1];\n  var model = refList.model.pass(pass, true);\n\n  // Mutation on the `from` output itself\n  if (segmentsLength === fromLength) {\n    if (type === 'insert') {\n      var index = eventArgs[0];\n      var values = eventArgs[1];\n      var ids = setNewToValues(model, refList, values);\n      model._insert(refList.idsSegments, index, ids);\n      return;\n    }\n\n    if (type === 'remove') {\n      var index = eventArgs[0];\n      var howMany = eventArgs[1].length;\n      var ids = model._remove(refList.idsSegments, index, howMany);\n      // Delete the appropriate items underneath `to` if the `deleteRemoved`\n      // option was set true\n      if (refList.deleteRemoved) {\n        for (var i = 0; i < ids.length; i++) {\n          var item = refList.itemById(ids[i]);\n          model._del(refList.toSegmentsByItem(item));\n        }\n      }\n      return;\n    }\n\n    if (type === 'move') {\n      var from = eventArgs[0];\n      var to = eventArgs[1];\n      var howMany = eventArgs[2];\n      model._move(refList.idsSegments, from, to, howMany);\n      return;\n    }\n\n    // Change of the entire output\n    var values = (type === 'change') ?\n      eventArgs[0] : model._get(refList.fromSegments);\n    // Set ids to empty list if output is set to null\n    if (!values) {\n      model._set(refList.idsSegments, []);\n      return;\n    }\n    // If the entire output is set, create a list of ids based on the output,\n    // and update the corresponding items\n    var ids = setNewToValues(model, refList, values);\n    model._set(refList.idsSegments, ids);\n    return;\n  }\n\n  // If mutation is on a parent of `from`, we might need to re-create the\n  // entire refList output\n  if (segmentsLength < fromLength) {\n    model._setArrayDiff(refList.fromSegments, refList.get());\n    return;\n  }\n\n  var index = segments[fromLength];\n  var value = model._get(refList.fromSegments.concat(index));\n  var toSegments = refList.toSegmentsByItem(value);\n\n  // Mutation underneath a child of the `from` object.\n  if (segmentsLength > fromLength + 1) {\n    throw new Error('Mutation on descendant of refList `from`' +\n      ' should have been dereferenced: ' + segments.join('.'));\n  }\n\n  // Otherwise, mutation of a child of the `from` object\n\n  // If changing the item itself, it will also have to be re-set on the\n  // original object\n  if (type === 'change') {\n    model._set(toSegments, value);\n    updateIdForValue(model, refList, index, value);\n    return;\n  }\n  if (type === 'insert' || type === 'remove' || type === 'move') {\n    throw new Error('Array mutation on child of refList `from`' +\n      'should have been dereferenced: ' + segments.join('.'));\n  }\n}\n\n/**\n * @private\n * @param {Model} model\n * @param {RefList} refList\n * @param {Array} values\n */\nfunction setNewToValues(model, refList, values) {\n  var ids = [];\n  for (var i = 0; i < values.length; i++) {\n    var value = values[i];\n    var id = refList.idByItem(value);\n    if (id === undefined && typeof value === 'object') {\n      id = value.id = model.id();\n    }\n    var toSegments = refList.toSegmentsByItem(value);\n    if (id === undefined || toSegments === undefined) {\n      throw new Error('Unable to add item to refList: ' + value);\n    }\n    if (model._get(toSegments) !== value) {\n      model._set(toSegments, value);\n    }\n    ids.push(id);\n  }\n  return ids;\n}\nfunction updateIdForValue(model, refList, index, value) {\n  var id = refList.idByItem(value);\n  var outSegments = refList.idsSegments.concat(index);\n  model._set(outSegments, id);\n}\n\nfunction patchToEvent(type, segments, eventArgs, refList) {\n  var toLength = refList.toSegments.length;\n  var segmentsLength = segments.length;\n  var pass = eventArgs[eventArgs.length - 1];\n  var model = refList.model.pass(pass, true);\n\n  // Mutation on the `to` object itself\n  if (segmentsLength === toLength) {\n    if (type === 'insert') {\n      var values = eventArgs[1];\n      for (var i = 0; i < values.length; i++) {\n        var value = values[i];\n        var indices = refList.indicesByItem(value);\n        if (!indices) continue;\n        for (var j = 0; j < indices.length; j++) {\n          var outSegments = refList.fromSegments.concat(indices[j]);\n          model._set(outSegments, value);\n        }\n      }\n      return;\n    }\n\n    if (type === 'remove') {\n      var removeIndex = eventArgs[0];\n      var values = eventArgs[1];\n      var howMany = values.length;\n      for (var i = removeIndex, len = removeIndex + howMany; i < len; i++) {\n        var indices = refList.indicesByItem(values[i]);\n        if (!indices) continue;\n        for (var j = 0, indicesLen = indices.length; j < indicesLen; j++) {\n          var outSegments = refList.fromSegments.concat(indices[j]);\n          model._set(outSegments, undefined);\n        }\n      }\n      return;\n    }\n\n    if (type === 'move') {\n      // Moving items in the `to` object should have no effect on the output\n      return;\n    }\n  }\n\n  // Mutation on or above the `to` object\n  if (segmentsLength <= toLength) {\n    // If the entire `to` object is updated, we need to re-create the\n    // entire refList output and apply what is different\n    model._setArrayDiff(refList.fromSegments, refList.get());\n    return;\n  }\n\n  // Mutation underneath a child of the `to` object. The item will already\n  // be up to date, since it is under an object reference. Just re-emit\n  if (segmentsLength > toLength + 1) {\n    var value = model._get(segments.slice(0, toLength + 1));\n    var indices = refList.indicesByItem(value);\n    if (!indices) return;\n    var remaining = segments.slice(toLength + 1);\n    for (var i = 0; i < indices.length; i++) {\n      var index = indices[i];\n      var dereferenced = refList.fromSegments.concat(index, remaining);\n      dereferenced = model._dereference(dereferenced, null, refList);\n      eventArgs = eventArgs.slice();\n      eventArgs[eventArgs.length - 1] = model._pass;\n      model.emit(type, dereferenced, eventArgs);\n    }\n    return;\n  }\n\n  // Otherwise, mutation of a child of the `to` object\n\n  // If changing the item itself, it will also have to be re-set on the\n  // array created by the refList\n  if (type === 'change' || type === 'load' || type === 'unload') {\n    var value, previous;\n    if (type === 'change') {\n      value = eventArgs[0];\n      previous = eventArgs[1];\n    } else if (type === 'load') {\n      value = eventArgs[0];\n      previous = undefined;\n    } else if (type === 'unload') {\n      value = undefined;\n      previous = eventArgs[0];\n    }\n    var newIndices = refList.indicesByItem(value);\n    var oldIndices = refList.indicesByItem(previous);\n    if (!newIndices && !oldIndices) return;\n    if (oldIndices && !equivalentArrays(oldIndices, newIndices)) {\n      // The changed item used to refer to some indices, but no longer does\n      for (var i = 0; i < oldIndices.length; i++) {\n        var outSegments = refList.fromSegments.concat(oldIndices[i]);\n        model._set(outSegments, undefined);\n      }\n    }\n    if (newIndices) {\n      for (var i = 0; i < newIndices.length; i++) {\n        var outSegments = refList.fromSegments.concat(newIndices[i]);\n        model._set(outSegments, value);\n      }\n    }\n    return;\n  }\n\n  var value = model._get(segments.slice(0, toLength + 1));\n  var indices = refList.indicesByItem(value);\n  if (!indices) return;\n\n  if (type === 'insert' || type === 'remove' || type === 'move') {\n    // Array mutations will have already been updated via an object\n    // reference, so only re-emit\n    for (var i = 0; i < indices.length; i++) {\n      var dereferenced = refList.fromSegments.concat(indices[i]);\n      dereferenced = model._dereference(dereferenced, null, refList);\n      eventArgs = eventArgs.slice();\n      eventArgs[eventArgs.length - 1] = model._pass;\n      model.emit(type, dereferenced, eventArgs);\n    }\n  }\n}\nfunction equivalentArrays(a, b) {\n  if (!a || !b) return false;\n  if (a.length !== b.length) return false;\n  for (var i = 0; i < a.length; i++) {\n    if (a[i] !== b[i]) return false;\n  }\n  return true;\n}\n\nfunction patchIdsEvent(type, segments, eventArgs, refList) {\n  var idsLength = refList.idsSegments.length;\n  var segmentsLength = segments.length;\n  var pass = eventArgs[eventArgs.length - 1];\n  var model = refList.model.pass(pass, true);\n\n  // An array mutation of the ids should be mirrored with a like change in\n  // the output array\n  if (segmentsLength === idsLength) {\n    if (type === 'insert') {\n      var index = eventArgs[0];\n      var inserted = eventArgs[1];\n      var values = [];\n      for (var i = 0; i < inserted.length; i++) {\n        var value = refList.itemById(inserted[i]);\n        values.push(value);\n      }\n      model._insert(refList.fromSegments, index, values);\n      return;\n    }\n\n    if (type === 'remove') {\n      var index = eventArgs[0];\n      var howMany = eventArgs[1].length;\n      model._remove(refList.fromSegments, index, howMany);\n      return;\n    }\n\n    if (type === 'move') {\n      var from = eventArgs[0];\n      var to = eventArgs[1];\n      var howMany = eventArgs[2];\n      model._move(refList.fromSegments, from, to, howMany);\n      return;\n    }\n  }\n\n  // Mutation on the `ids` list itself\n  if (segmentsLength <= idsLength) {\n    // If the entire `ids` array is updated, we need to re-create the\n    // entire refList output and apply what is different\n    model._setArrayDiff(refList.fromSegments, refList.get());\n    return;\n  }\n\n  // Otherwise, direct mutation of a child in the `ids` object or mutation\n  // underneath an item in the `ids` list. Update the item for the appropriate\n  // id if it has changed\n  var index = segments[idsLength];\n  var id = refList.idByIndex(index);\n  var item = refList.itemById(id);\n  var itemSegments = refList.fromSegments.concat(index);\n  if (model._get(itemSegments) !== item) {\n    model._set(itemSegments, item);\n  }\n}\n\nModel.prototype.refList = function() {\n  var from, to, ids, options;\n  if (arguments.length === 2) {\n    to = arguments[0];\n    ids = arguments[1];\n  } else if (arguments.length === 3) {\n    if (this.isPath(arguments[2])) {\n      from = arguments[0];\n      to = arguments[1];\n      ids = arguments[2];\n    } else {\n      to = arguments[0];\n      ids = arguments[1];\n      options = arguments[2];\n    }\n  } else {\n    from = arguments[0];\n    to = arguments[1];\n    ids = arguments[2];\n    options = arguments[3];\n  }\n  var fromPath = this.path(from);\n  var toPath;\n  if (Array.isArray(to)) {\n    toPath = [];\n    for (var i = 0; i < to.length; i++) {\n      toPath.push(this.path(to[i]));\n    }\n  } else {\n    toPath = this.path(to);\n  }\n  var idsPath = this.path(ids);\n  var refList = new RefList(this.root, fromPath, toPath, idsPath, options);\n  this.root._refLists.remove(fromPath);\n  refList.model._setArrayDiff(refList.fromSegments, refList.get());\n  this.root._refLists.add(refList);\n  return this.scope(fromPath);\n};\n\nfunction RefList(model, from, to, ids, options) {\n  this.model = model && model.pass({$refList: this});\n  this.from = from;\n  this.to = to;\n  this.ids = ids;\n  this.fromSegments = from && from.split('.');\n  this.toSegments = to && to.split('.');\n  this.idsSegments = ids && ids.split('.');\n  this.options = options;\n  this.deleteRemoved = options && options.deleteRemoved;\n}\n\n// The default implementation assumes that the ids array is a flat list of\n// keys on the to object. Ideally, this mapping could be customized via\n// inheriting from RefList and overriding these methods without having to\n// modify the above event handling code.\n//\n// In the default refList implementation, `key` and `id` are equal.\n//\n// Terms in the below methods:\n//   `item`  - Object on the `to` path, which gets mirrored on the `from` path\n//   `key`   - The property under `to` at which an item is located\n//   `id`    - String or object in the array at the `ids` path\n//   `index` - The index of an id, which corresponds to an index on `from`\nRefList.prototype.get = function() {\n  var ids = this.model._get(this.idsSegments);\n  if (!ids) return [];\n  var items = this.model._get(this.toSegments);\n  var out = [];\n  for (var i = 0; i < ids.length; i++) {\n    var key = ids[i];\n    out.push(items && items[key]);\n  }\n  return out;\n};\nRefList.prototype.dereference = function(segments, i) {\n  var remaining = segments.slice(i + 1);\n  var key = this.idByIndex(remaining[0]);\n  if (key == null) return [];\n  remaining[0] = key;\n  return this.toSegments.concat(remaining);\n};\nRefList.prototype.toSegmentsByItem = function(item) {\n  var key = this.idByItem(item);\n  if (key === undefined) return;\n  return this.toSegments.concat(key);\n};\nRefList.prototype.idByItem = function(item) {\n  if (item && item.id) return item.id;\n  var items = this.model._get(this.toSegments);\n  for (var key in items) {\n    if (item === items[key]) return key;\n  }\n};\nRefList.prototype.indicesByItem = function(item) {\n  var id = this.idByItem(item);\n  var ids = this.model._get(this.idsSegments);\n  if (!ids) return;\n  var indices;\n  var index = -1;\n  for (;;) {\n    index = ids.indexOf(id, index + 1);\n    if (index === -1) break;\n    if (indices) {\n      indices.push(index);\n    } else {\n      indices = [index];\n    }\n  }\n  return indices;\n};\nRefList.prototype.itemById = function(id) {\n  return this.model._get(this.toSegments.concat(id));\n};\nRefList.prototype.idByIndex = function(index) {\n  return this.model._get(this.idsSegments.concat(index));\n};\nRefList.prototype.onMutation = function(type, segments, eventArgs) {\n  if (util.mayImpact(this.toSegments, segments)) {\n    patchToEvent(type, segments, eventArgs, this);\n  } else if (util.mayImpact(this.idsSegments, segments)) {\n    patchIdsEvent(type, segments, eventArgs, this);\n  } else if (util.mayImpact(this.fromSegments, segments)) {\n    patchFromEvent(type, segments, eventArgs, this);\n  }\n};\n\nfunction FromMap() {}\n\nfunction RefLists() {\n  this.fromMap = new FromMap();\n}\n\nRefLists.prototype.add = function(refList) {\n  this.fromMap[refList.from] = refList;\n};\n\nRefLists.prototype.remove = function(from) {\n  var refList = this.fromMap[from];\n  delete this.fromMap[from];\n  return refList;\n};\n\nRefLists.prototype.toJSON = function() {\n  var out = [];\n  for (var from in this.fromMap) {\n    var refList = this.fromMap[from];\n    out.push([refList.from, refList.to, refList.ids, refList.options]);\n  }\n  return out;\n};\n",
    "var util = require('../util');\nvar Model = require('./Model');\n\nModel.INITS.push(function(model) {\n  var root = model.root;\n  root._refs = new Refs();\n  addIndexListeners(root);\n  addListener(root, 'change', refChange);\n  addListener(root, 'load', refLoad);\n  addListener(root, 'unload', refUnload);\n  addListener(root, 'insert', refInsert);\n  addListener(root, 'remove', refRemove);\n  addListener(root, 'move', refMove);\n});\n\nfunction addIndexListeners(model) {\n  model.on('insertImmediate', function refInsertIndex(segments, eventArgs) {\n    var index = eventArgs[0];\n    var howMany = eventArgs[1].length;\n    function patchInsert(refIndex) {\n      return (index <= refIndex) ? refIndex + howMany : refIndex;\n    }\n    onIndexChange(segments, patchInsert);\n  });\n  model.on('removeImmediate', function refRemoveIndex(segments, eventArgs) {\n    var index = eventArgs[0];\n    var howMany = eventArgs[1].length;\n    function patchRemove(refIndex) {\n      return (index <= refIndex) ? refIndex - howMany : refIndex;\n    }\n    onIndexChange(segments, patchRemove);\n  });\n  model.on('moveImmediate', function refMoveIndex(segments, eventArgs) {\n    var from = eventArgs[0];\n    var to = eventArgs[1];\n    var howMany = eventArgs[2];\n    function patchMove(refIndex) {\n      // If the index was moved itself\n      if (from <= refIndex && refIndex < from + howMany) {\n        return refIndex + to - from;\n      }\n      // Remove part of a move\n      if (from <= refIndex) refIndex -= howMany;\n      // Insert part of a move\n      if (to <= refIndex) refIndex += howMany;\n      return refIndex;\n    }\n    onIndexChange(segments, patchMove);\n  });\n  function onIndexChange(segments, patch) {\n    var fromMap = model._refs.fromMap;\n    for (var from in fromMap) {\n      var ref = fromMap[from];\n      if (!(ref.updateIndices &&\n        util.contains(segments, ref.toSegments) &&\n        ref.toSegments.length > segments.length)) continue;\n      var index = +ref.toSegments[segments.length];\n      var patched = patch(index);\n      if (index === patched) continue;\n      model._refs.remove(from);\n      ref.toSegments[segments.length] = '' + patched;\n      ref.to = ref.toSegments.join('.');\n      model._refs.add(ref);\n    }\n  }\n}\n\nfunction refChange(model, dereferenced, eventArgs, segments) {\n  var value = eventArgs[0];\n  // Detect if we are deleting vs. setting to undefined\n  if (value === undefined) {\n    var parentSegments = segments.slice();\n    var last = parentSegments.pop();\n    var parent = model._get(parentSegments);\n    if (!parent || !(last in parent)) {\n      model._del(dereferenced);\n      return;\n    }\n  }\n  model._set(dereferenced, value);\n}\nfunction refLoad(model, dereferenced, eventArgs) {\n  var value = eventArgs[0];\n  model._set(dereferenced, value);\n}\nfunction refUnload(model, dereferenced) {\n  model._del(dereferenced);\n}\nfunction refInsert(model, dereferenced, eventArgs) {\n  var index = eventArgs[0];\n  var values = eventArgs[1];\n  model._insert(dereferenced, index, values);\n}\nfunction refRemove(model, dereferenced, eventArgs) {\n  var index = eventArgs[0];\n  var howMany = eventArgs[1].length;\n  model._remove(dereferenced, index, howMany);\n}\nfunction refMove(model, dereferenced, eventArgs) {\n  var from = eventArgs[0];\n  var to = eventArgs[1];\n  var howMany = eventArgs[2];\n  model._move(dereferenced, from, to, howMany);\n}\n\nfunction addListener(model, type, fn) {\n  model.on(type + 'Immediate', refListener);\n  function refListener(segments, eventArgs) {\n    var pass = eventArgs[eventArgs.length - 1];\n    // Find cases where an event is emitted on a path where a reference\n    // is pointing. All original mutations happen on the fully dereferenced\n    // location, so this detection only needs to happen in one direction\n    var toMap = model._refs.toMap;\n    var subpath;\n    for (var i = 0, len = segments.length; i < len; i++) {\n      subpath = (subpath) ? subpath + '.' + segments[i] : segments[i];\n      // If a ref is found pointing to a matching subpath, re-emit on the\n      // place where the reference is coming from as if the mutation also\n      // occured at that path\n      var refs = toMap[subpath];\n      if (!refs) continue;\n\n      // Shallow clone refs in case a ref is removed while going through\n      // the loop\n      refs = refs.slice();\n      var remaining = segments.slice(i + 1);\n      for (var refIndex = 0, numRefs = refs.length; refIndex < numRefs; refIndex++) {\n        var ref = refs[refIndex];\n        var dereferenced = ref.fromSegments.concat(remaining);\n        // The value may already be up to date via object reference. If so,\n        // simply re-emit the event. Otherwise, perform the same mutation on\n        // the ref's path\n        if (model._get(dereferenced) === model._get(segments)) {\n          model.emit(type, dereferenced, eventArgs);\n        } else {\n          var setterModel = ref.model.pass(pass, true);\n          setterModel._dereference = noopDereference;\n          fn(setterModel, dereferenced, eventArgs, segments);\n        }\n      }\n    }\n    // If a ref points to a child of a matching subpath, get the value in\n    // case it has changed and set if different\n    var parentToMap = model._refs.parentToMap;\n    var refs = parentToMap[subpath];\n    if (!refs) return;\n    for (var refIndex = 0, numRefs = refs.length; refIndex < numRefs; refIndex++) {\n      var ref = refs[refIndex];\n      var value = model._get(ref.toSegments);\n      var previous = model._get(ref.fromSegments);\n      if (previous !== value) {\n        var setterModel = ref.model.pass(pass, true);\n        setterModel._dereference = noopDereference;\n        setterModel._set(ref.fromSegments, value);\n      }\n    }\n  }\n}\n\nModel.prototype._canRefTo = function(value) {\n  return this.isPath(value) || (value && typeof value.ref === 'function');\n};\n\nModel.prototype.ref = function() {\n  var from, to, options;\n  if (arguments.length === 1) {\n    to = arguments[0];\n  } else if (arguments.length === 2) {\n    if (this._canRefTo(arguments[1])) {\n      from = arguments[0];\n      to = arguments[1];\n    } else {\n      to = arguments[0];\n      options = arguments[1];\n    }\n  } else {\n    from = arguments[0];\n    to = arguments[1];\n    options = arguments[2];\n  }\n  var fromPath = this.path(from);\n  var toPath = this.path(to);\n  // Make ref to reffable object, such as query or filter\n  if (!toPath) return to.ref(fromPath);\n  var ref = new Ref(this.root, fromPath, toPath, options);\n  if (ref.fromSegments.length < 2) {\n    throw new Error('ref must be performed under a collection ' +\n      'and document id. Invalid path: ' + fromPath);\n  }\n  this.root._refs.remove(fromPath);\n  this.root._refLists.remove(fromPath);\n  var value = this.get(to);\n  ref.model._set(ref.fromSegments, value);\n  this.root._refs.add(ref);\n  return this.scope(fromPath);\n};\n\nModel.prototype.removeRef = function(subpath) {\n  var segments = this._splitPath(subpath);\n  var fromPath = segments.join('.');\n  this._removeRef(segments, fromPath);\n};\nModel.prototype._removeRef = function(segments, fromPath) {\n  this.root._refs.remove(fromPath);\n  this.root._refLists.remove(fromPath);\n  this._del(segments);\n};\n\nModel.prototype.removeAllRefs = function(subpath) {\n  var segments = this._splitPath(subpath);\n  this._removeAllRefs(segments);\n};\nModel.prototype._removeAllRefs = function(segments) {\n  this._removeMapRefs(segments, this.root._refs.fromMap);\n  this._removeMapRefs(segments, this.root._refLists.fromMap);\n};\nModel.prototype._removeMapRefs = function(segments, map) {\n  for (var from in map) {\n    var fromSegments = map[from].fromSegments;\n    if (util.contains(segments, fromSegments)) {\n      this._removeRef(fromSegments, from);\n    }\n  }\n};\n\nModel.prototype.dereference = function(subpath) {\n  var segments = this._splitPath(subpath);\n  return this._dereference(segments).join('.');\n};\n\nModel.prototype._dereference = function(segments, forArrayMutator, ignore) {\n  if (segments.length === 0) return segments;\n  var refs = this.root._refs.fromMap;\n  var refLists = this.root._refLists.fromMap;\n  var doAgain;\n  do {\n    var subpath = '';\n    doAgain = false;\n    for (var i = 0, len = segments.length; i < len; i++) {\n      subpath = (subpath) ? subpath + '.' + segments[i] : segments[i];\n\n      var ref = refs[subpath];\n      if (ref) {\n        var remaining = segments.slice(i + 1);\n        segments = ref.toSegments.concat(remaining);\n        doAgain = true;\n        break;\n      }\n\n      var refList = refLists[subpath];\n      if (refList && refList !== ignore) {\n        var belowDescendant = i + 2 < len;\n        var belowChild = i + 1 < len;\n        if (!(belowDescendant || forArrayMutator && belowChild)) continue;\n        segments = refList.dereference(segments, i);\n        doAgain = true;\n        break;\n      }\n    }\n  } while (doAgain);\n  // If a dereference fails, return a path that will result in a null value\n  // instead of a path to everything in the model\n  if (segments.length === 0) return ['$null'];\n  return segments;\n};\n\nfunction noopDereference(segments) {\n  return segments;\n}\n\nfunction Ref(model, from, to, options) {\n  this.model = model && model.pass({$ref: this});\n  this.from = from;\n  this.to = to;\n  this.fromSegments = from.split('.');\n  this.toSegments = to.split('.');\n  this.parentTos = [];\n  for (var i = 1, len = this.toSegments.length; i < len; i++) {\n    var parentTo = this.toSegments.slice(0, i).join('.');\n    this.parentTos.push(parentTo);\n  }\n  this.updateIndices = options && options.updateIndices;\n}\nfunction FromMap() {}\nfunction ToMap() {}\n\nfunction Refs() {\n  this.fromMap = new FromMap();\n  this.toMap = new ToMap();\n  this.parentToMap = new ToMap();\n}\n\nRefs.prototype.add = function(ref) {\n  this.fromMap[ref.from] = ref;\n  listMapAdd(this.toMap, ref.to, ref);\n  for (var i = 0, len = ref.parentTos.length; i < len; i++) {\n    listMapAdd(this.parentToMap, ref.parentTos[i], ref);\n  }\n};\n\nRefs.prototype.remove = function(from) {\n  var ref = this.fromMap[from];\n  if (!ref) return;\n  delete this.fromMap[from];\n  listMapRemove(this.toMap, ref.to, ref);\n  for (var i = 0, len = ref.parentTos.length; i < len; i++) {\n    listMapRemove(this.parentToMap, ref.parentTos[i], ref);\n  }\n  return ref;\n};\n\nRefs.prototype.toJSON = function() {\n  var out = [];\n  for (var from in this.fromMap) {\n    var ref = this.fromMap[from];\n    out.push([ref.from, ref.to]);\n  }\n  return out;\n};\n\nfunction listMapAdd(map, name, item) {\n  map[name] || (map[name] = []);\n  map[name].push(item);\n}\n\nfunction listMapRemove(map, name, item) {\n  var items = map[name];\n  if (!items) return;\n  var index = items.indexOf(item);\n  if (index === -1) return;\n  items.splice(index, 1);\n  if (!items.length) delete map[name];\n}\n",
    "module.exports = require('./Model');\nvar util = require('../util');\n\n// Extend model on both server and client //\nrequire('./unbundle');\nrequire('./events');\nrequire('./paths');\nrequire('./collections');\nrequire('./mutators');\nrequire('./setDiff');\n\nrequire('./connection');\nrequire('./subscriptions');\nrequire('./Query');\nrequire('./contexts');\n\nrequire('./fn');\nrequire('./filter');\nrequire('./refList');\nrequire('./ref');\n\n// Extend model for server //\nutil.serverRequire(module, './bundle');\nutil.serverRequire(module, './connection.server');\n",
    "var EventEmitter = require('events').EventEmitter;\nvar Model = require('./Model');\nvar util = require('./util');\n\nmodule.exports = Racer;\n\nfunction Racer() {\n  EventEmitter.call(this);\n}\n\nutil.mergeInto(Racer.prototype, EventEmitter.prototype);\n\n// Make classes accessible for use by plugins and tests\nRacer.prototype.Model = Model;\nRacer.prototype.util = util;\n\n// Support plugins on racer instances\nRacer.prototype.use = util.use;\nRacer.prototype.serverUse = util.serverUse;\n\nRacer.prototype.createModel = function(data) {\n  var model = new Model();\n  if (data) {\n    model.createConnection(data);\n    model.unbundle(data);\n  }\n  return model;\n};\n\nutil.serverRequire(module, './Racer.server');\n",
    "var Racer = require('./Racer');\nmodule.exports = new Racer();\n",
    "(function(){\nvar f, aa = aa || {}, l = this;\nfunction ba(a) {\n  a = a.split(\".\");\n  for (var b = l, c;c = a.shift();) {\n    if (null != b[c]) {\n      b = b[c];\n    } else {\n      return null;\n    }\n  }\n  return b;\n}\nfunction ca() {\n}\nfunction da(a) {\n  var b = typeof a;\n  if (\"object\" == b) {\n    if (a) {\n      if (a instanceof Array) {\n        return \"array\";\n      }\n      if (a instanceof Object) {\n        return b;\n      }\n      var c = Object.prototype.toString.call(a);\n      if (\"[object Window]\" == c) {\n        return \"object\";\n      }\n      if (\"[object Array]\" == c || \"number\" == typeof a.length && \"undefined\" != typeof a.splice && \"undefined\" != typeof a.propertyIsEnumerable && !a.propertyIsEnumerable(\"splice\")) {\n        return \"array\";\n      }\n      if (\"[object Function]\" == c || \"undefined\" != typeof a.call && \"undefined\" != typeof a.propertyIsEnumerable && !a.propertyIsEnumerable(\"call\")) {\n        return \"function\";\n      }\n    } else {\n      return \"null\";\n    }\n  } else {\n    if (\"function\" == b && \"undefined\" == typeof a.call) {\n      return \"object\";\n    }\n  }\n  return b;\n}\nfunction m(a) {\n  return \"array\" == da(a);\n}\nfunction ea(a) {\n  var b = da(a);\n  return \"array\" == b || \"object\" == b && \"number\" == typeof a.length;\n}\nfunction n(a) {\n  return \"string\" == typeof a;\n}\nfunction fa(a) {\n  return \"function\" == da(a);\n}\nvar ga = \"closure_uid_\" + (1E9 * Math.random() >>> 0), ha = 0;\nfunction ia(a, b, c) {\n  return a.call.apply(a.bind, arguments);\n}\nfunction ja(a, b, c) {\n  if (!a) {\n    throw Error();\n  }\n  if (2 < arguments.length) {\n    var d = Array.prototype.slice.call(arguments, 2);\n    return function() {\n      var c = Array.prototype.slice.call(arguments);\n      Array.prototype.unshift.apply(c, d);\n      return a.apply(b, c);\n    };\n  }\n  return function() {\n    return a.apply(b, arguments);\n  };\n}\nfunction p(a, b, c) {\n  p = Function.prototype.bind && -1 != Function.prototype.bind.toString().indexOf(\"native code\") ? ia : ja;\n  return p.apply(null, arguments);\n}\nvar q = Date.now || function() {\n  return+new Date;\n};\nfunction s(a, b) {\n  function c() {\n  }\n  c.prototype = b.prototype;\n  a.pa = b.prototype;\n  a.prototype = new c;\n  a.Hc = function(a, c, g) {\n    var h = Array.prototype.slice.call(arguments, 2);\n    return b.prototype[c].apply(a, h);\n  };\n}\n;function ka(a, b) {\n  for (var c = a.split(\"%s\"), d = \"\", e = Array.prototype.slice.call(arguments, 1);e.length && 1 < c.length;) {\n    d += c.shift() + e.shift();\n  }\n  return d + c.join(\"%s\");\n}\nfunction la(a) {\n  if (!ma.test(a)) {\n    return a;\n  }\n  -1 != a.indexOf(\"&\") && (a = a.replace(na, \"&amp;\"));\n  -1 != a.indexOf(\"<\") && (a = a.replace(oa, \"&lt;\"));\n  -1 != a.indexOf(\">\") && (a = a.replace(pa, \"&gt;\"));\n  -1 != a.indexOf('\"') && (a = a.replace(qa, \"&quot;\"));\n  -1 != a.indexOf(\"'\") && (a = a.replace(ra, \"&#39;\"));\n  return a;\n}\nvar na = /&/g, oa = /</g, pa = />/g, qa = /\"/g, ra = /'/g, ma = /[&<>\"']/;\nfunction sa() {\n  return Math.floor(2147483648 * Math.random()).toString(36) + Math.abs(Math.floor(2147483648 * Math.random()) ^ q()).toString(36);\n}\nfunction ta(a, b) {\n  return a < b ? -1 : a > b ? 1 : 0;\n}\n;var x, ua, va, wa;\nfunction xa() {\n  return l.navigator ? l.navigator.userAgent : null;\n}\nwa = va = ua = x = !1;\nvar ya;\nif (ya = xa()) {\n  var za = l.navigator;\n  x = 0 == ya.lastIndexOf(\"Opera\", 0);\n  ua = !x && (-1 != ya.indexOf(\"MSIE\") || -1 != ya.indexOf(\"Trident\"));\n  va = !x && -1 != ya.indexOf(\"WebKit\");\n  wa = !x && !va && !ua && \"Gecko\" == za.product;\n}\nvar Aa = x, y = ua, Ba = wa, z = va;\nfunction Ca() {\n  var a = l.document;\n  return a ? a.documentMode : void 0;\n}\nvar Da;\na: {\n  var Ea = \"\", Fa;\n  if (Aa && l.opera) {\n    var Ga = l.opera.version, Ea = \"function\" == typeof Ga ? Ga() : Ga\n  } else {\n    if (Ba ? Fa = /rv\\:([^\\);]+)(\\)|;)/ : y ? Fa = /\\b(?:MSIE|rv)[: ]([^\\);]+)(\\)|;)/ : z && (Fa = /WebKit\\/(\\S+)/), Fa) {\n      var Ha = Fa.exec(xa()), Ea = Ha ? Ha[1] : \"\"\n    }\n  }\n  if (y) {\n    var Ia = Ca();\n    if (Ia > parseFloat(Ea)) {\n      Da = String(Ia);\n      break a;\n    }\n  }\n  Da = Ea;\n}\nvar Ja = {};\nfunction A(a) {\n  var b;\n  if (!(b = Ja[a])) {\n    b = 0;\n    for (var c = String(Da).replace(/^[\\s\\xa0]+|[\\s\\xa0]+$/g, \"\").split(\".\"), d = String(a).replace(/^[\\s\\xa0]+|[\\s\\xa0]+$/g, \"\").split(\".\"), e = Math.max(c.length, d.length), g = 0;0 == b && g < e;g++) {\n      var h = c[g] || \"\", k = d[g] || \"\", u = RegExp(\"(\\\\d*)(\\\\D*)\", \"g\"), K = RegExp(\"(\\\\d*)(\\\\D*)\", \"g\");\n      do {\n        var v = u.exec(h) || [\"\", \"\", \"\"], r = K.exec(k) || [\"\", \"\", \"\"];\n        if (0 == v[0].length && 0 == r[0].length) {\n          break;\n        }\n        b = ta(0 == v[1].length ? 0 : parseInt(v[1], 10), 0 == r[1].length ? 0 : parseInt(r[1], 10)) || ta(0 == v[2].length, 0 == r[2].length) || ta(v[2], r[2]);\n      } while (0 == b);\n    }\n    b = Ja[a] = 0 <= b;\n  }\n  return b;\n}\nvar La = l.document, Ma = La && y ? Ca() || (\"CSS1Compat\" == La.compatMode ? parseInt(Da, 10) : 5) : void 0;\nfunction Na(a) {\n  Error.captureStackTrace ? Error.captureStackTrace(this, Na) : this.stack = Error().stack || \"\";\n  a && (this.message = String(a));\n}\ns(Na, Error);\nNa.prototype.name = \"CustomError\";\nfunction Oa(a, b) {\n  b.unshift(a);\n  Na.call(this, ka.apply(null, b));\n  b.shift();\n}\ns(Oa, Na);\nOa.prototype.name = \"AssertionError\";\nfunction Pa(a, b) {\n  throw new Oa(\"Failure\" + (a ? \": \" + a : \"\"), Array.prototype.slice.call(arguments, 1));\n}\n;var Qa = RegExp(\"^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\\\?([^#]*))?(?:#(.*))?$\");\nfunction Ra(a) {\n  if (Sa) {\n    Sa = !1;\n    var b = l.location;\n    if (b) {\n      var c = b.href;\n      if (c && (c = (c = Ra(c)[3] || null) && decodeURIComponent(c)) && c != b.hostname) {\n        throw Sa = !0, Error();\n      }\n    }\n  }\n  return a.match(Qa);\n}\nvar Sa = z;\nfunction Ta(a) {\n  var b = [], c = 0, d;\n  for (d in a) {\n    b[c++] = a[d];\n  }\n  return b;\n}\nfunction Ua(a) {\n  var b = [], c = 0, d;\n  for (d in a) {\n    b[c++] = d;\n  }\n  return b;\n}\nvar Va = \"constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf\".split(\" \");\nfunction Wa(a, b) {\n  for (var c, d, e = 1;e < arguments.length;e++) {\n    d = arguments[e];\n    for (c in d) {\n      a[c] = d[c];\n    }\n    for (var g = 0;g < Va.length;g++) {\n      c = Va[g], Object.prototype.hasOwnProperty.call(d, c) && (a[c] = d[c]);\n    }\n  }\n}\n;var B = Array.prototype, Xa = B.indexOf ? function(a, b, c) {\n  return B.indexOf.call(a, b, c);\n} : function(a, b, c) {\n  c = null == c ? 0 : 0 > c ? Math.max(0, a.length + c) : c;\n  if (n(a)) {\n    return n(b) && 1 == b.length ? a.indexOf(b, c) : -1;\n  }\n  for (;c < a.length;c++) {\n    if (c in a && a[c] === b) {\n      return c;\n    }\n  }\n  return-1;\n}, Ya = B.forEach ? function(a, b, c) {\n  B.forEach.call(a, b, c);\n} : function(a, b, c) {\n  for (var d = a.length, e = n(a) ? a.split(\"\") : a, g = 0;g < d;g++) {\n    g in e && b.call(c, e[g], g, a);\n  }\n};\nfunction Za(a) {\n  var b;\n  a: {\n    b = $a;\n    for (var c = a.length, d = n(a) ? a.split(\"\") : a, e = 0;e < c;e++) {\n      if (e in d && b.call(void 0, d[e], e, a)) {\n        b = e;\n        break a;\n      }\n    }\n    b = -1;\n  }\n  return 0 > b ? null : n(a) ? a.charAt(b) : a[b];\n}\nfunction ab(a) {\n  return B.concat.apply(B, arguments);\n}\nfunction bb(a) {\n  var b = a.length;\n  if (0 < b) {\n    for (var c = Array(b), d = 0;d < b;d++) {\n      c[d] = a[d];\n    }\n    return c;\n  }\n  return[];\n}\n;function cb(a, b) {\n  this.O = {};\n  this.j = [];\n  this.o = 0;\n  var c = arguments.length;\n  if (1 < c) {\n    if (c % 2) {\n      throw Error(\"Uneven number of arguments\");\n    }\n    for (var d = 0;d < c;d += 2) {\n      this.set(arguments[d], arguments[d + 1]);\n    }\n  } else {\n    if (a) {\n      a instanceof cb ? (c = a.ca(), d = a.N()) : (c = Ua(a), d = Ta(a));\n      for (var e = 0;e < c.length;e++) {\n        this.set(c[e], d[e]);\n      }\n    }\n  }\n}\nf = cb.prototype;\nf.N = function() {\n  db(this);\n  for (var a = [], b = 0;b < this.j.length;b++) {\n    a.push(this.O[this.j[b]]);\n  }\n  return a;\n};\nf.ca = function() {\n  db(this);\n  return this.j.concat();\n};\nf.wa = function(a) {\n  return C(this.O, a);\n};\nf.remove = function(a) {\n  return C(this.O, a) ? (delete this.O[a], this.o--, this.j.length > 2 * this.o && db(this), !0) : !1;\n};\nfunction db(a) {\n  if (a.o != a.j.length) {\n    for (var b = 0, c = 0;b < a.j.length;) {\n      var d = a.j[b];\n      C(a.O, d) && (a.j[c++] = d);\n      b++;\n    }\n    a.j.length = c;\n  }\n  if (a.o != a.j.length) {\n    for (var e = {}, c = b = 0;b < a.j.length;) {\n      d = a.j[b], C(e, d) || (a.j[c++] = d, e[d] = 1), b++;\n    }\n    a.j.length = c;\n  }\n}\nf.get = function(a, b) {\n  return C(this.O, a) ? this.O[a] : b;\n};\nf.set = function(a, b) {\n  C(this.O, a) || (this.o++, this.j.push(a));\n  this.O[a] = b;\n};\nf.n = function() {\n  return new cb(this);\n};\nfunction C(a, b) {\n  return Object.prototype.hasOwnProperty.call(a, b);\n}\n;function eb(a) {\n  if (\"function\" == typeof a.N) {\n    return a.N();\n  }\n  if (n(a)) {\n    return a.split(\"\");\n  }\n  if (ea(a)) {\n    for (var b = [], c = a.length, d = 0;d < c;d++) {\n      b.push(a[d]);\n    }\n    return b;\n  }\n  return Ta(a);\n}\nfunction D(a, b, c) {\n  if (\"function\" == typeof a.forEach) {\n    a.forEach(b, c);\n  } else {\n    if (ea(a) || n(a)) {\n      Ya(a, b, c);\n    } else {\n      var d;\n      if (\"function\" == typeof a.ca) {\n        d = a.ca();\n      } else {\n        if (\"function\" != typeof a.N) {\n          if (ea(a) || n(a)) {\n            d = [];\n            for (var e = a.length, g = 0;g < e;g++) {\n              d.push(g);\n            }\n          } else {\n            d = Ua(a);\n          }\n        } else {\n          d = void 0;\n        }\n      }\n      for (var e = eb(a), g = e.length, h = 0;h < g;h++) {\n        b.call(c, e[h], d && d[h], a);\n      }\n    }\n  }\n}\n;function E(a, b) {\n  var c;\n  if (a instanceof E) {\n    this.D = void 0 !== b ? b : a.D, fb(this, a.oa), c = a.eb, F(this), this.eb = c, gb(this, a.ja), hb(this, a.Ca), ib(this, a.I), jb(this, a.R.n()), c = a.Na, F(this), this.Na = c;\n  } else {\n    if (a && (c = Ra(String(a)))) {\n      this.D = !!b;\n      fb(this, c[1] || \"\", !0);\n      var d = c[2] || \"\";\n      F(this);\n      this.eb = d ? decodeURIComponent(d) : \"\";\n      gb(this, c[3] || \"\", !0);\n      hb(this, c[4]);\n      ib(this, c[5] || \"\", !0);\n      jb(this, c[6] || \"\", !0);\n      c = c[7] || \"\";\n      F(this);\n      this.Na = c ? decodeURIComponent(c) : \"\";\n    } else {\n      this.D = !!b, this.R = new kb(null, 0, this.D);\n    }\n  }\n}\nf = E.prototype;\nf.oa = \"\";\nf.eb = \"\";\nf.ja = \"\";\nf.Ca = null;\nf.I = \"\";\nf.Na = \"\";\nf.oc = !1;\nf.D = !1;\nf.toString = function() {\n  var a = [], b = this.oa;\n  b && a.push(lb(b, mb), \":\");\n  if (b = this.ja) {\n    a.push(\"//\");\n    var c = this.eb;\n    c && a.push(lb(c, mb), \"@\");\n    a.push(encodeURIComponent(String(b)));\n    b = this.Ca;\n    null != b && a.push(\":\", String(b));\n  }\n  if (b = this.I) {\n    this.ja && \"/\" != b.charAt(0) && a.push(\"/\"), a.push(lb(b, \"/\" == b.charAt(0) ? nb : ob));\n  }\n  (b = this.R.toString()) && a.push(\"?\", b);\n  (b = this.Na) && a.push(\"#\", lb(b, pb));\n  return a.join(\"\");\n};\nf.n = function() {\n  return new E(this);\n};\nfunction fb(a, b, c) {\n  F(a);\n  a.oa = c ? b ? decodeURIComponent(b) : \"\" : b;\n  a.oa && (a.oa = a.oa.replace(/:$/, \"\"));\n}\nfunction gb(a, b, c) {\n  F(a);\n  a.ja = c ? b ? decodeURIComponent(b) : \"\" : b;\n}\nfunction hb(a, b) {\n  F(a);\n  if (b) {\n    b = Number(b);\n    if (isNaN(b) || 0 > b) {\n      throw Error(\"Bad port number \" + b);\n    }\n    a.Ca = b;\n  } else {\n    a.Ca = null;\n  }\n}\nfunction ib(a, b, c) {\n  F(a);\n  a.I = c ? b ? decodeURIComponent(b) : \"\" : b;\n}\nfunction jb(a, b, c) {\n  F(a);\n  b instanceof kb ? (a.R = b, a.R.ub(a.D)) : (c || (b = lb(b, qb)), a.R = new kb(b, 0, a.D));\n}\nfunction G(a, b, c) {\n  F(a);\n  a.R.set(b, c);\n}\nfunction rb(a, b, c) {\n  F(a);\n  m(c) || (c = [String(c)]);\n  sb(a.R, b, c);\n}\nfunction H(a) {\n  F(a);\n  G(a, \"zx\", sa());\n  return a;\n}\nfunction F(a) {\n  if (a.oc) {\n    throw Error(\"Tried to modify a read-only Uri\");\n  }\n}\nf.ub = function(a) {\n  this.D = a;\n  this.R && this.R.ub(a);\n  return this;\n};\nfunction tb(a) {\n  return a instanceof E ? a.n() : new E(a, void 0);\n}\nfunction ub(a, b, c, d) {\n  var e = new E(null, void 0);\n  a && fb(e, a);\n  b && gb(e, b);\n  c && hb(e, c);\n  d && ib(e, d);\n  return e;\n}\nfunction lb(a, b) {\n  return n(a) ? encodeURI(a).replace(b, vb) : null;\n}\nfunction vb(a) {\n  a = a.charCodeAt(0);\n  return \"%\" + (a >> 4 & 15).toString(16) + (a & 15).toString(16);\n}\nvar mb = /[#\\/\\?@]/g, ob = /[\\#\\?:]/g, nb = /[\\#\\?]/g, qb = /[\\#\\?@]/g, pb = /#/g;\nfunction kb(a, b, c) {\n  this.C = a || null;\n  this.D = !!c;\n}\nfunction I(a) {\n  if (!a.h && (a.h = new cb, a.o = 0, a.C)) {\n    for (var b = a.C.split(\"&\"), c = 0;c < b.length;c++) {\n      var d = b[c].indexOf(\"=\"), e = null, g = null;\n      0 <= d ? (e = b[c].substring(0, d), g = b[c].substring(d + 1)) : e = b[c];\n      e = decodeURIComponent(e.replace(/\\+/g, \" \"));\n      e = J(a, e);\n      a.add(e, g ? decodeURIComponent(g.replace(/\\+/g, \" \")) : \"\");\n    }\n  }\n}\nf = kb.prototype;\nf.h = null;\nf.o = null;\nf.add = function(a, b) {\n  I(this);\n  this.C = null;\n  a = J(this, a);\n  var c = this.h.get(a);\n  c || this.h.set(a, c = []);\n  c.push(b);\n  this.o++;\n  return this;\n};\nf.remove = function(a) {\n  I(this);\n  a = J(this, a);\n  return this.h.wa(a) ? (this.C = null, this.o -= this.h.get(a).length, this.h.remove(a)) : !1;\n};\nf.wa = function(a) {\n  I(this);\n  a = J(this, a);\n  return this.h.wa(a);\n};\nf.ca = function() {\n  I(this);\n  for (var a = this.h.N(), b = this.h.ca(), c = [], d = 0;d < b.length;d++) {\n    for (var e = a[d], g = 0;g < e.length;g++) {\n      c.push(b[d]);\n    }\n  }\n  return c;\n};\nf.N = function(a) {\n  I(this);\n  var b = [];\n  if (n(a)) {\n    this.wa(a) && (b = ab(b, this.h.get(J(this, a))));\n  } else {\n    a = this.h.N();\n    for (var c = 0;c < a.length;c++) {\n      b = ab(b, a[c]);\n    }\n  }\n  return b;\n};\nf.set = function(a, b) {\n  I(this);\n  this.C = null;\n  a = J(this, a);\n  this.wa(a) && (this.o -= this.h.get(a).length);\n  this.h.set(a, [b]);\n  this.o++;\n  return this;\n};\nf.get = function(a, b) {\n  var c = a ? this.N(a) : [];\n  return 0 < c.length ? String(c[0]) : b;\n};\nfunction sb(a, b, c) {\n  a.remove(b);\n  0 < c.length && (a.C = null, a.h.set(J(a, b), bb(c)), a.o += c.length);\n}\nf.toString = function() {\n  if (this.C) {\n    return this.C;\n  }\n  if (!this.h) {\n    return \"\";\n  }\n  for (var a = [], b = this.h.ca(), c = 0;c < b.length;c++) {\n    for (var d = b[c], e = encodeURIComponent(String(d)), d = this.N(d), g = 0;g < d.length;g++) {\n      var h = e;\n      \"\" !== d[g] && (h += \"=\" + encodeURIComponent(String(d[g])));\n      a.push(h);\n    }\n  }\n  return this.C = a.join(\"&\");\n};\nf.n = function() {\n  var a = new kb;\n  a.C = this.C;\n  this.h && (a.h = this.h.n(), a.o = this.o);\n  return a;\n};\nfunction J(a, b) {\n  var c = String(b);\n  a.D && (c = c.toLowerCase());\n  return c;\n}\nf.ub = function(a) {\n  a && !this.D && (I(this), this.C = null, D(this.h, function(a, c) {\n    var d = c.toLowerCase();\n    c != d && (this.remove(c), sb(this, d, a));\n  }, this));\n  this.D = a;\n};\nfunction wb(a) {\n  a = String(a);\n  if (/^\\s*$/.test(a) ? 0 : /^[\\],:{}\\s\\u2028\\u2029]*$/.test(a.replace(/\\\\[\"\\\\\\/bfnrtu]/g, \"@\").replace(/\"[^\"\\\\\\n\\r\\u2028\\u2029\\x00-\\x08\\x0a-\\x1f]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g, \"]\").replace(/(?:^|:|,)(?:[\\s\\u2028\\u2029]*\\[)+/g, \"\"))) {\n    try {\n      return eval(\"(\" + a + \")\");\n    } catch (b) {\n    }\n  }\n  throw Error(\"Invalid JSON string: \" + a);\n}\nfunction xb(a) {\n  return eval(\"(\" + a + \")\");\n}\nfunction yb(a) {\n  var b = [];\n  zb(new Ab, a, b);\n  return b.join(\"\");\n}\nfunction Ab() {\n  this.Ya = void 0;\n}\nfunction zb(a, b, c) {\n  switch(typeof b) {\n    case \"string\":\n      Bb(b, c);\n      break;\n    case \"number\":\n      c.push(isFinite(b) && !isNaN(b) ? b : \"null\");\n      break;\n    case \"boolean\":\n      c.push(b);\n      break;\n    case \"undefined\":\n      c.push(\"null\");\n      break;\n    case \"object\":\n      if (null == b) {\n        c.push(\"null\");\n        break;\n      }\n      if (m(b)) {\n        var d = b.length;\n        c.push(\"[\");\n        for (var e = \"\", g = 0;g < d;g++) {\n          c.push(e), e = b[g], zb(a, a.Ya ? a.Ya.call(b, String(g), e) : e, c), e = \",\";\n        }\n        c.push(\"]\");\n        break;\n      }\n      c.push(\"{\");\n      d = \"\";\n      for (g in b) {\n        Object.prototype.hasOwnProperty.call(b, g) && (e = b[g], \"function\" != typeof e && (c.push(d), Bb(g, c), c.push(\":\"), zb(a, a.Ya ? a.Ya.call(b, g, e) : e, c), d = \",\"));\n      }\n      c.push(\"}\");\n      break;\n    case \"function\":\n      break;\n    default:\n      throw Error(\"Unknown type: \" + typeof b);;\n  }\n}\nvar Cb = {'\"':'\\\\\"', \"\\\\\":\"\\\\\\\\\", \"/\":\"\\\\/\", \"\\b\":\"\\\\b\", \"\\f\":\"\\\\f\", \"\\n\":\"\\\\n\", \"\\r\":\"\\\\r\", \"\\t\":\"\\\\t\", \"\\x0B\":\"\\\\u000b\"}, Db = /\\uffff/.test(\"\\uffff\") ? /[\\\\\\\"\\x00-\\x1f\\x7f-\\uffff]/g : /[\\\\\\\"\\x00-\\x1f\\x7f-\\xff]/g;\nfunction Bb(a, b) {\n  b.push('\"', a.replace(Db, function(a) {\n    if (a in Cb) {\n      return Cb[a];\n    }\n    var b = a.charCodeAt(0), e = \"\\\\u\";\n    16 > b ? e += \"000\" : 256 > b ? e += \"00\" : 4096 > b && (e += \"0\");\n    return Cb[a] = e + b.toString(16);\n  }), '\"');\n}\n;function Eb(a) {\n  return Fb(a || arguments.callee.caller, []);\n}\nfunction Fb(a, b) {\n  var c = [];\n  if (0 <= Xa(b, a)) {\n    c.push(\"[...circular reference...]\");\n  } else {\n    if (a && 50 > b.length) {\n      c.push(Gb(a) + \"(\");\n      for (var d = a.arguments, e = 0;e < d.length;e++) {\n        0 < e && c.push(\", \");\n        var g;\n        g = d[e];\n        switch(typeof g) {\n          case \"object\":\n            g = g ? \"object\" : \"null\";\n            break;\n          case \"string\":\n            break;\n          case \"number\":\n            g = String(g);\n            break;\n          case \"boolean\":\n            g = g ? \"true\" : \"false\";\n            break;\n          case \"function\":\n            g = (g = Gb(g)) ? g : \"[fn]\";\n            break;\n          default:\n            g = typeof g;\n        }\n        40 < g.length && (g = g.substr(0, 40) + \"...\");\n        c.push(g);\n      }\n      b.push(a);\n      c.push(\")\\n\");\n      try {\n        c.push(Fb(a.caller, b));\n      } catch (h) {\n        c.push(\"[exception trying to get caller]\\n\");\n      }\n    } else {\n      a ? c.push(\"[...long stack...]\") : c.push(\"[end]\");\n    }\n  }\n  return c.join(\"\");\n}\nfunction Gb(a) {\n  if (Hb[a]) {\n    return Hb[a];\n  }\n  a = String(a);\n  if (!Hb[a]) {\n    var b = /function ([^\\(]+)/.exec(a);\n    Hb[a] = b ? b[1] : \"[Anonymous]\";\n  }\n  return Hb[a];\n}\nvar Hb = {};\nfunction Ib(a, b, c, d, e) {\n  this.reset(a, b, c, d, e);\n}\nIb.prototype.Fb = null;\nIb.prototype.Eb = null;\nvar Jb = 0;\nIb.prototype.reset = function(a, b, c, d, e) {\n  \"number\" == typeof e || Jb++;\n  d || q();\n  this.Aa = a;\n  this.qc = b;\n  delete this.Fb;\n  delete this.Eb;\n};\nIb.prototype.$b = function(a) {\n  this.Aa = a;\n};\nfunction L(a) {\n  this.rc = a;\n}\nL.prototype.Sa = null;\nL.prototype.Aa = null;\nL.prototype.jb = null;\nL.prototype.Jb = null;\nfunction Kb(a, b) {\n  this.name = a;\n  this.value = b;\n}\nKb.prototype.toString = function() {\n  return this.name;\n};\nvar Lb = new Kb(\"SEVERE\", 1E3), Mb = new Kb(\"WARNING\", 900), Nb = new Kb(\"INFO\", 800), Ob = new Kb(\"CONFIG\", 700), Pb = new Kb(\"FINE\", 500);\nf = L.prototype;\nf.getParent = function() {\n  return this.Sa;\n};\nf.$b = function(a) {\n  this.Aa = a;\n};\nfunction Qb(a) {\n  if (a.Aa) {\n    return a.Aa;\n  }\n  if (a.Sa) {\n    return Qb(a.Sa);\n  }\n  Pa(\"Root logger has no level set.\");\n  return null;\n}\nf.log = function(a, b, c) {\n  if (a.value >= Qb(this).value) {\n    for (fa(b) && (b = b()), a = this.mc(a, b, c), b = \"log:\" + a.qc, l.console && (l.console.timeStamp ? l.console.timeStamp(b) : l.console.markTimeline && l.console.markTimeline(b)), l.msWriteProfilerMark && l.msWriteProfilerMark(b), b = this;b;) {\n      c = b;\n      var d = a;\n      if (c.Jb) {\n        for (var e = 0, g = void 0;g = c.Jb[e];e++) {\n          g(d);\n        }\n      }\n      b = b.getParent();\n    }\n  }\n};\nf.mc = function(a, b, c) {\n  var d = new Ib(a, String(b), this.rc);\n  if (c) {\n    d.Fb = c;\n    var e;\n    var g = arguments.callee.caller;\n    try {\n      var h;\n      var k = ba(\"window.location.href\");\n      if (n(c)) {\n        h = {message:c, name:\"Unknown error\", lineNumber:\"Not available\", fileName:k, stack:\"Not available\"};\n      } else {\n        var u, K, v = !1;\n        try {\n          u = c.lineNumber || c.Ic || \"Not available\";\n        } catch (r) {\n          u = \"Not available\", v = !0;\n        }\n        try {\n          K = c.fileName || c.filename || c.sourceURL || l.$googDebugFname || k;\n        } catch (Ka) {\n          K = \"Not available\", v = !0;\n        }\n        h = !v && c.lineNumber && c.fileName && c.stack && c.message && c.name ? c : {message:c.message || \"Not available\", name:c.name || \"UnknownError\", lineNumber:u, fileName:K, stack:c.stack || \"Not available\"};\n      }\n      e = \"Message: \" + la(h.message) + '\\nUrl: <a href=\"view-source:' + h.fileName + '\" target=\"_new\">' + h.fileName + \"</a>\\nLine: \" + h.lineNumber + \"\\n\\nBrowser stack:\\n\" + la(h.stack + \"-> \") + \"[end]\\n\\nJS stack traversal:\\n\" + la(Eb(g) + \"-> \");\n    } catch (w) {\n      e = \"Exception trying to expose exception! You win, we lose. \" + w;\n    }\n    d.Eb = e;\n  }\n  return d;\n};\nf.J = function(a, b) {\n  this.log(Lb, a, b);\n};\nf.Z = function(a, b) {\n  this.log(Mb, a, b);\n};\nf.info = function(a, b) {\n  this.log(Nb, a, b);\n};\nvar Rb = {}, Sb = null;\nfunction Tb(a) {\n  Sb || (Sb = new L(\"\"), Rb[\"\"] = Sb, Sb.$b(Ob));\n  var b;\n  if (!(b = Rb[a])) {\n    b = new L(a);\n    var c = a.lastIndexOf(\".\"), d = a.substr(c + 1), c = Tb(a.substr(0, c));\n    c.jb || (c.jb = {});\n    c.jb[d] = b;\n    b.Sa = c;\n    Rb[a] = b;\n  }\n  return b;\n}\n;function M(a, b) {\n  a && a.log(Pb, b, void 0);\n}\n;function N() {\n  this.r = Tb(\"goog.net.BrowserChannel\");\n}\nfunction Ub(a, b, c, d) {\n  a.info(\"XMLHTTP TEXT (\" + b + \"): \" + Vb(a, c) + (d ? \" \" + d : \"\"));\n}\nN.prototype.debug = function(a) {\n  this.info(a);\n};\nfunction Wb(a, b, c) {\n  a.J((c || \"Exception\") + b);\n}\nN.prototype.info = function(a) {\n  var b = this.r;\n  b && b.info(a, void 0);\n};\nN.prototype.Z = function(a) {\n  var b = this.r;\n  b && b.Z(a, void 0);\n};\nN.prototype.J = function(a) {\n  var b = this.r;\n  b && b.J(a, void 0);\n};\nfunction Vb(a, b) {\n  if (!b || b == Xb) {\n    return b;\n  }\n  try {\n    var c = xb(b);\n    if (c) {\n      for (var d = 0;d < c.length;d++) {\n        if (m(c[d])) {\n          var e = c[d];\n          if (!(2 > e.length)) {\n            var g = e[1];\n            if (m(g) && !(1 > g.length)) {\n              var h = g[0];\n              if (\"noop\" != h && \"stop\" != h) {\n                for (var k = 1;k < g.length;k++) {\n                  g[k] = \"\";\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n    return yb(c);\n  } catch (u) {\n    return a.debug(\"Exception parsing expected JS array - probably was not JS\"), b;\n  }\n}\n;function Yb(a, b) {\n  this.P = b ? xb : wb;\n}\nYb.prototype.parse = function(a) {\n  return this.P(a);\n};\nfunction O() {\n  0 != Zb && ($b[this[ga] || (this[ga] = ++ha)] = this);\n}\nvar Zb = 0, $b = {};\nO.prototype.mb = !1;\nO.prototype.Ja = function() {\n  if (!this.mb && (this.mb = !0, this.u(), 0 != Zb)) {\n    var a = this[ga] || (this[ga] = ++ha);\n    delete $b[a];\n  }\n};\nO.prototype.u = function() {\n  if (this.Pb) {\n    for (;this.Pb.length;) {\n      this.Pb.shift()();\n    }\n  }\n};\nvar ac = \"closure_listenable_\" + (1E6 * Math.random() | 0);\nfunction bc(a) {\n  try {\n    return!(!a || !a[ac]);\n  } catch (b) {\n    return!1;\n  }\n}\nvar cc = 0;\nfunction dc(a, b, c, d, e) {\n  this.fa = a;\n  this.Ua = null;\n  this.src = b;\n  this.type = c;\n  this.capture = !!d;\n  this.Oa = e;\n  this.key = ++cc;\n  this.na = this.Ia = !1;\n}\nfunction ec(a) {\n  a.na = !0;\n  a.fa = null;\n  a.Ua = null;\n  a.src = null;\n  a.Oa = null;\n}\n;function P(a) {\n  this.src = a;\n  this.s = {};\n  this.Ga = 0;\n}\nP.prototype.add = function(a, b, c, d, e) {\n  var g = this.s[a];\n  g || (g = this.s[a] = [], this.Ga++);\n  var h = fc(g, b, d, e);\n  -1 < h ? (a = g[h], c || (a.Ia = !1)) : (a = new dc(b, this.src, a, !!d, e), a.Ia = c, g.push(a));\n  return a;\n};\nP.prototype.remove = function(a, b, c, d) {\n  if (!(a in this.s)) {\n    return!1;\n  }\n  var e = this.s[a];\n  b = fc(e, b, c, d);\n  return-1 < b ? (ec(e[b]), B.splice.call(e, b, 1), 0 == e.length && (delete this.s[a], this.Ga--), !0) : !1;\n};\nfunction gc(a, b) {\n  var c = b.type;\n  if (!(c in a.s)) {\n    return!1;\n  }\n  var d = a.s[c], e = Xa(d, b), g;\n  (g = 0 <= e) && B.splice.call(d, e, 1);\n  g && (ec(b), 0 == a.s[c].length && (delete a.s[c], a.Ga--));\n  return g;\n}\nP.prototype.Xa = function(a) {\n  var b = 0, c;\n  for (c in this.s) {\n    if (!a || c == a) {\n      for (var d = this.s[c], e = 0;e < d.length;e++) {\n        ++b, ec(d[e]);\n      }\n      delete this.s[c];\n      this.Ga--;\n    }\n  }\n  return b;\n};\nP.prototype.ya = function(a, b, c, d) {\n  a = this.s[a];\n  var e = -1;\n  a && (e = fc(a, b, c, d));\n  return-1 < e ? a[e] : null;\n};\nfunction fc(a, b, c, d) {\n  for (var e = 0;e < a.length;++e) {\n    var g = a[e];\n    if (!g.na && g.fa == b && g.capture == !!c && g.Oa == d) {\n      return e;\n    }\n  }\n  return-1;\n}\n;var hc = !y || y && 9 <= Ma, ic = y && !A(\"9\");\n!z || A(\"528\");\nBa && A(\"1.9b\") || y && A(\"8\") || Aa && A(\"9.5\") || z && A(\"528\");\nBa && !A(\"8\") || y && A(\"9\");\nfunction Q(a, b) {\n  this.type = a;\n  this.currentTarget = this.target = b;\n}\nf = Q.prototype;\nf.u = function() {\n};\nf.Ja = function() {\n};\nf.ga = !1;\nf.defaultPrevented = !1;\nf.Yb = !0;\nf.preventDefault = function() {\n  this.defaultPrevented = !0;\n  this.Yb = !1;\n};\nfunction jc(a) {\n  jc[\" \"](a);\n  return a;\n}\njc[\" \"] = ca;\nfunction kc(a, b) {\n  Q.call(this, a ? a.type : \"\");\n  this.relatedTarget = this.currentTarget = this.target = null;\n  this.charCode = this.keyCode = this.button = this.screenY = this.screenX = this.clientY = this.clientX = this.offsetY = this.offsetX = 0;\n  this.metaKey = this.shiftKey = this.altKey = this.ctrlKey = !1;\n  this.Db = this.state = null;\n  if (a) {\n    var c = this.type = a.type;\n    this.target = a.target || a.srcElement;\n    this.currentTarget = b;\n    var d = a.relatedTarget;\n    if (d) {\n      if (Ba) {\n        var e;\n        a: {\n          try {\n            jc(d.nodeName);\n            e = !0;\n            break a;\n          } catch (g) {\n          }\n          e = !1;\n        }\n        e || (d = null);\n      }\n    } else {\n      \"mouseover\" == c ? d = a.fromElement : \"mouseout\" == c && (d = a.toElement);\n    }\n    this.relatedTarget = d;\n    this.offsetX = z || void 0 !== a.offsetX ? a.offsetX : a.layerX;\n    this.offsetY = z || void 0 !== a.offsetY ? a.offsetY : a.layerY;\n    this.clientX = void 0 !== a.clientX ? a.clientX : a.pageX;\n    this.clientY = void 0 !== a.clientY ? a.clientY : a.pageY;\n    this.screenX = a.screenX || 0;\n    this.screenY = a.screenY || 0;\n    this.button = a.button;\n    this.keyCode = a.keyCode || 0;\n    this.charCode = a.charCode || (\"keypress\" == c ? a.keyCode : 0);\n    this.ctrlKey = a.ctrlKey;\n    this.altKey = a.altKey;\n    this.shiftKey = a.shiftKey;\n    this.metaKey = a.metaKey;\n    this.state = a.state;\n    this.Db = a;\n    a.defaultPrevented && this.preventDefault();\n    delete this.ga;\n  }\n}\ns(kc, Q);\nkc.prototype.preventDefault = function() {\n  kc.pa.preventDefault.call(this);\n  var a = this.Db;\n  if (a.preventDefault) {\n    a.preventDefault();\n  } else {\n    if (a.returnValue = !1, ic) {\n      try {\n        if (a.ctrlKey || 112 <= a.keyCode && 123 >= a.keyCode) {\n          a.keyCode = -1;\n        }\n      } catch (b) {\n      }\n    }\n  }\n};\nkc.prototype.u = function() {\n};\nvar lc = \"closure_lm_\" + (1E6 * Math.random() | 0), mc = {}, nc = 0;\nfunction oc(a, b, c, d, e) {\n  if (m(b)) {\n    for (var g = 0;g < b.length;g++) {\n      oc(a, b[g], c, d, e);\n    }\n    return null;\n  }\n  c = pc(c);\n  if (bc(a)) {\n    a = a.Ra(b, c, d, e);\n  } else {\n    if (!b) {\n      throw Error(\"Invalid event type\");\n    }\n    var g = !!d, h = qc(a);\n    h || (a[lc] = h = new P(a));\n    c = h.add(b, c, !1, d, e);\n    c.Ua || (d = rc(), c.Ua = d, d.src = a, d.fa = c, a.addEventListener ? a.addEventListener(b, d, g) : a.attachEvent(b in mc ? mc[b] : mc[b] = \"on\" + b, d), nc++);\n    a = c;\n  }\n  return a;\n}\nfunction rc() {\n  var a = sc, b = hc ? function(c) {\n    return a.call(b.src, b.fa, c);\n  } : function(c) {\n    c = a.call(b.src, b.fa, c);\n    if (!c) {\n      return c;\n    }\n  };\n  return b;\n}\nfunction tc(a, b, c, d, e) {\n  if (m(b)) {\n    for (var g = 0;g < b.length;g++) {\n      tc(a, b[g], c, d, e);\n    }\n  } else {\n    c = pc(c), bc(a) ? a.vb(b, c, d, e) : a && (a = qc(a)) && (b = a.ya(b, c, !!d, e)) && uc(b);\n  }\n}\nfunction uc(a) {\n  if (\"number\" == typeof a || !a || a.na) {\n    return!1;\n  }\n  var b = a.src;\n  if (bc(b)) {\n    return gc(b.W, a);\n  }\n  var c = a.type, d = a.Ua;\n  b.removeEventListener ? b.removeEventListener(c, d, a.capture) : b.detachEvent && b.detachEvent(c in mc ? mc[c] : mc[c] = \"on\" + c, d);\n  nc--;\n  (c = qc(b)) ? (gc(c, a), 0 == c.Ga && (c.src = null, b[lc] = null)) : ec(a);\n  return!0;\n}\nfunction vc(a, b, c, d) {\n  var e = 1;\n  if (a = qc(a)) {\n    if (b = a.s[b]) {\n      for (b = bb(b), a = 0;a < b.length;a++) {\n        var g = b[a];\n        g && g.capture == c && !g.na && (e &= !1 !== wc(g, d));\n      }\n    }\n  }\n  return Boolean(e);\n}\nfunction wc(a, b) {\n  var c = a.fa, d = a.Oa || a.src;\n  a.Ia && uc(a);\n  return c.call(d, b);\n}\nfunction sc(a, b) {\n  if (a.na) {\n    return!0;\n  }\n  if (!hc) {\n    var c = b || ba(\"window.event\"), d = new kc(c, this), e = !0;\n    if (!(0 > c.keyCode || void 0 != c.returnValue)) {\n      a: {\n        var g = !1;\n        if (0 == c.keyCode) {\n          try {\n            c.keyCode = -1;\n            break a;\n          } catch (h) {\n            g = !0;\n          }\n        }\n        if (g || void 0 == c.returnValue) {\n          c.returnValue = !0;\n        }\n      }\n      c = [];\n      for (g = d.currentTarget;g;g = g.parentNode) {\n        c.push(g);\n      }\n      for (var g = a.type, k = c.length - 1;!d.ga && 0 <= k;k--) {\n        d.currentTarget = c[k], e &= vc(c[k], g, !0, d);\n      }\n      for (k = 0;!d.ga && k < c.length;k++) {\n        d.currentTarget = c[k], e &= vc(c[k], g, !1, d);\n      }\n    }\n    return e;\n  }\n  return wc(a, new kc(b, this));\n}\nfunction qc(a) {\n  a = a[lc];\n  return a instanceof P ? a : null;\n}\nvar xc = \"__closure_events_fn_\" + (1E9 * Math.random() >>> 0);\nfunction pc(a) {\n  return fa(a) ? a : a[xc] || (a[xc] = function(b) {\n    return a.handleEvent(b);\n  });\n}\n;function R() {\n  O.call(this);\n  this.W = new P(this);\n  this.fc = this;\n}\ns(R, O);\nR.prototype[ac] = !0;\nf = R.prototype;\nf.tb = null;\nf.addEventListener = function(a, b, c, d) {\n  oc(this, a, b, c, d);\n};\nf.removeEventListener = function(a, b, c, d) {\n  tc(this, a, b, c, d);\n};\nf.dispatchEvent = function(a) {\n  var b, c = this.tb;\n  if (c) {\n    for (b = [];c;c = c.tb) {\n      b.push(c);\n    }\n  }\n  var c = this.fc, d = a.type || a;\n  if (n(a)) {\n    a = new Q(a, c);\n  } else {\n    if (a instanceof Q) {\n      a.target = a.target || c;\n    } else {\n      var e = a;\n      a = new Q(d, c);\n      Wa(a, e);\n    }\n  }\n  var e = !0, g;\n  if (b) {\n    for (var h = b.length - 1;!a.ga && 0 <= h;h--) {\n      g = a.currentTarget = b[h], e = yc(g, d, !0, a) && e;\n    }\n  }\n  a.ga || (g = a.currentTarget = c, e = yc(g, d, !0, a) && e, a.ga || (e = yc(g, d, !1, a) && e));\n  if (b) {\n    for (h = 0;!a.ga && h < b.length;h++) {\n      g = a.currentTarget = b[h], e = yc(g, d, !1, a) && e;\n    }\n  }\n  return e;\n};\nf.u = function() {\n  R.pa.u.call(this);\n  this.W && this.W.Xa(void 0);\n  this.tb = null;\n};\nf.Ra = function(a, b, c, d) {\n  return this.W.add(String(a), b, !1, c, d);\n};\nf.vb = function(a, b, c, d) {\n  return this.W.remove(String(a), b, c, d);\n};\nfunction yc(a, b, c, d) {\n  b = a.W.s[String(b)];\n  if (!b) {\n    return!0;\n  }\n  b = bb(b);\n  for (var e = !0, g = 0;g < b.length;++g) {\n    var h = b[g];\n    if (h && !h.na && h.capture == c) {\n      var k = h.fa, u = h.Oa || h.src;\n      h.Ia && gc(a.W, h);\n      e = !1 !== k.call(u, d) && e;\n    }\n  }\n  return e && !1 != d.Yb;\n}\nf.ya = function(a, b, c, d) {\n  return this.W.ya(String(a), b, c, d);\n};\nfunction zc(a, b) {\n  R.call(this);\n  this.ea = a || 1;\n  this.ra = b || l;\n  this.ib = p(this.Gc, this);\n  this.sb = q();\n}\ns(zc, R);\nf = zc.prototype;\nf.enabled = !1;\nf.l = null;\nf.setInterval = function(a) {\n  this.ea = a;\n  this.l && this.enabled ? (this.stop(), this.start()) : this.l && this.stop();\n};\nf.Gc = function() {\n  if (this.enabled) {\n    var a = q() - this.sb;\n    0 < a && a < 0.8 * this.ea ? this.l = this.ra.setTimeout(this.ib, this.ea - a) : (this.l && (this.ra.clearTimeout(this.l), this.l = null), this.dispatchEvent(Ac), this.enabled && (this.l = this.ra.setTimeout(this.ib, this.ea), this.sb = q()));\n  }\n};\nf.start = function() {\n  this.enabled = !0;\n  this.l || (this.l = this.ra.setTimeout(this.ib, this.ea), this.sb = q());\n};\nf.stop = function() {\n  this.enabled = !1;\n  this.l && (this.ra.clearTimeout(this.l), this.l = null);\n};\nf.u = function() {\n  zc.pa.u.call(this);\n  this.stop();\n  delete this.ra;\n};\nvar Ac = \"tick\";\nfunction Bc(a, b, c) {\n  if (fa(a)) {\n    c && (a = p(a, c));\n  } else {\n    if (a && \"function\" == typeof a.handleEvent) {\n      a = p(a.handleEvent, a);\n    } else {\n      throw Error(\"Invalid listener argument\");\n    }\n  }\n  return 2147483647 < b ? -1 : l.setTimeout(a, b || 0);\n}\n;function Cc() {\n}\nCc.prototype.Ab = null;\nfunction Dc(a) {\n  var b;\n  (b = a.Ab) || (b = {}, Ec(a) && (b[0] = !0, b[1] = !0), b = a.Ab = b);\n  return b;\n}\n;var Fc;\nfunction Gc() {\n}\ns(Gc, Cc);\nfunction Hc(a) {\n  return(a = Ec(a)) ? new ActiveXObject(a) : new XMLHttpRequest;\n}\nfunction Ec(a) {\n  if (!a.Kb && \"undefined\" == typeof XMLHttpRequest && \"undefined\" != typeof ActiveXObject) {\n    for (var b = [\"MSXML2.XMLHTTP.6.0\", \"MSXML2.XMLHTTP.3.0\", \"MSXML2.XMLHTTP\", \"Microsoft.XMLHTTP\"], c = 0;c < b.length;c++) {\n      var d = b[c];\n      try {\n        return new ActiveXObject(d), a.Kb = d;\n      } catch (e) {\n      }\n    }\n    throw Error(\"Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed\");\n  }\n  return a.Kb;\n}\nFc = new Gc;\nfunction Ic(a) {\n  R.call(this);\n  this.headers = new cb;\n  this.gb = a || null;\n  this.T = !1;\n  this.fb = this.f = null;\n  this.Mb = this.Qa = \"\";\n  this.ka = 0;\n  this.q = \"\";\n  this.da = this.qb = this.Pa = this.nb = !1;\n  this.Fa = 0;\n  this.bb = null;\n  this.Xb = Jc;\n  this.cb = this.dc = !1;\n}\ns(Ic, R);\nvar Jc = \"\";\nIc.prototype.r = Tb(\"goog.net.XhrIo\");\nvar Kc = /^https?$/i, Lc = [\"POST\", \"PUT\"];\nf = Ic.prototype;\nf.send = function(a, b, c, d) {\n  if (this.f) {\n    throw Error(\"[goog.net.XhrIo] Object is active with another request=\" + this.Qa + \"; newUri=\" + a);\n  }\n  b = b ? b.toUpperCase() : \"GET\";\n  this.Qa = a;\n  this.q = \"\";\n  this.ka = 0;\n  this.Mb = b;\n  this.nb = !1;\n  this.T = !0;\n  this.f = this.gb ? Hc(this.gb) : Hc(Fc);\n  this.fb = this.gb ? Dc(this.gb) : Dc(Fc);\n  this.f.onreadystatechange = p(this.Qb, this);\n  try {\n    M(this.r, S(this, \"Opening Xhr\")), this.qb = !0, this.f.open(b, a, !0), this.qb = !1;\n  } catch (e) {\n    M(this.r, S(this, \"Error opening Xhr: \" + e.message));\n    Mc(this, e);\n    return;\n  }\n  a = c || \"\";\n  var g = this.headers.n();\n  d && D(d, function(a, b) {\n    g.set(b, a);\n  });\n  d = Za(g.ca());\n  c = l.FormData && a instanceof l.FormData;\n  !(0 <= Xa(Lc, b)) || d || c || g.set(\"Content-Type\", \"application/x-www-form-urlencoded;charset=utf-8\");\n  D(g, function(a, b) {\n    this.f.setRequestHeader(b, a);\n  }, this);\n  this.Xb && (this.f.responseType = this.Xb);\n  \"withCredentials\" in this.f && (this.f.withCredentials = this.dc);\n  try {\n    Nc(this), 0 < this.Fa && (this.cb = Oc(this.f), M(this.r, S(this, \"Will abort after \" + this.Fa + \"ms if incomplete, xhr2 \" + this.cb)), this.cb ? (this.f.timeout = this.Fa, this.f.ontimeout = p(this.qa, this)) : this.bb = Bc(this.qa, this.Fa, this)), M(this.r, S(this, \"Sending request\")), this.Pa = !0, this.f.send(a), this.Pa = !1;\n  } catch (h) {\n    M(this.r, S(this, \"Send error: \" + h.message)), Mc(this, h);\n  }\n};\nfunction Oc(a) {\n  return y && A(9) && \"number\" == typeof a.timeout && void 0 !== a.ontimeout;\n}\nfunction $a(a) {\n  return \"content-type\" == a.toLowerCase();\n}\nf.qa = function() {\n  \"undefined\" != typeof aa && this.f && (this.q = \"Timed out after \" + this.Fa + \"ms, aborting\", this.ka = 8, M(this.r, S(this, this.q)), this.dispatchEvent(\"timeout\"), this.abort(8));\n};\nfunction Mc(a, b) {\n  a.T = !1;\n  a.f && (a.da = !0, a.f.abort(), a.da = !1);\n  a.q = b;\n  a.ka = 5;\n  Pc(a);\n  Qc(a);\n}\nfunction Pc(a) {\n  a.nb || (a.nb = !0, a.dispatchEvent(\"complete\"), a.dispatchEvent(\"error\"));\n}\nf.abort = function(a) {\n  this.f && this.T && (M(this.r, S(this, \"Aborting\")), this.T = !1, this.da = !0, this.f.abort(), this.da = !1, this.ka = a || 7, this.dispatchEvent(\"complete\"), this.dispatchEvent(\"abort\"), Qc(this));\n};\nf.u = function() {\n  this.f && (this.T && (this.T = !1, this.da = !0, this.f.abort(), this.da = !1), Qc(this, !0));\n  Ic.pa.u.call(this);\n};\nf.Qb = function() {\n  this.mb || (this.qb || this.Pa || this.da ? Rc(this) : this.uc());\n};\nf.uc = function() {\n  Rc(this);\n};\nfunction Rc(a) {\n  if (a.T && \"undefined\" != typeof aa) {\n    if (a.fb[1] && 4 == T(a) && 2 == Sc(a)) {\n      M(a.r, S(a, \"Local request error detected and ignored\"));\n    } else {\n      if (a.Pa && 4 == T(a)) {\n        Bc(a.Qb, 0, a);\n      } else {\n        if (a.dispatchEvent(\"readystatechange\"), 4 == T(a)) {\n          M(a.r, S(a, \"Request complete\"));\n          a.T = !1;\n          try {\n            var b = Sc(a), c, d;\n            a: {\n              switch(b) {\n                case 200:\n                ;\n                case 201:\n                ;\n                case 202:\n                ;\n                case 204:\n                ;\n                case 206:\n                ;\n                case 304:\n                ;\n                case 1223:\n                  d = !0;\n                  break a;\n                default:\n                  d = !1;\n              }\n            }\n            if (!(c = d)) {\n              var e;\n              if (e = 0 === b) {\n                var g = Ra(String(a.Qa))[1] || null;\n                if (!g && self.location) {\n                  var h = self.location.protocol, g = h.substr(0, h.length - 1)\n                }\n                e = !Kc.test(g ? g.toLowerCase() : \"\");\n              }\n              c = e;\n            }\n            if (c) {\n              a.dispatchEvent(\"complete\"), a.dispatchEvent(\"success\");\n            } else {\n              a.ka = 6;\n              var k;\n              try {\n                k = 2 < T(a) ? a.f.statusText : \"\";\n              } catch (u) {\n                M(a.r, \"Can not get status: \" + u.message), k = \"\";\n              }\n              a.q = k + \" [\" + Sc(a) + \"]\";\n              Pc(a);\n            }\n          } finally {\n            Qc(a);\n          }\n        }\n      }\n    }\n  }\n}\nfunction Qc(a, b) {\n  if (a.f) {\n    Nc(a);\n    var c = a.f, d = a.fb[0] ? ca : null;\n    a.f = null;\n    a.fb = null;\n    b || a.dispatchEvent(\"ready\");\n    try {\n      c.onreadystatechange = d;\n    } catch (e) {\n      (c = a.r) && c.J(\"Problem encountered resetting onreadystatechange: \" + e.message, void 0);\n    }\n  }\n}\nfunction Nc(a) {\n  a.f && a.cb && (a.f.ontimeout = null);\n  \"number\" == typeof a.bb && (l.clearTimeout(a.bb), a.bb = null);\n}\nf.isActive = function() {\n  return!!this.f;\n};\nfunction T(a) {\n  return a.f ? a.f.readyState : 0;\n}\nfunction Sc(a) {\n  try {\n    return 2 < T(a) ? a.f.status : -1;\n  } catch (b) {\n    return(a = a.r) && a.Z(\"Can not get status: \" + b.message, void 0), -1;\n  }\n}\nfunction Tc(a) {\n  try {\n    return a.f ? a.f.responseText : \"\";\n  } catch (b) {\n    return M(a.r, \"Can not get responseText: \" + b.message), \"\";\n  }\n}\nf.Ib = function() {\n  return n(this.q) ? this.q : String(this.q);\n};\nfunction S(a, b) {\n  return b + \" [\" + a.Mb + \" \" + a.Qa + \" \" + Sc(a) + \"]\";\n}\n;function Uc() {\n  this.Wb = q();\n}\nnew Uc;\nUc.prototype.set = function(a) {\n  this.Wb = a;\n};\nUc.prototype.reset = function() {\n  this.set(q());\n};\nUc.prototype.get = function() {\n  return this.Wb;\n};\nfunction Vc(a) {\n  O.call(this);\n  this.e = a;\n  this.j = {};\n}\ns(Vc, O);\nvar Wc = [];\nf = Vc.prototype;\nf.Ra = function(a, b, c, d) {\n  m(b) || (Wc[0] = b, b = Wc);\n  for (var e = 0;e < b.length;e++) {\n    var g = oc(a, b[e], c || this.handleEvent, d || !1, this.e || this);\n    if (!g) {\n      break;\n    }\n    this.j[g.key] = g;\n  }\n  return this;\n};\nf.vb = function(a, b, c, d, e) {\n  if (m(b)) {\n    for (var g = 0;g < b.length;g++) {\n      this.vb(a, b[g], c, d, e);\n    }\n  } else {\n    c = c || this.handleEvent, e = e || this.e || this, c = pc(c), d = !!d, b = bc(a) ? a.ya(b, c, d, e) : a ? (a = qc(a)) ? a.ya(b, c, d, e) : null : null, b && (uc(b), delete this.j[b.key]);\n  }\n  return this;\n};\nf.Xa = function() {\n  var a = this.j, b = uc, c;\n  for (c in a) {\n    b.call(void 0, a[c], c, a);\n  }\n  this.j = {};\n};\nf.u = function() {\n  Vc.pa.u.call(this);\n  this.Xa();\n};\nf.handleEvent = function() {\n  throw Error(\"EventHandler.handleEvent not implemented\");\n};\nfunction Xc(a, b, c) {\n  O.call(this);\n  this.pc = a;\n  this.ea = b;\n  this.e = c;\n  this.jc = p(this.vc, this);\n}\ns(Xc, O);\nf = Xc.prototype;\nf.Za = !1;\nf.Vb = 0;\nf.l = null;\nf.stop = function() {\n  this.l && (l.clearTimeout(this.l), this.l = null, this.Za = !1);\n};\nf.u = function() {\n  Xc.pa.u.call(this);\n  this.stop();\n};\nf.vc = function() {\n  this.l = null;\n  this.Za && !this.Vb && (this.Za = !1, Yc(this));\n};\nfunction Yc(a) {\n  a.l = Bc(a.jc, a.ea);\n  a.pc.call(a.e);\n}\n;function U(a, b, c, d, e) {\n  this.b = a;\n  this.a = b;\n  this.Y = c;\n  this.B = d;\n  this.Ea = e || 1;\n  this.qa = Zc;\n  this.ob = new Vc(this);\n  this.Ta = new zc;\n  this.Ta.setInterval($c);\n}\nf = U.prototype;\nf.v = null;\nf.F = !1;\nf.ua = null;\nf.xb = null;\nf.Da = null;\nf.sa = null;\nf.U = null;\nf.w = null;\nf.X = null;\nf.k = null;\nf.Ha = 0;\nf.K = null;\nf.ta = null;\nf.q = null;\nf.g = -1;\nf.Zb = !0;\nf.$ = !1;\nf.ma = 0;\nf.Va = null;\nvar Zc = 45E3, $c = 250;\nfunction ad(a, b) {\n  switch(a) {\n    case 0:\n      return \"Non-200 return code (\" + b + \")\";\n    case 1:\n      return \"XMLHTTP failure (no data)\";\n    case 2:\n      return \"HttpConnection timeout\";\n    default:\n      return \"Unknown error\";\n  }\n}\nvar bd = {}, dd = {};\nfunction ed() {\n  return!y || y && 10 <= Ma;\n}\nf = U.prototype;\nf.S = function(a) {\n  this.v = a;\n};\nf.setTimeout = function(a) {\n  this.qa = a;\n};\nf.bc = function(a) {\n  this.ma = a;\n};\nfunction fd(a, b, c) {\n  a.sa = 1;\n  a.U = H(b.n());\n  a.X = c;\n  a.Cb = !0;\n  gd(a, null);\n}\nfunction hd(a, b, c, d, e) {\n  a.sa = 1;\n  a.U = H(b.n());\n  a.X = null;\n  a.Cb = c;\n  e && (a.Zb = !1);\n  gd(a, d);\n}\nfunction gd(a, b) {\n  a.Da = q();\n  id(a);\n  a.w = a.U.n();\n  rb(a.w, \"t\", a.Ea);\n  a.Ha = 0;\n  a.k = a.b.lb(a.b.$a() ? b : null);\n  0 < a.ma && (a.Va = new Xc(p(a.ec, a, a.k), a.ma));\n  a.ob.Ra(a.k, \"readystatechange\", a.Bc);\n  var c;\n  if (a.v) {\n    c = a.v;\n    var d = {}, e;\n    for (e in c) {\n      d[e] = c[e];\n    }\n    c = d;\n  } else {\n    c = {};\n  }\n  a.X ? (a.ta = \"POST\", c[\"Content-Type\"] = \"application/x-www-form-urlencoded\", a.k.send(a.w, a.ta, a.X, c)) : (a.ta = \"GET\", a.Zb && !z && (c.Connection = \"close\"), a.k.send(a.w, a.ta, null, c));\n  a.b.H(jd);\n  if (d = a.X) {\n    for (c = \"\", d = d.split(\"&\"), e = 0;e < d.length;e++) {\n      var g = d[e].split(\"=\");\n      if (1 < g.length) {\n        var h = g[0], g = g[1], k = h.split(\"_\");\n        c = 2 <= k.length && \"type\" == k[1] ? c + (h + \"=\" + g + \"&\") : c + (h + \"=redacted&\");\n      }\n    }\n  } else {\n    c = null;\n  }\n  a.a.info(\"XMLHTTP REQ (\" + a.B + \") [attempt \" + a.Ea + \"]: \" + a.ta + \"\\n\" + a.w + \"\\n\" + c);\n}\nf.Bc = function(a) {\n  a = a.target;\n  var b = this.Va;\n  b && 3 == T(a) ? (this.a.debug(\"Throttling readystatechange.\"), b.l || b.Vb ? b.Za = !0 : Yc(b)) : this.ec(a);\n};\nf.ec = function(a) {\n  try {\n    if (a == this.k) {\n      a: {\n        var b = T(this.k), c = this.k.ka, d = Sc(this.k);\n        if (!ed() || z && !A(\"420+\")) {\n          if (4 > b) {\n            break a;\n          }\n        } else {\n          if (3 > b || 3 == b && !Aa && !Tc(this.k)) {\n            break a;\n          }\n        }\n        this.$ || 4 != b || 7 == c || (8 == c || 0 >= d ? this.b.H(kd) : this.b.H(ld));\n        md(this);\n        var e = Sc(this.k);\n        this.g = e;\n        var g = Tc(this.k);\n        g || this.a.debug(\"No response text for uri \" + this.w + \" status \" + e);\n        this.F = 200 == e;\n        this.a.info(\"XMLHTTP RESP (\" + this.B + \") [ attempt \" + this.Ea + \"]: \" + this.ta + \"\\n\" + this.w + \"\\n\" + b + \" \" + e);\n        this.F ? (4 == b && V(this), this.Cb ? (nd(this, b, g), Aa && this.F && 3 == b && (this.ob.Ra(this.Ta, Ac, this.Ac), this.Ta.start())) : (Ub(this.a, this.B, g, null), od(this, g)), this.F && !this.$ && (4 == b ? this.b.la(this) : (this.F = !1, id(this)))) : (400 == e && 0 < g.indexOf(\"Unknown SID\") ? (this.q = 3, W(), this.a.Z(\"XMLHTTP Unknown SID (\" + this.B + \")\")) : (this.q = 0, W(), this.a.Z(\"XMLHTTP Bad status \" + e + \" (\" + this.B + \")\")), V(this), pd(this));\n      }\n    } else {\n      this.a.Z(\"Called back with an unexpected xmlhttp\");\n    }\n  } catch (h) {\n    this.a.debug(\"Failed call to OnXmlHttpReadyStateChanged_\"), this.k && Tc(this.k) ? Wb(this.a, h, \"ResponseText: \" + Tc(this.k)) : Wb(this.a, h, \"No response text\");\n  } finally {\n  }\n};\nfunction nd(a, b, c) {\n  for (var d = !0;!a.$ && a.Ha < c.length;) {\n    var e = qd(a, c);\n    if (e == dd) {\n      4 == b && (a.q = 4, W(), d = !1);\n      Ub(a.a, a.B, null, \"[Incomplete Response]\");\n      break;\n    } else {\n      if (e == bd) {\n        a.q = 4;\n        W();\n        Ub(a.a, a.B, c, \"[Invalid Chunk]\");\n        d = !1;\n        break;\n      } else {\n        Ub(a.a, a.B, e, null), od(a, e);\n      }\n    }\n  }\n  4 == b && 0 == c.length && (a.q = 1, W(), d = !1);\n  a.F = a.F && d;\n  d || (Ub(a.a, a.B, c, \"[Invalid Chunked Response]\"), V(a), pd(a));\n}\nf.Ac = function() {\n  var a = T(this.k), b = Tc(this.k);\n  this.Ha < b.length && (md(this), nd(this, a, b), this.F && 4 != a && id(this));\n};\nfunction qd(a, b) {\n  var c = a.Ha, d = b.indexOf(\"\\n\", c);\n  if (-1 == d) {\n    return dd;\n  }\n  c = Number(b.substring(c, d));\n  if (isNaN(c)) {\n    return bd;\n  }\n  d += 1;\n  if (d + c > b.length) {\n    return dd;\n  }\n  var e = b.substr(d, c);\n  a.Ha = d + c;\n  return e;\n}\nfunction rd(a, b) {\n  a.Da = q();\n  id(a);\n  var c = b ? window.location.hostname : \"\";\n  a.w = a.U.n();\n  G(a.w, \"DOMAIN\", c);\n  G(a.w, \"t\", a.Ea);\n  try {\n    a.K = new ActiveXObject(\"htmlfile\");\n  } catch (d) {\n    a.a.J(\"ActiveX blocked\");\n    V(a);\n    a.q = 7;\n    W();\n    pd(a);\n    return;\n  }\n  var e = \"<html><body>\";\n  b && (e += '<script>document.domain=\"' + c + '\"\\x3c/script>');\n  e += \"</body></html>\";\n  a.K.open();\n  a.K.write(e);\n  a.K.close();\n  a.K.parentWindow.m = p(a.yc, a);\n  a.K.parentWindow.d = p(a.Ub, a, !0);\n  a.K.parentWindow.rpcClose = p(a.Ub, a, !1);\n  c = a.K.createElement(\"div\");\n  a.K.parentWindow.document.body.appendChild(c);\n  c.innerHTML = '<iframe src=\"' + a.w + '\"></iframe>';\n  a.a.info(\"TRIDENT REQ (\" + a.B + \") [ attempt \" + a.Ea + \"]: GET\\n\" + a.w);\n  a.b.H(jd);\n}\nf.yc = function(a) {\n  Y(p(this.xc, this, a), 0);\n};\nf.xc = function(a) {\n  if (!this.$) {\n    var b = this.a;\n    b.info(\"TRIDENT TEXT (\" + this.B + \"): \" + Vb(b, a));\n    md(this);\n    od(this, a);\n    id(this);\n  }\n};\nf.Ub = function(a) {\n  Y(p(this.wc, this, a), 0);\n};\nf.wc = function(a) {\n  this.$ || (this.a.info(\"TRIDENT TEXT (\" + this.B + \"): \" + a ? \"success\" : \"failure\"), V(this), this.F = a, this.b.la(this), this.b.H(sd));\n};\nf.nc = function() {\n  md(this);\n  this.b.la(this);\n};\nf.cancel = function() {\n  this.$ = !0;\n  V(this);\n};\nfunction id(a) {\n  a.xb = q() + a.qa;\n  td(a, a.qa);\n}\nfunction td(a, b) {\n  if (null != a.ua) {\n    throw Error(\"WatchDog timer not null\");\n  }\n  a.ua = Y(p(a.zc, a), b);\n}\nfunction md(a) {\n  a.ua && (l.clearTimeout(a.ua), a.ua = null);\n}\nf.zc = function() {\n  this.ua = null;\n  var a = q();\n  0 <= a - this.xb ? (this.F && this.a.J(\"Received watchdog timeout even though request loaded successfully\"), this.a.info(\"TIMEOUT: \" + this.w), 2 != this.sa && this.b.H(kd), V(this), this.q = 2, W(), pd(this)) : (this.a.Z(\"WatchDog timer called too early\"), td(this, this.xb - a));\n};\nfunction pd(a) {\n  a.b.Lb() || a.$ || a.b.la(a);\n}\nfunction V(a) {\n  md(a);\n  var b = a.Va;\n  b && \"function\" == typeof b.Ja && b.Ja();\n  a.Va = null;\n  a.Ta.stop();\n  a.ob.Xa();\n  a.k && (b = a.k, a.k = null, b.abort(), b.Ja());\n  a.K && (a.K = null);\n}\nf.Ib = function() {\n  return this.q;\n};\nfunction od(a, b) {\n  try {\n    a.b.Rb(a, b), a.b.H(sd);\n  } catch (c) {\n    Wb(a.a, c, \"Error in httprequest callback\");\n  }\n}\n;function ud(a, b, c, d, e) {\n  (new N).debug(\"TestLoadImageWithRetries: \" + e);\n  if (0 == d) {\n    c(!1);\n  } else {\n    var g = e || 0;\n    d--;\n    vd(a, b, function(e) {\n      e ? c(!0) : l.setTimeout(function() {\n        ud(a, b, c, d, g);\n      }, g);\n    });\n  }\n}\nfunction vd(a, b, c) {\n  function d(a, b) {\n    return function() {\n      try {\n        e.debug(\"TestLoadImage: \" + b), g.onload = null, g.onerror = null, g.onabort = null, g.ontimeout = null, l.clearTimeout(h), c(a);\n      } catch (d) {\n        Wb(e, d);\n      }\n    };\n  }\n  var e = new N;\n  e.debug(\"TestLoadImage: loading \" + a);\n  var g = new Image, h = null;\n  g.onload = d(!0, \"loaded\");\n  g.onerror = d(!1, \"error\");\n  g.onabort = d(!1, \"abort\");\n  g.ontimeout = d(!1, \"timeout\");\n  h = l.setTimeout(function() {\n    if (g.ontimeout) {\n      g.ontimeout();\n    }\n  }, b);\n  g.src = a;\n}\n;function wd(a, b) {\n  this.b = a;\n  this.a = b;\n  this.P = new Yb(0, !0);\n}\nf = wd.prototype;\nf.v = null;\nf.A = null;\nf.Wa = !1;\nf.cc = null;\nf.La = null;\nf.rb = null;\nf.I = null;\nf.c = null;\nf.g = -1;\nf.L = null;\nf.va = null;\nf.S = function(a) {\n  this.v = a;\n};\nf.ac = function(a) {\n  this.P = a;\n};\nf.kb = function(a) {\n  this.I = a;\n  a = xd(this.b, this.I);\n  W();\n  this.cc = q();\n  var b = this.b.Gb;\n  null != b ? (this.L = this.b.correctHostPrefix(b[0]), (this.va = b[1]) ? (this.c = 1, yd(this)) : (this.c = 2, zd(this))) : (rb(a, \"MODE\", \"init\"), this.A = new U(this, this.a, void 0, void 0, void 0), this.A.S(this.v), hd(this.A, a, !1, null, !0), this.c = 0);\n};\nfunction yd(a) {\n  var b = Ad(a.b, a.va, \"/mail/images/cleardot.gif\");\n  H(b);\n  ud(b.toString(), 5E3, p(a.kc, a), 3, 2E3);\n  a.H(jd);\n}\nf.kc = function(a) {\n  if (a) {\n    this.c = 2, zd(this);\n  } else {\n    W();\n    var b = this.b;\n    b.a.debug(\"Test Connection Blocked\");\n    b.g = b.V.g;\n    Z(b, 9);\n  }\n  a && this.H(ld);\n};\nfunction zd(a) {\n  a.a.debug(\"TestConnection: starting stage 2\");\n  var b = a.b.Dc;\n  if (null != b) {\n    a.a.debug(\"TestConnection: skipping stage 2, precomputed result is \" + b ? \"Buffered\" : \"Unbuffered\"), W(), b ? (W(), Bd(a.b, a, !1)) : (W(), Bd(a.b, a, !0));\n  } else {\n    if (a.A = new U(a, a.a, void 0, void 0, void 0), a.A.S(a.v), b = Cd(a.b, a.L, a.I), W(), ed()) {\n      rb(b, \"TYPE\", \"xmlhttp\"), hd(a.A, b, !1, a.L, !1);\n    } else {\n      rb(b, \"TYPE\", \"html\");\n      var c = a.A;\n      a = Boolean(a.L);\n      c.sa = 3;\n      c.U = H(b.n());\n      rd(c, a);\n    }\n  }\n}\nf.lb = function(a) {\n  return this.b.lb(a);\n};\nf.abort = function() {\n  this.A && (this.A.cancel(), this.A = null);\n  this.g = -1;\n};\nf.Lb = function() {\n  return!1;\n};\nf.Rb = function(a, b) {\n  this.g = a.g;\n  if (0 == this.c) {\n    if (this.a.debug(\"TestConnection: Got data for stage 1\"), b) {\n      try {\n        var c = this.P.parse(b);\n      } catch (d) {\n        Wb(this.a, d);\n        Dd(this.b, this);\n        return;\n      }\n      this.L = this.b.correctHostPrefix(c[0]);\n      this.va = c[1];\n    } else {\n      this.a.debug(\"TestConnection: Null responseText\"), Dd(this.b, this);\n    }\n  } else {\n    if (2 == this.c) {\n      if (this.Wa) {\n        W(), this.rb = q();\n      } else {\n        if (\"11111\" == b) {\n          if (W(), this.Wa = !0, this.La = q(), c = this.La - this.cc, ed() || 500 > c) {\n            this.g = 200, this.A.cancel(), this.a.debug(\"Test connection succeeded; using streaming connection\"), W(), Bd(this.b, this, !0);\n          }\n        } else {\n          W(), this.La = this.rb = q(), this.Wa = !1;\n        }\n      }\n    }\n  }\n};\nf.la = function() {\n  this.g = this.A.g;\n  if (!this.A.F) {\n    this.a.debug(\"TestConnection: request failed, in state \" + this.c), 0 == this.c ? W() : 2 == this.c && W(), Dd(this.b, this);\n  } else {\n    if (0 == this.c) {\n      this.a.debug(\"TestConnection: request complete for initial check\"), this.va ? (this.c = 1, yd(this)) : (this.c = 2, zd(this));\n    } else {\n      if (2 == this.c) {\n        this.a.debug(\"TestConnection: request complete for stage 2\");\n        var a = !1;\n        (a = ed() ? this.Wa : 200 > this.rb - this.La ? !1 : !0) ? (this.a.debug(\"Test connection succeeded; using streaming connection\"), W(), Bd(this.b, this, !0)) : (this.a.debug(\"Test connection failed; not using streaming\"), W(), Bd(this.b, this, !1));\n      }\n    }\n  }\n};\nf.$a = function() {\n  return this.b.$a();\n};\nf.isActive = function() {\n  return this.b.isActive();\n};\nf.H = function(a) {\n  this.b.H(a);\n};\nfunction Ed(a, b, c) {\n  this.Bb = a || null;\n  this.c = Fd;\n  this.t = [];\n  this.Q = [];\n  this.a = new N;\n  this.P = new Yb(0, !0);\n  this.Gb = b || null;\n  this.Dc = null != c ? c : null;\n}\nfunction Gd(a, b) {\n  this.Ob = a;\n  this.map = b;\n}\nf = Ed.prototype;\nf.v = null;\nf.xa = null;\nf.p = null;\nf.i = null;\nf.I = null;\nf.Ma = null;\nf.zb = null;\nf.L = null;\nf.hc = !0;\nf.Ba = 0;\nf.sc = 0;\nf.Ka = !1;\nf.e = null;\nf.G = null;\nf.M = null;\nf.aa = null;\nf.V = null;\nf.wb = null;\nf.gc = !0;\nf.za = -1;\nf.Nb = -1;\nf.g = -1;\nf.ba = 0;\nf.ha = 0;\nf.ic = 5E3;\nf.Cc = 1E4;\nf.pb = 2;\nf.Hb = 2E4;\nf.ma = 0;\nf.ab = !1;\nf.ia = 8;\nvar Fd = 1, Hd = new R;\nfunction Id(a) {\n  Q.call(this, \"statevent\", a);\n}\ns(Id, Q);\nfunction Jd(a, b) {\n  Q.call(this, \"timingevent\", a);\n  this.size = b;\n}\ns(Jd, Q);\nvar jd = 1, ld = 2, kd = 3, sd = 4;\nfunction Kd(a) {\n  Q.call(this, \"serverreachability\", a);\n}\ns(Kd, Q);\nvar Xb = \"y2f%\";\nf = Ed.prototype;\nf.kb = function(a, b, c, d, e) {\n  this.a.debug(\"connect()\");\n  W();\n  this.I = b;\n  this.xa = c || {};\n  d && void 0 !== e && (this.xa.OSID = d, this.xa.OAID = e);\n  this.a.debug(\"connectTest_()\");\n  Ld(this) && (this.V = new wd(this, this.a), this.V.S(this.v), this.V.ac(this.P), this.V.kb(a));\n};\nf.disconnect = function() {\n  this.a.debug(\"disconnect()\");\n  Md(this);\n  if (3 == this.c) {\n    var a = this.Ba++, b = this.Ma.n();\n    G(b, \"SID\", this.Y);\n    G(b, \"RID\", a);\n    G(b, \"TYPE\", \"terminate\");\n    Nd(this, b);\n    a = new U(this, this.a, this.Y, a, void 0);\n    a.sa = 2;\n    a.U = H(b.n());\n    b = new Image;\n    b.src = a.U;\n    b.onload = b.onerror = p(a.nc, a);\n    a.Da = q();\n    id(a);\n  }\n  Od(this);\n};\nfunction Md(a) {\n  a.V && (a.V.abort(), a.V = null);\n  a.i && (a.i.cancel(), a.i = null);\n  a.M && (l.clearTimeout(a.M), a.M = null);\n  Pd(a);\n  a.p && (a.p.cancel(), a.p = null);\n  a.G && (l.clearTimeout(a.G), a.G = null);\n}\nf.S = function(a) {\n  this.v = a;\n};\nf.bc = function(a) {\n  this.ma = a;\n};\nf.Lb = function() {\n  return 0 == this.c;\n};\nf.ac = function(a) {\n  this.P = a;\n};\nfunction Qd(a) {\n  a.p || a.G || (a.G = Y(p(a.Tb, a), 0), a.ba = 0);\n}\nf.Tb = function(a) {\n  this.G = null;\n  this.a.debug(\"startForwardChannel_\");\n  if (Ld(this)) {\n    if (this.c == Fd) {\n      if (a) {\n        this.a.J(\"Not supposed to retry the open\");\n      } else {\n        this.a.debug(\"open_()\");\n        this.Ba = Math.floor(1E5 * Math.random());\n        a = this.Ba++;\n        var b = new U(this, this.a, \"\", a, void 0);\n        b.S(this.v);\n        var c = Rd(this), d = this.Ma.n();\n        G(d, \"RID\", a);\n        this.Bb && G(d, \"CVER\", this.Bb);\n        Nd(this, d);\n        fd(b, d, c);\n        this.p = b;\n        this.c = 2;\n      }\n    } else {\n      3 == this.c && (a ? Sd(this, a) : 0 == this.t.length ? this.a.debug(\"startForwardChannel_ returned: nothing to send\") : this.p ? this.a.J(\"startForwardChannel_ returned: connection already in progress\") : (Sd(this), this.a.debug(\"startForwardChannel_ finished, sent request\")));\n    }\n  }\n};\nfunction Sd(a, b) {\n  var c, d;\n  b ? 6 < a.ia ? (a.t = a.Q.concat(a.t), a.Q.length = 0, c = a.Ba - 1, d = Rd(a)) : (c = b.B, d = b.X) : (c = a.Ba++, d = Rd(a));\n  var e = a.Ma.n();\n  G(e, \"SID\", a.Y);\n  G(e, \"RID\", c);\n  G(e, \"AID\", a.za);\n  Nd(a, e);\n  c = new U(a, a.a, a.Y, c, a.ba + 1);\n  c.S(a.v);\n  c.setTimeout(Math.round(0.5 * a.Hb) + Math.round(0.5 * a.Hb * Math.random()));\n  a.p = c;\n  fd(c, e, d);\n}\nfunction Nd(a, b) {\n  if (a.e) {\n    var c = a.e.getAdditionalParams(a);\n    c && D(c, function(a, c) {\n      G(b, c, a);\n    });\n  }\n}\nfunction Rd(a) {\n  var b = Math.min(a.t.length, 1E3), c = [\"count=\" + b], d;\n  6 < a.ia && 0 < b ? (d = a.t[0].Ob, c.push(\"ofs=\" + d)) : d = 0;\n  for (var e = 0;e < b;e++) {\n    var g = a.t[e].Ob, h = a.t[e].map, g = 6 >= a.ia ? e : g - d;\n    try {\n      D(h, function(a, b) {\n        c.push(\"req\" + g + \"_\" + b + \"=\" + encodeURIComponent(a));\n      });\n    } catch (k) {\n      c.push(\"req\" + g + \"_type=\" + encodeURIComponent(\"_badmap\")), a.e && a.e.badMapError(a, h);\n    }\n  }\n  a.Q = a.Q.concat(a.t.splice(0, b));\n  return c.join(\"&\");\n}\nfunction Td(a) {\n  a.i || a.M || (a.yb = 1, a.M = Y(p(a.Sb, a), 0), a.ha = 0);\n}\nfunction Ud(a) {\n  if (a.i || a.M) {\n    return a.a.J(\"Request already in progress\"), !1;\n  }\n  if (3 <= a.ha) {\n    return!1;\n  }\n  a.a.debug(\"Going to retry GET\");\n  a.yb++;\n  a.M = Y(p(a.Sb, a), Vd(a, a.ha));\n  a.ha++;\n  return!0;\n}\nf.Sb = function() {\n  this.M = null;\n  if (Ld(this)) {\n    this.a.debug(\"Creating new HttpRequest\");\n    this.i = new U(this, this.a, this.Y, \"rpc\", this.yb);\n    this.i.S(this.v);\n    this.i.bc(this.ma);\n    var a = this.zb.n();\n    G(a, \"RID\", \"rpc\");\n    G(a, \"SID\", this.Y);\n    G(a, \"CI\", this.wb ? \"0\" : \"1\");\n    G(a, \"AID\", this.za);\n    Nd(this, a);\n    if (ed()) {\n      G(a, \"TYPE\", \"xmlhttp\"), hd(this.i, a, !0, this.L, !1);\n    } else {\n      G(a, \"TYPE\", \"html\");\n      var b = this.i, c = Boolean(this.L);\n      b.sa = 3;\n      b.U = H(a.n());\n      rd(b, c);\n    }\n    this.a.debug(\"New Request created\");\n  }\n};\nfunction Ld(a) {\n  if (a.e) {\n    var b = a.e.okToMakeRequest(a);\n    if (0 != b) {\n      return a.a.debug(\"Handler returned error code from okToMakeRequest\"), Z(a, b), !1;\n    }\n  }\n  return!0;\n}\nfunction Bd(a, b, c) {\n  a.a.debug(\"Test Connection Finished\");\n  a.wb = a.gc && c;\n  a.g = b.g;\n  a.a.debug(\"connectChannel_()\");\n  a.lc(Fd, 0);\n  a.Ma = xd(a, a.I);\n  Qd(a);\n}\nfunction Dd(a, b) {\n  a.a.debug(\"Test Connection Failed\");\n  a.g = b.g;\n  Z(a, 2);\n}\nf.Rb = function(a, b) {\n  if (0 != this.c && (this.i == a || this.p == a)) {\n    if (this.g = a.g, this.p == a && 3 == this.c) {\n      if (7 < this.ia) {\n        var c;\n        try {\n          c = this.P.parse(b);\n        } catch (d) {\n          c = null;\n        }\n        if (m(c) && 3 == c.length) {\n          var e = c;\n          if (0 == e[0]) {\n            a: {\n              if (this.a.debug(\"Server claims our backchannel is missing.\"), this.M) {\n                this.a.debug(\"But we are currently starting the request.\");\n              } else {\n                if (this.i) {\n                  if (this.i.Da + 3E3 < this.p.Da) {\n                    Pd(this), this.i.cancel(), this.i = null;\n                  } else {\n                    break a;\n                  }\n                } else {\n                  this.a.Z(\"We do not have a BackChannel established\");\n                }\n                Ud(this);\n                W();\n              }\n            }\n          } else {\n            this.Nb = e[1], c = this.Nb - this.za, 0 < c && (e = e[2], this.a.debug(e + \" bytes (in \" + c + \" arrays) are outstanding on the BackChannel\"), 37500 > e && this.wb && 0 == this.ha && !this.aa && (this.aa = Y(p(this.tc, this), 6E3)));\n          }\n        } else {\n          this.a.debug(\"Bad POST response data returned\"), Z(this, 11);\n        }\n      } else {\n        b != Xb && (this.a.debug(\"Bad data returned - missing/invald magic cookie\"), Z(this, 11));\n      }\n    } else {\n      if (this.i == a && Pd(this), !/^[\\s\\xa0]*$/.test(b)) {\n        c = this.P.parse(b);\n        for (var e = this.e && this.e.channelHandleMultipleArrays ? [] : null, g = 0;g < c.length;g++) {\n          var h = c[g];\n          this.za = h[0];\n          h = h[1];\n          2 == this.c ? \"c\" == h[0] ? (this.Y = h[1], this.L = this.correctHostPrefix(h[2]), h = h[3], this.ia = null != h ? h : 6, this.c = 3, this.e && this.e.channelOpened(this), this.zb = Cd(this, this.L, this.I), Td(this)) : \"stop\" == h[0] && Z(this, 7) : 3 == this.c && (\"stop\" == h[0] ? (e && 0 != e.length && (this.e.channelHandleMultipleArrays(this, e), e.length = 0), Z(this, 7)) : \"noop\" != h[0] && (e ? e.push(h) : this.e && this.e.channelHandleArray(this, h)), this.ha = 0);\n        }\n        e && 0 != e.length && this.e.channelHandleMultipleArrays(this, e);\n      }\n    }\n  }\n};\nf.correctHostPrefix = function(a) {\n  return this.hc ? this.e ? this.e.correctHostPrefix(a) : a : null;\n};\nf.tc = function() {\n  null != this.aa && (this.aa = null, this.i.cancel(), this.i = null, Ud(this), W());\n};\nfunction Pd(a) {\n  null != a.aa && (l.clearTimeout(a.aa), a.aa = null);\n}\nf.la = function(a) {\n  this.a.debug(\"Request complete\");\n  var b;\n  if (this.i == a) {\n    Pd(this), this.i = null, b = 2;\n  } else {\n    if (this.p == a) {\n      this.p = null, b = 1;\n    } else {\n      return;\n    }\n  }\n  this.g = a.g;\n  if (0 != this.c) {\n    if (a.F) {\n      1 == b ? (q(), Hd.dispatchEvent(new Jd(Hd, a.X ? a.X.length : 0)), Qd(this), this.Q.length = 0) : Td(this);\n    } else {\n      var c = a.Ib();\n      if (3 == c || 7 == c || 0 == c && 0 < this.g) {\n        this.a.debug(\"Not retrying due to error type\");\n      } else {\n        this.a.debug(\"Maybe retrying, last error: \" + ad(c, this.g));\n        var d;\n        if (d = 1 == b) {\n          this.p || this.G ? (this.a.J(\"Request already in progress\"), d = !1) : this.c == Fd || this.ba >= (this.Ka ? 0 : this.pb) ? d = !1 : (this.a.debug(\"Going to retry POST\"), this.G = Y(p(this.Tb, this, a), Vd(this, this.ba)), this.ba++, d = !0);\n        }\n        if (d || 2 == b && Ud(this)) {\n          return;\n        }\n        this.a.debug(\"Exceeded max number of retries\");\n      }\n      this.a.debug(\"Error: HTTP request failed\");\n      switch(c) {\n        case 1:\n          Z(this, 5);\n          break;\n        case 4:\n          Z(this, 10);\n          break;\n        case 3:\n          Z(this, 6);\n          break;\n        case 7:\n          Z(this, 12);\n          break;\n        default:\n          Z(this, 2);\n      }\n    }\n  }\n};\nfunction Vd(a, b) {\n  var c = a.ic + Math.floor(Math.random() * a.Cc);\n  a.isActive() || (a.a.debug(\"Inactive channel\"), c *= 2);\n  return c * b;\n}\nf.lc = function(a) {\n  if (!(0 <= Xa(arguments, this.c))) {\n    throw Error(\"Unexpected channel state: \" + this.c);\n  }\n};\nfunction Z(a, b) {\n  a.a.info(\"Error code \" + b);\n  if (2 == b || 9 == b) {\n    var c = null;\n    a.e && (c = a.e.getNetworkTestImageUri(a));\n    var d = p(a.Fc, a);\n    c || (c = new E(\"//www.google.com/images/cleardot.gif\"), H(c));\n    vd(c.toString(), 1E4, d);\n  } else {\n    W();\n  }\n  Wd(a, b);\n}\nf.Fc = function(a) {\n  a ? (this.a.info(\"Successfully pinged google.com\"), W()) : (this.a.info(\"Failed to ping google.com\"), W(), Wd(this, 8));\n};\nfunction Wd(a, b) {\n  a.a.debug(\"HttpChannel: error - \" + b);\n  a.c = 0;\n  a.e && a.e.channelError(a, b);\n  Od(a);\n  Md(a);\n}\nfunction Od(a) {\n  a.c = 0;\n  a.g = -1;\n  if (a.e) {\n    if (0 == a.Q.length && 0 == a.t.length) {\n      a.e.channelClosed(a);\n    } else {\n      a.a.debug(\"Number of undelivered maps, pending: \" + a.Q.length + \", outgoing: \" + a.t.length);\n      var b = bb(a.Q), c = bb(a.t);\n      a.Q.length = 0;\n      a.t.length = 0;\n      a.e.channelClosed(a, b, c);\n    }\n  }\n}\nfunction xd(a, b) {\n  var c = Ad(a, null, b);\n  a.a.debug(\"GetForwardChannelUri: \" + c);\n  return c;\n}\nfunction Cd(a, b, c) {\n  b = Ad(a, a.$a() ? b : null, c);\n  a.a.debug(\"GetBackChannelUri: \" + b);\n  return b;\n}\nfunction Ad(a, b, c) {\n  var d = tb(c);\n  if (\"\" != d.ja) {\n    b && gb(d, b + \".\" + d.ja), hb(d, d.Ca);\n  } else {\n    var e = window.location, d = ub(e.protocol, b ? b + \".\" + e.hostname : e.hostname, e.port, c)\n  }\n  a.xa && D(a.xa, function(a, b) {\n    G(d, b, a);\n  });\n  G(d, \"VER\", a.ia);\n  Nd(a, d);\n  return d;\n}\nf.lb = function(a) {\n  if (a && !this.ab) {\n    throw Error(\"Can't create secondary domain capable XhrIo object.\");\n  }\n  a = new Ic;\n  a.dc = this.ab;\n  return a;\n};\nf.isActive = function() {\n  return!!this.e && this.e.isActive(this);\n};\nfunction Y(a, b) {\n  if (!fa(a)) {\n    throw Error(\"Fn must not be null and must be a function\");\n  }\n  return l.setTimeout(function() {\n    a();\n  }, b);\n}\nf.H = function() {\n  Hd.dispatchEvent(new Kd(Hd));\n};\nfunction W() {\n  Hd.dispatchEvent(new Id(Hd));\n}\nf.$a = function() {\n  return this.ab || !ed();\n};\nfunction Xd() {\n}\nf = Xd.prototype;\nf.channelHandleMultipleArrays = null;\nf.okToMakeRequest = function() {\n  return 0;\n};\nf.channelOpened = function() {\n};\nf.channelHandleArray = function() {\n};\nf.channelError = function() {\n};\nf.channelClosed = function() {\n};\nf.getAdditionalParams = function() {\n  return{};\n};\nf.getNetworkTestImageUri = function() {\n  return null;\n};\nf.isActive = function() {\n  return!0;\n};\nf.badMapError = function() {\n};\nf.correctHostPrefix = function(a) {\n  return a;\n};\nvar $, Yd;\nYd = {0:\"Ok\", 4:\"User is logging out\", 6:\"Unknown session ID\", 7:\"Stopped by server\", 8:\"General network error\", 2:\"Request failed\", 9:\"Blocked by a network administrator\", 5:\"No data from server\", 10:\"Got bad data from the server\", 11:\"Got a bad response from the server\"};\n$ = function(a, b) {\n  var c, d, e, g, h, k, u, K, v, r, Ka, w, X, cd;\n  if (!(this instanceof $)) {\n    return new $(a, b);\n  }\n  r = this;\n  a || (a = \"channel\");\n  a.match(/:\\/\\//) && a.replace(/^ws/, \"http\");\n  b || (b = {});\n  m(b || \"string\" === typeof b) && (b = {});\n  K = b.reconnectTime || 3E3;\n  c = b.extraHeaders || null;\n  d = b.extraParams || null;\n  null !== b.affinity && (d || (d = {}), b.affinityParam || (b.affinityParam = \"a\"), this.affinity = b.affinity || sa(), d[b.affinityParam] = this.affinity);\n  X = function(a) {\n    r.readyState = r.readyState = a;\n  };\n  X(this.CLOSED);\n  w = null;\n  k = null != (cd = b.prev) ? cd.Ec : void 0;\n  e = function(a, b, c, d, e) {\n    try {\n      return \"function\" === typeof r[a] ? r[a](c, d, e) : void 0;\n    } catch (g) {\n      throw \"undefined\" !== typeof console && null !== console && console.error(g.stack), g;\n    }\n  };\n  g = new Xd;\n  g.channelOpened = function() {\n    k = w;\n    X($.OPEN);\n    return e(\"onopen\");\n  };\n  h = null;\n  g.channelError = function(a, b) {\n    var c;\n    c = Yd[b];\n    h = b;\n    r.readyState !== $.CLOSED && X($.hb);\n    return e(\"onerror\", 0, c, b);\n  };\n  v = null;\n  g.channelClosed = function(a, c, d) {\n    var g;\n    if (r.readyState !== $.CLOSED) {\n      return w = null, a = h ? Yd[h] : \"Closed\", X($.CLOSED), b.reconnect && 7 !== h && 0 !== h && (g = 6 === h ? 0 : K, clearTimeout(v), v = setTimeout(u, g)), e(\"onclose\", 0, a, c, d), h = null;\n    }\n  };\n  g.channelHandleArray = function(a, b) {\n    return e(\"onmessage\", 0, {type:\"message\", data:b});\n  };\n  u = function() {\n    if (w) {\n      throw Error(\"Reconnect() called from invalid state\");\n    }\n    X($.CONNECTING);\n    e(\"onconnecting\");\n    clearTimeout(v);\n    r.Ec = w = new Ed(b.appVersion, null != k ? k.Gb : void 0);\n    b.crossDomainXhr && (w.ab = !0);\n    w.e = g;\n    c && w.S(c);\n    h = null;\n    if (b.failFast) {\n      var t = w;\n      t.Ka = !0;\n      t.a.info(\"setFailFast: true\");\n      (t.p || t.G) && t.ba > (t.Ka ? 0 : t.pb) && (t.a.info(\"Retry count \" + t.ba + \" > new maxRetries \" + (t.Ka ? 0 : t.pb) + \". Fail immediately!\"), t.p ? (t.p.cancel(), t.la(t.p)) : (l.clearTimeout(t.G), t.G = null, Z(t, 2)));\n    }\n    return w.kb(\"\" + a + \"/test\", \"\" + a + \"/bind\", d, null != k ? k.Y : void 0, null != k ? k.za : void 0);\n  };\n  this.open = function() {\n    if (r.readyState !== r.CLOSED) {\n      throw Error(\"Already open\");\n    }\n    return u();\n  };\n  this.close = function() {\n    clearTimeout(v);\n    h = 0;\n    if (r.readyState !== $.CLOSED) {\n      return X($.hb), w.disconnect();\n    }\n  };\n  this.sendMap = Ka = function(a) {\n    var b;\n    if ((b = r.readyState) !== $.hb && b !== $.CLOSED) {\n      b = w;\n      if (0 == b.c) {\n        throw Error(\"Invalid operation: sending map when state is closed\");\n      }\n      1E3 == b.t.length && b.a.J(\"Already have 1000 queued maps upon queueing \" + yb(a));\n      b.t.push(new Gd(b.sc++, a));\n      2 != b.c && 3 != b.c || Qd(b);\n    }\n  };\n  this.send = function(a) {\n    return \"string\" === typeof a ? Ka({_S:a}) : Ka({JSON:yb(a)});\n  };\n  u();\n};\n$.prototype.canSendWhileConnecting = $.canSendWhileConnecting = !0;\n$.prototype.canSendJSON = $.canSendJSON = !0;\n$.prototype.CONNECTING = $.CONNECTING = $.CONNECTING = 0;\n$.prototype.OPEN = $.OPEN = $.OPEN = 1;\n$.prototype.CLOSING = $.CLOSING = $.hb = 2;\n$.prototype.CLOSED = $.CLOSED = $.CLOSED = 3;\n(\"undefined\" !== typeof exports && null !== exports ? exports : window).BCSocket = $;\n\n})();\n",
    "module.exports = Socket;\n\nvar BCSocket = require('browserchannel/dist/bcsocket-uncompressed').BCSocket;\n\nfunction Socket(options) {\n  this._options = options;\n  this._messageQueue = [];\n  this._connectedOnce = false;\n  this._attemptNum = 0;\n  this._url = getWebSocketURL(options);\n\n  if (supportWebSockets() && !options.browserChannelOnly) {\n    this._createWebSocket();\n  } else {\n    this._createBrowserChannel();\n  }\n}\n\nSocket.prototype._createWebSocket = function() {\n\n  this._type = 'websocket';\n  this._socket = new WebSocket(this._url);\n\n  this.open = this._createWebSocket.bind(this);\n  this._syncState();\n\n  this._socket.onmessage = this._ws_onmessage.bind(this);\n  this._socket.onopen = this._ws_onopen.bind(this);\n  this._socket.onclose = this._ws_onclose.bind(this);\n\n};\n\nSocket.prototype._createBrowserChannel = function() {\n  this._type = 'browserchannel';\n  this._socket = BCSocket(this._options.base, this._options);\n\n  this.open = this._createBrowserChannel.bind(this);\n  this._syncState();\n\n  this._socket.onmessage = this._bc_onmessage.bind(this);\n  this._socket.onopen = this._bc_onopen.bind(this);\n  this._socket.onclose = this._bc_onclose.bind(this);\n};\n\nSocket.prototype._ws_onmessage = function(message) {\n  this._syncState();\n  message.data = JSON.parse(message.data);\n  this.onmessage && this.onmessage(message);\n};\n\nSocket.prototype._ws_onopen = function(event) {\n  this._attemptNum = 0;\n  this._connectedOnce = true;\n\n  this._syncState();\n  this._flushQueue();\n\n  this.onopen && this.onopen(event);\n};\n\nSocket.prototype._ws_onclose = function(event) {\n  this._syncState();\n  console.log('WebSocket: connection is broken', event);\n\n  this.onclose && this.onclose(event);\n\n  if (!this._connectedOnce) {\n    return this._createBrowserChannel();\n  }\n\n  var socket = this;\n\n  if (this._options.reconnect && !event.wasClean) {\n    setTimeout(function(){\n      if (socket.readyState === socket.CLOSED) {\n        socket._createWebSocket();\n      }\n    }, this._getTimeout());\n  }\n  this._attemptNum++;\n};\n\nSocket.prototype._getTimeout = function(){\n  var base = this._options.timeout;\n  var increment = this._options.timeoutIncrement * this._attemptNum;\n  var maxTimeout = base + increment;\n  return getRandom(maxTimeout / 3, maxTimeout);\n};\n\nSocket.prototype._bc_onmessage = function(data) {\n  this._syncState();\n  this.onmessage && this.onmessage(data);\n};\n\nSocket.prototype._bc_onopen = function(event) {\n  this._syncState();\n  this.onopen && this.onopen(event);\n};\n\nSocket.prototype._bc_onclose = function(event) {\n  this._syncState();\n  this.onclose && this.onclose(event);\n};\n\nSocket.prototype._flushQueue = function(){\n  while (this._messageQueue.length !== 0) {\n    var data = this._messageQueue.shift();\n    this._send(data);\n  }\n};\n\nSocket.prototype._send = function(data){\n  if (this._type === 'websocket' && (typeof data !== 'string')) data = JSON.stringify(data);\n\n  this._socket.send(data);\n};\n\nSocket.prototype.send = function(data){\n  if (this._type === 'websocket') {\n    if (this._socket.readyState === WebSocket.OPEN && this._messageQueue.length === 0) {\n      this._send(data);\n    } else {\n      this._messageQueue.push(data);\n    }\n  } else {\n    this._send(data);\n  }\n};\n\nSocket.prototype.close = function(){\n  this._socket.close();\n};\n\nSocket.prototype._syncState = function(){\n  this.readyState = this._socket.readyState;\n};\n\nSocket.prototype.reconnect = function(){\n  if (this._type === 'websocket' && this.readyState === this.CLOSED){\n    this._createWebSocket();\n  }\n};\n\n// ShareJS constants\nSocket.prototype.canSendWhileConnecting = true;\nSocket.prototype.canSendJSON = true;\n\n// WebSocket constants\nSocket.prototype.CONNECTING = 0;\nSocket.prototype.OPEN = 1;\nSocket.prototype.CLOSING = 2;\nSocket.prototype.CLOSED = 3;\n\nfunction getRandom(min, max){\n  return Math.random() * (max - min) + min;\n}\n\nfunction supportWebSockets(){\n  // The condition is from Modernizr\n  // https://github.com/Modernizr/Modernizr/blob/master/feature-detects/websockets.js#L28\n  return 'WebSocket' in window && window.WebSocket.CLOSING === 2;\n}\n\nfunction getWebSocketURL(options){\n  var port;\n\n  if (window.location && window.location.port) {\n    port = \":\" + window.location.port;\n  }\n\n  var srvPort = options.srvPort;\n  var srvSecurePort = options.srvSecurePort;\n\n  var srvHost = options.srvHost || window.location.hostname;\n  var srvProtocol = options.srvProtocol || window.location.protocol;\n\n  var protocol = (srvProtocol === 'https:' ? 'wss:' : 'ws:');\n\n  if (protocol === 'ws:' && srvPort) {\n    port = \":\" + srvPort;\n  } else if (protocol === 'wss:' && srvSecurePort) {\n    port = \":\" + srvSecurePort;\n  }\n  return protocol + '//' + srvHost + (port || \"\") + options.base;\n}\n\n// Maybe need to use reconnection timing algorithm from\n// http://blog.johnryding.com/post/78544969349/how-to-reconnect-web-sockets-in-a-realtime-web-app\n",
    "var racer = require('racer');\nvar Socket = require('./socket');\nvar CLIENT_OPTIONS = JSON.parse('{\"base\":\"/channel\",\"reconnect\":true,\"browserChannelOnly\":false,\"timeout\":10000,\"timeoutIncrement\":10000}');\n\nracer.Model.prototype._createSocket = function(bundle) {\n  return new Socket(CLIENT_OPTIONS);\n};\n\n",
    "// .dirname, .basename, and .extname methods are extracted from Node.js v8.11.1,\n// backported and transplited with Babel, with backwards-compat fixes\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  if (path.length === 0) return '.';\n  var code = path.charCodeAt(0);\n  var hasRoot = code === 47 /*/*/;\n  var end = -1;\n  var matchedSlash = true;\n  for (var i = path.length - 1; i >= 1; --i) {\n    code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        if (!matchedSlash) {\n          end = i;\n          break;\n        }\n      } else {\n      // We saw the first non-path separator\n      matchedSlash = false;\n    }\n  }\n\n  if (end === -1) return hasRoot ? '/' : '.';\n  if (hasRoot && end === 1) {\n    // return '//';\n    // Backwards-compat fix:\n    return '/';\n  }\n  return path.slice(0, end);\n};\n\nfunction basename(path) {\n  if (typeof path !== 'string') path = path + '';\n\n  var start = 0;\n  var end = -1;\n  var matchedSlash = true;\n  var i;\n\n  for (i = path.length - 1; i >= 0; --i) {\n    if (path.charCodeAt(i) === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          start = i + 1;\n          break;\n        }\n      } else if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // path component\n      matchedSlash = false;\n      end = i + 1;\n    }\n  }\n\n  if (end === -1) return '';\n  return path.slice(start, end);\n}\n\n// Uses a mixed approach for backwards-compatibility, as ext behavior changed\n// in new Node.js versions, so only basename() above is backported here\nexports.basename = function (path, ext) {\n  var f = basename(path);\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\nexports.extname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  var startDot = -1;\n  var startPart = 0;\n  var end = -1;\n  var matchedSlash = true;\n  // Track the state of characters (if any) we see before our first dot and\n  // after any path separator we find\n  var preDotState = 0;\n  for (var i = path.length - 1; i >= 0; --i) {\n    var code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          startPart = i + 1;\n          break;\n        }\n        continue;\n      }\n    if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // extension\n      matchedSlash = false;\n      end = i + 1;\n    }\n    if (code === 46 /*.*/) {\n        // If this is our first dot, mark it as the start of our extension\n        if (startDot === -1)\n          startDot = i;\n        else if (preDotState !== 1)\n          preDotState = 1;\n    } else if (startDot !== -1) {\n      // We saw a non-dot and non-path separator before our dot, so we should\n      // have a good chance at having a non-empty extension\n      preDotState = -1;\n    }\n  }\n\n  if (startDot === -1 || end === -1 ||\n      // We saw a non-dot character immediately before the dot\n      preDotState === 0 ||\n      // The (right-most) trimmed path component is exactly '..'\n      preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n    return '';\n  }\n  return path.slice(startDot, end);\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n",
    "\n/**\n * Module dependencies.\n */\n\n/**\n * toString ref.\n */\n\nvar toString = {}.toString;\n\n/**\n * Return ETag for `body`.\n *\n * @param {String|Buffer} body\n * @return {String}\n * @api private\n */\n\nexports.etag = function(body){\n  return '\"' + crc32.signed(body) + '\"';\n};\n\n/**\n * Make `locals()` bound to the given `obj`.\n *\n * This is used for `app.locals` and `res.locals`.\n *\n * @param {Object} obj\n * @return {Function}\n * @api private\n */\n\nexports.locals = function(obj){\n  function locals(obj){\n    for (var key in obj) locals[key] = obj[key];\n    return obj;\n  };\n\n  return locals;\n};\n\n/**\n * Check if `path` looks absolute.\n *\n * @param {String} path\n * @return {Boolean}\n * @api private\n */\n\nexports.isAbsolute = function(path){\n  if ('/' == path[0]) return true;\n  if (':' == path[1] && '\\\\' == path[2]) return true;\n};\n\n/**\n * Flatten the given `arr`.\n *\n * @param {Array} arr\n * @return {Array}\n * @api private\n */\n\nexports.flatten = function(arr, ret){\n  var ret = ret || []\n    , len = arr.length;\n  for (var i = 0; i < len; ++i) {\n    if (Array.isArray(arr[i])) {\n      exports.flatten(arr[i], ret);\n    } else {\n      ret.push(arr[i]);\n    }\n  }\n  return ret;\n};\n\n/**\n * Normalize the given `type`, for example \"html\" becomes \"text/html\".\n *\n * @param {String} type\n * @return {Object}\n * @api private\n */\n\nexports.normalizeType = function(type){\n  return ~type.indexOf('/')\n    ? acceptParams(type)\n    : { value: mime.lookup(type), params: {} };\n};\n\n/**\n * Normalize `types`, for example \"html\" becomes \"text/html\".\n *\n * @param {Array} types\n * @return {Array}\n * @api private\n */\n\nexports.normalizeTypes = function(types){\n  var ret = [];\n\n  for (var i = 0; i < types.length; ++i) {\n    ret.push(exports.normalizeType(types[i]));\n  }\n\n  return ret;\n};\n\n/**\n * Return the acceptable type in `types`, if any.\n *\n * @param {Array} types\n * @param {String} str\n * @return {String}\n * @api private\n */\n\nexports.acceptsArray = function(types, str){\n  // accept anything when Accept is not present\n  if (!str) return types[0];\n\n  // parse\n  var accepted = exports.parseAccept(str)\n    , normalized = exports.normalizeTypes(types)\n    , len = accepted.length;\n\n  for (var i = 0; i < len; ++i) {\n    for (var j = 0, jlen = types.length; j < jlen; ++j) {\n      if (exports.accept(normalized[j], accepted[i])) {\n        return types[j];\n      }\n    }\n  }\n};\n\n/**\n * Check if `type(s)` are acceptable based on\n * the given `str`.\n *\n * @param {String|Array} type(s)\n * @param {String} str\n * @return {Boolean|String}\n * @api private\n */\n\nexports.accepts = function(type, str){\n  if ('string' == typeof type) type = type.split(/ *, */);\n  return exports.acceptsArray(type, str);\n};\n\n/**\n * Check if `type` array is acceptable for `other`.\n *\n * @param {Object} type\n * @param {Object} other\n * @return {Boolean}\n * @api private\n */\n\nexports.accept = function(type, other){\n  var t = type.value.split('/');\n  return (t[0] == other.type || '*' == other.type)\n    && (t[1] == other.subtype || '*' == other.subtype)\n    && paramsEqual(type.params, other.params);\n};\n\n/**\n * Check if accept params are equal.\n *\n * @param {Object} a\n * @param {Object} b\n * @return {Boolean}\n * @api private\n */\n\nfunction paramsEqual(a, b){\n  return !Object.keys(a).some(function(k) {\n    return a[k] != b[k];\n  });\n}\n\n/**\n * Parse accept `str`, returning\n * an array objects containing\n * `.type` and `.subtype` along\n * with the values provided by\n * `parseQuality()`.\n *\n * @param {Type} name\n * @return {Type}\n * @api private\n */\n\nexports.parseAccept = function(str){\n  return exports\n    .parseParams(str)\n    .map(function(obj){\n      var parts = obj.value.split('/');\n      obj.type = parts[0];\n      obj.subtype = parts[1];\n      return obj;\n    });\n};\n\n/**\n * Parse quality `str`, returning an\n * array of objects with `.value`,\n * `.quality` and optional `.params`\n *\n * @param {String} str\n * @return {Array}\n * @api private\n */\n\nexports.parseParams = function(str){\n  return str\n    .split(/ *, */)\n    .map(acceptParams)\n    .filter(function(obj){\n      return obj.quality;\n    })\n    .sort(function(a, b){\n      if (a.quality === b.quality) {\n        return a.originalIndex - b.originalIndex;\n      } else {\n        return b.quality - a.quality;\n      }\n    });\n};\n\n/**\n * Parse accept params `str` returning an\n * object with `.value`, `.quality` and `.params`.\n * also includes `.originalIndex` for stable sorting\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nfunction acceptParams(str, index) {\n  var parts = str.split(/ *; */);\n  var ret = { value: parts[0], quality: 1, params: {}, originalIndex: index };\n\n  for (var i = 1; i < parts.length; ++i) {\n    var pms = parts[i].split(/ *= */);\n    if ('q' == pms[0]) {\n      ret.quality = parseFloat(pms[1]);\n    } else {\n      ret.params[pms[0]] = pms[1];\n    }\n  }\n\n  return ret;\n}\n\n/**\n * Escape special characters in the given string of html.\n *\n * @param  {String} html\n * @return {String}\n * @api private\n */\n\nexports.escape = function(html) {\n  return String(html)\n    .replace(/&/g, '&amp;')\n    .replace(/\"/g, '&quot;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;');\n};\n\n/**\n * Normalize the given path string,\n * returning a regular expression.\n *\n * An empty array should be passed,\n * which will contain the placeholder\n * key names. For example \"/user/:id\" will\n * then contain [\"id\"].\n *\n * @param  {String|RegExp|Array} path\n * @param  {Array} keys\n * @param  {Boolean} sensitive\n * @param  {Boolean} strict\n * @return {RegExp}\n * @api private\n */\n\nexports.pathRegexp = function(path, keys, sensitive, strict) {\n  if (toString.call(path) == '[object RegExp]') return path;\n  if (Array.isArray(path)) path = '(' + path.join('|') + ')';\n  path = path\n    .concat(strict ? '' : '/?')\n    .replace(/\\/\\(/g, '(?:/')\n    .replace(/(\\/)?(\\.)?:(\\w+)(?:(\\(.*?\\)))?(\\?)?(\\*)?/g, function(_, slash, format, key, capture, optional, star){\n      keys.push({ name: key, optional: !! optional });\n      slash = slash || '';\n      return ''\n        + (optional ? '' : slash)\n        + '(?:'\n        + (optional ? slash : '')\n        + (format || '') + (capture || (format && '([^/.]+?)' || '([^/]+?)')) + ')'\n        + (optional || '')\n        + (star ? '(/*)?' : '');\n    })\n    .replace(/([\\/.])/g, '\\\\$1')\n    .replace(/\\*/g, '(.*)');\n  return new RegExp('^' + path + '$', sensitive ? '' : 'i');\n}\n",
    "\n/**\n * Module dependencies.\n */\n\nvar utils = require('../utils');\n\n/**\n * Expose `Route`.\n */\n\nmodule.exports = Route;\n\n/**\n * Initialize `Route` with the given HTTP `method`, `path`,\n * and an array of `callbacks` and `options`.\n *\n * Options:\n *\n *   - `sensitive`    enable case-sensitive routes\n *   - `strict`       enable strict matching for trailing slashes\n *\n * @param {String} method\n * @param {String} path\n * @param {Array} callbacks\n * @param {Object} options.\n * @api private\n */\n\nfunction Route(method, path, callbacks, options) {\n  options = options || {};\n  this.path = path;\n  this.method = method;\n  this.callbacks = callbacks;\n  this.regexp = utils.pathRegexp(path\n    , this.keys = []\n    , options.sensitive\n    , options.strict);\n}\n\n/**\n * Check if this route matches `path`, if so\n * populate `.params`.\n *\n * @param {String} path\n * @return {Boolean}\n * @api private\n */\n\nRoute.prototype.match = function(path){\n  var keys = this.keys\n    , params = this.params = []\n    , m = this.regexp.exec(path);\n\n  if (!m) return false;\n\n  for (var i = 1, len = m.length; i < len; ++i) {\n    var key = keys[i - 1];\n\n    var val = 'string' == typeof m[i]\n      ? decodeURIComponent(m[i])\n      : m[i];\n\n    if (key) {\n      params[key.name] = val;\n    } else {\n      params.push(val);\n    }\n  }\n\n  return true;\n};\n",
    "'use strict';\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar hexTable = (function () {\n    var array = [];\n    for (var i = 0; i < 256; ++i) {\n        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());\n    }\n\n    return array;\n}());\n\nvar compactQueue = function compactQueue(queue) {\n    while (queue.length > 1) {\n        var item = queue.pop();\n        var obj = item.obj[item.prop];\n\n        if (isArray(obj)) {\n            var compacted = [];\n\n            for (var j = 0; j < obj.length; ++j) {\n                if (typeof obj[j] !== 'undefined') {\n                    compacted.push(obj[j]);\n                }\n            }\n\n            item.obj[item.prop] = compacted;\n        }\n    }\n};\n\nvar arrayToObject = function arrayToObject(source, options) {\n    var obj = options && options.plainObjects ? Object.create(null) : {};\n    for (var i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n            obj[i] = source[i];\n        }\n    }\n\n    return obj;\n};\n\nvar merge = function merge(target, source, options) {\n    /* eslint no-param-reassign: 0 */\n    if (!source) {\n        return target;\n    }\n\n    if (typeof source !== 'object') {\n        if (isArray(target)) {\n            target.push(source);\n        } else if (target && typeof target === 'object') {\n            if ((options && (options.plainObjects || options.allowPrototypes)) || !has.call(Object.prototype, source)) {\n                target[source] = true;\n            }\n        } else {\n            return [target, source];\n        }\n\n        return target;\n    }\n\n    if (!target || typeof target !== 'object') {\n        return [target].concat(source);\n    }\n\n    var mergeTarget = target;\n    if (isArray(target) && !isArray(source)) {\n        mergeTarget = arrayToObject(target, options);\n    }\n\n    if (isArray(target) && isArray(source)) {\n        source.forEach(function (item, i) {\n            if (has.call(target, i)) {\n                var targetItem = target[i];\n                if (targetItem && typeof targetItem === 'object' && item && typeof item === 'object') {\n                    target[i] = merge(targetItem, item, options);\n                } else {\n                    target.push(item);\n                }\n            } else {\n                target[i] = item;\n            }\n        });\n        return target;\n    }\n\n    return Object.keys(source).reduce(function (acc, key) {\n        var value = source[key];\n\n        if (has.call(acc, key)) {\n            acc[key] = merge(acc[key], value, options);\n        } else {\n            acc[key] = value;\n        }\n        return acc;\n    }, mergeTarget);\n};\n\nvar assign = function assignSingleSource(target, source) {\n    return Object.keys(source).reduce(function (acc, key) {\n        acc[key] = source[key];\n        return acc;\n    }, target);\n};\n\nvar decode = function (str, decoder, charset) {\n    var strWithoutPlus = str.replace(/\\+/g, ' ');\n    if (charset === 'iso-8859-1') {\n        // unescape never throws, no try...catch needed:\n        return strWithoutPlus.replace(/%[0-9a-f]{2}/gi, unescape);\n    }\n    // utf-8\n    try {\n        return decodeURIComponent(strWithoutPlus);\n    } catch (e) {\n        return strWithoutPlus;\n    }\n};\n\nvar encode = function encode(str, defaultEncoder, charset) {\n    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n\n    var string = str;\n    if (typeof str === 'symbol') {\n        string = Symbol.prototype.toString.call(str);\n    } else if (typeof str !== 'string') {\n        string = String(str);\n    }\n\n    if (charset === 'iso-8859-1') {\n        return escape(string).replace(/%u[0-9a-f]{4}/gi, function ($0) {\n            return '%26%23' + parseInt($0.slice(2), 16) + '%3B';\n        });\n    }\n\n    var out = '';\n    for (var i = 0; i < string.length; ++i) {\n        var c = string.charCodeAt(i);\n\n        if (\n            c === 0x2D // -\n            || c === 0x2E // .\n            || c === 0x5F // _\n            || c === 0x7E // ~\n            || (c >= 0x30 && c <= 0x39) // 0-9\n            || (c >= 0x41 && c <= 0x5A) // a-z\n            || (c >= 0x61 && c <= 0x7A) // A-Z\n        ) {\n            out += string.charAt(i);\n            continue;\n        }\n\n        if (c < 0x80) {\n            out = out + hexTable[c];\n            continue;\n        }\n\n        if (c < 0x800) {\n            out = out + (hexTable[0xC0 | (c >> 6)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        if (c < 0xD800 || c >= 0xE000) {\n            out = out + (hexTable[0xE0 | (c >> 12)] + hexTable[0x80 | ((c >> 6) & 0x3F)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        i += 1;\n        c = 0x10000 + (((c & 0x3FF) << 10) | (string.charCodeAt(i) & 0x3FF));\n        out += hexTable[0xF0 | (c >> 18)]\n            + hexTable[0x80 | ((c >> 12) & 0x3F)]\n            + hexTable[0x80 | ((c >> 6) & 0x3F)]\n            + hexTable[0x80 | (c & 0x3F)];\n    }\n\n    return out;\n};\n\nvar compact = function compact(value) {\n    var queue = [{ obj: { o: value }, prop: 'o' }];\n    var refs = [];\n\n    for (var i = 0; i < queue.length; ++i) {\n        var item = queue[i];\n        var obj = item.obj[item.prop];\n\n        var keys = Object.keys(obj);\n        for (var j = 0; j < keys.length; ++j) {\n            var key = keys[j];\n            var val = obj[key];\n            if (typeof val === 'object' && val !== null && refs.indexOf(val) === -1) {\n                queue.push({ obj: obj, prop: key });\n                refs.push(val);\n            }\n        }\n    }\n\n    compactQueue(queue);\n\n    return value;\n};\n\nvar isRegExp = function isRegExp(obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\nvar isBuffer = function isBuffer(obj) {\n    if (!obj || typeof obj !== 'object') {\n        return false;\n    }\n\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n};\n\nvar combine = function combine(a, b) {\n    return [].concat(a, b);\n};\n\nmodule.exports = {\n    arrayToObject: arrayToObject,\n    assign: assign,\n    combine: combine,\n    compact: compact,\n    decode: decode,\n    encode: encode,\n    isBuffer: isBuffer,\n    isRegExp: isRegExp,\n    merge: merge\n};\n",
    "'use strict';\n\nvar replace = String.prototype.replace;\nvar percentTwenties = /%20/g;\n\nvar util = require('./utils');\n\nvar Format = {\n    RFC1738: 'RFC1738',\n    RFC3986: 'RFC3986'\n};\n\nmodule.exports = util.assign(\n    {\n        'default': Format.RFC3986,\n        formatters: {\n            RFC1738: function (value) {\n                return replace.call(value, percentTwenties, '+');\n            },\n            RFC3986: function (value) {\n                return String(value);\n            }\n        }\n    },\n    Format\n);\n",
    "'use strict';\n\nvar utils = require('./utils');\nvar formats = require('./formats');\nvar has = Object.prototype.hasOwnProperty;\n\nvar arrayPrefixGenerators = {\n    brackets: function brackets(prefix) {\n        return prefix + '[]';\n    },\n    comma: 'comma',\n    indices: function indices(prefix, key) {\n        return prefix + '[' + key + ']';\n    },\n    repeat: function repeat(prefix) {\n        return prefix;\n    }\n};\n\nvar isArray = Array.isArray;\nvar push = Array.prototype.push;\nvar pushToArray = function (arr, valueOrArray) {\n    push.apply(arr, isArray(valueOrArray) ? valueOrArray : [valueOrArray]);\n};\n\nvar toISO = Date.prototype.toISOString;\n\nvar defaultFormat = formats['default'];\nvar defaults = {\n    addQueryPrefix: false,\n    allowDots: false,\n    charset: 'utf-8',\n    charsetSentinel: false,\n    delimiter: '&',\n    encode: true,\n    encoder: utils.encode,\n    encodeValuesOnly: false,\n    format: defaultFormat,\n    formatter: formats.formatters[defaultFormat],\n    // deprecated\n    indices: false,\n    serializeDate: function serializeDate(date) {\n        return toISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false\n};\n\nvar isNonNullishPrimitive = function isNonNullishPrimitive(v) {\n    return typeof v === 'string'\n        || typeof v === 'number'\n        || typeof v === 'boolean'\n        || typeof v === 'symbol'\n        || typeof v === 'bigint';\n};\n\nvar stringify = function stringify(\n    object,\n    prefix,\n    generateArrayPrefix,\n    strictNullHandling,\n    skipNulls,\n    encoder,\n    filter,\n    sort,\n    allowDots,\n    serializeDate,\n    formatter,\n    encodeValuesOnly,\n    charset\n) {\n    var obj = object;\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = serializeDate(obj);\n    } else if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        obj = obj.join(',');\n    }\n\n    if (obj === null) {\n        if (strictNullHandling) {\n            return encoder && !encodeValuesOnly ? encoder(prefix, defaults.encoder, charset, 'key') : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (isNonNullishPrimitive(obj) || utils.isBuffer(obj)) {\n        if (encoder) {\n            var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder, charset, 'key');\n            return [formatter(keyValue) + '=' + formatter(encoder(obj, defaults.encoder, charset, 'value'))];\n        }\n        return [formatter(prefix) + '=' + formatter(String(obj))];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n            continue;\n        }\n\n        if (isArray(obj)) {\n            pushToArray(values, stringify(\n                obj[key],\n                typeof generateArrayPrefix === 'function' ? generateArrayPrefix(prefix, key) : prefix,\n                generateArrayPrefix,\n                strictNullHandling,\n                skipNulls,\n                encoder,\n                filter,\n                sort,\n                allowDots,\n                serializeDate,\n                formatter,\n                encodeValuesOnly,\n                charset\n            ));\n        } else {\n            pushToArray(values, stringify(\n                obj[key],\n                prefix + (allowDots ? '.' + key : '[' + key + ']'),\n                generateArrayPrefix,\n                strictNullHandling,\n                skipNulls,\n                encoder,\n                filter,\n                sort,\n                allowDots,\n                serializeDate,\n                formatter,\n                encodeValuesOnly,\n                charset\n            ));\n        }\n    }\n\n    return values;\n};\n\nvar normalizeStringifyOptions = function normalizeStringifyOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (opts.encoder !== null && opts.encoder !== undefined && typeof opts.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n\n    var charset = opts.charset || defaults.charset;\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n\n    var format = formats['default'];\n    if (typeof opts.format !== 'undefined') {\n        if (!has.call(formats.formatters, opts.format)) {\n            throw new TypeError('Unknown format option provided.');\n        }\n        format = opts.format;\n    }\n    var formatter = formats.formatters[format];\n\n    var filter = defaults.filter;\n    if (typeof opts.filter === 'function' || isArray(opts.filter)) {\n        filter = opts.filter;\n    }\n\n    return {\n        addQueryPrefix: typeof opts.addQueryPrefix === 'boolean' ? opts.addQueryPrefix : defaults.addQueryPrefix,\n        allowDots: typeof opts.allowDots === 'undefined' ? defaults.allowDots : !!opts.allowDots,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        delimiter: typeof opts.delimiter === 'undefined' ? defaults.delimiter : opts.delimiter,\n        encode: typeof opts.encode === 'boolean' ? opts.encode : defaults.encode,\n        encoder: typeof opts.encoder === 'function' ? opts.encoder : defaults.encoder,\n        encodeValuesOnly: typeof opts.encodeValuesOnly === 'boolean' ? opts.encodeValuesOnly : defaults.encodeValuesOnly,\n        filter: filter,\n        formatter: formatter,\n        serializeDate: typeof opts.serializeDate === 'function' ? opts.serializeDate : defaults.serializeDate,\n        skipNulls: typeof opts.skipNulls === 'boolean' ? opts.skipNulls : defaults.skipNulls,\n        sort: typeof opts.sort === 'function' ? opts.sort : null,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = normalizeStringifyOptions(opts);\n\n    var objKeys;\n    var filter;\n\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (isArray(options.filter)) {\n        filter = options.filter;\n        objKeys = filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var arrayFormat;\n    if (opts && opts.arrayFormat in arrayPrefixGenerators) {\n        arrayFormat = opts.arrayFormat;\n    } else if (opts && 'indices' in opts) {\n        arrayFormat = opts.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = 'indices';\n    }\n\n    var generateArrayPrefix = arrayPrefixGenerators[arrayFormat];\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (options.sort) {\n        objKeys.sort(options.sort);\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (options.skipNulls && obj[key] === null) {\n            continue;\n        }\n        pushToArray(keys, stringify(\n            obj[key],\n            key,\n            generateArrayPrefix,\n            options.strictNullHandling,\n            options.skipNulls,\n            options.encode ? options.encoder : null,\n            options.filter,\n            options.sort,\n            options.allowDots,\n            options.serializeDate,\n            options.formatter,\n            options.encodeValuesOnly,\n            options.charset\n        ));\n    }\n\n    var joined = keys.join(options.delimiter);\n    var prefix = options.addQueryPrefix === true ? '?' : '';\n\n    if (options.charsetSentinel) {\n        if (options.charset === 'iso-8859-1') {\n            // encodeURIComponent('&#10003;'), the \"numeric entity\" representation of a checkmark\n            prefix += 'utf8=%26%2310003%3B&';\n        } else {\n            // encodeURIComponent('')\n            prefix += 'utf8=%E2%9C%93&';\n        }\n    }\n\n    return joined.length > 0 ? prefix + joined : '';\n};\n",
    "'use strict';\n\nvar utils = require('./utils');\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar defaults = {\n    allowDots: false,\n    allowPrototypes: false,\n    arrayLimit: 20,\n    charset: 'utf-8',\n    charsetSentinel: false,\n    comma: false,\n    decoder: utils.decode,\n    delimiter: '&',\n    depth: 5,\n    ignoreQueryPrefix: false,\n    interpretNumericEntities: false,\n    parameterLimit: 1000,\n    parseArrays: true,\n    plainObjects: false,\n    strictNullHandling: false\n};\n\nvar interpretNumericEntities = function (str) {\n    return str.replace(/&#(\\d+);/g, function ($0, numberStr) {\n        return String.fromCharCode(parseInt(numberStr, 10));\n    });\n};\n\n// This is what browsers will submit when the  character occurs in an\n// application/x-www-form-urlencoded body and the encoding of the page containing\n// the form is iso-8859-1, or when the submitted form has an accept-charset\n// attribute of iso-8859-1. Presumably also with other charsets that do not contain\n// the  character, such as us-ascii.\nvar isoSentinel = 'utf8=%26%2310003%3B'; // encodeURIComponent('&#10003;')\n\n// These are the percent-encoded utf-8 octets representing a checkmark, indicating that the request actually is utf-8 encoded.\nvar charsetSentinel = 'utf8=%E2%9C%93'; // encodeURIComponent('')\n\nvar parseValues = function parseQueryStringValues(str, options) {\n    var obj = {};\n    var cleanStr = options.ignoreQueryPrefix ? str.replace(/^\\?/, '') : str;\n    var limit = options.parameterLimit === Infinity ? undefined : options.parameterLimit;\n    var parts = cleanStr.split(options.delimiter, limit);\n    var skipIndex = -1; // Keep track of where the utf8 sentinel was found\n    var i;\n\n    var charset = options.charset;\n    if (options.charsetSentinel) {\n        for (i = 0; i < parts.length; ++i) {\n            if (parts[i].indexOf('utf8=') === 0) {\n                if (parts[i] === charsetSentinel) {\n                    charset = 'utf-8';\n                } else if (parts[i] === isoSentinel) {\n                    charset = 'iso-8859-1';\n                }\n                skipIndex = i;\n                i = parts.length; // The eslint settings do not allow break;\n            }\n        }\n    }\n\n    for (i = 0; i < parts.length; ++i) {\n        if (i === skipIndex) {\n            continue;\n        }\n        var part = parts[i];\n\n        var bracketEqualsPos = part.indexOf(']=');\n        var pos = bracketEqualsPos === -1 ? part.indexOf('=') : bracketEqualsPos + 1;\n\n        var key, val;\n        if (pos === -1) {\n            key = options.decoder(part, defaults.decoder, charset, 'key');\n            val = options.strictNullHandling ? null : '';\n        } else {\n            key = options.decoder(part.slice(0, pos), defaults.decoder, charset, 'key');\n            val = options.decoder(part.slice(pos + 1), defaults.decoder, charset, 'value');\n        }\n\n        if (val && options.interpretNumericEntities && charset === 'iso-8859-1') {\n            val = interpretNumericEntities(val);\n        }\n\n        if (val && typeof val === 'string' && options.comma && val.indexOf(',') > -1) {\n            val = val.split(',');\n        }\n\n        if (part.indexOf('[]=') > -1) {\n            val = isArray(val) ? [val] : val;\n        }\n\n        if (has.call(obj, key)) {\n            obj[key] = utils.combine(obj[key], val);\n        } else {\n            obj[key] = val;\n        }\n    }\n\n    return obj;\n};\n\nvar parseObject = function (chain, val, options) {\n    var leaf = val;\n\n    for (var i = chain.length - 1; i >= 0; --i) {\n        var obj;\n        var root = chain[i];\n\n        if (root === '[]' && options.parseArrays) {\n            obj = [].concat(leaf);\n        } else {\n            obj = options.plainObjects ? Object.create(null) : {};\n            var cleanRoot = root.charAt(0) === '[' && root.charAt(root.length - 1) === ']' ? root.slice(1, -1) : root;\n            var index = parseInt(cleanRoot, 10);\n            if (!options.parseArrays && cleanRoot === '') {\n                obj = { 0: leaf };\n            } else if (\n                !isNaN(index)\n                && root !== cleanRoot\n                && String(index) === cleanRoot\n                && index >= 0\n                && (options.parseArrays && index <= options.arrayLimit)\n            ) {\n                obj = [];\n                obj[index] = leaf;\n            } else {\n                obj[cleanRoot] = leaf;\n            }\n        }\n\n        leaf = obj;\n    }\n\n    return leaf;\n};\n\nvar parseKeys = function parseQueryStringKeys(givenKey, val, options) {\n    if (!givenKey) {\n        return;\n    }\n\n    // Transform dot notation to bracket notation\n    var key = options.allowDots ? givenKey.replace(/\\.([^.[]+)/g, '[$1]') : givenKey;\n\n    // The regex chunks\n\n    var brackets = /(\\[[^[\\]]*])/;\n    var child = /(\\[[^[\\]]*])/g;\n\n    // Get the parent\n\n    var segment = options.depth > 0 && brackets.exec(key);\n    var parent = segment ? key.slice(0, segment.index) : key;\n\n    // Stash the parent if it exists\n\n    var keys = [];\n    if (parent) {\n        // If we aren't using plain objects, optionally prefix keys that would overwrite object prototype properties\n        if (!options.plainObjects && has.call(Object.prototype, parent)) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(parent);\n    }\n\n    // Loop through children appending to the array until we hit depth\n\n    var i = 0;\n    while (options.depth > 0 && (segment = child.exec(key)) !== null && i < options.depth) {\n        i += 1;\n        if (!options.plainObjects && has.call(Object.prototype, segment[1].slice(1, -1))) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n        keys.push(segment[1]);\n    }\n\n    // If there's a remainder, just add whatever is left\n\n    if (segment) {\n        keys.push('[' + key.slice(segment.index) + ']');\n    }\n\n    return parseObject(keys, val, options);\n};\n\nvar normalizeParseOptions = function normalizeParseOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (opts.decoder !== null && opts.decoder !== undefined && typeof opts.decoder !== 'function') {\n        throw new TypeError('Decoder has to be a function.');\n    }\n\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new Error('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n    var charset = typeof opts.charset === 'undefined' ? defaults.charset : opts.charset;\n\n    return {\n        allowDots: typeof opts.allowDots === 'undefined' ? defaults.allowDots : !!opts.allowDots,\n        allowPrototypes: typeof opts.allowPrototypes === 'boolean' ? opts.allowPrototypes : defaults.allowPrototypes,\n        arrayLimit: typeof opts.arrayLimit === 'number' ? opts.arrayLimit : defaults.arrayLimit,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        comma: typeof opts.comma === 'boolean' ? opts.comma : defaults.comma,\n        decoder: typeof opts.decoder === 'function' ? opts.decoder : defaults.decoder,\n        delimiter: typeof opts.delimiter === 'string' || utils.isRegExp(opts.delimiter) ? opts.delimiter : defaults.delimiter,\n        // eslint-disable-next-line no-implicit-coercion, no-extra-parens\n        depth: (typeof opts.depth === 'number' || opts.depth === false) ? +opts.depth : defaults.depth,\n        ignoreQueryPrefix: opts.ignoreQueryPrefix === true,\n        interpretNumericEntities: typeof opts.interpretNumericEntities === 'boolean' ? opts.interpretNumericEntities : defaults.interpretNumericEntities,\n        parameterLimit: typeof opts.parameterLimit === 'number' ? opts.parameterLimit : defaults.parameterLimit,\n        parseArrays: opts.parseArrays !== false,\n        plainObjects: typeof opts.plainObjects === 'boolean' ? opts.plainObjects : defaults.plainObjects,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (str, opts) {\n    var options = normalizeParseOptions(opts);\n\n    if (str === '' || str === null || typeof str === 'undefined') {\n        return options.plainObjects ? Object.create(null) : {};\n    }\n\n    var tempObj = typeof str === 'string' ? parseValues(str, options) : str;\n    var obj = options.plainObjects ? Object.create(null) : {};\n\n    // Iterate over the keys and setup the new object\n\n    var keys = Object.keys(tempObj);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var newObj = parseKeys(key, tempObj[key], options);\n        obj = utils.merge(obj, newObj, options);\n    }\n\n    return utils.compact(obj);\n};\n",
    "'use strict';\n\nvar stringify = require('./stringify');\nvar parse = require('./parse');\nvar formats = require('./formats');\n\nmodule.exports = {\n    formats: formats,\n    parse: parse,\n    stringify: stringify\n};\n",
    "/*! https://mths.be/punycode v1.4.1 by @mathias */\n;(function(root) {\n\n\t/** Detect free variables */\n\tvar freeExports = typeof exports == 'object' && exports &&\n\t\t!exports.nodeType && exports;\n\tvar freeModule = typeof module == 'object' && module &&\n\t\t!module.nodeType && module;\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (\n\t\tfreeGlobal.global === freeGlobal ||\n\t\tfreeGlobal.window === freeGlobal ||\n\t\tfreeGlobal.self === freeGlobal\n\t) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n\t * The `punycode` object.\n\t * @name punycode\n\t * @type Object\n\t */\n\tvar punycode,\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\ttMin = 1,\n\ttMax = 26,\n\tskew = 38,\n\tdamp = 700,\n\tinitialBias = 72,\n\tinitialN = 128, // 0x80\n\tdelimiter = '-', // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\tfloor = Math.floor,\n\tstringFromCharCode = String.fromCharCode,\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type) {\n\t\tthrow new RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t * addresses.\n\t * @private\n\t * @param {String} domain The domain name or email address.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split('@');\n\t\tvar result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tstring = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\tvar labels = string.split('.');\n\t\tvar encoded = map(labels, fn).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} string The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function(value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {Number} codePoint The basic numeric code point value.\n\t * @returns {Number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {Number} digit The numeric value of a basic code point.\n\t * @returns {Number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * https://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\t\t    /** Cached calculation results */\n\t\t    baseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t * Punycode string of ASCII-only symbols.\n\t * @memberOf punycode\n\t * @param {String} input The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t    inputLength,\n\t\t    /** Cached calculation results */\n\t\t    handledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name or an email address\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t * it doesn't matter if you call it on a string that has already been\n\t * converted to Unicode.\n\t * @memberOf punycode\n\t * @param {String} input The Punycoded domain name or email address to\n\t * convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexPunycode.test(string)\n\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name or an email address to\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t * ASCII.\n\t * @memberOf punycode\n\t * @param {String} input The domain name or email address to convert, as a\n\t * Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name or\n\t * email address.\n\t */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n\t\t * A string representing the current Punycode.js version number.\n\t\t * @memberOf punycode\n\t\t * @type String\n\t\t */\n\t\t'version': '1.4.1',\n\t\t/**\n\t\t * An object of methods to convert from JavaScript's internal character\n\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode\n\t\t * @type Object\n\t\t */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine('punycode', function() {\n\t\t\treturn punycode;\n\t\t});\n\t} else if (freeExports && freeModule) {\n\t\tif (module.exports == freeExports) {\n\t\t\t// in Node.js, io.js, or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = punycode;\n\t\t} else {\n\t\t\t// in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (key in punycode) {\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t}\n\t\t}\n\t} else {\n\t\t// in Rhino or a web browser\n\t\troot.punycode = punycode;\n\t}\n\n}(this));\n",
    "'use strict';\n\nmodule.exports = {\n  isString: function(arg) {\n    return typeof(arg) === 'string';\n  },\n  isObject: function(arg) {\n    return typeof(arg) === 'object' && arg !== null;\n  },\n  isNull: function(arg) {\n    return arg === null;\n  },\n  isNullOrUndefined: function(arg) {\n    return arg == null;\n  }\n};\n",
    "// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n",
    "// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n",
    "'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n",
    "// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar punycode = require('punycode');\nvar util = require('./util');\n\nexports.parse = urlParse;\nexports.resolve = urlResolve;\nexports.resolveObject = urlResolveObject;\nexports.format = urlFormat;\n\nexports.Url = Url;\n\nfunction Url() {\n  this.protocol = null;\n  this.slashes = null;\n  this.auth = null;\n  this.host = null;\n  this.port = null;\n  this.hostname = null;\n  this.hash = null;\n  this.search = null;\n  this.query = null;\n  this.pathname = null;\n  this.path = null;\n  this.href = null;\n}\n\n// Reference: RFC 3986, RFC 1808, RFC 2396\n\n// define these here so at least they only have to be\n// compiled once on the first module load.\nvar protocolPattern = /^([a-z0-9.+-]+:)/i,\n    portPattern = /:[0-9]*$/,\n\n    // Special case for a simple path URL\n    simplePathPattern = /^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,\n\n    // RFC 2396: characters reserved for delimiting URLs.\n    // We actually just auto-escape these.\n    delims = ['<', '>', '\"', '`', ' ', '\\r', '\\n', '\\t'],\n\n    // RFC 2396: characters not allowed for various reasons.\n    unwise = ['{', '}', '|', '\\\\', '^', '`'].concat(delims),\n\n    // Allowed by RFCs, but cause of XSS attacks.  Always escape these.\n    autoEscape = ['\\''].concat(unwise),\n    // Characters that are never ever allowed in a hostname.\n    // Note that any invalid chars are also handled, but these\n    // are the ones that are *expected* to be seen, so we fast-path\n    // them.\n    nonHostChars = ['%', '/', '?', ';', '#'].concat(autoEscape),\n    hostEndingChars = ['/', '?', '#'],\n    hostnameMaxLen = 255,\n    hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,\n    hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,\n    // protocols that can allow \"unsafe\" and \"unwise\" chars.\n    unsafeProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that never have a hostname.\n    hostlessProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that always contain a // bit.\n    slashedProtocol = {\n      'http': true,\n      'https': true,\n      'ftp': true,\n      'gopher': true,\n      'file': true,\n      'http:': true,\n      'https:': true,\n      'ftp:': true,\n      'gopher:': true,\n      'file:': true\n    },\n    querystring = require('querystring');\n\nfunction urlParse(url, parseQueryString, slashesDenoteHost) {\n  if (url && util.isObject(url) && url instanceof Url) return url;\n\n  var u = new Url;\n  u.parse(url, parseQueryString, slashesDenoteHost);\n  return u;\n}\n\nUrl.prototype.parse = function(url, parseQueryString, slashesDenoteHost) {\n  if (!util.isString(url)) {\n    throw new TypeError(\"Parameter 'url' must be a string, not \" + typeof url);\n  }\n\n  // Copy chrome, IE, opera backslash-handling behavior.\n  // Back slashes before the query string get converted to forward slashes\n  // See: https://code.google.com/p/chromium/issues/detail?id=25916\n  var queryIndex = url.indexOf('?'),\n      splitter =\n          (queryIndex !== -1 && queryIndex < url.indexOf('#')) ? '?' : '#',\n      uSplit = url.split(splitter),\n      slashRegex = /\\\\/g;\n  uSplit[0] = uSplit[0].replace(slashRegex, '/');\n  url = uSplit.join(splitter);\n\n  var rest = url;\n\n  // trim before proceeding.\n  // This is to support parse stuff like \"  http://foo.com  \\n\"\n  rest = rest.trim();\n\n  if (!slashesDenoteHost && url.split('#').length === 1) {\n    // Try fast path regexp\n    var simplePath = simplePathPattern.exec(rest);\n    if (simplePath) {\n      this.path = rest;\n      this.href = rest;\n      this.pathname = simplePath[1];\n      if (simplePath[2]) {\n        this.search = simplePath[2];\n        if (parseQueryString) {\n          this.query = querystring.parse(this.search.substr(1));\n        } else {\n          this.query = this.search.substr(1);\n        }\n      } else if (parseQueryString) {\n        this.search = '';\n        this.query = {};\n      }\n      return this;\n    }\n  }\n\n  var proto = protocolPattern.exec(rest);\n  if (proto) {\n    proto = proto[0];\n    var lowerProto = proto.toLowerCase();\n    this.protocol = lowerProto;\n    rest = rest.substr(proto.length);\n  }\n\n  // figure out if it's got a host\n  // user@server is *always* interpreted as a hostname, and url\n  // resolution will treat //foo/bar as host=foo,path=bar because that's\n  // how the browser resolves relative URLs.\n  if (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)) {\n    var slashes = rest.substr(0, 2) === '//';\n    if (slashes && !(proto && hostlessProtocol[proto])) {\n      rest = rest.substr(2);\n      this.slashes = true;\n    }\n  }\n\n  if (!hostlessProtocol[proto] &&\n      (slashes || (proto && !slashedProtocol[proto]))) {\n\n    // there's a hostname.\n    // the first instance of /, ?, ;, or # ends the host.\n    //\n    // If there is an @ in the hostname, then non-host chars *are* allowed\n    // to the left of the last @ sign, unless some host-ending character\n    // comes *before* the @-sign.\n    // URLs are obnoxious.\n    //\n    // ex:\n    // http://a@b@c/ => user:a@b host:c\n    // http://a@b?@c => user:a host:c path:/?@c\n\n    // v0.12 TODO(isaacs): This is not quite how Chrome does things.\n    // Review our test case against browsers more comprehensively.\n\n    // find the first instance of any hostEndingChars\n    var hostEnd = -1;\n    for (var i = 0; i < hostEndingChars.length; i++) {\n      var hec = rest.indexOf(hostEndingChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n\n    // at this point, either we have an explicit point where the\n    // auth portion cannot go past, or the last @ char is the decider.\n    var auth, atSign;\n    if (hostEnd === -1) {\n      // atSign can be anywhere.\n      atSign = rest.lastIndexOf('@');\n    } else {\n      // atSign must be in auth portion.\n      // http://a@b/c@d => host:b auth:a path:/c@d\n      atSign = rest.lastIndexOf('@', hostEnd);\n    }\n\n    // Now we have a portion which is definitely the auth.\n    // Pull that off.\n    if (atSign !== -1) {\n      auth = rest.slice(0, atSign);\n      rest = rest.slice(atSign + 1);\n      this.auth = decodeURIComponent(auth);\n    }\n\n    // the host is the remaining to the left of the first non-host char\n    hostEnd = -1;\n    for (var i = 0; i < nonHostChars.length; i++) {\n      var hec = rest.indexOf(nonHostChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n    // if we still have not hit it, then the entire thing is a host.\n    if (hostEnd === -1)\n      hostEnd = rest.length;\n\n    this.host = rest.slice(0, hostEnd);\n    rest = rest.slice(hostEnd);\n\n    // pull out port.\n    this.parseHost();\n\n    // we've indicated that there is a hostname,\n    // so even if it's empty, it has to be present.\n    this.hostname = this.hostname || '';\n\n    // if hostname begins with [ and ends with ]\n    // assume that it's an IPv6 address.\n    var ipv6Hostname = this.hostname[0] === '[' &&\n        this.hostname[this.hostname.length - 1] === ']';\n\n    // validate a little.\n    if (!ipv6Hostname) {\n      var hostparts = this.hostname.split(/\\./);\n      for (var i = 0, l = hostparts.length; i < l; i++) {\n        var part = hostparts[i];\n        if (!part) continue;\n        if (!part.match(hostnamePartPattern)) {\n          var newpart = '';\n          for (var j = 0, k = part.length; j < k; j++) {\n            if (part.charCodeAt(j) > 127) {\n              // we replace non-ASCII char with a temporary placeholder\n              // we need this to make sure size of hostname is not\n              // broken by replacing non-ASCII by nothing\n              newpart += 'x';\n            } else {\n              newpart += part[j];\n            }\n          }\n          // we test again with ASCII char only\n          if (!newpart.match(hostnamePartPattern)) {\n            var validParts = hostparts.slice(0, i);\n            var notHost = hostparts.slice(i + 1);\n            var bit = part.match(hostnamePartStart);\n            if (bit) {\n              validParts.push(bit[1]);\n              notHost.unshift(bit[2]);\n            }\n            if (notHost.length) {\n              rest = '/' + notHost.join('.') + rest;\n            }\n            this.hostname = validParts.join('.');\n            break;\n          }\n        }\n      }\n    }\n\n    if (this.hostname.length > hostnameMaxLen) {\n      this.hostname = '';\n    } else {\n      // hostnames are always lower case.\n      this.hostname = this.hostname.toLowerCase();\n    }\n\n    if (!ipv6Hostname) {\n      // IDNA Support: Returns a punycoded representation of \"domain\".\n      // It only converts parts of the domain name that\n      // have non-ASCII characters, i.e. it doesn't matter if\n      // you call it with a domain that already is ASCII-only.\n      this.hostname = punycode.toASCII(this.hostname);\n    }\n\n    var p = this.port ? ':' + this.port : '';\n    var h = this.hostname || '';\n    this.host = h + p;\n    this.href += this.host;\n\n    // strip [ and ] from the hostname\n    // the host field still retains them, though\n    if (ipv6Hostname) {\n      this.hostname = this.hostname.substr(1, this.hostname.length - 2);\n      if (rest[0] !== '/') {\n        rest = '/' + rest;\n      }\n    }\n  }\n\n  // now rest is set to the post-host stuff.\n  // chop off any delim chars.\n  if (!unsafeProtocol[lowerProto]) {\n\n    // First, make 100% sure that any \"autoEscape\" chars get\n    // escaped, even if encodeURIComponent doesn't think they\n    // need to be.\n    for (var i = 0, l = autoEscape.length; i < l; i++) {\n      var ae = autoEscape[i];\n      if (rest.indexOf(ae) === -1)\n        continue;\n      var esc = encodeURIComponent(ae);\n      if (esc === ae) {\n        esc = escape(ae);\n      }\n      rest = rest.split(ae).join(esc);\n    }\n  }\n\n\n  // chop off from the tail first.\n  var hash = rest.indexOf('#');\n  if (hash !== -1) {\n    // got a fragment string.\n    this.hash = rest.substr(hash);\n    rest = rest.slice(0, hash);\n  }\n  var qm = rest.indexOf('?');\n  if (qm !== -1) {\n    this.search = rest.substr(qm);\n    this.query = rest.substr(qm + 1);\n    if (parseQueryString) {\n      this.query = querystring.parse(this.query);\n    }\n    rest = rest.slice(0, qm);\n  } else if (parseQueryString) {\n    // no query string, but parseQueryString still requested\n    this.search = '';\n    this.query = {};\n  }\n  if (rest) this.pathname = rest;\n  if (slashedProtocol[lowerProto] &&\n      this.hostname && !this.pathname) {\n    this.pathname = '/';\n  }\n\n  //to support http.request\n  if (this.pathname || this.search) {\n    var p = this.pathname || '';\n    var s = this.search || '';\n    this.path = p + s;\n  }\n\n  // finally, reconstruct the href based on what has been validated.\n  this.href = this.format();\n  return this;\n};\n\n// format a parsed object into a url string\nfunction urlFormat(obj) {\n  // ensure it's an object, and not a string url.\n  // If it's an obj, this is a no-op.\n  // this way, you can call url_format() on strings\n  // to clean up potentially wonky urls.\n  if (util.isString(obj)) obj = urlParse(obj);\n  if (!(obj instanceof Url)) return Url.prototype.format.call(obj);\n  return obj.format();\n}\n\nUrl.prototype.format = function() {\n  var auth = this.auth || '';\n  if (auth) {\n    auth = encodeURIComponent(auth);\n    auth = auth.replace(/%3A/i, ':');\n    auth += '@';\n  }\n\n  var protocol = this.protocol || '',\n      pathname = this.pathname || '',\n      hash = this.hash || '',\n      host = false,\n      query = '';\n\n  if (this.host) {\n    host = auth + this.host;\n  } else if (this.hostname) {\n    host = auth + (this.hostname.indexOf(':') === -1 ?\n        this.hostname :\n        '[' + this.hostname + ']');\n    if (this.port) {\n      host += ':' + this.port;\n    }\n  }\n\n  if (this.query &&\n      util.isObject(this.query) &&\n      Object.keys(this.query).length) {\n    query = querystring.stringify(this.query);\n  }\n\n  var search = this.search || (query && ('?' + query)) || '';\n\n  if (protocol && protocol.substr(-1) !== ':') protocol += ':';\n\n  // only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.\n  // unless they had them to begin with.\n  if (this.slashes ||\n      (!protocol || slashedProtocol[protocol]) && host !== false) {\n    host = '//' + (host || '');\n    if (pathname && pathname.charAt(0) !== '/') pathname = '/' + pathname;\n  } else if (!host) {\n    host = '';\n  }\n\n  if (hash && hash.charAt(0) !== '#') hash = '#' + hash;\n  if (search && search.charAt(0) !== '?') search = '?' + search;\n\n  pathname = pathname.replace(/[?#]/g, function(match) {\n    return encodeURIComponent(match);\n  });\n  search = search.replace('#', '%23');\n\n  return protocol + host + pathname + search + hash;\n};\n\nfunction urlResolve(source, relative) {\n  return urlParse(source, false, true).resolve(relative);\n}\n\nUrl.prototype.resolve = function(relative) {\n  return this.resolveObject(urlParse(relative, false, true)).format();\n};\n\nfunction urlResolveObject(source, relative) {\n  if (!source) return relative;\n  return urlParse(source, false, true).resolveObject(relative);\n}\n\nUrl.prototype.resolveObject = function(relative) {\n  if (util.isString(relative)) {\n    var rel = new Url();\n    rel.parse(relative, false, true);\n    relative = rel;\n  }\n\n  var result = new Url();\n  var tkeys = Object.keys(this);\n  for (var tk = 0; tk < tkeys.length; tk++) {\n    var tkey = tkeys[tk];\n    result[tkey] = this[tkey];\n  }\n\n  // hash is always overridden, no matter what.\n  // even href=\"\" will remove it.\n  result.hash = relative.hash;\n\n  // if the relative url is empty, then there's nothing left to do here.\n  if (relative.href === '') {\n    result.href = result.format();\n    return result;\n  }\n\n  // hrefs like //foo/bar always cut to the protocol.\n  if (relative.slashes && !relative.protocol) {\n    // take everything except the protocol from relative\n    var rkeys = Object.keys(relative);\n    for (var rk = 0; rk < rkeys.length; rk++) {\n      var rkey = rkeys[rk];\n      if (rkey !== 'protocol')\n        result[rkey] = relative[rkey];\n    }\n\n    //urlParse appends trailing / to urls like http://www.example.com\n    if (slashedProtocol[result.protocol] &&\n        result.hostname && !result.pathname) {\n      result.path = result.pathname = '/';\n    }\n\n    result.href = result.format();\n    return result;\n  }\n\n  if (relative.protocol && relative.protocol !== result.protocol) {\n    // if it's a known url protocol, then changing\n    // the protocol does weird things\n    // first, if it's not file:, then we MUST have a host,\n    // and if there was a path\n    // to begin with, then we MUST have a path.\n    // if it is file:, then the host is dropped,\n    // because that's known to be hostless.\n    // anything else is assumed to be absolute.\n    if (!slashedProtocol[relative.protocol]) {\n      var keys = Object.keys(relative);\n      for (var v = 0; v < keys.length; v++) {\n        var k = keys[v];\n        result[k] = relative[k];\n      }\n      result.href = result.format();\n      return result;\n    }\n\n    result.protocol = relative.protocol;\n    if (!relative.host && !hostlessProtocol[relative.protocol]) {\n      var relPath = (relative.pathname || '').split('/');\n      while (relPath.length && !(relative.host = relPath.shift()));\n      if (!relative.host) relative.host = '';\n      if (!relative.hostname) relative.hostname = '';\n      if (relPath[0] !== '') relPath.unshift('');\n      if (relPath.length < 2) relPath.unshift('');\n      result.pathname = relPath.join('/');\n    } else {\n      result.pathname = relative.pathname;\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    result.host = relative.host || '';\n    result.auth = relative.auth;\n    result.hostname = relative.hostname || relative.host;\n    result.port = relative.port;\n    // to support http.request\n    if (result.pathname || result.search) {\n      var p = result.pathname || '';\n      var s = result.search || '';\n      result.path = p + s;\n    }\n    result.slashes = result.slashes || relative.slashes;\n    result.href = result.format();\n    return result;\n  }\n\n  var isSourceAbs = (result.pathname && result.pathname.charAt(0) === '/'),\n      isRelAbs = (\n          relative.host ||\n          relative.pathname && relative.pathname.charAt(0) === '/'\n      ),\n      mustEndAbs = (isRelAbs || isSourceAbs ||\n                    (result.host && relative.pathname)),\n      removeAllDots = mustEndAbs,\n      srcPath = result.pathname && result.pathname.split('/') || [],\n      relPath = relative.pathname && relative.pathname.split('/') || [],\n      psychotic = result.protocol && !slashedProtocol[result.protocol];\n\n  // if the url is a non-slashed url, then relative\n  // links like ../.. should be able\n  // to crawl up to the hostname, as well.  This is strange.\n  // result.protocol has already been set by now.\n  // Later on, put the first path part into the host field.\n  if (psychotic) {\n    result.hostname = '';\n    result.port = null;\n    if (result.host) {\n      if (srcPath[0] === '') srcPath[0] = result.host;\n      else srcPath.unshift(result.host);\n    }\n    result.host = '';\n    if (relative.protocol) {\n      relative.hostname = null;\n      relative.port = null;\n      if (relative.host) {\n        if (relPath[0] === '') relPath[0] = relative.host;\n        else relPath.unshift(relative.host);\n      }\n      relative.host = null;\n    }\n    mustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');\n  }\n\n  if (isRelAbs) {\n    // it's absolute.\n    result.host = (relative.host || relative.host === '') ?\n                  relative.host : result.host;\n    result.hostname = (relative.hostname || relative.hostname === '') ?\n                      relative.hostname : result.hostname;\n    result.search = relative.search;\n    result.query = relative.query;\n    srcPath = relPath;\n    // fall through to the dot-handling below.\n  } else if (relPath.length) {\n    // it's relative\n    // throw away the existing file, and take the new path instead.\n    if (!srcPath) srcPath = [];\n    srcPath.pop();\n    srcPath = srcPath.concat(relPath);\n    result.search = relative.search;\n    result.query = relative.query;\n  } else if (!util.isNullOrUndefined(relative.search)) {\n    // just pull out the search.\n    // like href='?foo'.\n    // Put this after the other two cases because it simplifies the booleans\n    if (psychotic) {\n      result.hostname = result.host = srcPath.shift();\n      //occationaly the auth can get stuck only in host\n      //this especially happens in cases like\n      //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n      var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                       result.host.split('@') : false;\n      if (authInHost) {\n        result.auth = authInHost.shift();\n        result.host = result.hostname = authInHost.shift();\n      }\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    //to support http.request\n    if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n      result.path = (result.pathname ? result.pathname : '') +\n                    (result.search ? result.search : '');\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  if (!srcPath.length) {\n    // no path at all.  easy.\n    // we've already handled the other stuff above.\n    result.pathname = null;\n    //to support http.request\n    if (result.search) {\n      result.path = '/' + result.search;\n    } else {\n      result.path = null;\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  // if a url ENDs in . or .., then it must get a trailing slash.\n  // however, if it ends in anything else non-slashy,\n  // then it must NOT get a trailing slash.\n  var last = srcPath.slice(-1)[0];\n  var hasTrailingSlash = (\n      (result.host || relative.host || srcPath.length > 1) &&\n      (last === '.' || last === '..') || last === '');\n\n  // strip single dots, resolve double dots to parent dir\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = srcPath.length; i >= 0; i--) {\n    last = srcPath[i];\n    if (last === '.') {\n      srcPath.splice(i, 1);\n    } else if (last === '..') {\n      srcPath.splice(i, 1);\n      up++;\n    } else if (up) {\n      srcPath.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (!mustEndAbs && !removeAllDots) {\n    for (; up--; up) {\n      srcPath.unshift('..');\n    }\n  }\n\n  if (mustEndAbs && srcPath[0] !== '' &&\n      (!srcPath[0] || srcPath[0].charAt(0) !== '/')) {\n    srcPath.unshift('');\n  }\n\n  if (hasTrailingSlash && (srcPath.join('/').substr(-1) !== '/')) {\n    srcPath.push('');\n  }\n\n  var isAbsolute = srcPath[0] === '' ||\n      (srcPath[0] && srcPath[0].charAt(0) === '/');\n\n  // put the host back\n  if (psychotic) {\n    result.hostname = result.host = isAbsolute ? '' :\n                                    srcPath.length ? srcPath.shift() : '';\n    //occationaly the auth can get stuck only in host\n    //this especially happens in cases like\n    //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n    var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                     result.host.split('@') : false;\n    if (authInHost) {\n      result.auth = authInHost.shift();\n      result.host = result.hostname = authInHost.shift();\n    }\n  }\n\n  mustEndAbs = mustEndAbs || (result.host && srcPath.length);\n\n  if (mustEndAbs && !isAbsolute) {\n    srcPath.unshift('');\n  }\n\n  if (!srcPath.length) {\n    result.pathname = null;\n    result.path = null;\n  } else {\n    result.pathname = srcPath.join('/');\n  }\n\n  //to support request.http\n  if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n    result.path = (result.pathname ? result.pathname : '') +\n                  (result.search ? result.search : '');\n  }\n  result.auth = relative.auth || result.auth;\n  result.slashes = result.slashes || relative.slashes;\n  result.href = result.format();\n  return result;\n};\n\nUrl.prototype.parseHost = function() {\n  var host = this.host;\n  var port = portPattern.exec(host);\n  if (port) {\n    port = port[0];\n    if (port !== ':') {\n      this.port = port.substr(1);\n    }\n    host = host.substr(0, host.length - port.length);\n  }\n  if (host) this.hostname = host;\n};\n",
    "var qs = require('qs')\nvar nodeUrl = require('url');\n\nmodule.exports = {\n  render: render\n, isTransitional: isTransitional\n, mapRoute: mapRoute\n}\n\nfunction isTransitional(pattern) {\n  return pattern.hasOwnProperty('from') && pattern.hasOwnProperty('to')\n}\n\nfunction mapRoute(from, params) {\n  var i = params.url.indexOf('?')\n  var queryString = (~i) ? params.url.slice(i) : ''\n  // If the route looks like /:a/:b?/:c/:d?\n  // and :b and :d are missing, return /a/c\n  // Thus, skip the / if the value is missing\n  var i = 0\n  var path = from.replace(/\\/(?:(?:\\:([^?\\/:*(]+)(?:\\([^)]+\\))?)|\\*)(\\?)?/g, onMatch)\n  function onMatch(match, key, optional) {\n    var value = key ? params[key] : params[i++]\n    return (optional && value == null) ? '' : '/' + encodeURIComponent(value)\n  }\n  return path + queryString\n}\n\nfunction render(history, options, e) {\n  var req = new RenderReq(history.app.page, history.routes, options, e)\n  req.routeTransitional(0, function() {\n    req.page = history.page()\n    req.routeQueue(0, function() {\n      // Cancel rendering by this app if no routes match\n      req.cancel()\n    })\n  })\n}\n\nfunction RenderReq(page, routes, options, e) {\n  this.page = page\n  this.options = options\n  this.e = e\n  this.setUrl(options.url.replace(/#.*/, ''))\n  var queryString = nodeUrl.parse(this.url).query;\n  this.query = queryString ? qs.parse(queryString) : {}\n  this.method = options.method\n  this.body = options.body || {}\n  this.setPrevious(options.previous)\n  this.transitional = routes.transitional[this.method]\n  this.queue = routes.queue[this.method]\n  this.app = routes.app\n}\n\nRenderReq.prototype.cancel = function() {\n  var options = this.options\n  // Don't do anything if this is the result of an event, since the\n  // appropriate action will happen by default\n  if (this.e || options.noNavigate) return\n  // Otherwise, manually perform appropriate action\n  if (options.form) {\n    options.form.setAttribute('data-router-ignore', '')\n    options.form.submit()\n  } else {\n    window.location.assign(options.url)\n  }\n}\n\nRenderReq.prototype.setUrl = function(url) {\n  this.url = url\n  this.path = url.replace(/\\?.*/, '')\n}\nRenderReq.prototype.setPrevious = function(previous) {\n  this.previous = previous\n  this.previousPath = previous && previous.replace(/\\?.*/, '')\n}\n\nRenderReq.prototype.routeTransitional = function(i, next) {\n  i || (i = 0)\n  var item\n  while (item = this.transitional[i++]) {\n    if (!item.to.match(this.path) || !item.from.match(this.previousPath)) continue\n    var req = this\n    var params = this.routeParams(item.to)\n    // Even though we don't need to do anything after a done, pass a\n    // no op function, so that routes can expect it to be defined\n    function done() {}\n    this.onMatch(item.to, params, function(err) {\n      if (err) return req.cancel()\n      req.routeTransitional(i, next)\n    }, done)\n    return\n  }\n  next()\n}\n\nRenderReq.prototype.routeQueue = function(i, next) {\n  i || (i = 0)\n  var route\n  while (route = this.queue[i++]) {\n    if (!route.match(this.path)) continue\n    var req = this\n    var params = this.routeParams(route)\n    this.onMatch(route, params, function(err) {\n      if (err) return req.cancel()\n      req.routeQueue(i, next)\n    })\n    return\n  }\n  next()\n}\n\nRenderReq.prototype.onMatch = function(route, params, next, done) {\n  if (!this.page) return next()\n  // Stop the default browser action, such as clicking a link or submitting a form\n  if (this.e) {\n    this.e.preventDefault()\n    this.e = null\n  }\n  this.page.params = params\n  if (route.isTransitional) {\n    this.app.onRoute(route.callbacks, this.page, next, done)\n  } else {\n    this.app.onRoute(route.callbacks, this.page, next)\n  }\n}\n\nRenderReq.prototype.routeParams = function(route) {\n  var routeParams = route.params\n  var params = routeParams.slice()\n\n  for (var key in routeParams) {\n    params[key] = routeParams[key]\n  }\n  params.previous = this.previous\n  params.url = this.url\n  params.body = this.body\n  params.query = this.query\n  params.method = this.method\n  return params\n}\n",
    "var qs = require('qs')\nvar parseUrl = require('url').parse\nvar resolveUrl = require('url').resolve\nvar router = require('./router')\nvar currentPath = window.location.pathname + window.location.search\n\n// Replace the initial state with the current URL immediately,\n// so that it will be rendered if the state is later popped\nif (window.history.replaceState) {\n  window.history.replaceState({\n    $render: true,\n    $method: 'get'\n  }, null, window.location.href)\n}\n\nmodule.exports = History\n\nfunction History(app, routes) {\n  this.app = app\n  this.routes = routes\n\n  if (window.history.pushState) {\n    addListeners(this)\n    return\n  }\n  this.push = function(url) {\n    window.location.assign(url)\n  }\n  this.replace = function(url) {\n    window.location.replace(url)\n  }\n}\n\nHistory.prototype.push = function(url, render, state, e) {\n  this._update('pushState', url, render, state, e)\n}\n\nHistory.prototype.replace = function(url, render, state, e) {\n  this._update('replaceState', url, render, state, e)\n}\n\n// Rerender the current url locally\nHistory.prototype.refresh = function() {\n  var path = routePath(window.location.href)\n  // Note that we don't pass previous to avoid triggering transitions\n  router.render(this, {url: path, method: 'get'})\n}\n\nHistory.prototype.back = function() {\n  window.history.back()\n}\n\nHistory.prototype.forward = function() {\n  window.history.forward()\n}\n\nHistory.prototype.go = function(i) {\n  window.history.go(i)\n}\n\nHistory.prototype._update = function(historyMethod, relativeUrl, render, state, e) {\n  var url = resolveUrl(window.location.href, relativeUrl)\n  var path = routePath(url)\n\n  // TODO: history.push should set the window.location with external urls\n  if (!path) return\n  if (render == null) render = true\n  if (state == null) state = {}\n\n  // Update the URL\n  var options = renderOptions(e, path)\n  state.$render = true\n  state.$method = options.method\n  window.history[historyMethod](state, null, options.url)\n  currentPath = window.location.pathname + window.location.search\n  if (render) router.render(this, options, e)\n}\n\nHistory.prototype.page = function() {\n  var page = this.app.createPage()\n  var history = this\n\n  function redirect(url) {\n    if (url === 'back') return history.back()\n    // TODO: Add support for `basepath` option like Express\n    if (url === 'home') url = '\\\\'\n    history.replace(url, true)\n  }\n\n  page.redirect = redirect\n  return page\n}\n\n// Get the pathname if it is on the same protocol and domain\nfunction routePath(url) {\n  var match = parseUrl(url)\n  return match &&\n    match.protocol === window.location.protocol &&\n    match.host === window.location.host &&\n    match.pathname + (match.search || '')\n}\n\nfunction renderOptions(e, path) {\n  // If this is a form submission, extract the form data and\n  // append it to the url for a get or params.body for a post\n  if (e && e.type === 'submit') {\n    var form = e.target\n    var elements = form.elements\n    var query = []\n    for (var i = 0, len = elements.length, el; i < len; i++) {\n      el = elements[i]\n      var name = el.name\n      if (!name) continue\n      var value = el.value\n      query.push(encodeURIComponent(name) + '=' + encodeURIComponent(value))\n      if (name === '_method') {\n        var override = value.toLowerCase()\n        if (override === 'delete') override = 'del'\n      }\n    }\n    query = query.join('&')\n    if (form.method.toLowerCase() === 'post') {\n      var method = override || 'post'\n      var body = qs.parse(query)\n    } else {\n      method = 'get'\n      path += '?' + query\n    }\n  } else {\n    method = 'get'\n  }\n  return {\n    method: method\n  , url: path\n  , previous: window.location.pathname + window.location.search\n  , body: body\n  , form: form\n  , link: e && e._tracksLink\n  }\n}\n\nfunction addListeners(history) {\n\n  // Detect clicks on links\n  function onClick(e) {\n    var el = e.target\n\n    // Ignore command click, control click, and non-left click\n    if (e.metaKey || e.which !== 1) return\n\n    // Ignore if already prevented\n    if (e.defaultPrevented) return\n\n    // Also look up for parent links (<a><img></a>)\n    while (el) {\n      var url = el.href\n      if (url) {\n\n        // Ignore if created by Tracks\n        if (el.hasAttribute && el.hasAttribute('data-router-ignore')) return\n\n        // Ignore links meant to open in a different window or frame\n        if (el.target && el.target !== '_self') return\n\n        // Ignore hash links to the same page\n        var hashIndex = url.indexOf('#')\n        if (~hashIndex && url.slice(0, hashIndex) === window.location.href.replace(/#.*/, '')) {\n          return\n        }\n\n        e._tracksLink = el\n        history.push(url, true, null, e)\n        return\n      }\n\n      el = el.parentNode\n    }\n  }\n\n  function onSubmit(e) {\n    var target = e.target\n\n    // Ignore if already prevented\n    if (e.defaultPrevented) return\n\n    // Only handle if emitted on a form element that isn't multipart\n    if (target.tagName.toLowerCase() !== 'form') return\n    if (target.enctype === 'multipart/form-data') return\n\n    // Ignore if created by Tracks\n    if (target.hasAttribute && target.hasAttribute('data-router-ignore')) return\n\n    // Use the url from the form action, defaulting to the current url\n    var url = target.action || window.location.href\n    history.push(url, true, null, e)\n  }\n\n  function onPopState(e) {\n    // HACK: Chrome sometimes does a pop state before the app is set up properly\n    if (!history.app.page) return\n\n    var previous = currentPath\n    var state = e.state\n    currentPath = window.location.pathname + window.location.search\n\n    var options = {\n      previous: previous\n    , url: currentPath\n    }\n\n    if (state) {\n      if (!state.$render) return\n      options.method = state.$method\n      // Note that the post body is only sent on the initial reqest\n      // and it is empty if the state is later popped\n      return router.render(history, options)\n    }\n\n    // The state object will be null for states created by jump links.\n    // window.location.hash cannot be used, because it returns nothing\n    // if the url ends in just a hash character\n    var url = window.location.href\n      , hashIndex = url.indexOf('#')\n      , el, id\n    if (~hashIndex && currentPath !== previous) {\n      options.method = 'get'\n      router.render(history, options)\n      id = url.slice(hashIndex + 1)\n      if (el = document.getElementById(id) || document.getElementsByName(id)[0]) {\n        el.scrollIntoView()\n      }\n    }\n  }\n\n  document.addEventListener('click', onClick, true)\n  document.addEventListener('submit', onSubmit, false)\n  window.addEventListener('popstate', onPopState, true)\n}\n",
    "var Route = require('../vendor/express/router/route')\nvar History = require('./History')\nvar router = module.exports = require('./router')\n\nrouter.setup = setup\n\nfunction setup(app) {\n  var routes = {\n    queue: {}\n  , transitional: {}\n  , app: app\n  }\n  app.history = new History(app, routes)\n\n  ;['get', 'post', 'put', 'del', 'enter', 'exit'].forEach(function(method) {\n    var queue = routes.queue[method] = []\n    var transitional = routes.transitional[method] = []\n\n    app[method] = function(pattern, callback) {\n      if (Array.isArray(pattern)) {\n        pattern.forEach(function(item) {\n          app[method](item, callback)\n        })\n        return app\n      }\n\n      if (router.isTransitional(pattern)) {\n        var from = pattern.from\n        var to = pattern.to\n        var forward = pattern.forward || (callback && callback.forward) || callback\n        var back = pattern.back || (callback && callback.back)\n\n        var fromRoute = new Route(method, from, back)\n        var toRoute = new Route(method, to, forward)\n        fromRoute.isTransitional = true\n        toRoute.isTransitional = true\n        transitional.push({\n          from: fromRoute\n        , to: toRoute\n        })\n        if (back) transitional.push({\n          from: toRoute\n        , to: fromRoute\n        })\n\n        return app\n      }\n\n      queue.push(new Route(method, pattern, callback))\n      return app\n    }\n  })\n}\n",
    "exports.ContextMeta = ContextMeta;\nexports.Context = Context;\n\nfunction noop() {}\n\n// TODO:\n// Implement removeItemContext\n\nfunction ContextMeta() {\n  this.addBinding = noop;\n  this.removeBinding = noop;\n  this.removeNode = noop;\n  this.addItemContext = noop;\n  this.removeItemContext = noop;\n  this.views = null;\n  this.idNamespace = '';\n  this.idCount = 0;\n  this.pending = [];\n  this.pauseCount = 0;\n}\n\nfunction Context(meta, controller, parent, unbound, expression) {\n  // Required properties //\n\n  // Properties which are globally inherited for the entire page\n  this.meta = meta;\n  // The page or component. Must have a `model` property with a `data` property\n  this.controller = controller;\n\n  // Optional properties //\n\n  // Containing context\n  this.parent = parent;\n  // Boolean set to true when bindings should be ignored\n  this.unbound = unbound;\n  // The expression for a block\n  this.expression = expression;\n  // Alias name for the given expression\n  this.alias = expression && expression.meta && expression.meta.as;\n  // Alias name for the index or iterated key\n  this.keyAlias = expression && expression.meta && expression.meta.keyAs;\n\n  // For Context::eachChild\n  // The context of the each at render time\n  this.item = null;\n\n  // For Context::viewChild\n  // Reference to the current view\n  this.view = null;\n  // Attribute values passed to the view instance\n  this.attributes = null;\n  // MarkupHooks to be called after insert into DOM of component\n  this.hooks = null;\n  // MarkupHooks to be called immediately before init of component\n  this.initHooks = null;\n\n  // For Context::closureChild\n  // Reference to another context established at render time by ContextClosure\n  this.closure = null;\n\n  // Used in EventModel\n  this._id = null;\n}\n\nContext.prototype.id = function() {\n  var count = ++this.meta.idCount;\n  return this.meta.idNamespace + '_' + count.toString(36);\n};\n\nContext.prototype.addBinding = function(binding) {\n  // Don't add bindings that wrap list items. Only their outer range is needed\n  if (binding.itemFor) return;\n  var expression = binding.template.expression;\n  // Don't rerender in unbound sections\n  if (expression ? expression.isUnbound(this) : this.unbound) return;\n  // Don't rerender to changes in a with expression\n  if (expression && expression.meta && expression.meta.blockType === 'with') return;\n  this.meta.addBinding(binding);\n};\nContext.prototype.removeBinding = function(binding) {\n  this.meta.removeBinding(binding);\n};\nContext.prototype.removeNode = function(node) {\n  this.meta.removeNode(node);\n};\n\nContext.prototype.child = function(expression) {\n  // Set or inherit the binding mode\n  var blockType = expression.meta && expression.meta.blockType;\n  var unbound = (blockType === 'unbound') ? true :\n    (blockType === 'bound') ? false :\n    this.unbound;\n  return new Context(this.meta, this.controller, this, unbound, expression);\n};\n\nContext.prototype.componentChild = function(component) {\n  return new Context(this.meta, component, this, this.unbound);\n};\n\n// Make a context for an item in an each block\nContext.prototype.eachChild = function(expression, item) {\n  var context = new Context(this.meta, this.controller, this, this.unbound, expression);\n  context.item = item;\n  this.meta.addItemContext(context);\n  return context;\n};\n\nContext.prototype.viewChild = function(view, attributes, hooks, initHooks) {\n  var context = new Context(this.meta, this.controller, this, this.unbound);\n  context.view = view;\n  context.attributes = attributes;\n  context.hooks = hooks;\n  context.initHooks = initHooks;\n  return context;\n};\n\nContext.prototype.closureChild = function(closure) {\n  var context = new Context(this.meta, this.controller, this, this.unbound);\n  context.closure = closure;\n  return context;\n};\n\nContext.prototype.forRelative = function(expression) {\n  var context = this;\n  while (context && context.expression === expression || context.view) {\n    context = context.parent;\n  }\n  return context;\n};\n\n// Returns the closest context which defined the named alias\nContext.prototype.forAlias = function(alias) {\n  var context = this;\n  while (context) {\n    if (context.alias === alias || context.keyAlias === alias) return context;\n    context = context.parent;\n  }\n};\n\n// Returns the closest containing context for a view attribute name or nothing\nContext.prototype.forAttribute = function(attribute) {\n  var context = this;\n  while (context) {\n    // Find the closest context associated with a view\n    if (context.view) {\n      var attributes = context.attributes;\n      if (!attributes) return;\n      if (attributes.hasOwnProperty(attribute)) return context;\n      // If the attribute isn't found, but the attributes inherit, continue\n      // looking in the next closest view context\n      if (!attributes.inherit && !attributes.extend) return;\n    }\n    context = context.parent;\n  }\n};\n\nContext.prototype.forViewParent = function() {\n  var context = this;\n  while (context) {\n    // When a context with a `closure` property is encountered, skip to its\n    // parent context rather than returning the nearest view's. This reference\n    // is created by wrapping a template in a ContextClosure template\n    if (context.closure) return context.closure.parent;\n    // Find the closest view and return the containing context\n    if (context.view) return context.parent;\n    context = context.parent;\n  }\n};\n\nContext.prototype.getView = function() {\n  var context = this;\n  while (context) {\n    // Find the closest view\n    if (context.view) return context.view;\n    context = context.parent;\n  }\n};\n\n// Returns the `this` value for a context\nContext.prototype.get = function() {\n  var value = (this.expression) ?\n    this.expression.get(this) :\n    this.controller.model.data;\n  if (this.item != null) {\n    return value && value[this.item];\n  }\n  return value;\n};\n\nContext.prototype.pause = function() {\n  this.meta.pauseCount++;\n};\n\nContext.prototype.unpause = function() {\n  if (--this.meta.pauseCount) return;\n  this.flush();\n};\n\nContext.prototype.flush = function() {\n  var pending = this.meta.pending;\n  var len = pending.length;\n  if (!len) return;\n  this.meta.pending = [];\n  for (var i = 0; i < len; i++) {\n    pending[i]();\n  }\n};\n\nContext.prototype.queue = function(cb) {\n  this.meta.pending.push(cb);\n};\n",
    "// `-` and `+` can be either unary or binary, so all unary operators are\n// postfixed with `U` to differentiate\n\nexports.get = {\n  // Unary operators\n  '!U': function(value) {\n    return !value;\n  }\n, '-U': function(value) {\n    return -value;\n  }\n, '+U': function(value) {\n    return +value;\n  }\n, '~U': function(value) {\n    return ~value;\n  }\n, 'typeofU': function(value) {\n    return typeof value;\n  }\n  // Binary operators\n, '||': function(left, right) {\n    return left || right;\n  }\n, '&&': function(left, right) {\n    return left && right;\n  }\n, '|': function(left, right) {\n    return left | right;\n  }\n, '^': function(left, right) {\n    return left ^ right;\n  }\n, '&': function(left, right) {\n    return left & right;\n  }\n, '==': function(left, right) {\n    return left == right; // jshint ignore:line\n  }\n, '!=': function(left, right) {\n    return left != right; // jshint ignore:line\n  }\n, '===': function(left, right) {\n    return left === right;\n  }\n, '!==': function(left, right) {\n    return left !== right;\n  }\n, '<': function(left, right) {\n    return left < right;\n  }\n, '>': function(left, right) {\n    return left > right;\n  }\n, '<=': function(left, right) {\n    return left <= right;\n  }\n, '>=': function(left, right) {\n    return left >= right;\n  }\n, 'instanceof': function(left, right) {\n    return left instanceof right;\n  }\n, 'in': function(left, right) {\n    return left in right;\n  }\n, '<<': function(left, right) {\n    return left << right;\n  }\n, '>>': function(left, right) {\n    return left >> right;\n  }\n, '>>>': function(left, right) {\n    return left >>> right;\n  }\n, '+': function(left, right) {\n    return left + right;\n  }\n, '-': function(left, right) {\n    return left - right;\n  }\n, '*': function(left, right) {\n    return left * right;\n  }\n, '/': function(left, right) {\n    return left / right;\n  }\n, '%': function(left, right) {\n    return left % right;\n  }\n  // Conditional operator\n, '?': function(test, consequent, alternate) {\n    return (test) ? consequent : alternate;\n  }\n, // Sequence\n  ',': function() {\n    return arguments[arguments.length - 1];\n  }\n};\n\nexports.set = {\n  // Unary operators\n  '!U': function(value) {\n    return [!value];\n  }\n, '-U': function(value) {\n    return [-value];\n  }\n  // Binary operators\n, '==': function(value, left, right) {\n    if (value) return [right];\n  }\n, '===': function(value, left, right) {\n    if (value) return [right];\n  }\n, 'in': function(value, left, right) {\n    right[left] = true;\n    return {1: right};\n  }\n, '+': function(value, left, right) {\n    return [value - right];\n  }\n, '-': function(value, left, right) {\n    return [value + right];\n  }\n, '*': function(value, left, right) {\n    return [value / right];\n  }\n, '/': function(value, left, right) {\n    return [value * right];\n  }\n};\n",
    "if (typeof require === 'function') {\n  var serializeObject = require('serialize-object');\n}\n\n// UPDATE_PROPERTIES map HTML attribute names to an Element DOM property that\n// should be used for setting on bindings updates instead of setAttribute.\n//\n// https://github.com/jquery/jquery/blob/1.x-master/src/attributes/prop.js\n// https://github.com/jquery/jquery/blob/master/src/attributes/prop.js\n// http://webbugtrack.blogspot.com/2007/08/bug-242-setattribute-doesnt-always-work.html\nvar BOOLEAN_PROPERTIES = {\n  checked: 'checked'\n, disabled: 'disabled'\n, readonly: 'readOnly'\n, selected: 'selected'\n};\nvar INTEGER_PROPERTIES = {\n  colspan: 'colSpan'\n, maxlength: 'maxLength'\n, rowspan: 'rowSpan'\n, tabindex: 'tabIndex'\n};\nvar STRING_PROPERTIES = {\n  cellpadding: 'cellPadding'\n, cellspacing: 'cellSpacing'\n, 'class': 'className'\n, contenteditable: 'contentEditable'\n, enctype: 'encoding'\n, 'for': 'htmlFor'\n, frameborder: 'frameBorder'\n, id: 'id'\n, title: 'title'\n, type: 'type'\n, usemap: 'useMap'\n, value: 'value'\n};\nvar UPDATE_PROPERTIES = {};\nmergeInto(BOOLEAN_PROPERTIES, UPDATE_PROPERTIES);\nmergeInto(INTEGER_PROPERTIES, UPDATE_PROPERTIES);\nmergeInto(STRING_PROPERTIES, UPDATE_PROPERTIES);\n\n// CREATE_PROPERTIES map HTML attribute names to an Element DOM property that\n// should be used for setting on Element rendering instead of setAttribute.\n// input.defaultChecked and input.defaultValue affect the attribute, so we want\n// to use these for initial dynamic rendering. For binding updates,\n// input.checked and input.value are modified.\nvar CREATE_PROPERTIES = {};\nmergeInto(UPDATE_PROPERTIES, CREATE_PROPERTIES);\nCREATE_PROPERTIES.checked = 'defaultChecked';\nCREATE_PROPERTIES.value = 'defaultValue';\n\n// http://www.w3.org/html/wg/drafts/html/master/syntax.html#void-elements\nvar VOID_ELEMENTS = {\n  area: true\n, base: true\n, br: true\n, col: true\n, embed: true\n, hr: true\n, img: true\n, input: true\n, keygen: true\n, link: true\n, menuitem: true\n, meta: true\n, param: true\n, source: true\n, track: true\n, wbr: true\n};\n\nvar NAMESPACE_URIS = {\n  svg: 'http://www.w3.org/2000/svg'\n, xlink: 'http://www.w3.org/1999/xlink'\n, xmlns: 'http://www.w3.org/2000/xmlns/'\n};\n\nexports.CREATE_PROPERTIES = CREATE_PROPERTIES;\nexports.BOOLEAN_PROPERTIES = BOOLEAN_PROPERTIES;\nexports.INTEGER_PROPERTIES = INTEGER_PROPERTIES;\nexports.STRING_PROPERTIES = STRING_PROPERTIES;\nexports.UPDATE_PROPERTIES = UPDATE_PROPERTIES;\nexports.VOID_ELEMENTS = VOID_ELEMENTS;\nexports.NAMESPACE_URIS = NAMESPACE_URIS;\n\n// Template Classes\nexports.Template = Template;\nexports.Doctype = Doctype;\nexports.Text = Text;\nexports.DynamicText = DynamicText;\nexports.Comment = Comment;\nexports.DynamicComment = DynamicComment;\nexports.Html = Html;\nexports.DynamicHtml = DynamicHtml;\nexports.Element = Element;\nexports.DynamicElement = DynamicElement;\nexports.Block = Block;\nexports.ConditionalBlock = ConditionalBlock;\nexports.EachBlock = EachBlock;\n\nexports.Attribute = Attribute;\nexports.DynamicAttribute = DynamicAttribute;\n\n// Binding Classes\nexports.Binding = Binding;\nexports.NodeBinding = NodeBinding;\nexports.AttributeBinding = AttributeBinding;\nexports.RangeBinding = RangeBinding;\n\nfunction Template(content, source) {\n  this.content = content;\n  this.source = source;\n}\nTemplate.prototype.toString = function() {\n  return this.source;\n};\nTemplate.prototype.get = function(context, unescaped) {\n  return contentHtml(this.content, context, unescaped);\n};\nTemplate.prototype.getFragment = function(context, binding) {\n  var fragment = document.createDocumentFragment();\n  this.appendTo(fragment, context, binding);\n  return fragment;\n};\nTemplate.prototype.appendTo = function(parent, context) {\n  context.pause();\n  appendContent(parent, this.content, context);\n  context.unpause();\n};\nTemplate.prototype.attachTo = function(parent, node, context) {\n  context.pause();\n  var node = attachContent(parent, node, this.content, context);\n  context.unpause();\n  return node;\n};\nTemplate.prototype.update = function() {};\nTemplate.prototype.stringify = function(value) {\n  return (value == null) ? '' : value + '';\n};\nTemplate.prototype.equals = function(other) {\n  return this === other;\n};\nTemplate.prototype.module = 'templates';\nTemplate.prototype.type = 'Template';\nTemplate.prototype.serialize = function() {\n  return serializeObject.instance(this, this.content, this.source);\n};\n\n\nfunction Doctype(name, publicId, systemId) {\n  this.name = name;\n  this.publicId = publicId;\n  this.systemId = systemId;\n}\nDoctype.prototype = Object.create(Template.prototype);\nDoctype.prototype.constructor = Doctype;\nDoctype.prototype.get = function() {\n  var publicText = (this.publicId) ?\n    ' PUBLIC \"' + this.publicId  + '\"' :\n    '';\n  var systemText = (this.systemId) ?\n    (this.publicId) ?\n      ' \"' + this.systemId + '\"' :\n      ' SYSTEM \"' + this.systemId + '\"' :\n    '';\n  return '<!DOCTYPE ' + this.name + publicText + systemText + '>';\n};\nDoctype.prototype.appendTo = function() {\n  // Doctype could be created via:\n  //   document.implementation.createDocumentType(this.name, this.publicId, this.systemId)\n  // However, it does not appear possible or useful to append it to the\n  // document fragment. Therefore, just don't render it in the browser\n};\nDoctype.prototype.attachTo = function(parent, node) {\n  if (!node || node.nodeType !== 10) {\n    throw attachError(parent, node);\n  }\n  return node.nextSibling;\n};\nDoctype.prototype.type = 'Doctype';\nDoctype.prototype.serialize = function() {\n  return serializeObject.instance(this, this.name, this.publicId, this.systemId);\n};\n\nfunction Text(data) {\n  this.data = data;\n  this.escaped = escapeHtml(data);\n}\nText.prototype = Object.create(Template.prototype);\nText.prototype.constructor = Text;\nText.prototype.get = function(context, unescaped) {\n  return (unescaped) ? this.data : this.escaped;\n};\nText.prototype.appendTo = function(parent) {\n  var node = document.createTextNode(this.data);\n  parent.appendChild(node);\n};\nText.prototype.attachTo = function(parent, node) {\n  return attachText(parent, node, this.data, this);\n};\nText.prototype.type = 'Text';\nText.prototype.serialize = function() {\n  return serializeObject.instance(this, this.data);\n};\n\n// DynamicText might be more accurately named DynamicContent. When its\n// expression returns a template, it acts similar to a Block, and it renders\n// the template surrounded by comment markers for range replacement. When its\n// expression returns any other type, it renders a DOM Text node with no\n// markers. Text nodes are bound by updating their data property dynamically.\n// The update method must take care to switch between these types of bindings\n// in case the expression return type changes dynamically.\nfunction DynamicText(expression) {\n  this.expression = expression;\n  this.unbound = false;\n}\nDynamicText.prototype = Object.create(Template.prototype);\nDynamicText.prototype.constructor = DynamicText;\nDynamicText.prototype.get = function(context, unescaped) {\n  var value = this.expression.get(context);\n  if (value instanceof Template) {\n    do {\n      value = value.get(context, unescaped);\n    } while (value instanceof Template);\n    return value;\n  }\n  var data = this.stringify(value);\n  return (unescaped) ? data : escapeHtml(data);\n};\nDynamicText.prototype.appendTo = function(parent, context, binding) {\n  var value = this.expression.get(context);\n  if (value instanceof Template) {\n    var start = document.createComment(this.expression);\n    var end = document.createComment('/' + this.expression);\n    var condition = this.getCondition(context);\n    parent.appendChild(start);\n    value.appendTo(parent, context);\n    parent.appendChild(end);\n    updateRange(context, binding, this, start, end, null, condition);\n    return;\n  }\n  var data = this.stringify(value);\n  var node = document.createTextNode(data);\n  parent.appendChild(node);\n  addNodeBinding(this, context, node);\n};\nDynamicText.prototype.attachTo = function(parent, node, context) {\n  var value = this.expression.get(context);\n  if (value instanceof Template) {\n    var start = document.createComment(this.expression);\n    var end = document.createComment('/' + this.expression);\n    var condition = this.getCondition(context);\n    parent.insertBefore(start, node || null);\n    node = value.attachTo(parent, node, context);\n    parent.insertBefore(end, node || null);\n    updateRange(context, null, this, start, end, null, condition);\n    return node;\n  }\n  var data = this.stringify(value);\n  return attachText(parent, node, data, this, context);\n};\nDynamicText.prototype.update = function(context, binding) {\n  if (binding instanceof RangeBinding) {\n    this._blockUpdate(context, binding);\n    return;\n  }\n  var value = this.expression.get(context);\n  if (value instanceof Template) {\n    var start = binding.node;\n    if (!start.parentNode) return;\n    var end = start;\n    var fragment = this.getFragment(context);\n    replaceRange(context, start, end, fragment, binding);\n    return;\n  }\n  binding.node.data = this.stringify(value);\n};\nDynamicText.prototype.getCondition = function(context) {\n  return this.expression.get(context);\n};\nDynamicText.prototype.type = 'DynamicText';\nDynamicText.prototype.serialize = function() {\n  return serializeObject.instance(this, this.expression);\n};\n\nfunction attachText(parent, node, data, template, context) {\n  if (!node) {\n    var newNode = document.createTextNode(data);\n    parent.appendChild(newNode);\n    addNodeBinding(template, context, newNode);\n    return;\n  }\n  if (node.nodeType === 3) {\n    // Proceed if nodes already match\n    if (node.data === data) {\n      addNodeBinding(template, context, node);\n      return node.nextSibling;\n    }\n    data = normalizeLineBreaks(data);\n    // Split adjacent text nodes that would have been merged together in HTML\n    var nextNode = splitData(node, data.length);\n    if (node.data !== data) {\n      throw attachError(parent, node);\n    }\n    addNodeBinding(template, context, node);\n    return nextNode;\n  }\n  // An empty text node might not be created at the end of some text\n  if (data === '') {\n    var newNode = document.createTextNode('');\n    parent.insertBefore(newNode, node || null);\n    addNodeBinding(template, context, newNode);\n    return node;\n  }\n  throw attachError(parent, node);\n}\n\nfunction Comment(data, hooks) {\n  this.data = data;\n  this.hooks = hooks;\n}\nComment.prototype = Object.create(Template.prototype);\nComment.prototype.constructor = Comment;\nComment.prototype.get = function() {\n  return '<!--' + this.data + '-->';\n};\nComment.prototype.appendTo = function(parent, context) {\n  var node = document.createComment(this.data);\n  parent.appendChild(node);\n  emitHooks(this.hooks, context, node);\n};\nComment.prototype.attachTo = function(parent, node, context) {\n  return attachComment(parent, node, this.data, this, context);\n};\nComment.prototype.type = 'Comment';\nComment.prototype.serialize = function() {\n  return serializeObject.instance(this, this.data, this.hooks);\n}\n\nfunction DynamicComment(expression, hooks) {\n  this.expression = expression;\n  this.hooks = hooks;\n}\nDynamicComment.prototype = Object.create(Template.prototype);\nDynamicComment.prototype.constructor = DynamicComment;\nDynamicComment.prototype.get = function(context) {\n  var value = getUnescapedValue(this.expression, context);\n  var data = this.stringify(value);\n  return '<!--' + data + '-->';\n};\nDynamicComment.prototype.appendTo = function(parent, context) {\n  var value = getUnescapedValue(this.expression, context);\n  var data = this.stringify(value);\n  var node = document.createComment(data);\n  parent.appendChild(node);\n  addNodeBinding(this, context, node);\n};\nDynamicComment.prototype.attachTo = function(parent, node, context) {\n  var value = getUnescapedValue(this.expression, context);\n  var data = this.stringify(value);\n  return attachComment(parent, node, data, this, context);\n};\nDynamicComment.prototype.update = function(context, binding) {\n  var value = getUnescapedValue(this.expression, context);\n  binding.node.data = this.stringify(value);\n};\nDynamicComment.prototype.type = 'DynamicComment';\nDynamicComment.prototype.serialize = function() {\n  return serializeObject.instance(this, this.expression, this.hooks);\n}\n\nfunction attachComment(parent, node, data, template, context) {\n  // Sometimes IE fails to create Comment nodes from HTML or innerHTML.\n  // This is an issue inside of <select> elements, for example.\n  if (!node || node.nodeType !== 8) {\n    var newNode = document.createComment(data);\n    parent.insertBefore(newNode, node || null);\n    addNodeBinding(template, context, newNode);\n    return node;\n  }\n  // Proceed if nodes already match\n  if (node.data === data) {\n    addNodeBinding(template, context, node);\n    return node.nextSibling;\n  }\n  throw attachError(parent, node);\n}\n\nfunction addNodeBinding(template, context, node) {\n  if (template.expression && !template.unbound) {\n    context.addBinding(new NodeBinding(template, context, node));\n  }\n  emitHooks(template.hooks, context, node);\n}\n\nfunction Html(data) {\n  this.data = data;\n}\nHtml.prototype = Object.create(Template.prototype);\nHtml.prototype.constructor = Html;\nHtml.prototype.get = function() {\n  return this.data;\n};\nHtml.prototype.appendTo = function(parent) {\n  var fragment = createHtmlFragment(parent, this.data);\n  parent.appendChild(fragment);\n};\nHtml.prototype.attachTo = function(parent, node) {\n  return attachHtml(parent, node, this.data);\n};\nHtml.prototype.type = \"Html\";\nHtml.prototype.serialize = function() {\n  return serializeObject.instance(this, this.data);\n};\n\nfunction DynamicHtml(expression) {\n  this.expression = expression;\n  this.ending = '/' + expression;\n}\nDynamicHtml.prototype = Object.create(Template.prototype);\nDynamicHtml.prototype.constructor = DynamicHtml;\nDynamicHtml.prototype.get = function(context) {\n  var value = getUnescapedValue(this.expression, context);\n  return this.stringify(value);\n};\nDynamicHtml.prototype.appendTo = function(parent, context, binding) {\n  var start = document.createComment(this.expression);\n  var end = document.createComment(this.ending);\n  var value = getUnescapedValue(this.expression, context);\n  var html = this.stringify(value);\n  var fragment = createHtmlFragment(parent, html);\n  parent.appendChild(start);\n  parent.appendChild(fragment);\n  parent.appendChild(end);\n  updateRange(context, binding, this, start, end);\n};\nDynamicHtml.prototype.attachTo = function(parent, node, context) {\n  var start = document.createComment(this.expression);\n  var end = document.createComment(this.ending);\n  var value = getUnescapedValue(this.expression, context);\n  var html = this.stringify(value);\n  parent.insertBefore(start, node || null);\n  node = attachHtml(parent, node, html);\n  parent.insertBefore(end, node || null);\n  updateRange(context, null, this, start, end);\n  return node;\n};\nDynamicHtml.prototype.update = function(context, binding) {\n  var parent = binding.start.parentNode;\n  if (!parent) return;\n  // Get start and end in advance, since binding is mutated in getFragment\n  var start = binding.start;\n  var end = binding.end;\n  var value = getUnescapedValue(this.expression, context);\n  var html = this.stringify(value);\n  var fragment = createHtmlFragment(parent, html);\n  var innerOnly = true;\n  replaceRange(context, start, end, fragment, binding, innerOnly);\n};\nDynamicHtml.prototype.type = 'DynamicHtml';\nDynamicHtml.prototype.serialize = function() {\n  return serializeObject.instance(this, this.expression);\n};\n\nfunction createHtmlFragment(parent, html) {\n  if (parent && parent.nodeType === 1) {\n    var range = document.createRange();\n    range.selectNodeContents(parent);\n    return range.createContextualFragment(html);\n  }\n  var div = document.createElement('div');\n  var range = document.createRange();\n  div.innerHTML = html;\n  range.selectNodeContents(div);\n  return range.extractContents();\n}\nfunction attachHtml(parent, node, html) {\n  var fragment = createHtmlFragment(parent, html);\n  for (var i = 0, len = fragment.childNodes.length; i < len; i++) {\n    if (!node) throw attachError(parent, node);\n    node = node.nextSibling;\n  }\n  return node;\n}\n\nfunction Attribute(data, ns) {\n  this.data = data;\n  this.ns = ns;\n}\nAttribute.prototype = Object.create(Template.prototype);\nAttribute.prototype.constructor = Attribute;\nAttribute.prototype.get = Attribute.prototype.getBound = function(context) {\n  return this.data;\n};\nAttribute.prototype.type = 'Attribute';\nAttribute.prototype.serialize = function() {\n  return serializeObject.instance(this, this.data, this.ns);\n};\n\nfunction DynamicAttribute(expression, ns) {\n  // In attributes, expression may be an instance of Template or Expression\n  this.expression = expression;\n  this.ns = ns;\n  this.elementNs = null;\n}\nDynamicAttribute.prototype = Object.create(Attribute.prototype);\nDynamicAttribute.prototype.constructor = DynamicAttribute;\nDynamicAttribute.prototype.get = function(context) {\n  return getUnescapedValue(this.expression, context);\n};\nDynamicAttribute.prototype.getBound = function(context, element, name, elementNs) {\n  this.elementNs = elementNs;\n  context.addBinding(new AttributeBinding(this, context, element, name));\n  return getUnescapedValue(this.expression, context);\n};\nDynamicAttribute.prototype.update = function(context, binding) {\n  var value = getUnescapedValue(this.expression, context);\n  var element = binding.element;\n  var propertyName = !this.elementNs && UPDATE_PROPERTIES[binding.name];\n  if (propertyName) {\n    var propertyValue = (STRING_PROPERTIES[binding.name]) ?\n      this.stringify(value) : value;\n    if (element[propertyName] === propertyValue) return;\n    element[propertyName] = propertyValue;\n    return;\n  }\n  if (value === false || value == null) {\n    if (this.ns) {\n      element.removeAttributeNS(this.ns, binding.name);\n    } else {\n      element.removeAttribute(binding.name);\n    }\n    return;\n  }\n  if (value === true) value = binding.name;\n  if (this.ns) {\n    element.setAttributeNS(this.ns, binding.name, value);\n  } else {\n    element.setAttribute(binding.name, value);\n  }\n};\nDynamicAttribute.prototype.type = 'DynamicAttribute';\nDynamicAttribute.prototype.serialize = function() {\n  return serializeObject.instance(this, this.expression, this.ns);\n};\n\nfunction getUnescapedValue(expression, context) {\n  var unescaped = true;\n  var value = expression.get(context, unescaped);\n  while (value instanceof Template) {\n    value = value.get(context, unescaped);\n  }\n  return value;\n}\n\nfunction Element(tagName, attributes, content, hooks, selfClosing, notClosed, ns) {\n  this.tagName = tagName;\n  this.attributes = attributes;\n  this.content = content;\n  this.hooks = hooks;\n  this.selfClosing = selfClosing;\n  this.notClosed = notClosed;\n  this.ns = ns;\n\n  this.endTag = getEndTag(tagName, selfClosing, notClosed);\n  this.startClose = getStartClose(selfClosing);\n  var lowerTagName = tagName && tagName.toLowerCase();\n  this.unescapedContent = (lowerTagName === 'script' || lowerTagName === 'style');\n  this.bindContentToValue = (lowerTagName === 'textarea');\n}\nElement.prototype = Object.create(Template.prototype);\nElement.prototype.constructor = Element;\nElement.prototype.getTagName = function() {\n  return this.tagName;\n};\nElement.prototype.getEndTag = function() {\n  return this.endTag;\n};\nElement.prototype.get = function(context) {\n  var tagName = this.getTagName(context);\n  var endTag = this.getEndTag(tagName);\n  var tagItems = [tagName];\n  for (var key in this.attributes) {\n    var value = this.attributes[key].get(context);\n    if (value === true) {\n      tagItems.push(key);\n    } else if (value !== false && value != null) {\n      tagItems.push(key + '=\"' + escapeAttribute(value) + '\"');\n    }\n  }\n  var startTag = '<' + tagItems.join(' ') + this.startClose;\n  if (this.content) {\n    var inner = contentHtml(this.content, context, this.unescapedContent);\n    return startTag + inner + endTag;\n  }\n  return startTag + endTag;\n};\nElement.prototype.appendTo = function(parent, context) {\n  var tagName = this.getTagName(context);\n  var element = (this.ns) ?\n    document.createElementNS(this.ns, tagName) :\n    document.createElement(tagName);\n  for (var key in this.attributes) {\n    var attribute = this.attributes[key];\n    var value = attribute.getBound(context, element, key, this.ns);\n    if (value === false || value == null) continue;\n    var propertyName = !this.ns && CREATE_PROPERTIES[key];\n    if (propertyName) {\n      element[propertyName] = value;\n      continue;\n    }\n    if (value === true) value = key;\n    if (attribute.ns) {\n      element.setAttributeNS(attribute.ns, key, value);\n    } else {\n      element.setAttribute(key, value);\n    }\n  }\n  if (this.content) {\n    this._bindContent(context, element);\n    appendContent(element, this.content, context);\n  }\n  parent.appendChild(element);\n  emitHooks(this.hooks, context, element);\n};\nElement.prototype.attachTo = function(parent, node, context) {\n  var tagName = this.getTagName(context);\n  if (\n    !node ||\n    node.nodeType !== 1 ||\n    node.tagName.toLowerCase() !== tagName.toLowerCase()\n  ) {\n    throw attachError(parent, node);\n  }\n  for (var key in this.attributes) {\n    // Get each attribute to create bindings\n    this.attributes[key].getBound(context, node, key, this.ns);\n    // TODO: Ideally, this would also check that the node's current attributes\n    // are equivalent, but there are some tricky edge cases\n  }\n  if (this.content) {\n    this._bindContent(context, node);\n    attachContent(node, node.firstChild, this.content, context);\n  }\n  emitHooks(this.hooks, context, node);\n  return node.nextSibling;\n};\nElement.prototype._bindContent = function(context, element) {\n  // For textareas with dynamic text content, bind to the value property\n  var child = this.bindContentToValue &&\n    this.content.length === 1 &&\n    this.content[0];\n  if (child instanceof DynamicText) {\n    child.unbound = true;\n    var template = new DynamicAttribute(child.expression);\n    context.addBinding(new AttributeBinding(template, context, element, 'value'));\n  }\n};\nElement.prototype.type = 'Element';\nElement.prototype.serialize = function() {\n  return serializeObject.instance(\n    this\n  , this.tagName\n  , this.attributes\n  , this.content\n  , this.hooks\n  , this.selfClosing\n  , this.notClosed\n  , this.ns\n  );\n};\n\nfunction DynamicElement(tagName, attributes, content, hooks, selfClosing, notClosed, ns) {\n  this.tagName = tagName;\n  this.attributes = attributes;\n  this.content = content;\n  this.hooks = hooks;\n  this.selfClosing = selfClosing;\n  this.notClosed = notClosed;\n  this.ns = ns;\n\n  this.startClose = getStartClose(selfClosing);\n  this.unescapedContent = false;\n}\nDynamicElement.prototype = Object.create(Element.prototype);\nDynamicElement.prototype.constructor = DynamicElement;\nDynamicElement.prototype.getTagName = function(context) {\n  return getUnescapedValue(this.tagName, context);\n};\nDynamicElement.prototype.getEndTag = function(tagName) {\n  return getEndTag(tagName, this.selfClosing, this.notClosed);\n};\nDynamicElement.prototype.type = 'DynamicElement';\n\nfunction getStartClose(selfClosing) {\n  return (selfClosing) ? ' />' : '>';\n}\n\nfunction getEndTag(tagName, selfClosing, notClosed) {\n  var lowerTagName = tagName && tagName.toLowerCase();\n  var isVoid = VOID_ELEMENTS[lowerTagName];\n  return (isVoid || selfClosing || notClosed) ? '' : '</' + tagName + '>';\n}\n\nfunction getAttributeValue(element, name) {\n  var propertyName = UPDATE_PROPERTIES[name];\n  return (propertyName) ? element[propertyName] : element.getAttribute(name);\n}\n\nfunction emitHooks(hooks, context, value) {\n  if (!hooks) return;\n  context.queue(function queuedHooks() {\n    for (var i = 0, len = hooks.length; i < len; i++) {\n      hooks[i].emit(context, value);\n    }\n  });\n}\n\nfunction Block(expression, content) {\n  this.expression = expression;\n  this.ending = '/' + expression;\n  this.content = content;\n}\nBlock.prototype = Object.create(Template.prototype);\nBlock.prototype.constructor = Block;\nBlock.prototype.get = function(context, unescaped) {\n  var blockContext = context.child(this.expression);\n  return contentHtml(this.content, blockContext, unescaped);\n};\nBlock.prototype.appendTo = function(parent, context, binding) {\n  var blockContext = context.child(this.expression);\n  var start = document.createComment(this.expression);\n  var end = document.createComment(this.ending);\n  var condition = this.getCondition(context);\n  parent.appendChild(start);\n  appendContent(parent, this.content, blockContext);\n  parent.appendChild(end);\n  updateRange(context, binding, this, start, end, null, condition);\n};\nBlock.prototype.attachTo = function(parent, node, context) {\n  var blockContext = context.child(this.expression);\n  var start = document.createComment(this.expression);\n  var end = document.createComment(this.ending);\n  var condition = this.getCondition(context);\n  parent.insertBefore(start, node || null);\n  node = attachContent(parent, node, this.content, blockContext);\n  parent.insertBefore(end, node || null);\n  updateRange(context, null, this, start, end, null, condition);\n  return node;\n};\nBlock.prototype.type = 'Block';\nBlock.prototype.serialize = function() {\n  return serializeObject.instance(this, this.expression, this.content);\n};\nBlock.prototype.update = function(context, binding) {\n  if (!binding.start.parentNode) return;\n  var condition = this.getCondition(context);\n  // Cancel update if prior condition is equivalent to current value\n  if (equalConditions(condition, binding.condition)) return;\n  binding.condition = condition;\n  // Get start and end in advance, since binding is mutated in getFragment\n  var start = binding.start;\n  var end = binding.end;\n  var fragment = this.getFragment(context, binding);\n  replaceRange(context, start, end, fragment, binding);\n};\nBlock.prototype.getCondition = function(context) {\n  // We do an identity check to see if the value has changed before updating.\n  // With objects, the object would still be the same, so this identity check\n  // would fail to update enough. Thus, return NaN, which never equals anything\n  // including itself, so that we always update on objects.\n  //\n  // We could also JSON stringify or use some other hashing approach. However,\n  // that could be really expensive on gets of things that never change, and\n  // is probably not a good tradeoff. Perhaps there should be a separate block\n  // type that is only used in the case of dynamic updates\n  var value = this.expression.get(context);\n  return (typeof value === 'object') ? NaN : value;\n};\nDynamicText.prototype._blockUpdate = Block.prototype.update;\n\nfunction ConditionalBlock(expressions, contents) {\n  this.expressions = expressions;\n  this.beginning = expressions.join('; ');\n  this.ending = '/' + this.beginning;\n  this.contents = contents;\n}\nConditionalBlock.prototype = Object.create(Block.prototype);\nConditionalBlock.prototype.constructor = ConditionalBlock;\nConditionalBlock.prototype.get = function(context, unescaped) {\n  var condition = this.getCondition(context);\n  if (condition == null) return '';\n  var expression = this.expressions[condition];\n  var blockContext = context.child(expression);\n  return contentHtml(this.contents[condition], blockContext, unescaped);\n};\nConditionalBlock.prototype.appendTo = function(parent, context, binding) {\n  var start = document.createComment(this.beginning);\n  var end = document.createComment(this.ending);\n  parent.appendChild(start);\n  var condition = this.getCondition(context);\n  if (condition != null) {\n    var expression = this.expressions[condition];\n    var blockContext = context.child(expression);\n    appendContent(parent, this.contents[condition], blockContext);\n  }\n  parent.appendChild(end);\n  updateRange(context, binding, this, start, end, null, condition);\n};\nConditionalBlock.prototype.attachTo = function(parent, node, context) {\n  var start = document.createComment(this.beginning);\n  var end = document.createComment(this.ending);\n  parent.insertBefore(start, node || null);\n  var condition = this.getCondition(context);\n  if (condition != null) {\n    var expression = this.expressions[condition];\n    var blockContext = context.child(expression);\n    node = attachContent(parent, node, this.contents[condition], blockContext);\n  }\n  parent.insertBefore(end, node || null);\n  updateRange(context, null, this, start, end, null, condition);\n  return node;\n};\nConditionalBlock.prototype.type = 'ConditionalBlock';\nConditionalBlock.prototype.serialize = function() {\n  return serializeObject.instance(this, this.expressions, this.contents);\n};\nConditionalBlock.prototype.update = function(context, binding) {\n  if (!binding.start.parentNode) return;\n  var condition = this.getCondition(context);\n  // Cancel update if prior condition is equivalent to current value\n  if (equalConditions(condition, binding.condition)) return;\n  binding.condition = condition;\n  // Get start and end in advance, since binding is mutated in getFragment\n  var start = binding.start;\n  var end = binding.end;\n  var fragment = this.getFragment(context, binding);\n  replaceRange(context, start, end, fragment, binding);\n};\nConditionalBlock.prototype.getCondition = function(context) {\n  for (var i = 0, len = this.expressions.length; i < len; i++) {\n    if (this.expressions[i].truthy(context)) {\n      return i;\n    }\n  }\n};\n\nfunction EachBlock(expression, content, elseContent) {\n  this.expression = expression;\n  this.ending = '/' + expression;\n  this.content = content;\n  this.elseContent = elseContent;\n}\nEachBlock.prototype = Object.create(Block.prototype);\nEachBlock.prototype.constructor = EachBlock;\nEachBlock.prototype.get = function(context, unescaped) {\n  var items = this.expression.get(context);\n  if (items && items.length) {\n    var html = '';\n    for (var i = 0, len = items.length; i < len; i++) {\n      var itemContext = context.eachChild(this.expression, i);\n      html += contentHtml(this.content, itemContext, unescaped);\n    }\n    return html;\n  } else if (this.elseContent) {\n    return contentHtml(this.elseContent, context, unescaped);\n  }\n  return '';\n};\nEachBlock.prototype.appendTo = function(parent, context, binding) {\n  var items = this.expression.get(context);\n  var start = document.createComment(this.expression);\n  var end = document.createComment(this.ending);\n  parent.appendChild(start);\n  if (items && items.length) {\n    for (var i = 0, len = items.length; i < len; i++) {\n      var itemContext = context.eachChild(this.expression, i);\n      this.appendItemTo(parent, itemContext, start);\n    }\n  } else if (this.elseContent) {\n    appendContent(parent, this.elseContent, context);\n  }\n  parent.appendChild(end);\n  updateRange(context, binding, this, start, end);\n};\nEachBlock.prototype.appendItemTo = function(parent, context, itemFor, binding) {\n  var before = parent.lastChild;\n  var start, end;\n  appendContent(parent, this.content, context);\n  if (before === parent.lastChild) {\n    start = end = document.createComment('empty');\n    parent.appendChild(start);\n  } else {\n    start = (before && before.nextSibling) || parent.firstChild;\n    end = parent.lastChild;\n  }\n  updateRange(context, binding, this, start, end, itemFor);\n};\nEachBlock.prototype.attachTo = function(parent, node, context) {\n  var items = this.expression.get(context);\n  var start = document.createComment(this.expression);\n  var end = document.createComment(this.ending);\n  parent.insertBefore(start, node || null);\n  if (items && items.length) {\n    for (var i = 0, len = items.length; i < len; i++) {\n      var itemContext = context.eachChild(this.expression, i);\n      node = this.attachItemTo(parent, node, itemContext, start);\n    }\n  } else if (this.elseContent) {\n    node = attachContent(parent, node, this.elseContent, context);\n  }\n  parent.insertBefore(end, node || null);\n  updateRange(context, null, this, start, end);\n  return node;\n};\nEachBlock.prototype.attachItemTo = function(parent, node, context, itemFor) {\n  var start, end;\n  var oldPrevious = node && node.previousSibling;\n  var nextNode = attachContent(parent, node, this.content, context);\n  if (nextNode === node) {\n    start = end = document.createComment('empty');\n    parent.insertBefore(start, node || null);\n  } else {\n    start = (oldPrevious && oldPrevious.nextSibling) || parent.firstChild;\n    end = (nextNode && nextNode.previousSibling) || parent.lastChild;\n  }\n  updateRange(context, null, this, start, end, itemFor);\n  return nextNode;\n};\nEachBlock.prototype.update = function(context, binding) {\n  if (!binding.start.parentNode) return;\n  var start = binding.start;\n  var end = binding.end;\n  if (binding.itemFor) {\n    var fragment = document.createDocumentFragment();\n    this.appendItemTo(fragment, context, binding.itemFor, binding);\n  } else {\n    var fragment = this.getFragment(context, binding);\n  }\n  replaceRange(context, start, end, fragment, binding);\n};\nEachBlock.prototype.insert = function(context, binding, index, howMany) {\n  var parent = binding.start.parentNode;\n  if (!parent) return;\n  // In case we are inserting all of the items, update instead. This is needed\n  // when we were previously rendering elseContent so that it is replaced\n  if (index === 0 && this.expression.get(context).length === howMany) {\n    return this.update(context, binding);\n  }\n  var node = indexStartNode(binding, index);\n  var fragment = document.createDocumentFragment();\n  for (var i = index, len = index + howMany; i < len; i++) {\n    var itemContext = context.eachChild(this.expression, i);\n    this.appendItemTo(fragment, itemContext, binding.start);\n  }\n  parent.insertBefore(fragment, node || null);\n};\nEachBlock.prototype.remove = function(context, binding, index, howMany) {\n  var parent = binding.start.parentNode;\n  if (!parent) return;\n  // In case we are removing all of the items, update instead. This is needed\n  // when elseContent should be rendered\n  if (index === 0 && this.expression.get(context).length === 0) {\n    return this.update(context, binding);\n  }\n  var node = indexStartNode(binding, index);\n  var i = 0;\n  while (node) {\n    if (node === binding.end) return;\n    if (node.$bindItemStart && node.$bindItemStart.itemFor === binding.start) {\n      if (howMany === i++) return;\n    }\n    var nextNode = node.nextSibling;\n    parent.removeChild(node);\n    emitRemoved(context, node, binding);\n    node = nextNode;\n  }\n};\nEachBlock.prototype.move = function(context, binding, from, to, howMany) {\n  var parent = binding.start.parentNode;\n  if (!parent) return;\n  var node = indexStartNode(binding, from);\n  var fragment = document.createDocumentFragment();\n  var i = 0;\n  while (node) {\n    if (node === binding.end) break;\n    if (node.$bindItemStart && node.$bindItemStart.itemFor === binding.start) {\n      if (howMany === i++) break;\n    }\n    var nextNode = node.nextSibling;\n    fragment.appendChild(node);\n    node = nextNode;\n  }\n  node = indexStartNode(binding, to);\n  parent.insertBefore(fragment, node || null);\n};\nEachBlock.prototype.type = 'EachBlock';\nEachBlock.prototype.serialize = function() {\n  return serializeObject.instance(this, this.expression, this.content, this.elseContent);\n};\n\nfunction indexStartNode(binding, index) {\n  var node = binding.start;\n  var i = 0;\n  while (node = node.nextSibling) {\n    if (node === binding.end) return node;\n    if (node.$bindItemStart && node.$bindItemStart.itemFor === binding.start) {\n      if (index === i) return node;\n      i++;\n    }\n  }\n}\n\nfunction updateRange(context, binding, template, start, end, itemFor, condition) {\n  if (binding) {\n    binding.start = start;\n    binding.end = end;\n    binding.condition = condition;\n    setNodeBounds(binding, start, itemFor);\n  } else {\n    context.addBinding(new RangeBinding(template, context, start, end, itemFor, condition));\n  }\n}\nfunction setNodeBounds(binding, start, itemFor) {\n  if (itemFor) {\n    setNodeProperty(start, '$bindItemStart', binding);\n  } else {\n    setNodeProperty(start, '$bindStart', binding);\n  }\n}\n\nfunction appendContent(parent, content, context) {\n  for (var i = 0, len = content.length; i < len; i++) {\n    content[i].appendTo(parent, context);\n  }\n}\nfunction attachContent(parent, node, content, context) {\n  for (var i = 0, len = content.length; i < len; i++) {\n    while (node && node.hasAttribute && node.hasAttribute('data-no-attach')) {\n      node = node.nextSibling;\n    }\n    node = content[i].attachTo(parent, node, context);\n  }\n  return node;\n}\nfunction contentHtml(content, context, unescaped) {\n  var html = '';\n  for (var i = 0, len = content.length; i < len; i++) {\n    html += content[i].get(context, unescaped);\n  }\n  return html;\n}\nfunction replaceRange(context, start, end, fragment, binding, innerOnly) {\n  // Note: the calling function must make sure to check that there is a parent\n  var parent = start.parentNode;\n  // Copy item binding from old start to fragment being inserted\n  if (start.$bindItemStart && fragment.firstChild) {\n    setNodeProperty(fragment.firstChild, '$bindItemStart', start.$bindItemStart);\n    start.$bindItemStart.start = fragment.firstChild;\n  }\n  // Fast path for single node replacements\n  if (start === end) {\n    parent.replaceChild(fragment, start);\n    emitRemoved(context, start, binding);\n    return;\n  }\n  // Remove all nodes from start to end\n  var node = (innerOnly) ? start.nextSibling : start;\n  var nextNode;\n  while (node) {\n    nextNode = node.nextSibling;\n    emitRemoved(context, node, binding);\n    if (innerOnly && node === end) {\n      nextNode = end;\n      break;\n    }\n    parent.removeChild(node);\n    if (node === end) break;\n    node = nextNode;\n  }\n  // This also works if nextNode is null, by doing an append\n  parent.insertBefore(fragment, nextNode || null);\n}\nfunction emitRemoved(context, node, ignore) {\n  context.removeNode(node);\n  emitRemovedBinding(context, ignore, node, '$bindNode');\n  emitRemovedBinding(context, ignore, node, '$bindStart');\n  emitRemovedBinding(context, ignore, node, '$bindItemStart');\n  var attributes = node.$bindAttributes;\n  if (attributes) {\n    node.$bindAttributes = null;\n    for (var key in attributes) {\n      context.removeBinding(attributes[key]);\n    }\n  }\n  for (node = node.firstChild; node; node = node.nextSibling) {\n    emitRemoved(context, node, ignore);\n  }\n}\nfunction emitRemovedBinding(context, ignore, node, property) {\n  var binding = node[property];\n  if (binding) {\n    node[property] = null;\n    if (binding !== ignore) {\n      context.removeBinding(binding);\n    }\n  }\n}\n\nfunction attachError(parent, node) {\n  if (typeof console !== 'undefined') {\n    console.error('Attach failed for', node, 'within', parent);\n  }\n  return new Error('Attaching bindings failed, because HTML structure ' +\n    'does not match client rendering.'\n  );\n}\n\nfunction Binding() {\n  this.meta = null;\n}\nBinding.prototype.type = 'Binding';\nBinding.prototype.update = function() {\n  this.context.pause();\n  this.template.update(this.context, this);\n  this.context.unpause();\n};\nBinding.prototype.insert = function() {\n  this.update();\n};\nBinding.prototype.remove = function() {\n  this.update();\n};\nBinding.prototype.move = function() {\n  this.update();\n};\n\nfunction NodeBinding(template, context, node) {\n  this.template = template;\n  this.context = context;\n  this.node = node;\n  this.meta = null;\n  setNodeProperty(node, '$bindNode', this);\n}\nNodeBinding.prototype = Object.create(Binding.prototype);\nNodeBinding.prototype.constructor = NodeBinding;\nNodeBinding.prototype.type = 'NodeBinding';\n\nfunction AttributeBindingsMap() {}\nfunction AttributeBinding(template, context, element, name) {\n  this.template = template;\n  this.context = context;\n  this.element = element;\n  this.name = name;\n  this.meta = null;\n  var map = element.$bindAttributes ||\n    (element.$bindAttributes = new AttributeBindingsMap());\n  map[name] = this;\n}\nAttributeBinding.prototype = Object.create(Binding.prototype);\nAttributeBinding.prototype.constructor = AttributeBinding;\nAttributeBinding.prototype.type = 'AttributeBinding';\n\nfunction RangeBinding(template, context, start, end, itemFor, condition) {\n  this.template = template;\n  this.context = context;\n  this.start = start;\n  this.end = end;\n  this.itemFor = itemFor;\n  this.condition = condition;\n  this.meta = null;\n  setNodeBounds(this, start, itemFor);\n}\nRangeBinding.prototype = Object.create(Binding.prototype);\nRangeBinding.prototype.constructor = RangeBinding;\nRangeBinding.prototype.type = 'RangeBinding';\nRangeBinding.prototype.insert = function(index, howMany) {\n  this.context.pause();\n  if (this.template.insert) {\n    this.template.insert(this.context, this, index, howMany);\n  } else {\n    this.template.update(this.context, this);\n  }\n  this.context.unpause();\n};\nRangeBinding.prototype.remove = function(index, howMany) {\n  this.context.pause();\n  if (this.template.remove) {\n    this.template.remove(this.context, this, index, howMany);\n  } else {\n    this.template.update(this.context, this);\n  }\n  this.context.unpause();\n};\nRangeBinding.prototype.move = function(from, to, howMany) {\n  this.context.pause();\n  if (this.template.move) {\n    this.template.move(this.context, this, from, to, howMany);\n  } else {\n    this.template.update(this.context, this);\n  }\n  this.context.unpause();\n};\n\n\n//// Utility functions ////\n\nfunction noop() {}\n\nfunction mergeInto(from, to) {\n  for (var key in from) {\n    to[key] = from[key];\n  }\n}\n\nfunction escapeHtml(string) {\n  string = string + '';\n  return string.replace(/[&<]/g, function(match) {\n    return (match === '&') ? '&amp;' : '&lt;';\n  });\n}\n\nfunction escapeAttribute(string) {\n  string = string + '';\n  return string.replace(/[&\"]/g, function(match) {\n    return (match === '&') ? '&amp;' : '&quot;';\n  });\n}\n\nfunction equalConditions(a, b) {\n  // First, test for strict equality\n  if (a === b) return true;\n  // Failing that, allow for template objects used as a condition to define a\n  // custom `equals()` method to indicate equivalence\n  return (a instanceof Template) && a.equals(b);\n}\n\n\n//// Shims & workarounds ////\n\n// General notes:\n//\n// In all cases, Node.insertBefore should have `|| null` after its second\n// argument. IE works correctly when the argument is ommitted or equal\n// to null, but it throws and error if it is equal to undefined.\n\nif (!Array.isArray) {\n  Array.isArray = function(value) {\n    return Object.prototype.toString.call(value) === '[object Array]';\n  };\n}\n\n// Equivalent to textNode.splitText, which is buggy in IE <=9\nfunction splitData(node, index) {\n  var newNode = node.cloneNode(false);\n  newNode.deleteData(0, index);\n  node.deleteData(index, node.length - index);\n  node.parentNode.insertBefore(newNode, node.nextSibling || null);\n  return newNode;\n}\n\n// Defined so that it can be overriden in IE <=8\nfunction setNodeProperty(node, key, value) {\n  return node[key] = value;\n}\n\nfunction normalizeLineBreaks(string) {\n  return string;\n}\n\n(function() {\n  // Don't try to shim in Node.js environment\n  if (typeof document === 'undefined') return;\n\n  var div = document.createElement('div');\n  div.innerHTML = '\\r\\n<br>\\n'\n  var windowsLength = div.firstChild.data.length;\n  var unixLength = div.lastChild.data.length;\n  if (windowsLength === 1 && unixLength === 1) {\n    normalizeLineBreaks = function(string) {\n      return string.replace(/\\r\\n/g, '\\n');\n    };\n  } else if (windowsLength === 2 && unixLength === 2) {\n    normalizeLineBreaks = function(string) {\n      return string.replace(/(^|[^\\r])(\\n+)/g, function(match, value, newLines) {\n        for (var i = newLines.length; i--;) {\n          value += '\\r\\n';\n        }\n        return value;\n      });\n    };\n  }\n\n  // TODO: Shim createHtmlFragment for old IE\n\n  // TODO: Shim setAttribute('style'), which doesn't work in IE <=7\n  // http://webbugtrack.blogspot.com/2007/10/bug-245-setattribute-style-does-not.html\n\n  // TODO: Investigate whether input name attribute works in IE <=7. We could\n  // override Element::appendTo to use IE's alternative createElement syntax:\n  // document.createElement('<input name=\"xxx\">')\n  // http://webbugtrack.blogspot.com/2007/10/bug-235-createelement-is-broken-in-ie.html\n\n  // In IE, input.defaultValue doesn't work correctly, so use input.value,\n  // which mistakenly but conveniently sets both the value property and attribute.\n  //\n  // Surprisingly, in IE <=7, input.defaultChecked must be used instead of\n  // input.checked before the input is in the document.\n  // http://webbugtrack.blogspot.com/2007/11/bug-299-setattribute-checked-does-not.html\n  var input = document.createElement('input');\n  input.defaultValue = 'x';\n  if (input.value !== 'x') {\n    CREATE_PROPERTIES.value = 'value';\n  }\n\n  try {\n    // TextNodes are not expando in IE <=8\n    document.createTextNode('').$try = 0;\n  } catch (err) {\n    setNodeProperty = function(node, key, value) {\n      // If trying to set a property on a TextNode, create a proxy CommentNode\n      // and set the property on that node instead. Put the proxy after the\n      // TextNode if marking the end of a range, and before otherwise.\n      if (node.nodeType === 3) {\n        var proxyNode = node.previousSibling;\n        if (!proxyNode || proxyNode.$bindProxy !== node) {\n          proxyNode = document.createComment('proxy');\n          proxyNode.$bindProxy = node;\n          node.parentNode.insertBefore(proxyNode, node || null);\n        }\n        return proxyNode[key] = value;\n      }\n      // Set the property directly on other node types\n      return node[key] = value;\n    };\n  }\n})();\n",
    "\nexports.concat = function(a, b) {\n  if (!a) return b;\n  if (!b) return a;\n  return a.concat(b);\n};\n\nexports.hasKeys = function(value) {\n  if (!value) return false;\n  for (var key in value) {\n    return true;\n  }\n  return false;\n};\n\nexports.traverseAndCreate = function(node, segments) {\n  var len = segments.length;\n  if (!len) return node;\n  for (var i = 0; i < len; i++) {\n    var segment = segments[i];\n    node = node[segment] || (node[segment] = {});\n  }\n  return node;\n};\n",
    "var serializeObject = require('serialize-object');\nvar operatorFns = require('./operatorFns');\nvar templates = require('./templates');\nvar Template = templates.Template;\nvar util = require('./util');\nvar concat = util.concat;\n\nexports.lookup = lookup;\nexports.templateTruthy = templateTruthy;\nexports.pathSegments = pathSegments;\nexports.renderValue = renderValue;\nexports.renderTemplate = renderTemplate;\nexports.ExpressionMeta = ExpressionMeta;\n\nexports.Expression = Expression;\nexports.LiteralExpression = LiteralExpression;\nexports.PathExpression = PathExpression;\nexports.RelativePathExpression = RelativePathExpression;\nexports.AliasPathExpression = AliasPathExpression;\nexports.AttributePathExpression = AttributePathExpression;\nexports.BracketsExpression = BracketsExpression;\nexports.DeferRenderExpression = DeferRenderExpression;\nexports.ArrayExpression = ArrayExpression;\nexports.ObjectExpression = ObjectExpression;\nexports.FnExpression = FnExpression;\nexports.OperatorExpression = OperatorExpression;\nexports.NewExpression = NewExpression;\nexports.SequenceExpression = SequenceExpression;\nexports.ViewParentExpression = ViewParentExpression;\nexports.ScopedModelExpression = ScopedModelExpression;\n\nfunction lookup(segments, value) {\n  if (!segments) return value;\n\n  for (var i = 0, len = segments.length; i < len; i++) {\n    if (value == null) return value;\n    value = value[segments[i]];\n  }\n  return value;\n}\n\n// Unlike JS, `[]` is falsey. Otherwise, truthiness is the same as JS\nfunction templateTruthy(value) {\n  return (Array.isArray(value)) ? value.length > 0 : !!value;\n}\n\nfunction pathSegments(segments) {\n  var result = [];\n  for (var i = 0; i < segments.length; i++) {\n    var segment = segments[i];\n    result[i] = (typeof segment === 'object') ? segment.item : segment;\n  }\n  return result;\n}\n\nfunction renderValue(value, context) {\n  return (typeof value !== 'object') ? value :\n    (value instanceof Template) ? renderTemplate(value, context) :\n    (Array.isArray(value)) ? renderArray(value, context) :\n    renderObject(value, context);\n}\nfunction renderTemplate(value, context) {\n  var i = 1000;\n  while (value instanceof Template) {\n    if (--i < 0) throw new Error('Maximum template render passes exceeded');\n    value = value.get(context, true);\n  }\n  return value;\n}\nfunction renderArray(array, context) {\n  for (var i = 0; i < array.length; i++) {\n    if (hasTemplateProperty(array[i])) {\n      return renderArrayProperties(array, context);\n    }\n  }\n  return array;\n}\nfunction renderObject(object, context) {\n  return (hasTemplateProperty(object)) ?\n    renderObjectProperties(object, context) : object;\n}\nfunction hasTemplateProperty(object) {\n  if (!object) return false;\n  if (object.constructor !== Object) return false;\n  for (var key in object) {\n    if (object[key] instanceof Template) return true;\n  }\n  return false;\n}\nfunction renderArrayProperties(array, context) {\n  var out = new Array(array.length);\n  for (var i = 0; i < array.length; i++) {\n    out[i] = renderValue(array[i], context);\n  }\n  return out;\n}\nfunction renderObjectProperties(object, context) {\n  var out = {};\n  for (var key in object) {\n    out[key] = renderValue(object[key], context);\n  }\n  return out;\n}\n\nfunction ExpressionMeta(source, blockType, isEnd, as, keyAs, unescaped, bindType, valueType) {\n  this.source = source;\n  this.blockType = blockType;\n  this.isEnd = isEnd;\n  this.as = as;\n  this.keyAs = keyAs;\n  this.unescaped = unescaped;\n  this.bindType = bindType;\n  this.valueType = valueType;\n}\nExpressionMeta.prototype.module = 'expressions';\nExpressionMeta.prototype.type = 'ExpressionMeta';\nExpressionMeta.prototype.serialize = function() {\n  return serializeObject.instance(\n    this\n  , this.source\n  , this.blockType\n  , this.isEnd\n  , this.as\n  , this.keyAs\n  , this.unescaped\n  , this.bindType\n  , this.valueType\n  );\n};\n\nfunction Expression(meta) {\n  this.meta = meta;\n}\nExpression.prototype.module = 'expressions';\nExpression.prototype.type = 'Expression';\nExpression.prototype.serialize = function() {\n  return serializeObject.instance(this, this.meta);\n};\nExpression.prototype.toString = function() {\n  return this.meta && this.meta.source;\n};\nExpression.prototype.truthy = function(context) {\n  var blockType = this.meta.blockType;\n  if (blockType === 'else') return true;\n  var value = this.get(context, true);\n  var truthy = templateTruthy(value);\n  return (blockType === 'unless') ? !truthy : truthy;\n};\nExpression.prototype.get = function() {};\n// Return the expression's segment list with context objects\nExpression.prototype.resolve = function() {};\n// Return a list of segment lists or null\nExpression.prototype.dependencies = function() {};\n// Return the pathSegments that the expression currently resolves to or null\nExpression.prototype.pathSegments = function(context) {\n  var segments = this.resolve(context);\n  return segments && pathSegments(segments);\n};\nExpression.prototype.set = function(context, value) {\n  var segments = this.pathSegments(context);\n  if (!segments) throw new Error('Expression does not support setting');\n  context.controller.model._set(segments, value);\n};\nExpression.prototype._resolvePatch = function(context, segments) {\n  return (context && context.expression === this && context.item != null) ?\n    segments.concat(context) : segments;\n};\nExpression.prototype.isUnbound = function(context) {\n  // If the template being rendered has an explicit bindType keyword, such as:\n  // {{unbound #item.text}}\n  var bindType = this.meta && this.meta.bindType;\n  if (bindType === 'unbound') return true;\n  if (bindType === 'bound') return false;\n  // Otherwise, inherit from the context\n  return context.unbound;\n};\nExpression.prototype._lookupAndContextifyValue = function(value, context) {\n  if (this.segments && this.segments.length) {\n    // If expression has segments, e.g. `bar.baz` in `#foo.bar.baz`, then\n    // render the base value (e.g. `#foo`) if it's a template and look up the\n    // value at the indicated path.\n    value = renderTemplate(value, context);\n    value = lookup(this.segments, value);\n  }\n  if (value instanceof Template && !(value instanceof templates.ContextClosure)) {\n    // If we're not immediately rendering the template, then create a ContextClosure\n    // so that the value renders with the correct context later.\n    value = new templates.ContextClosure(value, context);\n  }\n  return value;\n};\n\n\nfunction LiteralExpression(value, meta) {\n  this.value = value;\n  this.meta = meta;\n}\nLiteralExpression.prototype = Object.create(Expression.prototype);\nLiteralExpression.prototype.constructor = LiteralExpression;\nLiteralExpression.prototype.type = 'LiteralExpression';\nLiteralExpression.prototype.serialize = function() {\n  return serializeObject.instance(this, this.value, this.meta);\n};\nLiteralExpression.prototype.get = function() {\n  return this.value;\n};\n\nfunction PathExpression(segments, meta) {\n  this.segments = segments;\n  this.meta = meta;\n}\nPathExpression.prototype = Object.create(Expression.prototype);\nPathExpression.prototype.constructor = PathExpression;\nPathExpression.prototype.type = 'PathExpression';\nPathExpression.prototype.serialize = function() {\n  return serializeObject.instance(this, this.segments, this.meta);\n};\nPathExpression.prototype.get = function(context) {\n  // See View::dependencies. This is needed in order to handle the case of\n  // getting dependencies within a component template, in which case we cannot\n  // access model data separate from rendering.\n  if (!context.controller) return;\n  return lookup(this.segments, context.controller.model.data);\n};\nPathExpression.prototype.resolve = function(context) {\n  // See View::dependencies. This is needed in order to handle the case of\n  // getting dependencies within a component template, in which case we cannot\n  // access model data separate from rendering.\n  if (!context.controller) return;\n  var segments = concat(context.controller._scope, this.segments);\n  return this._resolvePatch(context, segments);\n};\nPathExpression.prototype.dependencies = function(context, options) {\n  // See View::dependencies. This is needed in order to handle the case of\n  // getting dependencies within a component template, in which case we cannot\n  // access model data separate from rendering.\n  if (!context.controller) return;\n  var value = lookup(this.segments, context.controller.model.data);\n  var dependencies = getDependencies(value, context, options);\n  return appendDependency(dependencies, this, context);\n};\n\nfunction RelativePathExpression(segments, meta) {\n  this.segments = segments;\n  this.meta = meta;\n}\nRelativePathExpression.prototype = Object.create(Expression.prototype);\nRelativePathExpression.prototype.constructor = RelativePathExpression;\nRelativePathExpression.prototype.type = 'RelativePathExpression';\nRelativePathExpression.prototype.serialize = function() {\n  return serializeObject.instance(this, this.segments, this.meta);\n};\nRelativePathExpression.prototype.get = function(context) {\n  var relativeContext = context.forRelative(this);\n  var value = relativeContext.get();\n  return this._lookupAndContextifyValue(value, relativeContext);\n};\nRelativePathExpression.prototype.resolve = function(context) {\n  var relativeContext = context.forRelative(this);\n  var base = (relativeContext.expression) ?\n    relativeContext.expression.resolve(relativeContext) :\n    [];\n  if (!base) return;\n  var segments = base.concat(this.segments);\n  return this._resolvePatch(context, segments);\n};\nRelativePathExpression.prototype.dependencies = function(context, options) {\n  // Return inner dependencies from our ancestor\n  // (e.g., {{ with foo[bar] }} ... {{ this.x }} has 'bar' as a dependency.)\n  var relativeContext = context.forRelative(this);\n  var dependencies = relativeContext.expression &&\n    relativeContext.expression.dependencies(relativeContext, options);\n  return swapLastDependency(dependencies, this, context);\n};\n\nfunction AliasPathExpression(alias, segments, meta) {\n  this.alias = alias;\n  this.segments = segments;\n  this.meta = meta;\n}\nAliasPathExpression.prototype = Object.create(Expression.prototype);\nAliasPathExpression.prototype.constructor = AliasPathExpression;\nAliasPathExpression.prototype.type = 'AliasPathExpression';\nAliasPathExpression.prototype.serialize = function() {\n  return serializeObject.instance(this, this.alias, this.segments, this.meta);\n};\nAliasPathExpression.prototype.get = function(context) {\n  var aliasContext = context.forAlias(this.alias);\n  if (!aliasContext) return;\n  if (aliasContext.keyAlias === this.alias) {\n    return aliasContext.item;\n  }\n  var value = aliasContext.get();\n  return this._lookupAndContextifyValue(value, aliasContext);\n};\nAliasPathExpression.prototype.resolve = function(context) {\n  var aliasContext = context.forAlias(this.alias);\n  if (!aliasContext) return;\n  if (aliasContext.keyAlias === this.alias) return;\n  var base = aliasContext.expression.resolve(aliasContext);\n  if (!base) return;\n  var segments = base.concat(this.segments);\n  return this._resolvePatch(context, segments);\n};\nAliasPathExpression.prototype.dependencies = function(context, options) {\n  var aliasContext = context.forAlias(this.alias);\n  if (!aliasContext) return;\n  if (aliasContext.keyAlias === this.alias) {\n    // For keyAliases, use a dependency of the entire list, so that it will\n    // always update when the list itself changes. This is over-binding, but\n    // would otherwise be much more complex\n    var base = aliasContext.expression.resolve(aliasContext.parent);\n    if (!base) return;\n    return [base];\n  }\n\n  var dependencies = aliasContext.expression.dependencies(aliasContext, options);\n  return swapLastDependency(dependencies, this, context);\n};\n\nfunction AttributePathExpression(attribute, segments, meta) {\n  this.attribute = attribute;\n  this.segments = segments;\n  this.meta = meta;\n}\nAttributePathExpression.prototype = Object.create(Expression.prototype);\nAttributePathExpression.prototype.constructor = AttributePathExpression;\nAttributePathExpression.prototype.type = 'AttributePathExpression';\nAttributePathExpression.prototype.serialize = function() {\n  return serializeObject.instance(this, this.attribute, this.segments, this.meta);\n};\nAttributePathExpression.prototype.get = function(context) {\n  var attributeContext = context.forAttribute(this.attribute);\n  if (!attributeContext) return;\n  var value = attributeContext.attributes[this.attribute];\n  if (value instanceof Expression) {\n    value = value.get(attributeContext);\n  }\n  return this._lookupAndContextifyValue(value, attributeContext);\n};\nAttributePathExpression.prototype.resolve = function(context) {\n  var attributeContext = context.forAttribute(this.attribute);\n  if (!attributeContext) return;\n  // Attributes may be a template, an expression, or a literal value\n  var base;\n  var value = attributeContext.attributes[this.attribute];\n  if (value instanceof Expression || value instanceof Template) {\n    base = value.resolve(attributeContext);\n  }\n  if (!base) return;\n  var segments = base.concat(this.segments);\n  return this._resolvePatch(context, segments);\n};\nAttributePathExpression.prototype.dependencies = function(context, options) {\n  var attributeContext = context.forAttribute(this.attribute);\n  if (!attributeContext) return;\n\n  // Attributes may be a template, an expression, or a literal value\n  var value = attributeContext.attributes[this.attribute];\n  var dependencies = getDependencies(value, attributeContext, options);\n  return swapLastDependency(dependencies, this, context);\n};\n\nfunction BracketsExpression(before, inside, afterSegments, meta) {\n  this.before = before;\n  this.inside = inside;\n  this.afterSegments = afterSegments;\n  this.meta = meta;\n}\nBracketsExpression.prototype = Object.create(Expression.prototype);\nBracketsExpression.prototype.constructor = BracketsExpression;\nBracketsExpression.prototype.type = 'BracketsExpression';\nBracketsExpression.prototype.serialize = function() {\n  return serializeObject.instance(this, this.before, this.inside, this.afterSegments, this.meta);\n};\nBracketsExpression.prototype.get = function(context) {\n  var inside = this.inside.get(context);\n  if (inside == null) return;\n  var before = this.before.get(context);\n  if (!before) return;\n  var base = before[inside];\n  return (this.afterSegments) ? lookup(this.afterSegments, base) : base;\n};\nBracketsExpression.prototype.resolve = function(context) {\n  // Get and split the current value of the expression inside the brackets\n  var inside = this.inside.get(context);\n  if (inside == null) return;\n\n  // Concat the before, inside, and optional after segments\n  var base = this.before.resolve(context);\n  if (!base) return;\n  var segments = (this.afterSegments) ?\n    base.concat(inside, this.afterSegments) :\n    base.concat(inside);\n  return this._resolvePatch(context, segments);\n};\nBracketsExpression.prototype.dependencies = function(context, options) {\n  var before = this.before.dependencies(context, options);\n  if (before) before.pop();\n  var inner = this.inside.dependencies(context, options);\n  var dependencies = concat(before, inner);\n  return appendDependency(dependencies, this, context);\n};\n\n// This Expression is used to wrap a template so that when its containing\n// Expression--such as an ObjectExpression or ArrayExpression--is evaluated,\n// it returns the template unrendered and wrapped in the current context.\n// Separating evaluation of the containing expression from template rendering\n// is used to support array attributes of views. This way, we can evaluate an\n// array and iterate through it separately from rendering template content\nfunction DeferRenderExpression(template, meta) {\n  if (!(template instanceof Template)) {\n    throw new Error('DeferRenderExpression requires a Template argument');\n  }\n  this.template = template;\n  this.meta = meta;\n}\nDeferRenderExpression.prototype = Object.create(Expression.prototype);\nDeferRenderExpression.prototype.constructor = DeferRenderExpression;\nDeferRenderExpression.prototype.type = 'DeferRenderExpression';\nDeferRenderExpression.prototype.serialize = function() {\n  return serializeObject.instance(this, this.template, this.meta);\n};\nDeferRenderExpression.prototype.get = function(context) {\n  return new templates.ContextClosure(this.template, context);\n};\n\nfunction ArrayExpression(items, afterSegments, meta) {\n  this.items = items;\n  this.afterSegments = afterSegments;\n  this.meta = meta;\n}\nArrayExpression.prototype = Object.create(Expression.prototype);\nArrayExpression.prototype.constructor = ArrayExpression;\nArrayExpression.prototype.type = 'ArrayExpression';\nArrayExpression.prototype.serialize = function() {\n  return serializeObject.instance(this, this.items, this.afterSegments, this.meta);\n};\nArrayExpression.prototype.get = function(context) {\n  var items = new Array(this.items.length);\n  for (var i = 0; i < this.items.length; i++) {\n    var value = this.items[i].get(context);\n    items[i] = value;\n  }\n  return (this.afterSegments) ? lookup(this.afterSegments, items) : items;\n};\nArrayExpression.prototype.dependencies = function(context, options) {\n  if (!this.items) return;\n  var dependencies;\n  for (var i = 0; i < this.items.length; i++) {\n    var itemDependencies = this.items[i].dependencies(context, options);\n    dependencies = concat(dependencies, itemDependencies);\n  }\n  return dependencies;\n};\n\nfunction ObjectExpression(properties, afterSegments, meta) {\n  this.properties = properties;\n  this.afterSegments = afterSegments;\n  this.meta = meta;\n}\nObjectExpression.prototype = Object.create(Expression.prototype);\nObjectExpression.prototype.constructor = ObjectExpression;\nObjectExpression.prototype.type = 'ObjectExpression';\nObjectExpression.prototype.serialize = function() {\n  return serializeObject.instance(this, this.properties, this.afterSegments, this.meta);\n};\nObjectExpression.prototype.get = function(context) {\n  var object = {};\n  for (var key in this.properties) {\n    var value = this.properties[key].get(context);\n    object[key] = value;\n  }\n  return (this.afterSegments) ? lookup(this.afterSegments, object) : object;\n};\nObjectExpression.prototype.dependencies = function(context, options) {\n  if (!this.properties) return;\n  var dependencies;\n  for (var key in this.properties) {\n    var propertyDependencies = this.properties[key].dependencies(context, options);\n    dependencies = concat(dependencies, propertyDependencies);\n  }\n  return dependencies;\n};\n\nfunction FnExpression(segments, args, afterSegments, meta) {\n  this.segments = segments;\n  this.args = args;\n  this.afterSegments = afterSegments;\n  this.meta = meta;\n  var parentSegments = segments && segments.slice();\n  this.lastSegment = parentSegments && parentSegments.pop();\n  this.parentSegments = (parentSegments && parentSegments.length) ? parentSegments : null;\n}\nFnExpression.prototype = Object.create(Expression.prototype);\nFnExpression.prototype.constructor = FnExpression;\nFnExpression.prototype.type = 'FnExpression';\nFnExpression.prototype.serialize = function() {\n  return serializeObject.instance(this, this.segments, this.args, this.afterSegments, this.meta);\n};\nFnExpression.prototype.get = function(context) {\n  var value = this.apply(context);\n  // Lookup property underneath computed value if needed\n  return (this.afterSegments) ? lookup(this.afterSegments, value) : value;\n};\nFnExpression.prototype.apply = function(context, extraInputs) {\n  // See View::dependencies. This is needed in order to handle the case of\n  // getting dependencies within a component template, in which case we cannot\n  // access model data separate from rendering.\n  if (!context.controller) return;\n  var parent = this._lookupParent(context);\n  var fn = parent[this.lastSegment];\n  var getFn = fn.get || fn;\n  var out = this._applyFn(getFn, context, extraInputs, parent);\n  return out;\n};\nFnExpression.prototype._lookupParent = function(context) {\n  // Lookup function on current controller\n  var controller = context.controller;\n  var segments = this.parentSegments;\n  var parent = (segments) ? lookup(segments, controller) : controller;\n  if (parent && parent[this.lastSegment]) return parent;\n  // Otherwise lookup function on page\n  var page = controller.page;\n  if (controller !== page) {\n    parent = (segments) ? lookup(segments, page) : page;\n    if (parent && parent[this.lastSegment]) return parent;\n  }\n  // Otherwise lookup function on global\n  parent = (segments) ? lookup(segments, global) : global;\n  if (parent && parent[this.lastSegment]) return parent;\n  // Throw if not found\n  throw new Error('Function not found for: ' + this.segments.join('.'));\n};\nFnExpression.prototype._getInputs = function(context) {\n  var inputs = [];\n  for (var i = 0, len = this.args.length; i < len; i++) {\n    var value = this.args[i].get(context);\n    inputs.push(renderValue(value, context));\n  }\n  return inputs;\n};\nFnExpression.prototype._applyFn = function(fn, context, extraInputs, thisArg) {\n  // Apply if there are no path inputs\n  if (!this.args) {\n    return (extraInputs) ?\n      fn.apply(thisArg, extraInputs) :\n      fn.call(thisArg);\n  }\n  // Otherwise, get the current value for path inputs and apply\n  var inputs = this._getInputs(context);\n  if (extraInputs) {\n    for (var i = 0, len = extraInputs.length; i < len; i++) {\n      inputs.push(extraInputs[i]);\n    }\n  }\n  return fn.apply(thisArg, inputs);\n};\nFnExpression.prototype.dependencies = function(context, options) {\n  var dependencies = [];\n  if (!this.args) return dependencies;\n  for (var i = 0, len = this.args.length; i < len; i++) {\n    var argDependencies = this.args[i].dependencies(context, options);\n    if (!argDependencies || argDependencies.length < 1) continue;\n    var end = argDependencies.length - 1;\n    for (var j = 0; j < end; j++) {\n      dependencies.push(argDependencies[j]);\n    }\n    var last = argDependencies[end];\n    if (last[last.length - 1] !== '*') {\n      last = last.concat('*');\n    }\n    dependencies.push(last);\n  }\n  return dependencies;\n};\nFnExpression.prototype.set = function(context, value) {\n  var controller = context.controller;\n  var fn, parent;\n  while (controller) {\n    parent = (this.parentSegments) ?\n      lookup(this.parentSegments, controller) :\n      controller;\n    fn = parent && parent[this.lastSegment];\n    if (fn) break;\n    controller = controller.parent;\n  }\n  var setFn = fn && fn.set;\n  if (!setFn) throw new Error('No setter function for: ' + this.segments.join('.'));\n  var inputs = this._getInputs(context);\n  inputs.unshift(value);\n  var out = setFn.apply(parent, inputs);\n  for (var i in out) {\n    this.args[i].set(context, out[i]);\n  }\n};\n\nfunction NewExpression(segments, args, afterSegments, meta) {\n  FnExpression.call(this, segments, args, afterSegments, meta);\n}\nNewExpression.prototype = Object.create(FnExpression.prototype);\nNewExpression.prototype.constructor = NewExpression;\nNewExpression.prototype.type = 'NewExpression';\nNewExpression.prototype._applyFn = function(Fn, context) {\n  // Apply if there are no path inputs\n  if (!this.args) return new Fn();\n  // Otherwise, get the current value for path inputs and apply\n  var inputs = this._getInputs(context);\n  inputs.unshift(null);\n  return new (Fn.bind.apply(Fn, inputs))();\n};\n\nfunction OperatorExpression(name, args, afterSegments, meta) {\n  this.name = name;\n  this.args = args;\n  this.afterSegments = afterSegments;\n  this.meta = meta;\n  this.getFn = operatorFns.get[name];\n  this.setFn = operatorFns.set[name];\n}\nOperatorExpression.prototype = Object.create(FnExpression.prototype);\nOperatorExpression.prototype.constructor = OperatorExpression;\nOperatorExpression.prototype.type = 'OperatorExpression';\nOperatorExpression.prototype.serialize = function() {\n  return serializeObject.instance(this, this.name, this.args, this.afterSegments, this.meta);\n};\nOperatorExpression.prototype.apply = function(context) {\n  var inputs = this._getInputs(context);\n  return this.getFn.apply(null, inputs);\n};\nOperatorExpression.prototype.set = function(context, value) {\n  var inputs = this._getInputs(context);\n  inputs.unshift(value);\n  var out = this.setFn.apply(null, inputs);\n  for (var i in out) {\n    this.args[i].set(context, out[i]);\n  }\n};\n\nfunction SequenceExpression(args, afterSegments, meta) {\n  this.args = args;\n  this.afterSegments = afterSegments;\n  this.meta = meta;\n}\nSequenceExpression.prototype = Object.create(OperatorExpression.prototype);\nSequenceExpression.prototype.constructor = SequenceExpression;\nSequenceExpression.prototype.type = 'SequenceExpression';\nSequenceExpression.prototype.serialize = function() {\n  return serializeObject.instance(this, this.args, this.afterSegments, this.meta);\n};\nSequenceExpression.prototype.name = ',';\nSequenceExpression.prototype.getFn = operatorFns.get[','];\nSequenceExpression.prototype.resolve = function(context) {\n  var last = this.args[this.args.length - 1];\n  return last.resolve(context);\n};\nSequenceExpression.prototype.dependencies = function(context, options) {\n  var dependencies = [];\n  for (var i = 0, len = this.args.length; i < len; i++) {\n    var argDependencies = this.args[i].dependencies(context, options);\n    for (var j = 0, jLen = argDependencies.length; j < jLen; j++) {\n      dependencies.push(argDependencies[j]);\n    }\n  }\n  return dependencies;\n};\n\n// For each method that takes a context argument, get the nearest parent view\n// context, then delegate methods to the inner expression\nfunction ViewParentExpression(expression, meta) {\n  this.expression = expression;\n  this.meta = meta;\n}\nViewParentExpression.prototype = Object.create(Expression.prototype);\nViewParentExpression.prototype.constructor = ViewParentExpression;\nViewParentExpression.prototype.type = 'ViewParentExpression';\nViewParentExpression.prototype.serialize = function() {\n  return serializeObject.instance(this, this.expression, this.meta);\n};\nViewParentExpression.prototype.get = function(context) {\n  var parentContext = context.forViewParent();\n  return this.expression.get(parentContext);\n};\nViewParentExpression.prototype.resolve = function(context) {\n  var parentContext = context.forViewParent();\n  return this.expression.resolve(parentContext);\n};\nViewParentExpression.prototype.dependencies = function(context, options) {\n  var parentContext = context.forViewParent();\n  return this.expression.dependencies(parentContext, options);\n};\nViewParentExpression.prototype.pathSegments = function(context) {\n  var parentContext = context.forViewParent();\n  return this.expression.pathSegments(parentContext);\n};\nViewParentExpression.prototype.set = function(context, value) {\n  var parentContext = context.forViewParent();\n  return this.expression.set(parentContext, value);\n};\n\nfunction ScopedModelExpression(expression, meta) {\n  this.expression = expression;\n  this.meta = meta;\n}\nScopedModelExpression.prototype = Object.create(Expression.prototype);\nScopedModelExpression.prototype.constructor = ScopedModelExpression;\nScopedModelExpression.prototype.type = 'ScopedModelExpression';\nScopedModelExpression.prototype.serialize = function() {\n  return serializeObject.instance(this, this.expression, this.meta);\n};\n// Return a scoped model instead of the value\nScopedModelExpression.prototype.get = function(context) {\n  var segments = this.pathSegments(context);\n  if (!segments) return;\n  return context.controller.model.scope(segments.join('.'));\n};\n// Delegate other methods to the inner expression\nScopedModelExpression.prototype.resolve = function(context) {\n  return this.expression.resolve(context);\n};\nScopedModelExpression.prototype.dependencies = function(context, options) {\n  return this.expression.dependencies(context, options);\n};\nScopedModelExpression.prototype.pathSegments = function(context) {\n  return this.expression.pathSegments(context);\n};\nScopedModelExpression.prototype.set = function(context, value) {\n  return this.expression.set(context, value);\n};\n\nfunction getDependencies(value, context, options) {\n  if (value instanceof Expression || value instanceof Template) {\n    return value.dependencies(context, options);\n  }\n}\n\nfunction appendDependency(dependencies, expression, context) {\n  var segments = expression.resolve(context);\n  if (!segments) return dependencies;\n  if (dependencies) {\n    dependencies.push(segments);\n    return dependencies;\n  }\n  return [segments];\n}\n\nfunction swapLastDependency(dependencies, expression, context) {\n  if (!expression.segments.length) {\n    return dependencies;\n  }\n  var segments = expression.resolve(context);\n  if (!segments) return dependencies;\n  if (dependencies) {\n    dependencies.pop();\n    dependencies.push(segments);\n    return dependencies;\n  }\n  return [segments];\n}\n",
    "exports.contexts = require('./lib/contexts');\nexports.expressions = require('./lib/expressions');\nexports.operatorFns = require('./lib/operatorFns');\nexports.options = require('./lib/options');\nexports.templates = require('./lib/templates');\n",
    "module.exports = Dom;\n\nfunction Dom(controller) {\n  this.controller = controller;\n  this._listeners = null;\n}\n\nDom.prototype._initListeners = function() {\n  var dom = this;\n  this.controller.on('destroy', function domOnDestroy() {\n    var listeners = dom._listeners;\n    if (!listeners) return;\n    for (var i = listeners.length; i--;) {\n      listeners[i].remove();\n    }\n    dom._listeners = null;\n  });\n  return this._listeners = [];\n};\n\nDom.prototype._listenerIndex = function(domListener) {\n  var listeners = this._listeners;\n  if (!listeners) return -1;\n  for (var i = listeners.length; i--;) {\n    if (listeners[i].equals(domListener)) return i;\n  }\n  return -1;\n};\n\nDom.prototype.addListener = function(type, target, listener, useCapture) {\n  if (typeof target === 'function') {\n    useCapture = listener;\n    listener = target;\n    target = document;\n  }\n  var domListener =\n    (type === 'destroy') ? new DestroyListener(target, listener) :\n    new DomListener(type, target, listener, useCapture);\n  if (-1 === this._listenerIndex(domListener)) {\n    var listeners = this._listeners || this._initListeners();\n    listeners.push(domListener);\n  }\n  domListener.add();\n};\nDom.prototype.on = Dom.prototype.addListener;\n\nDom.prototype.once = function(type, target, listener, useCapture) {\n  if (typeof target === 'function') {\n    useCapture = listener;\n    listener = target;\n    target = document;\n  }\n  this.addListener(type, target, wrappedListener, useCapture);\n  var dom = this;\n  function wrappedListener() {\n    dom.removeListener(type, target, wrappedListener, useCapture);\n    return listener.apply(this, arguments);\n  }\n};\n\nDom.prototype.removeListener = function(type, target, listener, useCapture) {\n  if (typeof target === 'function') {\n    useCapture = listener;\n    listener = target;\n    target = document;\n  }\n  var domListener = new DomListener(type, target, listener, useCapture);\n  domListener.remove();\n  var i = this._listenerIndex(domListener);\n  if (i > -1) this._listeners.splice(i, 1);\n};\n\nfunction DomListener(type, target, listener, useCapture) {\n  this.type = type;\n  this.target = target;\n  this.listener = listener;\n  this.useCapture = !!useCapture;\n}\nDomListener.prototype.equals = function(domListener) {\n  return this.listener === domListener.listener &&\n    this.target === domListener.target &&\n    this.type === domListener.type &&\n    this.useCapture === domListener.useCapture;\n};\nDomListener.prototype.add = function() {\n  this.target.addEventListener(this.type, this.listener, this.useCapture);\n};\nDomListener.prototype.remove = function() {\n  this.target.removeEventListener(this.type, this.listener, this.useCapture);\n};\n\nfunction DestroyListener(target, listener) {\n  DomListener.call(this, 'destroy', target, listener);\n}\nDestroyListener.prototype = new DomListener();\nDestroyListener.prototype.add = function() {\n  var listeners = this.target.$destroyListeners || (this.target.$destroyListeners = []);\n  if (listeners.indexOf(this.listener) === -1) {\n    listeners.push(this.listener);\n  }\n};\nDestroyListener.prototype.remove = function() {\n  var listeners = this.target.$destroyListeners;\n  if (!listeners) return;\n  var index = listeners.indexOf(this.listener);\n  if (index !== -1) {\n    listeners.splice(index, 1);\n  }\n};\n",
    "var EventEmitter = require('events').EventEmitter;\nvar util = require('racer/lib/util');\nvar Dom = require('./Dom');\n\nmodule.exports = Controller;\n\nfunction Controller(app, page, model) {\n  EventEmitter.call(this);\n  this.dom = new Dom(this);\n  this.app = app;\n  this.page = page;\n  this.model = model;\n  model.data.$controller = this;\n}\n\nutil.mergeInto(Controller.prototype, EventEmitter.prototype);\n\nController.prototype.emitCancellable = function() {\n  var cancelled = false;\n  function cancel() {\n    cancelled = true;\n  }\n\n  var args = Array.prototype.slice.call(arguments);\n  args.push(cancel);\n  this.emit.apply(this, args);\n\n  return cancelled;\n};\n\nController.prototype.emitDelayable = function() {\n  var args = Array.prototype.slice.call(arguments);\n  var callback = args.pop();\n\n  var delayed = false;\n  function delay() {\n    delayed = true;\n    return callback;\n  }\n\n  args.push(delay);\n  this.emit.apply(this, args);\n  if (!delayed) callback();\n\n  return delayed;\n};\n",
    "/*\n * components.js\n *\n * Components associate custom script functionality with a view. They can be\n * distributed as standalone modules containing templates, scripts, and styles.\n * They can also be used to modularize application functionality.\n *\n */\n\nvar util = require('racer/lib/util');\nvar derbyTemplates = require('derby-templates');\nvar templates = derbyTemplates.templates;\nvar expressions = derbyTemplates.expressions;\nvar Controller = require('./Controller');\nvar slice = [].slice;\n\nexports.Component = Component;\nexports.ComponentAttribute = ComponentAttribute;\nexports.ComponentAttributeBinding = ComponentAttributeBinding;\nexports.ComponentFactory = ComponentFactory;\nexports.SingletonComponentFactory = SingletonComponentFactory;\nexports.createFactory = createFactory;\nexports.extendComponent = extendComponent;\n\nfunction Component(context, data) {\n  var parent = context.controller;\n  var id = context.id();\n  var scope = ['$components', id];\n  var model = parent.model.root.eventContext(id);\n  model._at = scope.join('.');\n  data.id = id;\n  model._set(scope, data);\n  // Store a reference to the component's scope such that the expression\n  // getters are relative to the component\n  model.data = data;\n\n  Controller.call(this, parent.app, parent.page, model);\n  this.parent = parent;\n  this.context = context.componentChild(this);\n  this.id = id;\n  this._scope = scope;\n\n  // Add reference to this component on the page so that all components\n  // associated with a page can be destroyed when the page transitions\n  this.page._components[id] = this;\n  this.isDestroyed = false;\n}\n\nutil.mergeInto(Component.prototype, Controller.prototype);\n\nComponent.prototype.destroy = function() {\n  this.emit('destroy');\n  this.model.removeContextListeners();\n  this.model.destroy();\n  delete this.page._components[this.id];\n  var components = this.page._eventModel.object.$components;\n  if (components) delete components.object[this.id];\n  this.isDestroyed = true;\n};\n\n// Apply calls to the passed in function with the component as the context.\n// Stop calling back once the component is destroyed, which avoids possible bugs\n// and memory leaks.\nComponent.prototype.bind = function(callback) {\n  var component = this;\n  this.on('destroy', function() {\n    // Reduce potential for memory leaks by removing references to the component\n    // and the passed in callback, which could have closure references\n    component = null;\n    // Cease calling back after component is removed from the DOM\n    callback = null;\n  });\n  return function componentBindWrapper() {\n    if (!callback) return;\n    return callback.apply(component, arguments);\n  };\n};\n\n// When passing in a numeric delay, calls the function at most once per that\n// many milliseconds. Like Underscore, the function will be called on the\n// leading and the trailing edge of the delay as appropriate. Unlike Underscore,\n// calls are consistently called via setTimeout and are never synchronous. This\n// should be used for reducing the frequency of ongoing updates, such as scroll\n// events or other continuous streams of events.\n//\n// Additionally, implements an interface intended to be used with\n// window.requestAnimationFrame or process.nextTick. If one of these is passed,\n// it will be used to create a single async call following any number of\n// synchronous calls. This mode is typically used to coalesce many synchronous\n// events (such as multiple model events) into a single async event.\n//\n// Like component.bind(), will no longer call back once the component is\n// destroyed, which avoids possible bugs and memory leaks.\nComponent.prototype.throttle = function(callback, delayArg) {\n  var component = this;\n  this.on('destroy', function() {\n    // Reduce potential for memory leaks by removing references to the component\n    // and the passed in callback, which could have closure references\n    component = null;\n    // Cease calling back after component is removed from the DOM\n    callback = null;\n  });\n\n  // throttle(callback)\n  // throttle(callback, 150)\n  if (delayArg == null || typeof delayArg === 'number') {\n    var delay = delayArg || 0;\n    var nextArgs;\n    var previous;\n    var boundCallback = function() {\n      var args = nextArgs;\n      nextArgs = null;\n      previous = +new Date();\n      if (callback && args) {\n        callback.apply(component, args);\n      }\n    };\n    return function componentThrottleWrapper() {\n      var queueCall = !nextArgs;\n      nextArgs = slice.call(arguments);\n      if (queueCall) {\n        var now = +new Date();\n        var remaining = Math.max(previous + delay - now, 0);\n        setTimeout(boundCallback, remaining);\n      }\n    };\n  }\n\n  // throttle(callback, window.requestAnimationFrame)\n  // throttle(callback, process.nextTick)\n  if (typeof delayArg === 'function') {\n    var nextArgs;\n    var boundCallback = function() {\n      var args = nextArgs;\n      nextArgs = null;\n      if (callback && args) {\n        callback.apply(component, args);\n      }\n    };\n    return function componentThrottleWrapper() {\n      var queueCall = !nextArgs;\n      nextArgs = slice.call(arguments);\n      if (queueCall) delayArg(boundCallback);\n    };\n  }\n\n  throw new Error('Second argument must be a delay function or number');\n};\n\n// Suppresses calls until the function is no longer called for that many\n// milliseconds. This should be used for delaying updates triggered by user\n// input, such as window resizing, or typing text that has a live preview or\n// client-side validation. This should not be used for inputs that trigger\n// server requests, such as search autocomplete; use debounceAsync for those\n// cases instead.\n//\n// Like component.bind(), will no longer call back once the component is\n// destroyed, which avoids possible bugs and memory leaks.\nComponent.prototype.debounce = function(callback, delay) {\n  delay = delay || 0;\n  if (typeof delay !== 'number') {\n    throw new Error('Second argument must be a number');\n  }\n  var component = this;\n  this.on('destroy', function() {\n    // Reduce potential for memory leaks by removing references to the component\n    // and the passed in callback, which could have closure references\n    component = null;\n    // Cease calling back after component is removed from the DOM\n    callback = null;\n  });\n  var nextArgs;\n  var timeout;\n  var boundCallback = function() {\n    var args = nextArgs;\n    nextArgs = null;\n    timeout = null;\n    if (callback && args) {\n      callback.apply(component, args);\n    }\n  };\n  return function componentDebounceWrapper() {\n    nextArgs = slice.call(arguments);\n    if (timeout) clearTimeout(timeout);\n    timeout = setTimeout(boundCallback, delay);\n  };\n};\n\n// Forked from: https://github.com/juliangruber/async-debounce\n//\n// Like debounce(), suppresses calls until the function is no longer called for\n// that many milliseconds. In addition, suppresses calls while the callback\n// function is running. In other words, the callback will not be called again\n// until the supplied done() argument is called. When the debounced function is\n// called while the callback is running, the callback will be called again\n// immediately after done() is called. Thus, the callback will always receive\n// the last value passed to the debounced function.\n//\n// This avoids the potential for multiple callbacks to execute in parallel and\n// complete out of order. It also acts as an adaptive rate limiter. Use this\n// method to debounce any field that triggers an async call as the user types.\n//\n// Like component.bind(), will no longer call back once the component is\n// destroyed, which avoids possible bugs and memory leaks.\nComponent.prototype.debounceAsync = function(callback, delay) {\n  var applyArguments = callback.length !== 1;\n  delay = delay || 0;\n  if (typeof delay !== 'number') {\n    throw new Error('Second argument must be a number');\n  }\n  var component = this;\n  this.on('destroy', function() {\n    // Reduce potential for memory leaks by removing references to the component\n    // and the passed in callback, which could have closure references\n    component = null;\n    // Cease calling back after component is removed from the DOM\n    callback = null;\n  });\n  var running = false;\n  var nextArgs;\n  var timeout;\n  function done() {\n    var args = nextArgs;\n    nextArgs = null;\n    timeout = null;\n    if (callback && args) {\n      running = true;\n      args.push(done);\n      callback.apply(component, args);\n    } else {\n      running = false;\n    }\n  }\n  return function componentDebounceAsyncWrapper() {\n    nextArgs = (applyArguments) ? slice.call(arguments) : [];\n    if (timeout) clearTimeout(timeout);\n    if (running) return;\n    timeout = setTimeout(done, delay);\n  };\n};\n\nComponent.prototype.get = function(viewName, unescaped) {\n  var view = this.getView(viewName);\n  return view.get(this.context, unescaped);\n};\n\nComponent.prototype.getFragment = function(viewName) {\n  var view = this.getView(viewName);\n  return view.getFragment(this.context);\n};\n\nComponent.prototype.getView = function(viewName) {\n  var contextView = this.context.getView();\n  return (viewName) ?\n    this.app.views.find(viewName, contextView.namespace) : contextView;\n};\n\nComponent.prototype.getAttribute = function(key) {\n  var attributeContext = this.context.forAttribute(key);\n  if (!attributeContext) return;\n  var value = attributeContext.attributes[key];\n  if (value instanceof expressions.Expression) {\n    value = value.get(attributeContext);\n  }\n  return expressions.renderValue(value, this.context);\n};\n\nComponent.prototype.setAttribute = function(key, value) {\n  this.context.parent.attributes[key] = value;\n};\n\nComponent.prototype.setNullAttribute = function(key, value) {\n  var attributes = this.context.parent.attributes;\n  if (attributes[key] == null) attributes[key] = value;\n};\n\nfunction ComponentAttribute(expression, model, key) {\n  this.expression = expression;\n  this.model = model;\n  this.key = key;\n}\nComponentAttribute.prototype.update = function(context, binding) {\n  var value = this.expression.get(context);\n  binding.condition = value;\n  this.model.setDiff(this.key, value);\n};\nfunction ComponentAttributeBinding(expression, model, key, context) {\n  this.template = new ComponentAttribute(expression, model, key);\n  this.context = context;\n  this.condition = expression.get(context);\n}\nComponentAttributeBinding.prototype = Object.create(templates.Binding.prototype);\nComponentAttributeBinding.prototype.constructor = ComponentAttributeBinding;\n\nfunction setModelAttributes(context, model) {\n  var attributes = context.parent.attributes;\n  if (!attributes) return;\n  // Set attribute values on component model\n  for (var key in attributes) {\n    var value = attributes[key];\n    setModelAttribute(context, model, key, value);\n  }\n}\n\nfunction setModelAttribute(context, model, key, value) {\n  // If an attribute is an Expression, set its current value in the model\n  // and keep it up to date. When it is a resolvable path, use a Racer ref,\n  // which makes it a two-way binding. Otherwise, set to the current value\n  // and create a binding that will set the value in the model as the\n  // expression's dependencies change.\n  if (value instanceof expressions.Expression) {\n    var segments = value.pathSegments(context);\n    if (segments) {\n      model.root.ref(model._at + '.' + key, segments.join('.'), {updateIndices: true});\n    } else {\n      var binding = new ComponentAttributeBinding(value, model, key, context);\n      context.addBinding(binding);\n      model.set(key, binding.condition);\n    }\n    return;\n  }\n\n  // If an attribute is a Template, set a template object in the model.\n  // Eagerly rendering a template can cause excessive rendering when the\n  // developer wants to pass in a complex chunk of HTML, and if we were to\n  // set a string in the model that represents the template value, we'd lose\n  // the ability to use the value in the component's template, since HTML\n  // would be escaped and we'd lose the ability to create proper bindings.\n  //\n  // This may be of surprise to developers, since it may not be intuitive\n  // whether a passed in value will produce an expression or a template. To\n  // get the rendered value consistently, the component's getAttribute(key)\n  // method may be used to get the value that would be rendered.\n  if (value instanceof templates.Template) {\n    var template = new templates.ContextClosure(value, context);\n    model.set(key, template);\n    return;\n  }\n\n  // For all other value types, set the passed in value directly. Passed in\n  // values will only be set initially, so model paths should be used if\n  // bindings are desired.\n  model.set(key, value);\n}\n\nfunction createFactory(constructor) {\n  // DEPRECATED: constructor.prototype.singleton is deprecated. \"singleton\"\n  // static property on the constructor is preferred\n  return (constructor.singleton || constructor.prototype.singleton) ?\n    new SingletonComponentFactory(constructor) :\n    new ComponentFactory(constructor);\n}\n\nfunction emitInitHooks(context, component) {\n  if (!context.initHooks) return;\n  // Run initHooks for `on` listeners immediately before init\n  for (var i = 0, len = context.initHooks.length; i < len; i++) {\n    context.initHooks[i].emit(context, component);\n  }\n}\n\nfunction ComponentModelData() {\n  this.id = null;\n  this.$controller = null;\n}\n\nfunction ComponentFactory(constructor) {\n  this.constructor = constructor;\n}\nComponentFactory.prototype.init = function(context) {\n  var DataConstructor = this.constructor.DataConstructor || ComponentModelData;\n  var data = new DataConstructor();\n  var component = new this.constructor(context, data);\n  // Detect whether the component constructor already called super by checking\n  // for one of the properties it sets. If not, call the Component constructor\n  if (!component.context) {\n    Component.call(component, context, data);\n  }\n\n  setModelAttributes(component.context, component.model);\n\n  // Do the user-specific initialization. The component constructor should be\n  // an empty function and the actual initialization code should be done in the\n  // component's init method. This means that we don't have to rely on users\n  // properly calling the Component constructor method and avoids having to\n  // play nice with how CoffeeScript extends class constructors\n  emitInitHooks(context, component);\n  component.emit('init', component);\n  if (component.init) component.init(component.model);\n\n  return component.context;\n};\nComponentFactory.prototype.create = function(context) {\n  var component = context.controller;\n  component.emit('create', component);\n  // Call the component's create function after its view is rendered\n  if (component.create) {\n    component.create(component.model, component.dom);\n  }\n};\n\nfunction noop() {}\n\nfunction SingletonComponentFactory(constructor) {\n  this.constructor = constructor;\n  this.component = null;\n  // Disable component from being destroyed, since it is intended to\n  // be used multiple times\n  constructor.prototype.destroy = noop;\n}\nSingletonComponentFactory.prototype.isSingleton = true;\nSingletonComponentFactory.prototype.init = function(context) {\n  if (!this.component) this.component = new this.constructor();\n  return context.componentChild(this.component);\n};\n// Don't call the init or create methods for singleton components\nSingletonComponentFactory.prototype.create = noop;\n\nfunction isBasePrototype(object) {\n  return (object === Object.prototype) ||\n    (object === Function.prototype) ||\n    (object === null);\n}\nfunction getRootPrototype(object) {\n  while (true) {\n    var prototype = Object.getPrototypeOf(object);\n    if (isBasePrototype(prototype)) return object;\n    object = prototype;\n  }\n}\nvar _extendComponent = (Object.setPrototypeOf && Object.getPrototypeOf) ?\n  // Modern version, which supports ES6 classes\n  function(constructor) {\n    // Find the end of the prototype chain\n    var rootPrototype = getRootPrototype(constructor.prototype);\n\n    // This guard is a workaroud to a bug that has occurred in Chakra when\n    // app.component() is invoked twice on the same constructor. In that case,\n    // the `instanceof Component` check in extendComponent incorrectly returns\n    // false after the prototype has already been set to `Component.prototype`.\n    // Then, this code proceeds to set the prototype of Component.prototype\n    // to itself, which throws a \"Cyclic __proto__ value\" error.\n    // https://github.com/Microsoft/ChakraCore/issues/5915\n    if (rootPrototype === Component.prototype) return;\n\n    // Establish inheritance with the pattern that Node's util.inherits() uses\n    // if Object.setPrototypeOf() is available (all modern browsers & IE11).\n    // This inhertance pattern is not equivalent to class extends, but it does\n    // work to make instances of the constructor inherit the desired prototype\n    // https://github.com/nodejs/node/issues/4179\n    Object.setPrototypeOf(rootPrototype, Component.prototype);\n  } :\n  // Fallback for older browsers\n  function(constructor) {\n    // In this version, we iterate over all of the properties on the\n    // constructor's prototype and merge them into a new prototype object.\n    // This flattens the prototype chain, meaning that instanceof will not\n    // work for classes from which the current component inherits\n    var prototype = constructor.prototype;\n    // Otherwise, modify constructor.prototype. This won't work with ES6\n    // classes, since their prototype property is non-writeable. However, it\n    // does work in older browsers that don't support Object.setPrototypeOf(),\n    // and those browsers don't support ES6 classes either\n    constructor.prototype = Object.create(Component.prototype);\n    constructor.prototype.constructor = constructor;\n    util.mergeInto(constructor.prototype, prototype);\n  };\nfunction extendComponent(constructor) {\n  // Don't do anything if the constructor already extends Component\n  if (constructor.prototype instanceof Component) return;\n  // Otherwise, append Component.prototype to constructor's prototype chain\n  _extendComponent(constructor);\n}\n",
    "var expressions = require('derby-templates').expressions;\n\n// The many trees of bindings:\n//\n// - Model tree, containing your actual data. Eg:\n//    {users:{fred:{age:40}, wilma:{age:37}}}\n//\n// - Event model tree, whose structure mirrors the model tree. The event model\n//   tree lets us annotate the model tree with listeners which fire when events\n//   change. I think there are three types of listeners:\n//\n//   1. Reference binding binds to whatever is referred to by the path. Eg,\n//   {{each items as item}} binds item by reference as it goes through the\n//   list.\n//   2. Fixed path bindings explicitly bind to whatever is at that path\n//   regardless of how the model changes underneath the event model\n//   3. Listen on a subtree and fire when anything in the subtree changes. This\n//   is used for custom functions.\n//\n// {{foo.id}} would listen on the fixed path ['foo', 'id'].\n//\n//\n// - Context tree represents the changing (embedded) contexts of the templating\n//   engine. This maps to the tree of templates and allows templates to reference\n//   anything in any of their enclosing template scopes.\n//\n\nmodule.exports = EventModel;\n\n// The code here uses object-based set pattern where objects are keyed using\n// sequentially generated IDs.\nvar nextId = 1;\n\n// A binding object is something with update(), insert()/move()/remove() defined.\n\n\n// Given x[y] with model.get(y) == 5:\n//  item = 5\n//  segments = ['y']\n//  outside = the EventModel for x.\n//\n// Note that item could be a Context or another ModelRef - eg:\n//\n// {{ each foo as bar }} ... {{ x[bar] }}  -or-  {{ x[y[z]] }}\nfunction ModelRef(model, item, segments, outside) {\n  this.id = nextId++;\n\n  // We need a reference to the model & our segment list so we can update our\n  // value.\n  this.model = model;\n  this.segments = segments;\n\n  // Our current value.\n  this.item = item;\n\n  // outside is a reference to the EventModel of the thing on the lhs of the\n  // brackets. For example, in x[y].z, outside is the EventModel of x.\n  this.outside = outside;\n\n  // result is the EventModel of the evaluated version of the brackets. In\n  // x[y].z, its the EventModel of x[y].\n  this.result = outside.child(item).refChild(this);\n}\n\nModelRef.prototype.update = function() {\n  var segments = expressions.pathSegments(this.segments);\n  var newItem = expressions.lookup(segments, this.model.data);\n  if (this.item === newItem) return;\n\n  // First remove myself.\n  delete this.outside.child(this.item).refChildren[this.id];\n\n  this.item = newItem;\n\n  var container = this.outside.child(this.item);\n  // I want to just call refChild but that would create a new EM. Instead I\n  // want to just implant my current EM there.\n  if (!container.refChildren) container.refChildren = new RefChildrenMap();\n  container.refChildren[this.id] = this.result;\n\n  // Finally, update all the bindings in the tree.\n  this.result.update();\n};\n\n\nfunction RefOutMap() {}\nfunction RefChildrenMap() {}\nfunction BindingsMap() {}\nfunction ItemContextsMap() {}\nfunction EventModelsMap() {}\n\nfunction EventModel() {\n  this.id = nextId++;\n\n  // Most of these won't ever be filled in, so I'm just leaving them null.\n  //\n  // These contain our EventModel children.\n  this.object = null;\n  this.array = null;\n\n  // This contains any EventModel children which have floating references.\n  this.arrayByReference = null;\n\n  // If the data stored here is ever used to lookup other values, this is an\n  // object mapping remote child ID -> ref.\n  //\n  // Eg given x[y], y.refOut[x.id] = <Binding>\n  this.refOut = null;\n\n  // This is a map from ref id -> event model for events bound to this\n  // EventModel but via a ref. We could just merge them into the main tree, but\n  // this way they're easy to move.\n  //\n  // Eg, given x[y] (y=1), x.1.refChildren[ref id] is an EventModel.\n  this.refChildren = null;\n\n  this.bindings = null;\n\n  // Item contexts are contexts which need their item number changed as this\n  // EventModel object moves around its surrounding list.\n  this.itemContexts = null;\n}\n\nEventModel.prototype.refChild = function(ref) {\n  if (!this.refChildren) this.refChildren = new RefChildrenMap();\n  var id = ref.id;\n\n  if (!this.refChildren[id]) {\n    this.refChildren[id] = new EventModel();\n  }\n  return this.refChildren[id];\n};\n\nEventModel.prototype.arrayLookup = function(model, segmentsBefore, segmentsInside) {\n  var segments = expressions.pathSegments(segmentsInside);\n  var item = expressions.lookup(segments, model.data);\n\n  var source = this.at(segmentsInside);\n\n  // What the array currently resolves to. Given x[y] with y=1, container is\n  // the EM for x\n  var container = this.at(segmentsBefore);\n\n  if (!source.refOut) source.refOut = new RefOutMap();\n\n  var ref = source.refOut[container.id];\n  if (ref == null) {\n    ref = new ModelRef(model, item, segmentsInside, container);\n    source.refOut[container.id] = ref;\n  }\n\n  return ref;\n};\n\n// Returns the EventModel node of the named child.\nEventModel.prototype.child = function(segment) {\n  var container;\n  if (typeof segment === 'string') {\n    // Object\n    if (!this.object) this.object = {};\n    container = this.object;\n\n  } else if (typeof segment === 'number') {\n    // Array by value\n    if (!this.array) this.array = [];\n    container = this.array;\n\n  } else if (segment instanceof ModelRef) {\n    // Array reference. We'll need to lookup the child with the right\n    // value, then look inside its ref children for the right EventModel\n    // (so we can update it later). This is pretty janky, but should be\n    // *correct* even in the face of recursive array accessors.\n    //\n    // This will calculate it based on the current segment values, but refs\n    // cache the EM anyway.\n    //return this.child(segment.item).refChild(segment);\n    return segment.result;\n\n  } else {\n    // Array by reference\n    if (!this.arrayByReference) this.arrayByReference = [];\n    container = this.arrayByReference;\n    segment = segment.item;\n  }\n\n  return container[segment] || (container[segment] = new EventModel());\n};\n\n// Returns the EventModel node at the given segments list. Note that although\n// EventModel nodes are unique, its possible for multiple EventModel nodes to\n// refer to the same section of the model because of references.\n//\n// If you want to update the bindings that refer to a specific path, use\n// each().\n//\n// EventModel objects are created as needed.\nEventModel.prototype.at = function(segments) {\n  // For unbound dependancies.\n  if (segments == null) return this;\n\n  var eventModel = this;\n\n  for (var i = 0; i < segments.length; i++) {\n    eventModel = eventModel.child(segments[i]);\n  }\n\n  return eventModel;\n};\n\nEventModel.prototype.isEmpty = function() {\n  if (hasKeys(this.dependancies)) return false;\n  if (hasKeys(this.itemContexts)) return false;\n\n  if (this.object) {\n    if (hasKeys(this.object)) return false;\n    this.object = null;\n  }\n\n  if (this.arrayByReference) {\n    for (var i = 0; i < this.arrayByReference.length; i++) {\n      if (this.arrayByReference[i] != null) return false;\n    }\n    this.arrayByReference = null;\n  }\n\n  if (this.array) {\n    for (var i = 0; i < this.array.length; i++) {\n      if (this.array[i] != null) return false;\n    }\n    this.array = null;\n  }\n\n  return true;\n};\n\nfunction hasKeys(object) {\n  for (var key in object) {\n    return true;\n  }\n  return false;\n}\n\n\n// **** Updating the EventModel\n\nEventModel.prototype._addItemContext = function(context) {\n  if (!context._id) context._id = nextId++;\n  if (!this.itemContexts) this.itemContexts = new ItemContextsMap();\n  this.itemContexts[context._id] = context;\n};\n\nEventModel.prototype._removeItemContext = function(context) {\n  if (this.itemContexts) {\n    delete this.itemContexts[context._id];\n  }\n};\n\nEventModel.prototype._addBinding = function(binding) {\n  var bindings = this.bindings || (this.bindings = new BindingsMap());\n  binding.eventModels || (binding.eventModels = new EventModelsMap());\n  bindings[binding.id] = binding;\n  binding.eventModels[this.id] = this;\n};\n\n// This is the main hook to add bindings to the event model tree. It should\n// only be called on the root EventModel object.\nEventModel.prototype.addBinding = function(segments, binding) {\n  this.at(segments)._addBinding(binding);\n};\n\n// This is used for objects (contexts in derby's case) that have a .item\n// property which refers to an array index.\nEventModel.prototype.addItemContext = function(segments, context) {\n  this.at(segments)._addItemContext(context);\n};\n\nEventModel.prototype.removeBinding = function(binding) {\n  if (!binding.eventModels) return;\n  for (var id in binding.eventModels) {\n    var eventModel = binding.eventModels[id];\n    if (eventModel.bindings) delete eventModel.bindings[binding.id];\n  }\n  binding.eventModels = null;\n};\n\nEventModel.prototype._each = function(segments, pos, fn) {\n  // Our refChildren are effectively merged into this object.\n  if (this.refChildren) {\n    for (var id in this.refChildren) {\n      var refChild = this.refChildren[id];\n      if (refChild) refChild._each(segments, pos, fn);\n    }\n  }\n\n  if (segments.length === pos) {\n    fn(this);\n    return;\n  }\n\n  var segment = segments[pos];\n  var child;\n  if (typeof segment === 'string') {\n    // Object. Just recurse into our objects set. Its possible to rewrite this\n    // function to simply loop in the case of object lookups, but I don't think\n    // it'll buy us much.\n    child = this.object && this.object[segment];\n    if (child) child._each(segments, pos + 1, fn);\n\n  } else {\n    // Number. Recurse both into the fixed list and the reference list.\n    child = this.array && this.array[segment];\n    if (child) child._each(segments, pos + 1, fn);\n\n    child = this.arrayByReference && this.arrayByReference[segment];\n    if (child) child._each(segments, pos + 1, fn);\n  }\n};\n\n// Called when the scalar value at the path changes. This only calls update()\n// on this node. See update() below if you want to update entire\n// subtrees.\nEventModel.prototype.localUpdate = function(previous, pass) {\n  if (this.bindings) {\n    for (var id in this.bindings) {\n      var binding = this.bindings[id];\n      if (binding) binding.update(previous, pass);\n    }\n  }\n\n  // If our value changed, we also need to update anything that depends on it\n  // via refOut.\n  if (this.refOut) {\n    for (var id in this.refOut) {\n      var ref = this.refOut[id];\n      if (ref) ref.update();\n    }\n  }\n};\n\n// This is used when an object subtree is replaced / removed.\nEventModel.prototype.update = function(previous, pass) {\n  this.localUpdate(previous, pass);\n\n  if (this.object) {\n    for (var key in this.object) {\n      var binding = this.object[key];\n      if (binding) binding.update();\n    }\n  }\n\n  if (this.array) {\n    for (var i = 0; i < this.array.length; i++) {\n      var binding = this.array[i];\n      if (binding) binding.update();\n    }\n  }\n\n  if (this.arrayByReference) {\n    for (var i = 0; i < this.arrayByReference.length; i++) {\n      var binding = this.arrayByReference[i];\n      if (binding) binding.update();\n    }\n  }\n};\n\n// Updates the indexes in itemContexts of our children in the range of\n// [from, to). from and to both optional.\nEventModel.prototype._updateChildItemContexts = function(from, to) {\n  if (!this.arrayByReference) return;\n\n  if (from == null) from = 0;\n  if (to == null) to = this.arrayByReference.length;\n\n  for (var i = from; i < to; i++) {\n    var contexts = this.arrayByReference[i] &&\n      this.arrayByReference[i].itemContexts;\n    if (contexts) {\n      for (var key in contexts) {\n        contexts[key].item = i;\n      }\n    }\n  }\n};\n\n// Updates our array-by-value values. They have to recursively update every\n// binding in their children. Sad.\nEventModel.prototype._updateArray = function(from, to) {\n  if (!this.array) return;\n\n  if (from == null) from = 0;\n  if (to == null) to = this.array.length;\n\n  for (var i = from; i < to; i++) {\n    var binding = this.array[i];\n    if (binding) binding.update();\n  }\n};\n\nEventModel.prototype._updateObject = function() {\n  if (this.object) {\n    for (var key in this.object) {\n      var binding = this.object[key];\n      if (binding) binding.update();\n    }\n  }\n};\n\nEventModel.prototype._set = function(previous, pass) {\n  // This just updates anything thats bound to the whole subtree. An alternate\n  // implementation could be passed in the new value at this node (which we\n  // cache), then compare with the old version and only update parts of the\n  // subtree which are relevant. I don't know if thats an important\n  // optimization - it really depends on your use case.\n  this.update(previous, pass);\n};\n\n// Insert into this EventModel node.\nEventModel.prototype._insert = function(index, howMany) {\n  // Update fixed paths\n  this._updateArray(index);\n\n  // Update relative paths\n  if (this.arrayByReference && this.arrayByReference.length > index) {\n    // Shift the actual items in the array references array.\n\n    // This probably isn't the best way to implement insert. Other options are\n    // using concat() on slices or though constructing a temporary array and\n    // using splice.call. Hopefully if this method is slow it'll come up during\n    // profiling.\n    for (var i = 0; i < howMany; i++) {\n      this.arrayByReference.splice(index, 0, null);\n    }\n\n    // Update the path in the contexts\n    this._updateChildItemContexts(index + howMany);\n  }\n\n  // Finally call our bindings.\n  if (this.bindings) {\n    for (var id in this.bindings) {\n      var binding = this.bindings[id];\n      if (binding) binding.insert(index, howMany);\n    }\n  }\n  this._updateObject();\n};\n\n// Remove howMany child elements from this EventModel at index.\nEventModel.prototype._remove = function(index, howMany) {\n  // Update fixed paths. Both the removed items and items after it may have changed.\n  this._updateArray(index);\n\n  if (this.arrayByReference) {\n    // Update relative paths. First throw away all the children which have been removed.\n    this.arrayByReference.splice(index, howMany);\n\n    this._updateChildItemContexts(index);\n  }\n\n  // Call bindings.\n  if (this.bindings) {\n    for (var id in this.bindings) {\n      var binding = this.bindings[id];\n      if (binding) binding.remove(index, howMany);\n    }\n  }\n  this._updateObject();\n};\n\n// Move howMany items from `from` to `to`.\nEventModel.prototype._move = function(from, to, howMany) {\n  // first points to the first element that was moved. end points to the list\n  // element past the end of the changed region.\n  var first, end;\n  if (from < to) {\n    first = from;\n    end = to + howMany;\n  } else {\n    first = to;\n    end = from + howMany;\n  }\n\n  // Update fixed paths.\n  this._updateArray(first, end);\n\n  // Update relative paths\n  var arr = this.arrayByReference;\n  if (arr && arr.length > first) {\n    // Remove from the old location\n    var values = arr.splice(from, howMany);\n\n    // Insert at the new location\n    arr.splice.apply(arr, [to, 0].concat(values));\n\n    // Update the path in the contexts\n    this._updateChildItemContexts(first, end);\n  }\n\n  // Finally call our bindings.\n  if (this.bindings) {\n    for (var id in this.bindings) {\n      var binding = this.bindings[id];\n      if (binding) binding.move(from, to, howMany);\n    }\n  }\n  this._updateObject();\n};\n\n\n// Helpers.\n\nEventModel.prototype.mutate = function(segments, fn) {\n  // This finds & returns a list of all event models which exist and could match\n  // the specified path. The path cannot contain contexts like derby expression\n  // segment lists (just because I don't think thats a useful feature and its not\n  // implemented)\n  this._each(segments, 0, fn);\n\n  // Also emit all mutations as sets on star paths, which are how dependencies\n  // for view helper functions are represented. They should react to a path\n  // or any child path being modified\n  for (var i = 0, len = segments.length; i++ < len;) {\n    var wildcardSegments = segments.slice(0, i);\n    wildcardSegments.push('*');\n    this._each(wildcardSegments, 0, childSetWildcard);\n  }\n};\n\nfunction childSetWildcard(child) {\n  child._set();\n}\n\nEventModel.prototype.set = function(segments, previous, pass) {\n  this.mutate(segments, function childSet(child) {\n    child._set(previous, pass);\n  });\n};\n\nEventModel.prototype.insert = function(segments, index, howMany) {\n  this.mutate(segments, function childInsert(child) {\n    child._insert(index, howMany);\n  });\n};\n\nEventModel.prototype.remove = function(segments, index, howMany) {\n  this.mutate(segments, function childRemove(child) {\n    child._remove(index, howMany);\n  });\n};\n\nEventModel.prototype.move = function(segments, from, to, howMany) {\n  this.mutate(segments, function childMove(child) {\n    child._move(from, to, howMany);\n  });\n};\n",
    "exports.onStringInsert = onStringInsert;\nexports.onStringRemove = onStringRemove;\nexports.onTextInput = onTextInput;\n\nfunction onStringInsert(el, previous, index, text) {\n  function transformCursor(cursor) {\n    return (index < cursor) ? cursor + text.length : cursor;\n  }\n  previous || (previous = '');\n  var newText = previous.slice(0, index) + text + previous.slice(index);\n  replaceText(el, newText, transformCursor);\n}\n\nfunction onStringRemove(el, previous, index, howMany) {\n  function transformCursor(cursor) {\n    return (index < cursor) ? cursor - Math.min(howMany, cursor - index) : cursor;\n  }\n  previous || (previous = '');\n  var newText = previous.slice(0, index) + previous.slice(index + howMany);\n  replaceText(el, newText, transformCursor);\n}\n\nfunction replaceText(el, newText, transformCursor) {\n  var selectionStart = transformCursor(el.selectionStart);\n  var selectionEnd = transformCursor(el.selectionEnd);\n\n  var scrollTop = el.scrollTop;\n  el.value = newText;\n  if (el.scrollTop !== scrollTop) {\n    el.scrollTop = scrollTop;\n  }\n  if (document.activeElement === el) {\n    el.selectionStart = selectionStart;\n    el.selectionEnd = selectionEnd;\n  }\n}\n\nfunction onTextInput(model, segments, value) {\n  var previous = model._get(segments) || '';\n  if (previous === value) return;\n  var start = 0;\n  while (previous.charAt(start) === value.charAt(start)) {\n    start++;\n  }\n  var end = 0;\n  while (\n    previous.charAt(previous.length - 1 - end) === value.charAt(value.length - 1 - end) &&\n    end + start < previous.length &&\n    end + start < value.length\n  ) {\n    end++;\n  }\n\n  if (previous.length !== start + end) {\n    var howMany = previous.length - start - end;\n    model._stringRemove(segments, start, howMany);\n  }\n  if (value.length !== start + end) {\n    var inserted = value.slice(start, value.length - end);\n    model._stringInsert(segments, start, inserted);\n  }\n}\n",
    "var derbyTemplates = require('derby-templates');\nvar contexts = derbyTemplates.contexts;\nvar expressions = derbyTemplates.expressions;\nvar templates = derbyTemplates.templates;\nvar DependencyOptions = derbyTemplates.options.DependencyOptions;\nvar util = require('racer/lib/util');\nvar components = require('./components');\nvar EventModel = require('./eventmodel');\nvar textDiff = require('./textDiff');\nvar Controller = require('./Controller');\nvar documentListeners = require('./documentListeners');\n\nmodule.exports = Page;\n\nfunction Page(app, model) {\n  Controller.call(this, app, this, model);\n  this.params = null;\n  if (this.init) this.init(model);\n  this.context = this._createContext();\n  this._eventModel = null;\n  this._removeModelListeners = null;\n  this._components = {};\n  this._addListeners();\n}\n\nutil.mergeInto(Page.prototype, Controller.prototype);\n\nPage.prototype.$bodyClass = function(ns) {\n  if (!ns) return;\n  var classNames = [];\n  var segments = ns.split(':');\n  for (var i = 0, len = segments.length; i < len; i++) {\n    var className = segments.slice(0, i + 1).join('-');\n    classNames.push(className);\n  }\n  return classNames.join(' ');\n};\n\nPage.prototype.$preventDefault = function(e) {\n  e.preventDefault();\n};\n\nPage.prototype.$stopPropagation = function(e) {\n  e.stopPropagation();\n};\n\nPage.prototype._setRenderParams = function(ns) {\n  this.model.set('$render.ns', ns);\n  this.model.set('$render.params', this.params);\n  this.model.set('$render.url', this.params && this.params.url);\n  this.model.set('$render.query', this.params && this.params.query);\n};\n\nPage.prototype._setRenderPrefix = function(ns) {\n  var prefix = (ns) ? ns + ':' : '';\n  this.model.set('$render.prefix', prefix);\n};\n\nPage.prototype.get = function(viewName, ns, unescaped) {\n  this._setRenderPrefix(ns);\n  var view = this.getView(viewName, ns);\n  return view.get(this.context, unescaped);\n};\n\nPage.prototype.getFragment = function(viewName, ns) {\n  this._setRenderPrefix(ns);\n  var view = this.getView(viewName, ns);\n  return view.getFragment(this.context);\n};\n\nPage.prototype.getView = function(viewName, ns) {\n  return this.app.views.find(viewName, ns);\n};\n\nPage.prototype.render = function(ns) {\n  this.app.emit('render', this);\n  this.context.pause();\n  this._setRenderParams(ns);\n  var titleFragment = this.getFragment('TitleElement', ns);\n  var bodyFragment = this.getFragment('BodyElement', ns);\n  var titleElement = document.getElementsByTagName('title')[0];\n  titleElement.parentNode.replaceChild(titleFragment, titleElement);\n  document.body.parentNode.replaceChild(bodyFragment, document.body);\n  this.context.unpause();\n  if (this.create) this.create(this.model, this.dom);\n  this.app.emit('routeDone', this, 'render');\n};\n\nPage.prototype.attach = function() {\n  this.context.pause();\n  var ns = this.model.get('$render.ns');\n  var titleView = this.getView('TitleElement', ns);\n  var bodyView = this.getView('BodyElement', ns);\n  var titleElement = document.getElementsByTagName('title')[0];\n  titleView.attachTo(titleElement.parentNode, titleElement, this.context);\n  bodyView.attachTo(document.body.parentNode, document.body, this.context);\n  this.context.unpause();\n  if (this.create) this.create(this.model, this.dom);\n};\n\nPage.prototype._createContext = function() {\n  var contextMeta = new contexts.ContextMeta();\n  contextMeta.views = this.app && this.app.views;\n  var context = new contexts.Context(contextMeta, this);\n  context.expression = new expressions.PathExpression([]);\n  context.alias = '#root';\n  return context;\n};\n\nPage.prototype._addListeners = function() {\n  var eventModel = this._eventModel = new EventModel();\n  this._addModelListeners(eventModel);\n  this._addContextListeners(eventModel);\n};\n\nPage.prototype.destroy = function() {\n  this.emit('destroy');\n  this._removeModelListeners();\n  for (var id in this._components) {\n    var component = this._components[id];\n    component.destroy();\n  }\n  // Remove all data, refs, listeners, and reactive functions\n  // for the previous page\n  var silentModel = this.model.silent();\n  silentModel.destroy('_page');\n  silentModel.destroy('$components');\n  // Unfetch and unsubscribe from all queries and documents\n  silentModel.unloadAll && silentModel.unloadAll();\n};\n\nPage.prototype._addModelListeners = function(eventModel) {\n  var model = this.model;\n  if (!model) return;\n  // Registering model listeners with the *Immediate events helps to prevent\n  // a bug with binding updates where a model listener causes a change to the\n  // path being listened on, directly or indirectly.\n\n  // TODO: Remove this when upgrading Racer to the next major version. Feature\n  // detect which type of event listener to register by emitting a test event\n  if (useLegacyListeners(model)) {\n    return this._addModelListenersLegacy(eventModel);\n  }\n\n  // `util.castSegments(segments)` is needed to cast string segments into\n  // numbers, since EventModel#child does typeof checks against segments. This\n  // could be done once in Racer's Model#emit, instead of in every listener.\n  var changeListener = model.on('changeImmediate', function onChange(segments, event) {\n    // The pass parameter is passed in for special handling of updates\n    // resulting from stringInsert or stringRemove\n    segments = util.castSegments(segments.slice());\n    eventModel.set(segments, event.previous, event.pass);\n  });\n  var loadListener = model.on('loadImmediate', function onLoad(segments) {\n    segments = util.castSegments(segments.slice());\n    eventModel.set(segments);\n  });\n  var unloadListener = model.on('unloadImmediate', function onUnload(segments, event) {\n    segments = util.castSegments(segments.slice());\n    eventModel.set(segments, event.previous);\n  });\n  var insertListener = model.on('insertImmediate', function onInsert(segments, event) {\n    segments = util.castSegments(segments.slice());\n    eventModel.insert(segments, event.index, event.values.length);\n  });\n  var removeListener = model.on('removeImmediate', function onRemove(segments, event) {\n    segments = util.castSegments(segments.slice());\n    eventModel.remove(segments, event.index, event.values.length);\n  });\n  var moveListener = model.on('moveImmediate', function onMove(segments, event) {\n    segments = util.castSegments(segments.slice());\n    eventModel.move(segments, event.from, event.to, event.howMany);\n  });\n\n  this._removeModelListeners = function() {\n    model.removeListener('changeImmediate', changeListener);\n    model.removeListener('loadImmediate', loadListener);\n    model.removeListener('unloadImmediate', unloadListener);\n    model.removeListener('insertImmediate', insertListener);\n    model.removeListener('removeImmediate', removeListener);\n    model.removeListener('moveImmediate', moveListener);\n  };\n};\nfunction useLegacyListeners(model) {\n  var useLegacy = true;\n  // model.once is broken in older racer, so manually remove event\n  var listener = model.on('changeImmediate', function(segments, event) {\n    model.removeListener('changeImmediate', listener);\n    // Older Racer emits an array of eventArgs, whereas newer racer emits an event object\n    useLegacy = Array.isArray(event);\n  });\n  model.set('$derby.testEvent', true);\n  return useLegacy;\n}\nPage.prototype._addModelListenersLegacy = function(eventModel) {\n  var model = this.model;\n  if (!model) return;\n\n  // `util.castSegments(segments)` is needed to cast string segments into\n  // numbers, since EventModel#child does typeof checks against segments. This\n  // could be done once in Racer's Model#emit, instead of in every listener.\n  var changeListener = model.on('changeImmediate', function onChange(segments, eventArgs) {\n    // eventArgs[0] is the new value, which Derby bindings don't use directly.\n    var previous = eventArgs[1];\n    // The pass parameter is passed in for special handling of updates\n    // resulting from stringInsert or stringRemove\n    var pass = eventArgs[2];\n    segments = util.castSegments(segments.slice());\n    eventModel.set(segments, previous, pass);\n  });\n  var loadListener = model.on('loadImmediate', function onLoad(segments) {\n    segments = util.castSegments(segments.slice());\n    eventModel.set(segments);\n  });\n  var unloadListener = model.on('unloadImmediate', function onUnload(segments) {\n    segments = util.castSegments(segments.slice());\n    eventModel.set(segments);\n  });\n  var insertListener = model.on('insertImmediate', function onInsert(segments, eventArgs) {\n    var index = eventArgs[0];\n    var values = eventArgs[1];\n    segments = util.castSegments(segments.slice());\n    eventModel.insert(segments, index, values.length);\n  });\n  var removeListener = model.on('removeImmediate', function onRemove(segments, eventArgs) {\n    var index = eventArgs[0];\n    var values = eventArgs[1];\n    segments = util.castSegments(segments.slice());\n    eventModel.remove(segments, index, values.length);\n  });\n  var moveListener = model.on('moveImmediate', function onMove(segments, eventArgs) {\n    var from = eventArgs[0];\n    var to = eventArgs[1];\n    var howMany = eventArgs[2];\n    segments = util.castSegments(segments.slice());\n    eventModel.move(segments, from, to, howMany);\n  });\n\n  this._removeModelListeners = function() {\n    model.removeListener('changeImmediate', changeListener);\n    model.removeListener('loadImmediate', loadListener);\n    model.removeListener('unloadImmediate', unloadListener);\n    model.removeListener('insertImmediate', insertListener);\n    model.removeListener('removeImmediate', removeListener);\n    model.removeListener('moveImmediate', moveListener);\n  };\n};\n\nPage.prototype._addContextListeners = function(eventModel) {\n  this.context.meta.addBinding = addBinding;\n  this.context.meta.removeBinding = removeBinding;\n  this.context.meta.removeNode = removeNode;\n  this.context.meta.addItemContext = addItemContext;\n  this.context.meta.removeItemContext = removeItemContext;\n\n  function addItemContext(context) {\n    var segments = context.expression.resolve(context);\n    eventModel.addItemContext(segments, context);\n  }\n  function removeItemContext(context) {\n    // TODO\n  }\n  function addBinding(binding) {\n    patchTextBinding(binding);\n    var expressions = binding.template.expressions;\n    if (expressions) {\n      for (var i = 0, len = expressions.length; i < len; i++) {\n        addDependencies(eventModel, expressions[i], binding);\n      }\n    } else {\n      var expression = binding.template.expression;\n      addDependencies(eventModel, expression, binding);\n    }\n  }\n  function removeBinding(binding) {\n    var bindingWrappers = binding.meta;\n    if (!bindingWrappers) return;\n    for (var i = bindingWrappers.length; i--;) {\n      eventModel.removeBinding(bindingWrappers[i]);\n    }\n  }\n  function removeNode(node) {\n    var component = node.$component;\n    if (component) component.destroy();\n    var destroyListeners = node.$destroyListeners;\n    if (destroyListeners) {\n      for (var i = 0; i < destroyListeners.length; i++) {\n        destroyListeners[i]();\n      }\n    }\n  }\n};\n\nfunction addDependencies(eventModel, expression, binding) {\n  var bindingWrapper = new BindingWrapper(eventModel, expression, binding);\n  bindingWrapper.updateDependencies();\n}\n\n// The code here uses object-based set pattern where objects are keyed using\n// sequentially generated IDs.\nvar nextId = 1;\nfunction BindingWrapper(eventModel, expression, binding) {\n  this.eventModel = eventModel;\n  this.expression = expression;\n  this.binding = binding;\n  this.id = nextId++;\n  this.eventModels = null;\n  this.dependencies = null;\n  this.ignoreTemplateDependency = (\n    binding instanceof components.ComponentAttributeBinding\n  ) || (\n    (binding.template instanceof templates.DynamicText) &&\n    (binding instanceof templates.RangeBinding)\n  );\n  if (binding.meta) {\n    binding.meta.push(this);\n  } else {\n    binding.meta = [this];\n  }\n}\nBindingWrapper.prototype.updateDependencies = function() {\n  var dependencyOptions;\n  if (this.ignoreTemplateDependency && this.binding.condition instanceof templates.Template) {\n    dependencyOptions = new DependencyOptions();\n    dependencyOptions.setIgnoreTemplate(this.binding.condition);\n  }\n  var dependencies = this.expression.dependencies(this.binding.context, dependencyOptions);\n  if (this.dependencies) {\n    // Do nothing if dependencies haven't changed\n    if (equalDependencies(this.dependencies, dependencies)) return;\n    // Otherwise, remove current dependencies\n    this.eventModel.removeBinding(this);\n  }\n  // Add new dependencies\n  if (!dependencies) return;\n  this.dependencies = dependencies;\n  for (var i = 0, len = dependencies.length; i < len; i++) {\n    var dependency = dependencies[i];\n    if (dependency) this.eventModel.addBinding(dependency, this);\n  }\n};\nBindingWrapper.prototype.update = function(previous, pass) {\n  this.binding.update(previous, pass);\n  this.updateDependencies();\n};\nBindingWrapper.prototype.insert = function(index, howMany) {\n  this.binding.insert(index, howMany);\n  this.updateDependencies();\n};\nBindingWrapper.prototype.remove = function(index, howMany) {\n  this.binding.remove(index, howMany);\n  this.updateDependencies();\n};\nBindingWrapper.prototype.move = function(from, to, howMany) {\n  this.binding.move(from, to, howMany);\n  this.updateDependencies();\n};\n\nfunction equalDependencies(a, b) {\n  var lenA = a ? a.length : -1;\n  var lenB = b ? b.length : -1;\n  if (lenA !== lenB) return false;\n  for (var i = 0; i < lenA; i++) {\n    var itemA = a[i];\n    var itemB = b[i];\n    var lenItemA = itemA ? itemA.length : -1;\n    var lenItemB = itemB ? itemB.length : -1;\n    if (lenItemA !== lenItemB) return false;\n    for (var j = 0; j < lenItemB; j++) {\n      if (itemA[j] !== itemB[j]) return false;\n    }\n  }\n  return true;\n}\n\nfunction patchTextBinding(binding) {\n  if (\n    binding instanceof templates.AttributeBinding &&\n    binding.name === 'value' &&\n    (binding.element.tagName === 'INPUT' || binding.element.tagName === 'TEXTAREA') &&\n    documentListeners.inputSupportsSelection(binding.element) &&\n    binding.template.expression.resolve(binding.context)\n  ) {\n    binding.update = textInputUpdate;\n  }\n}\n\nfunction textInputUpdate(previous, pass) {\n  textUpdate(this, this.element, previous, pass);\n}\nfunction textUpdate(binding, element, previous, pass) {\n  if (pass) {\n    if (pass.$event && pass.$event.target === element) {\n      return;\n    } else if (pass.$stringInsert) {\n      return textDiff.onStringInsert(\n        element,\n        previous,\n        pass.$stringInsert.index,\n        pass.$stringInsert.text\n      );\n    } else if (pass.$stringRemove) {\n      return textDiff.onStringRemove(\n        element,\n        previous,\n        pass.$stringRemove.index,\n        pass.$stringRemove.howMany\n      );\n    }\n  }\n  binding.template.update(binding.context, binding);\n}\n",
    "/*DERBY_SERIALIZED_VIEWS*/module.exports = function(derbyTemplates, views){var expressions = derbyTemplates.expressions,templates = derbyTemplates.templates;views.deserialize([[function(){return this.template=new templates.Template([new templates.Element('title', void 0, [new templates.Block(new templates.Template([new templates.DynamicText(new expressions.PathExpression(['$render', 'prefix'], new expressions.ExpressionMeta('$render.prefix'))), new templates.Text('Title')], '{{$render.prefix}}Title'), [new templates.DynamicViewInstance(new templates.Template([new templates.DynamicText(new expressions.PathExpression(['$render', 'prefix'], new expressions.ExpressionMeta('$render.prefix'))), new templates.Text('Title')], '{{$render.prefix}}Title'), {})])], void 0, false)])},'TitleElement'],[function(){return this.template=new templates.Template([new templates.Element('body', {'class': new templates.DynamicAttribute(new expressions.FnExpression(['$bodyClass'], [new expressions.PathExpression(['$render', 'ns'])], void 0, new expressions.ExpressionMeta('$bodyClass($render.ns)')))}, [new templates.Block(new templates.Template([new templates.DynamicText(new expressions.PathExpression(['$render', 'prefix'], new expressions.ExpressionMeta('$render.prefix'))), new templates.Text('Body')], '{{$render.prefix}}Body'), [new templates.DynamicViewInstance(new templates.Template([new templates.DynamicText(new expressions.PathExpression(['$render', 'prefix'], new expressions.ExpressionMeta('$render.prefix'))), new templates.Text('Body')], '{{$render.prefix}}Body'), {})])], void 0, false, true)])},'BodyElement'],[function(){return this.template=new templates.Template([new templates.Text('Derby demo: '), new templates.DynamicText(new expressions.FnExpression(['pageTitle'], [new expressions.PathExpression(['$render', 'ns'])], void 0, new expressions.ExpressionMeta('pageTitle($render.ns)')))])},'Title'],[function(){return this.template=new templates.Template([new templates.ViewInstance('d-connection-alert', {}), new templates.ViewInstance('d-before-unload', {}), new templates.Element('nav', void 0, [new templates.EachBlock(new expressions.FnExpression(['navItems'], [new expressions.PathExpression(['$render', 'ns'])], void 0, new expressions.ExpressionMeta('each navItems($render.ns) as #item', 'each', void 0, '#item')), [new templates.ConditionalBlock([new expressions.AliasPathExpression('#item', ['isCurrent'], new expressions.ExpressionMeta('if #item.isCurrent', 'if')), new expressions.Expression(new expressions.ExpressionMeta('else', 'else'))], [[new templates.Element('b', void 0, [new templates.DynamicText(new expressions.AliasPathExpression('#item', ['title'], new expressions.ExpressionMeta('#item.title')))], void 0, false)], [new templates.Element('a', {'href': new templates.DynamicAttribute(new expressions.AliasPathExpression('#item', ['href'], new expressions.ExpressionMeta('#item.href')))}, [new templates.DynamicText(new expressions.AliasPathExpression('#item', ['title'], new expressions.ExpressionMeta('#item.title')))], void 0, false)]]), new templates.ConditionalBlock([new expressions.AliasPathExpression('#item', ['isLast'], new expressions.ExpressionMeta('unless #item.isLast', 'unless'))], [[new templates.Text(' | ')]])]), new templates.Element('hr', void 0, null, void 0, false)], void 0, false), new templates.Block(new expressions.PathExpression(['$render', 'ns'], new expressions.ExpressionMeta('$render.ns')), [new templates.DynamicViewInstance(new expressions.PathExpression(['$render', 'ns'], new expressions.ExpressionMeta('$render.ns')), {})])])},'Body'],[function(){return this.template=new templates.Template([])},'Tail'],[function(){return this.template=new templates.Template([new templates.ViewInstance('bench:circles', {})])},'bench:index'],[function(){return this.template=new templates.Template([new templates.Marker('bench:circles'), new templates.Element('div', void 0, [new templates.Element('p', void 0, [new templates.ConditionalBlock([new expressions.PathExpression(['mode'], new expressions.ExpressionMeta('if mode', 'if')), new expressions.Expression(new expressions.ExpressionMeta('else', 'else'))], [[new templates.Text('Mode: '), new templates.Element('b', void 0, [new templates.DynamicText(new expressions.PathExpression(['mode'], new expressions.ExpressionMeta('mode')))], void 0, false), new templates.Text('  FPS: '), new templates.Element('b', void 0, [new templates.DynamicText(new expressions.PathExpression(['fps'], new expressions.ExpressionMeta('fps')))], void 0, false)], [new templates.Text('Select a mode to run:')]])], void 0, false), new templates.Element('p', void 0, [new templates.EachBlock(new expressions.PathExpression(['modes'], new expressions.ExpressionMeta('each modes', 'each')), [new templates.Element('button', void 0, [new templates.DynamicText(new expressions.RelativePathExpression([], new expressions.ExpressionMeta('this')))], [new templates.ElementOn('click', new expressions.FnExpression(['start'], [new expressions.RelativePathExpression([])]))], false)]), new templates.Element('button', void 0, [new templates.Text('Stop')], [new templates.ElementOn('click', new expressions.FnExpression(['stop'], []))], false)], void 0, false)], void 0, false), new templates.EachBlock(new expressions.PathExpression(['boxes'], new expressions.ExpressionMeta('each boxes', 'each')), [new templates.Element('div', {'class': new templates.Attribute('box-view')}, [new templates.Element('div', {'class': new templates.Attribute('box'), 'style': new templates.DynamicAttribute(new templates.Template([new templates.Text('\\ntop: '), new templates.DynamicText(new expressions.RelativePathExpression(['top'], new expressions.ExpressionMeta('this.top'))), new templates.Text('px;\\nleft: '), new templates.DynamicText(new expressions.RelativePathExpression(['left'], new expressions.ExpressionMeta('this.left'))), new templates.Text('px;\\nbackground: rgb(0, 0, '), new templates.DynamicText(new expressions.RelativePathExpression(['color'], new expressions.ExpressionMeta('this.color'))), new templates.Text(');')], '\\ntop: {{this.top}}px;\\nleft: {{this.left}}px;\\nbackground: rgb(0, 0, {{this.color}});'))}, [new templates.DynamicText(new expressions.RelativePathExpression(['content'], new expressions.ExpressionMeta('this.content')))], void 0, false)], void 0, false)])])},'bench:circles'],[function(){return this.template=new templates.Template([new templates.ViewInstance('home:colored-title', {'content': new templates.ViewParent(new templates.Template([new templates.Element('p', void 0, [new templates.Text('This is a collection of random demos. Check \\'em out!')], void 0, false), new templates.Element('br', void 0, null, void 0, false)]))}), new templates.Element('br', void 0, null, void 0, false), new templates.Element('br', void 0, null, void 0, false), new templates.ViewInstance('home:svg-ellipse', {'data': new expressions.ViewParentExpression(new expressions.PathExpression(['sink', 'home', 'ellipse'], new expressions.ExpressionMeta('sink.home.ellipse')))}), new templates.Element('br', void 0, null, void 0, false), new templates.Element('br', void 0, null, void 0, false), new templates.Element('p', void 0, [new templates.Element('a', {'href': new templates.Attribute('#jump')}, [new templates.Text('Test jump link')], void 0, false)], void 0, false), new templates.Element('br', void 0, null, void 0, false), new templates.Element('p', void 0, [new templates.Element('a', {'href': new templates.Attribute('/live-css/popout')}, [new templates.Text('Test Live CSS popped out')], void 0, false)], void 0, false), new templates.Element('p', {'style': new templates.Attribute('margin: 400px 0 1000px')}, [new templates.Element('span', {'id': new templates.Attribute('jump')}, [new templates.Text('Jumped!')], void 0, false), new templates.Text(' - '), new templates.Element('a', {'href': new templates.Attribute('#')}, [new templates.Text('Back to top')], void 0, false), new templates.Text(' - '), new templates.Element('a', {'href': new templates.Attribute('/live-css')}, [new templates.Text('Go to Live CSS')], void 0, false)], void 0, false)])},'home:index'],[function(){return this.template=new templates.Template([new templates.Marker('home:colored-title'), new templates.Element('h1', {'style': new templates.DynamicAttribute(new templates.Template([new templates.Text('color: '), new templates.DynamicText(new expressions.FnExpression(['unspace'], [new expressions.PathExpression(['titleColor'])], void 0, new expressions.ExpressionMeta('unspace(titleColor)')))], 'color: {{unspace(titleColor)}}'))}, [new templates.Text('Welcome in '), new templates.DynamicText(new expressions.PathExpression(['titleColor'], new expressions.ExpressionMeta('titleColor'))), new templates.Text('!')], void 0, false), new templates.DynamicText(new expressions.AttributePathExpression('content', [], new expressions.ExpressionMeta('@content'))), new templates.Element('p', void 0, [new templates.Element('label', void 0, [new templates.Text('Title color: '), new templates.Element('select', {'id': new templates.Attribute('title-select')}, [new templates.EachBlock(new expressions.PathExpression(['colors'], new expressions.ExpressionMeta('each colors', 'each')), [new templates.Element('option', {'selected': new templates.DynamicAttribute(new expressions.OperatorExpression('===', [new expressions.PathExpression(['titleColor']), new expressions.RelativePathExpression(['name'])], void 0, new expressions.ExpressionMeta('titleColor === this.name')))}, [new templates.DynamicText(new expressions.FnExpression(['capitalize'], [new expressions.RelativePathExpression(['name'])], void 0, new expressions.ExpressionMeta('capitalize(this.name)')))], void 0, false)])], void 0, false)], void 0, false), new templates.Text(' '), new templates.Element('input', {'id': new templates.Attribute('title-input'), 'value': new templates.DynamicAttribute(new expressions.FnExpression(['titleInputValue'], [new expressions.PathExpression(['titleColor'])], void 0, new expressions.ExpressionMeta('titleInputValue(titleColor)')))}, null, void 0, false)], void 0, false), new templates.Element('h3', void 0, [new templates.Text('Colors:')], void 0, false), new templates.Element('div', void 0, [new templates.EachBlock(new expressions.PathExpression(['colors'], new expressions.ExpressionMeta('each colors', 'each')), [new templates.Element('p', void 0, [new templates.Element('input', {'type': new templates.Attribute('radio'), 'is': new templates.Attribute('title-radio'), 'checked': new templates.DynamicAttribute(new expressions.OperatorExpression('===', [new expressions.PathExpression(['titleColor']), new expressions.RelativePathExpression(['name'])], void 0, new expressions.ExpressionMeta('titleColor === this.name')))}, null, void 0, false), new templates.Text(' '), new templates.Element('input', {'class': new templates.Attribute('color-input'), 'value': new templates.DynamicAttribute(new expressions.FnExpression(['colorInputValue'], [new expressions.RelativePathExpression(['name']), new expressions.PathExpression(['titleColor'])], void 0, new expressions.ExpressionMeta('colorInputValue(this.name, titleColor)')))}, null, void 0, false), new templates.Text(' '), new templates.Element('button', void 0, [new templates.Text('Select')], [new templates.ElementOn('click', new expressions.FnExpression(['model', 'set'], [new expressions.LiteralExpression('titleColor'), new expressions.RelativePathExpression(['name'])]))], false)], void 0, false)])], void 0, false)])},'home:colored-title'],[function(){return this.template=new templates.Template([new templates.Element('svg', {'width': new templates.Attribute('200'), 'height': new templates.Attribute('200')}, [new templates.Element('ellipse', {'cx': new templates.DynamicAttribute(new expressions.AttributePathExpression('data', ['cx'], new expressions.ExpressionMeta('@data.cx'))), 'cy': new templates.DynamicAttribute(new expressions.AttributePathExpression('data', ['cy'], new expressions.ExpressionMeta('@data.cy'))), 'rx': new templates.DynamicAttribute(new expressions.AttributePathExpression('data', ['rx'], new expressions.ExpressionMeta('@data.rx'))), 'ry': new templates.DynamicAttribute(new expressions.AttributePathExpression('data', ['ry'], new expressions.ExpressionMeta('@data.ry'))), 'fill': new templates.DynamicAttribute(new expressions.AttributePathExpression('data', ['fill'], new expressions.ExpressionMeta('@data.fill')))}, null, void 0, true, null, 'http://www.w3.org/2000/svg')], void 0, false, null, 'http://www.w3.org/2000/svg'), new templates.Element('p', void 0, [new templates.Text('CX: '), new templates.Element('input', {'type': new templates.Attribute('number'), 'value': new templates.DynamicAttribute(new expressions.AttributePathExpression('data', ['cx'], new expressions.ExpressionMeta('@data.cx')))}, null, void 0, false)], void 0, false), new templates.Element('p', void 0, [new templates.Text('CY: '), new templates.Element('input', {'type': new templates.Attribute('number'), 'value': new templates.DynamicAttribute(new expressions.AttributePathExpression('data', ['cy'], new expressions.ExpressionMeta('@data.cy')))}, null, void 0, false)], void 0, false), new templates.Element('p', void 0, [new templates.Text('RX: '), new templates.Element('input', {'type': new templates.Attribute('range'), 'value': new templates.DynamicAttribute(new expressions.AttributePathExpression('data', ['rx'], new expressions.ExpressionMeta('@data.rx')))}, null, void 0, false)], void 0, false), new templates.Element('p', void 0, [new templates.Text('RY: '), new templates.Element('input', {'type': new templates.Attribute('range'), 'value': new templates.DynamicAttribute(new expressions.AttributePathExpression('data', ['ry'], new expressions.ExpressionMeta('@data.ry')))}, null, void 0, false)], void 0, false), new templates.Element('p', void 0, [new templates.Text('Fill: '), new templates.Element('input', {'value': new templates.DynamicAttribute(new expressions.AttributePathExpression('data', ['fill'], new expressions.ExpressionMeta('@data.fill')))}, null, void 0, false)], void 0, false)])},'home:svg-ellipse'],[function(){return this.template=new templates.Template([new templates.Marker('leaderboard:index'), new templates.Element('form', void 0, [new templates.Element('input', {'value': new templates.DynamicAttribute(new expressions.PathExpression(['newPlayer'], new expressions.ExpressionMeta('newPlayer')))}, null, void 0, false), new templates.Text(' '), new templates.Element('button', {'type': new templates.Attribute('submit')}, [new templates.Text('Add player')], void 0, false), new templates.Text(' '), new templates.Element('button', {'disabled': new templates.DynamicAttribute(new expressions.OperatorExpression('!U', [new expressions.PathExpression(['selected'])], void 0, new expressions.ExpressionMeta('!selected')))}, [new templates.Text('Remove '), new templates.DynamicText(new expressions.OperatorExpression('||', [new expressions.PathExpression(['selected', 'name']), new expressions.LiteralExpression('selected')], void 0, new expressions.ExpressionMeta('selected.name || \\'selected\\'')))], [new templates.ElementOn('click', new expressions.FnExpression(['remove'], []))], false)], [new templates.ElementOn('submit', new expressions.FnExpression(['add'], [])), new templates.ElementOn('submit', new expressions.FnExpression(['$preventDefault'], [new expressions.PathExpression(['$event'])]))], false), new templates.Element('div', {'class': new templates.Attribute('board')}, [new templates.Element('div', {'class': new templates.Attribute('selected-player')}, [new templates.ConditionalBlock([new expressions.PathExpression(['selected'], new expressions.ExpressionMeta('if selected', 'if')), new expressions.Expression(new expressions.ExpressionMeta('else', 'else'))], [[new templates.Element('p', {'class': new templates.Attribute('vote')}, [new templates.Element('button', void 0, [new templates.Text('+ 5')], [new templates.ElementOn('click', new expressions.FnExpression(['increment'], [new expressions.LiteralExpression(5)]))], false), new templates.Element('button', void 0, [new templates.Text('- 5')], [new templates.ElementOn('click', new expressions.FnExpression(['increment'], [new expressions.LiteralExpression(-5)]))], false)], void 0, false), new templates.DynamicText(new expressions.RelativePathExpression(['name'], new expressions.ExpressionMeta('this.name')))], [new templates.Text('Click a player to select')]])], void 0, false), new templates.Element('ol', void 0, [new templates.EachBlock(new expressions.PathExpression(['list'], new expressions.ExpressionMeta('each list as #player', 'each', void 0, '#player')), [new templates.Element('li', {'class': new templates.DynamicAttribute(new templates.ConditionalBlock([new expressions.OperatorExpression('===', [new expressions.AliasPathExpression('#player', []), new expressions.PathExpression(['selected'])], void 0, new expressions.ExpressionMeta('if #player === selected', 'if'))], [[new templates.Text('selected')]]))}, [new templates.Element('p', {'class': new templates.Attribute('score')}, [new templates.DynamicText(new expressions.AliasPathExpression('#player', ['score'], new expressions.ExpressionMeta('#player.score')))], void 0, false), new templates.DynamicText(new expressions.AliasPathExpression('#player', ['name'], new expressions.ExpressionMeta('#player.name')))], [new templates.ElementOn('click', new expressions.FnExpression(['select'], [new expressions.AliasPathExpression('#player', [])]))], false)])], void 0, false)], [new templates.AsProperty(['board'])], false)])},'leaderboard:index'],[function(){return this.template=new templates.Template([new templates.Marker('live-css:index'), new templates.Element('select', {'multiple': new templates.Attribute(true)}, [new templates.Element('optgroup', {'label': new templates.Attribute('CSS properties')}, [new templates.EachBlock(new expressions.PathExpression(['styles'], new expressions.ExpressionMeta('each styles', 'each')), [new templates.Element('option', {'selected': new templates.DynamicAttribute(new expressions.RelativePathExpression(['active'], new expressions.ExpressionMeta('this.active')))}, [new templates.DynamicText(new expressions.RelativePathExpression(['prop'], new expressions.ExpressionMeta('this.prop')))], void 0, false)])], void 0, false)], void 0, false), new templates.Element('div', void 0, [new templates.EachBlock(new expressions.PathExpression(['styles'], new expressions.ExpressionMeta('each styles as #style, #i', 'each', void 0, '#style', '#i')), [new templates.Element('p', void 0, [new templates.Element('input', {'type': new templates.Attribute('checkbox'), 'checked': new templates.DynamicAttribute(new expressions.AliasPathExpression('#style', ['active'], new expressions.ExpressionMeta('#style.active')))}, null, void 0, false), new templates.Text(' '), new templates.Element('input', {'value': new templates.DynamicAttribute(new expressions.AliasPathExpression('#style', ['prop'], new expressions.ExpressionMeta('#style.prop'))), 'disabled': new templates.DynamicAttribute(new expressions.OperatorExpression('!U', [new expressions.AliasPathExpression('#style', ['active'])], void 0, new expressions.ExpressionMeta('!#style.active')))}, null, void 0, false), new templates.Text(' '), new templates.Element('input', {'value': new templates.DynamicAttribute(new expressions.AliasPathExpression('#style', ['value'], new expressions.ExpressionMeta('#style.value'))), 'disabled': new templates.DynamicAttribute(new expressions.OperatorExpression('!U', [new expressions.AliasPathExpression('#style', ['active'])], void 0, new expressions.ExpressionMeta('!#style.active')))}, null, void 0, false), new templates.Text(' '), new templates.Element('a', {'href': new templates.Attribute('#')}, [new templates.Text('Delete')], [new templates.ElementOn('click', new expressions.FnExpression(['deleteStyle'], [new expressions.AliasPathExpression('#i', [])])), new templates.ElementOn('click', new expressions.FnExpression(['$preventDefault'], [new expressions.PathExpression(['$event'])]))], false)], void 0, false)])], void 0, false), new templates.Element('button', void 0, [new templates.Text('Add')], [new templates.ElementOn('click', new expressions.FnExpression(['addStyle'], []))], false), new templates.Element('h3', void 0, [new templates.Text('Currently applied:')], void 0, false), new templates.Element('pre', void 0, [new templates.Element('code', void 0, [new templates.ConditionalBlock([new expressions.FnExpression(['hasActiveStyles'], [new expressions.PathExpression(['styles'])], void 0, new expressions.ExpressionMeta('if hasActiveStyles(styles)', 'if')), new expressions.Expression(new expressions.ExpressionMeta('else', 'else'))], [[new templates.Element('p', void 0, [new templates.Text('{')], void 0, false), new templates.Element('ul', {'class': new templates.Attribute('css')}, [new templates.EachBlock(new expressions.PathExpression(['styles'], new expressions.ExpressionMeta('each styles as #style', 'each', void 0, '#style')), [new templates.Element('li', void 0, [new templates.ViewInstance('live-css:css-property', {})], void 0, false)])], void 0, false), new templates.Element('p', void 0, [new templates.Text('}')], void 0, false)], [new templates.Text('(None)')]])], void 0, false)], void 0, false), new templates.Element('div', void 0, [new templates.ConditionalBlock([new expressions.PathExpression(['poppedOut'], new expressions.ExpressionMeta('unless poppedOut', 'unless'))], [[new templates.Element('h3', {'style': new templates.Attribute('display:inline-block')}, [new templates.Text('Output:')], void 0, false), new templates.Text('  '), new templates.Element('a', {'href': new templates.Attribute('/live-css/popout')}, [new templates.Text('Pop out')], void 0, false)]])], void 0, false), new templates.Element('div', {'id': new templates.Attribute('css-output'), 'class': new templates.DynamicAttribute(new templates.ConditionalBlock([new expressions.PathExpression(['poppedOut'], new expressions.ExpressionMeta('if poppedOut', 'if'))], [[new templates.Text('popped-out')]]))}, [new templates.Element('p', {'class': new templates.Attribute('popup-title')}, [new templates.Element('a', {'href': new templates.Attribute('/live-css')}, [new templates.Text('Close')], void 0, false)], void 0, false), new templates.Element('div', {'class': new templates.Attribute('popup-content')}, [new templates.Element('textarea', {'rows': new templates.Attribute('20'), 'cols': new templates.Attribute('80'), 'style': new templates.DynamicAttribute(new templates.EachBlock(new expressions.PathExpression(['styles'], new expressions.ExpressionMeta('each styles as #style', 'each', void 0, '#style')), [new templates.ViewInstance('css-property')]))}, [new templates.DynamicText(new expressions.PathExpression(['outputText'], new expressions.ExpressionMeta('outputText')))], void 0, false)], void 0, false)], void 0, false)])},'live-css:index'],[function(){return this.template=new templates.Template([new templates.ConditionalBlock([new expressions.AliasPathExpression('#style', ['active'], new expressions.ExpressionMeta('if #style.active', 'if'))], [[new templates.DynamicText(new expressions.AliasPathExpression('#style', ['prop'], new expressions.ExpressionMeta('#style.prop'))), new templates.Text(': '), new templates.DynamicText(new expressions.AliasPathExpression('#style', ['value'], new expressions.ExpressionMeta('#style.value'))), new templates.Text(';')]])])},'live-css:css-property'],[function(){return this.template=new templates.Template([new templates.Element('form', {'action': new templates.Attribute('submit'), 'method': new templates.Attribute('post')}, [new templates.Element('input', {'type': new templates.Attribute('hidden'), 'is': new templates.Attribute('_method'), 'value': new templates.Attribute('put')}, null, void 0, false), new templates.Element('p', void 0, [new templates.Element('label', void 0, [new templates.Text('Name: '), new templates.Element('input', {'type': new templates.Attribute('text'), 'is': new templates.Attribute('user[name]')}, null, void 0, false)], void 0, false)], void 0, false), new templates.Element('p', void 0, [new templates.Element('label', void 0, [new templates.Text('Email: '), new templates.Element('input', {'type': new templates.Attribute('text'), 'is': new templates.Attribute('user[email]')}, null, void 0, false)], void 0, false)], void 0, false), new templates.Element('p', void 0, [new templates.Element('input', {'type': new templates.Attribute('submit')}, null, void 0, false)], void 0, false)], void 0, false), new templates.Element('h3', void 0, [new templates.Text('Arguments:')], void 0, false), new templates.Element('pre', void 0, [new templates.Element('code', void 0, [new templates.DynamicText(new expressions.PathExpression(['_page', 'args'], new expressions.ExpressionMeta('_page.args')))], void 0, false)], void 0, false)])},'submit:index'],[function(){return this.template=new templates.Template([new templates.Marker('table:index'), new templates.Element('button', void 0, [new templates.Text('Add row')], [new templates.ElementOn('click', new expressions.FnExpression(['addRow'], []))], false), new templates.Text(' '), new templates.Element('button', void 0, [new templates.Text('Add column')], [new templates.ElementOn('click', new expressions.FnExpression(['addCol'], []))], false), new templates.Element('hr', void 0, null, void 0, false), new templates.ViewInstance('sortable-table', {}, [new templates.AsProperty(['sortable'])], [new templates.ComponentOn('rowMove', new expressions.FnExpression(['onRowMove'], [])), new templates.ComponentOn('colMove', new expressions.FnExpression(['onColMove'], []))]), new templates.Element('table', void 0, [new templates.Element('tbody', void 0, [new templates.Element('tr', void 0, [new templates.Element('td', void 0, [], void 0, false), new templates.EachBlock(new expressions.PathExpression(['table', 0, 'cells'], new expressions.ExpressionMeta('each table[0].cells as #cell, #i', 'each', void 0, '#cell', '#i')), [new templates.Element('th', {'class': new templates.Attribute('col')}, [new templates.DynamicText(new expressions.FnExpression(['colName'], [new expressions.AliasPathExpression('#i', [])], void 0, new expressions.ExpressionMeta('colName(#i)')))], [new templates.ElementOn('mousedown', new expressions.FnExpression(['sortable', 'onColDown'], [new expressions.PathExpression(['$event'])]))], false)]), new templates.Element('td', void 0, [], void 0, false)], void 0, false), new templates.EachBlock(new expressions.PathExpression(['table'], new expressions.ExpressionMeta('each table as #row, #i', 'each', void 0, '#row', '#i')), [new templates.Element('tr', {'class': new templates.Attribute('row')}, [new templates.Element('th', void 0, [new templates.DynamicText(new expressions.OperatorExpression('+', [new expressions.AliasPathExpression('#i', []), new expressions.LiteralExpression(1)], void 0, new expressions.ExpressionMeta('#i + 1')))], [new templates.ElementOn('mousedown', new expressions.FnExpression(['sortable', 'onRowDown'], [new expressions.PathExpression(['$event'])]))], false), new templates.EachBlock(new expressions.AliasPathExpression('#row', ['cells'], new expressions.ExpressionMeta('each #row.cells', 'each')), [new templates.Element('td', void 0, [new templates.Element('input', {'value': new templates.DynamicAttribute(new expressions.RelativePathExpression(['text'], new expressions.ExpressionMeta('this.text')))}, null, void 0, false)], void 0, false)]), new templates.Element('td', void 0, [new templates.Element('button', void 0, [new templates.Text('Delete')], [new templates.ElementOn('click', new expressions.FnExpression(['deleteRow'], [new expressions.AliasPathExpression('#i', [])]))], false)], void 0, false)], void 0, false)]), new templates.Element('tr', {'class': new templates.Attribute('foot')}, [new templates.Element('td', void 0, [], void 0, false), new templates.EachBlock(new expressions.PathExpression(['table', 0, 'cells'], new expressions.ExpressionMeta('each table[0].cells as #cell, #i', 'each', void 0, '#cell', '#i')), [new templates.Element('td', void 0, [new templates.Element('button', void 0, [new templates.Text('Delete')], [new templates.ElementOn('click', new expressions.FnExpression(['deleteCol'], [new expressions.AliasPathExpression('#i', [])]))], false)], void 0, false)]), new templates.Element('td', void 0, [], void 0, false)], void 0, false)], void 0, false)], void 0, false)])},'table:index'],[function(){return this.template=new templates.Template([new templates.Marker('d-connection-alert:index'), new templates.ConditionalBlock([new expressions.OperatorExpression('!==', [new expressions.AliasPathExpression('#root', ['$connection', 'state']), new expressions.LiteralExpression('connected')], void 0, new expressions.ExpressionMeta('if #root.$connection.state !== \\'connected\\'', 'if'))], [[new templates.Element('div', {'class': new templates.Attribute('connection')}, [new templates.Element('p', {'class': new templates.Attribute('alert alert-warning')}, [new templates.ConditionalBlock([new expressions.OperatorExpression('===', [new expressions.AliasPathExpression('#root', ['$connection', 'state']), new expressions.LiteralExpression('stopped')], void 0, new expressions.ExpressionMeta('if #root.$connection.state === \\'stopped\\'', 'if')), new expressions.Expression(new expressions.ExpressionMeta('else', 'else'))], [[new templates.Text('Unable to reconnect  '), new templates.Element('a', {'href': new templates.Attribute('#')}, [new templates.Text('Reload')], [new templates.ElementOn('click', new expressions.FnExpression(['reload'], [])), new templates.ElementOn('click', new expressions.FnExpression(['$preventDefault'], [new expressions.PathExpression(['$event'])]))], false)], [new templates.DynamicText(new expressions.FnExpression(['sentenceCase'], [new expressions.AliasPathExpression('#root', ['$connection', 'state'])], void 0, new expressions.ExpressionMeta('sentenceCase(#root.$connection.state)'))), new templates.ConditionalBlock([new expressions.PathExpression(['hideReconnect'], new expressions.ExpressionMeta('unless hideReconnect', 'unless'))], [[new templates.Text('  '), new templates.Element('a', {'href': new templates.Attribute('#')}, [new templates.Text('Reconnect')], [new templates.ElementOn('click', new expressions.FnExpression(['reconnect'], [])), new templates.ElementOn('click', new expressions.FnExpression(['$preventDefault'], [new expressions.PathExpression(['$event'])]))], false)]])]])], void 0, false)], void 0, false)]])])},'d-connection-alert:index'],[function(){return this.template=new templates.Template([new templates.Marker('d-before-unload')])},'d-before-unload'],[function(){return this.template=new templates.Template([new templates.Marker('sortable-table')])},'sortable-table']])};/*DERBY_SERIALIZED_VIEWS_END*/",
    "/*\n * App.js\n *\n * Provides the glue between views, controllers, and routes for an\n * application's functionality. Apps are responsible for creating pages.\n *\n */\n\nvar path = require('path');\nvar EventEmitter = require('events').EventEmitter;\nvar tracks = require('tracks');\nvar util = require('racer/lib/util');\nvar derbyTemplates = require('derby-templates');\nvar templates = derbyTemplates.templates;\nvar components = require('./components');\nvar PageBase = require('./Page');\nvar serializedViews = require('./_views');\n\nmodule.exports = App;\n\nfunction App(derby, name, filename, options) {\n  EventEmitter.call(this);\n  this.derby = derby;\n  this.name = name;\n  this.filename = filename;\n  this.scriptHash = '{{DERBY_SCRIPT_HASH}}';\n  this.bundledAt = '{{DERBY_BUNDLED_AT}}';\n  this.Page = createAppPage(derby);\n  this.proto = this.Page.prototype;\n  this.views = new templates.Views();\n  this.tracksRoutes = tracks.setup(this);\n  this.model = null;\n  this.page = null;\n  this._pendingComponentMap = {};\n  this._init(options);\n}\n\nfunction createAppPage(derby) {\n  var Page = (derby && derby.Page) || PageBase;\n  // Inherit from Page/PageForServer so that we can add controller functions as prototype\n  // methods on this app's pages\n  function AppPage() {\n    Page.apply(this, arguments);\n  }\n  AppPage.prototype = Object.create(Page.prototype);\n  return AppPage;\n}\n\nutil.mergeInto(App.prototype, EventEmitter.prototype);\n\n// Overriden on server\nApp.prototype._init = function() {\n  this._waitForAttach = true;\n  this._cancelAttach = false;\n  this.model = new this.derby.Model();\n  serializedViews(derbyTemplates, this.views);\n  // Must init async so that app.on('model') listeners can be added.\n  // Must also wait for content ready so that bundle is fully downloaded.\n  this._contentReady();\n};\nApp.prototype._finishInit = function() {\n  var script = this._getScript();\n  var data = JSON.parse(script.nextSibling.innerHTML);\n  this.model.createConnection(data);\n  this.emit('model', this.model);\n  util.isProduction = data.nodeEnv === 'production';\n  if (!util.isProduction) this._autoRefresh();\n  this.model.unbundle(data);\n  var page = this.createPage();\n  page.params = this.model.get('$render.params');\n  this.emit('ready', page);\n  this._waitForAttach = false;\n  // Instead of attaching, do a route and render if a link was clicked before\n  // the page finished attaching\n  if (this._cancelAttach) {\n    this.history.refresh();\n    return;\n  }\n  // Since an attachment failure is *fatal* and could happen as a result of a\n  // browser extension like AdBlock, an invalid template, or a small bug in\n  // Derby or Saddle, re-render from scratch on production failures\n  if (util.isProduction) {\n    try {\n      page.attach();\n    } catch (err) {\n      this.history.refresh();\n      console.warn('attachment error', err.stack);\n    }\n  } else {\n    page.attach();\n  }\n  this.emit('load', page);\n};\n// Modified from: https://github.com/addyosmani/jquery.parts/blob/master/jquery.documentReady.js\nApp.prototype._contentReady = function() {\n  // Is the DOM ready to be used? Set to true once it occurs.\n  var isReady = false;\n  var app = this;\n\n  // The ready event handler\n  function onDOMContentLoaded() {\n    if (document.addEventListener) {\n      document.removeEventListener('DOMContentLoaded', onDOMContentLoaded, false);\n    } else {\n      // we're here because readyState !== 'loading' in oldIE\n      // which is good enough for us to call the dom ready!\n      document.detachEvent('onreadystatechange', onDOMContentLoaded);\n    }\n    onDOMReady();\n  }\n\n  // Handle when the DOM is ready\n  function onDOMReady() {\n    // Make sure that the DOM is not already loaded\n    if (isReady) return;\n    // Make sure body exists, at least, in case IE gets a little overzealous (ticket #5443).\n    if (!document.body) return setTimeout(onDOMReady, 0);\n    // Remember that the DOM is ready\n    isReady = true;\n    // Make sure this is always async and then finishin init\n    setTimeout(function() {\n      app._finishInit();\n    }, 0);\n  }\n\n  // The DOM ready check for Internet Explorer\n  function doScrollCheck() {\n    if (isReady) return;\n    try {\n      // If IE is used, use the trick by Diego Perini\n      // http://javascript.nwbox.com/IEContentLoaded/\n      document.documentElement.doScroll('left');\n    } catch (err) {\n      setTimeout(doScrollCheck, 0);\n      return;\n    }\n    // and execute any waiting functions\n    onDOMReady();\n  }\n\n  // Catch cases where called after the browser event has already occurred.\n  if (document.readyState !== 'loading') return onDOMReady();\n\n  // Mozilla, Opera and webkit nightlies currently support this event\n  if (document.addEventListener) {\n    // Use the handy event callback\n    document.addEventListener('DOMContentLoaded', onDOMContentLoaded, false);\n    // A fallback to window.onload, that will always work\n    window.addEventListener('load', onDOMContentLoaded, false);\n    // If IE event model is used\n  } else if (document.attachEvent) {\n    // ensure firing before onload,\n    // maybe late but safe also for iframes\n    document.attachEvent('onreadystatechange', onDOMContentLoaded);\n    // A fallback to window.onload, that will always work\n    window.attachEvent('onload', onDOMContentLoaded);\n    // If IE and not a frame\n    // continually check to see if the document is ready\n    var toplevel;\n    try {\n      toplevel = window.frameElement == null;\n    } catch (err) {}\n    if (document.documentElement.doScroll && toplevel) {\n      doScrollCheck();\n    }\n  }\n};\n\nApp.prototype._getScript = function() {\n  return document.querySelector('script[data-derby-app]');\n};\n\nApp.prototype.use = util.use;\nApp.prototype.serverUse = util.serverUse;\n\nApp.prototype.loadViews = function() {};\n\nApp.prototype.loadStyles = function() {};\n\n// This function is overriden by requiring 'derby/parsing'\nApp.prototype.addViews = function() {\n  throw new Error(\n    'Parsing not available. Registering a view from source should not be used ' +\n    'in application code. Instead, specify a filename with view.file.'\n  );\n};\n\nApp.prototype.component = function(name, constructor, isDependency) {\n  if (typeof name === 'function') {\n    constructor = name;\n    name = null;\n  }\n  if (typeof constructor !== 'function') {\n    throw new Error('Missing component constructor argument');\n  }\n\n  var viewProp = constructor.view;\n  var viewIs, viewFilename, viewSource, viewDependencies;\n  // Always using an object for the static `view` property is preferred\n  if (viewProp && typeof viewProp === 'object') {\n    viewIs = viewProp.is;\n    viewFilename = viewProp.file;\n    viewSource = viewProp.source;\n    viewDependencies = viewProp.dependencies;\n  } else {\n    // Ignore other properties when `view` is an object. It is possible that\n    // properties could be inherited from a parent component when extending it.\n    //\n    // DEPRECATED: constructor.prototype.name and constructor.prototype.view\n    // use the equivalent static properties instead\n    viewIs = constructor.is || constructor.prototype.name;\n    viewFilename = constructor.view || constructor.prototype.view;\n  }\n  var viewName = name || viewIs ||\n    (viewFilename && path.basename(viewFilename, '.html'));\n\n  if (!viewName) {\n    throw new Error('No view specified for component');\n  }\n  if (viewFilename && viewSource) {\n    throw new Error('Component may not specify both a view file and source');\n  }\n\n  // TODO: DRY. This is copy-pasted from derby-templates\n  var mapName = viewName.replace(/:index$/, '');\n  var currentView = this.views.nameMap[mapName];\n  var currentConstructor = (currentView && currentView.componentFactory) ?\n    currentView.componentFactory.constructor :\n    this._pendingComponentMap[mapName];\n\n  // Avoid registering the same component twice; we want to avoid the overhead\n  // of loading view files from disk again. This is also what prevents\n  // circular dependencies from infinite looping\n  if (currentConstructor === constructor) return;\n\n  // Calling app.component() overrides existing views or components. Prevent\n  // dependencies from doing this without warning\n  if (isDependency && currentView && !currentView.fromSerialized) {\n    throw new Error('Dependencies cannot override existing views. Already registered \"' + viewName + '\"');\n  }\n\n  // This map is used to prevent infinite loops from circular dependencies\n  this._pendingComponentMap[mapName] = constructor;\n\n  // Recursively register component dependencies\n  if (viewDependencies) {\n    for (var i = 0; i < viewDependencies.length; i++) {\n      var dependency = viewDependencies[i];\n      if (Array.isArray(dependency)) {\n        this.component(dependency[0], dependency[1], true);\n      } else {\n        this.component(null, dependency, true);\n      }\n    }\n  }\n\n  // Register or find views specified by the component\n  var view;\n  if (viewFilename) {\n    this.loadViews(viewFilename, viewName);\n    view = this.views.find(viewName);\n\n  } else if (viewSource) {\n    this.addViews(viewSource, viewName);\n    view = this.views.find(viewName);\n\n  } else if (name) {\n    view = this.views.find(viewName);\n\n  } else {\n    view = this.views.register(viewName, '');\n  }\n  if (!view) {\n    var message = this.views.findErrorMessage(viewName);\n    throw new Error(message);\n  }\n\n  // Inherit from Component\n  components.extendComponent(constructor);\n  // Associate the appropriate view with the component constructor\n  view.componentFactory = components.createFactory(constructor);\n\n  delete this._pendingComponentMap[mapName];\n\n  // Make chainable\n  return this;\n};\n\nApp.prototype.createPage = function() {\n  if (this.page) {\n    this.emit('destroyPage', this.page);\n    this.page.destroy();\n  }\n  var page = new this.Page(this, this.model);\n  this.page = page;\n  return page;\n};\n\nApp.prototype.onRoute = function(callback, page, next, done) {\n  if (this._waitForAttach) {\n    // Cancel any routing before the initial page attachment. Instead, do a\n    // render once derby is ready\n    this._cancelAttach = true;\n    return;\n  }\n  this.emit('route', page);\n  // HACK: To update render in transitional routes\n  page.model.set('$render.params', page.params);\n  page.model.set('$render.url', page.params.url);\n  page.model.set('$render.query', page.params.query);\n  // If transitional\n  if (done) {\n    var app = this;\n    var _done = function() {\n      app.emit('routeDone', page, 'transition');\n      done();\n    };\n    callback.call(page, page, page.model, page.params, next, _done);\n    return;\n  }\n  callback.call(page, page, page.model, page.params, next);\n};\n\nApp.prototype._autoRefresh = function() {\n  var app = this;\n  var connection = this.model.connection;\n  connection.on('connected', function() {\n    connection.send({\n      derby: 'app',\n      name: app.name,\n      hash: app.scriptHash\n    });\n  });\n  connection.on('receive', function(request) {\n    if (request.data.derby) {\n      var message = request.data;\n      request.data = null;\n      app._handleMessage(message.derby, message);\n    }\n  });\n};\n\nApp.prototype._handleMessage = function(action, message) {\n  if (action === 'refreshViews') {\n    var fn = new Function('return ' + message.views)(); // jshint ignore:line\n    fn(derbyTemplates, this.views);\n    var ns = this.model.get('$render.ns');\n    this.page.render(ns);\n\n  } else if (action === 'refreshStyles') {\n    var styleElement = document.querySelector('style[data-filename=\"' +\n      message.filename + '\"]');\n    if (styleElement) styleElement.innerHTML = message.css;\n\n  } else if (action === 'reload') {\n    this.model.whenNothingPending(function() {\n      window.location = window.location;\n    });\n  }\n};\n",
    "/*\n * Derby.js\n * Meant to be the entry point for the framework.\n *\n */\nvar racer = require('racer');\n\nmodule.exports = Derby;\n\nfunction Derby() {}\nDerby.prototype = Object.create(racer);\nDerby.prototype.constructor = Derby;\n\nDerby.prototype.App = require('./App');\nDerby.prototype.Page = require('./Page');\nDerby.prototype.Component = require('./components').Component;\n\nDerby.prototype.createApp = function(name, filename, options) {\n  return new this.App(this, name, filename, options);\n};\n\nif (!racer.util.isServer) {\n  require('./documentListeners').add(document);\n}\n",
    "var serverRequire = require('racer').util.serverRequire;\nvar Derby = serverRequire(module, './lib/DerbyForServer') || require('./lib/Derby');\nmodule.exports = new Derby();\n",
    "\nmodule.exports = function(app) {\n  app.on('ready', function(page) {\n    window.MODEL = page.model;\n    window.APP = app;\n    app.findComponent = findComponent;\n    app.componentCommand = componentCommand;\n    app.derby.Model.prototype.logEvents = logEvents;\n  });\n}\n\nfunction findComponent(name, index) {\n  if (index == null) index = 0;\n  var commentIterator = document.createTreeWalker(document, 128, null, false);\n  var node;\n  while ((node = commentIterator.nextNode())) {\n    if (node.data !== name) continue;\n    if (index === 0) {\n      return node.$component;\n    }\n    index--;\n  }\n};\n\nfunction componentCommand(comment) {\n  var count = 0;\n  var commentIterator = document.createTreeWalker(document, 128, null, false);\n  var node;\n  while ((node = commentIterator.nextNode())) {\n    if (node === comment) {\n      return '(component = APP.findComponent(\\'' + node.data + '\\',' + count + '))';\n    }\n    if (node.data === comment.data) count++;\n  }\n};\n\nfunction logEvents(path) {\n  if (path == null) path = '';\n  this.on('all', path + '**', console.log.bind(console));\n};\n",
    "module.exports = ConnectionAlert;\nfunction ConnectionAlert() {}\nConnectionAlert.prototype.view = __dirname;\n\nConnectionAlert.prototype.reconnect = function() {\n  var model = this.model;\n  // Hide the reconnect link for a second after clicking it\n  model.set('hideReconnect', true);\n  setTimeout(function() {\n    model.set('hideReconnect', false);\n  }, 1000);\n  model.reconnect();\n};\n\nConnectionAlert.prototype.reload = function() {\n  window.location.reload();\n};\n\nConnectionAlert.prototype.sentenceCase = function(text) {\n  return text && (text.charAt(0).toUpperCase() + text.slice(1));\n};\n",
    "module.exports = BeforeUnload;\nfunction BeforeUnload() {}\nBeforeUnload.prototype.name = 'd-before-unload';\n\nBeforeUnload.prototype.create = function(model, dom) {\n  // Stop the user from leaving the page whenever a change might be pending\n  dom.on('beforeunload', window, listenerFn(model));\n};\n\nfunction listenerFn(model) {\n  return function beforeunloadListener(e) {\n    if (!model.hasWritePending()) return;\n    var confirmationMessage = model.get('message') ||\n      'You have unsaved changes. Do you want to leave this page and discard your changes?';\n    e.returnValue = confirmationMessage;\n    return confirmationMessage;\n  };\n}\n",
    "module.exports = class SortableTable\n  @view: {\n    is: 'sortable-table'\n  }\n\n  create: ->\n    @dragging = null\n    @dom.addListener 'mousemove', document, (e) => @onMove(e)\n    @dom.addListener 'mouseup', document, => @endDragging()\n    @dom.addListener 'blur', window, => @endDragging(true)\n\n  onRowDown: (e) ->\n    @dragStart e, cloneRow, setTop, breakTop, '.row', finishRow, e.target.parentNode\n\n  onColDown: (e) ->\n    @dragStart e, cloneCol, setLeft, breakLeft, '.col', finishCol, e.target\n\n  onMove: (e) ->\n    return unless @dragging\n    {parent, last, breakFn} = @dragging\n    loc = @dragging.setFn e\n\n    i = 0\n    children = parent.querySelectorAll @dragging.selector\n    i++ while loc > breakFn(\n      if i < last then children[i] else children[i + 1]\n    )\n    unless i == last\n      unless ref = children[if i < last then i else i + 1]\n        ref = children[children.length - 1].nextSibling\n      parent.insertBefore @dragging.clone, ref\n    @dragging.last = i\n\n  endDragging: (cancel) ->\n    return unless @dragging\n    @dragging.finish cancel\n    document.body.removeChild @dragging.container\n    @dragging = null\n\n  dragStart: (e, cloneFn, setFn, breakFn, selector, finish, el) ->\n    return if e.button != 0\n    e.preventDefault?()\n    container = document.createElement 'table'\n    container.style.position = 'absolute'\n    parent = el.parentNode\n    rect = el.getBoundingClientRect()\n    nodeOffset = targetIndex(parent.querySelector selector)\n    index = targetIndex(el) - nodeOffset\n    clone = cloneFn container, el, rect, parent, nodeOffset, index\n    offsetLeft = rect.left - e.clientX\n    offsetTop = rect.top - e.clientY\n    @dragging = {component: this, el, parent, clone, nodeOffset, index, last: index, setFn, breakFn, selector, offsetLeft, offsetTop, finish, container}\n    setLeft.call @dragging, e\n    setTop.call @dragging, e\n    document.body.appendChild container\n\ntargetIndex = (el) ->\n  for child, i in el.parentNode.childNodes\n    return i if child == el\n\nsetLeft = (e) ->\n  loc = e.clientX\n  @container.style.left = (loc + window.pageXOffset + @offsetLeft) + 'px'\n  return loc\n\nsetTop = (e) ->\n  loc = e.clientY\n  @container.style.top = (loc + window.pageYOffset + @offsetTop) + 'px'\n  return loc\n\nbreakLeft = (el) ->\n  return unless el\n  rect = el.getBoundingClientRect()\n  rect.width / 2 + rect.left\n\nbreakTop = (el) ->\n  return unless el\n  rect = el.getBoundingClientRect()\n  rect.height / 2 + rect.top\n\ncloneRow = (container, el, rect, parent) ->\n  spacerHtml = '<tr>'\n  for child in el.children\n    spacerHtml += \"<td style=width:#{child.offsetWidth}px;height:0;padding:0>\"\n  clone = el.cloneNode(false)\n  clone.removeAttribute 'id'\n  clone.style.height = rect.height + 'px'\n  container.innerHTML = clone.innerHTML = spacerHtml\n  parent.insertBefore clone, el\n  container.firstChild.appendChild el\n  return clone\n\ncloneCol = (container, el, rect, parent, nodeOffset, index) ->\n  rows = parent.parentNode.children\n  spacerHtml = ''\n  for row in rows\n    spacerHtml += \"<tr class=#{row.className} style=height:#{row.offsetHeight}px;width:0;padding:0>\"\n  container.innerHTML = spacerHtml\n  clone = el.cloneNode(false)\n  clone.removeAttribute 'id'\n  clone.setAttribute 'rowspan', rows.length\n  clone.style.padding = 0\n  clone.style.width = rect.width + 'px'\n  nodeIndex = index + nodeOffset\n  parent.insertBefore clone, parent.childNodes[nodeIndex + 1]\n  cloneRows = container.firstChild.children\n  for row, i in rows\n    cloneRows[i].appendChild row.childNodes[nodeIndex]\n  return clone\n\nfinishRow = (cancel) ->\n  # Put things back where they started\n  @parent.removeChild @clone\n  @parent.insertBefore @el, @parent.childNodes[@index + @nodeOffset]\n  # Actually do the move\n  @component.emit 'rowMove', @index, @last  unless cancel\n\nfinishCol = (cancel) ->\n  # Put things back where they started\n  @parent.removeChild @clone\n  rows = @parent.parentNode.children\n  cloneRows = @container.firstChild.children\n  nodeIndex = @index + @nodeOffset\n  for row, i in rows\n    row.insertBefore cloneRows[i].firstChild, row.childNodes[nodeIndex]\n  # Actually do the move\n  @component.emit 'colMove', @index, @last  unless cancel\n",
    "\n_$index_93();\nexposedRequire.m[\"racer\"] = _$lib_racer;\nexposedRequire.m[\"derby\"] = _$derby_derby;\nreturn exposedRequire;\n}(typeof require === 'function' ? require : void 0));"
  ],
  "sourceRoot": ""
}