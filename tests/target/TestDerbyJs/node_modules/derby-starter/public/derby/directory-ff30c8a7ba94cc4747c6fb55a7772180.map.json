{
  "version": 3,
  "sources": [
    "node_modules/browser-pack-flat/_prelude",
    "node_modules/d-bootstrap/contextMenu/index.js",
    "node_modules/d-bootstrap/alert/index.js",
    "node_modules/d-bootstrap/tabs/index.js",
    "node_modules/d-bootstrap/modal/index.js",
    "node_modules/d-bootstrap/dropdown/index.js",
    "node_modules/derby/lib/documentListeners.js",
    "node_modules/derby-templates/lib/templates.js",
    "node_modules/derby-templates/lib/options.js",
    "node_modules/serialize-object/index.js",
    "node_modules/events/events.js",
    "node_modules/uuid/rng-browser.js",
    "node_modules/uuid/uuid.js",
    "node_modules/racer/lib/Model/Model.js",
    "node_modules/fast-deep-equal/index.js",
    "node_modules/process/browser.js",
    "node_modules/racer/lib/util.js",
    "node_modules/racer/lib/Model/unbundle.js",
    "node_modules/racer/lib/Model/events.js",
    "node_modules/racer/lib/Model/paths.js",
    "node_modules/racer/lib/Model/Doc.js",
    "node_modules/racer/lib/Model/LocalDoc.js",
    "node_modules/racer/lib/Model/collections.js",
    "node_modules/racer/lib/Model/mutators.js",
    "node_modules/arraydiff/index.js",
    "node_modules/racer/lib/Model/setDiff.js",
    "node_modules/sharedb/lib/emitter.js",
    "node_modules/sharedb/lib/logger/logger.js",
    "node_modules/sharedb/lib/logger/index.js",
    "node_modules/sharedb/lib/error.js",
    "node_modules/ot-json0/lib/bootstrapTransform.js",
    "node_modules/ot-json0/lib/text0.js",
    "node_modules/ot-json0/lib/json0.js",
    "node_modules/ot-json0/lib/index.js",
    "node_modules/sharedb/lib/types.js",
    "node_modules/sharedb/lib/client/doc.js",
    "node_modules/sharedb/lib/client/query.js",
    "node_modules/sharedb/lib/snapshot.js",
    "node_modules/sharedb/lib/client/snapshot-request/snapshot-request.js",
    "node_modules/sharedb/lib/util.js",
    "node_modules/sharedb/lib/client/snapshot-request/snapshot-version-request.js",
    "node_modules/sharedb/lib/client/snapshot-request/snapshot-timestamp-request.js",
    "node_modules/sharedb/lib/client/connection.js",
    "node_modules/sharedb/lib/client/index.js",
    "node_modules/racer/lib/Model/RemoteDoc.js",
    "node_modules/racer/lib/Model/connection.js",
    "node_modules/racer/lib/Model/Query.js",
    "node_modules/racer/lib/Model/CollectionCounter.js",
    "node_modules/racer/lib/Model/subscriptions.js",
    "node_modules/racer/lib/Model/contexts.js",
    "node_modules/racer/lib/Model/defaultFns.js",
    "node_modules/racer/lib/Model/fn.js",
    "node_modules/racer/lib/Model/filter.js",
    "node_modules/racer/lib/Model/refList.js",
    "node_modules/racer/lib/Model/ref.js",
    "node_modules/racer/lib/Model/index.js",
    "node_modules/racer/lib/Racer.js",
    "node_modules/racer/lib/index.js",
    "node_modules/browserchannel/dist/bcsocket-uncompressed.js",
    "node_modules/racer-highway/lib/browser/socket.js",
    "node_modules/racer-highway/lib/browser/index.js",
    "../../../node_modules/core-js/internals/global.js",
    "../../../node_modules/core-js/internals/fails.js",
    "../../../node_modules/core-js/internals/descriptors.js",
    "../../../node_modules/core-js/internals/object-property-is-enumerable.js",
    "../../../node_modules/core-js/internals/create-property-descriptor.js",
    "../../../node_modules/core-js/internals/classof-raw.js",
    "../../../node_modules/core-js/internals/indexed-object.js",
    "../../../node_modules/core-js/internals/require-object-coercible.js",
    "../../../node_modules/core-js/internals/to-indexed-object.js",
    "../../../node_modules/core-js/internals/is-object.js",
    "../../../node_modules/core-js/internals/to-primitive.js",
    "../../../node_modules/core-js/internals/has.js",
    "../../../node_modules/core-js/internals/document-create-element.js",
    "../../../node_modules/core-js/internals/ie8-dom-define.js",
    "../../../node_modules/core-js/internals/object-get-own-property-descriptor.js",
    "../../../node_modules/core-js/internals/an-object.js",
    "../../../node_modules/core-js/internals/object-define-property.js",
    "../../../node_modules/core-js/internals/create-non-enumerable-property.js",
    "../../../node_modules/core-js/internals/is-pure.js",
    "../../../node_modules/core-js/internals/set-global.js",
    "../../../node_modules/core-js/internals/shared-store.js",
    "../../../node_modules/core-js/internals/shared.js",
    "../../../node_modules/core-js/internals/function-to-string.js",
    "../../../node_modules/core-js/internals/native-weak-map.js",
    "../../../node_modules/core-js/internals/uid.js",
    "../../../node_modules/core-js/internals/shared-key.js",
    "../../../node_modules/core-js/internals/hidden-keys.js",
    "../../../node_modules/core-js/internals/internal-state.js",
    "../../../node_modules/core-js/internals/redefine.js",
    "../../../node_modules/core-js/internals/path.js",
    "../../../node_modules/core-js/internals/get-built-in.js",
    "../../../node_modules/core-js/internals/to-integer.js",
    "../../../node_modules/core-js/internals/to-length.js",
    "../../../node_modules/core-js/internals/to-absolute-index.js",
    "../../../node_modules/core-js/internals/array-includes.js",
    "../../../node_modules/core-js/internals/object-keys-internal.js",
    "../../../node_modules/core-js/internals/enum-bug-keys.js",
    "../../../node_modules/core-js/internals/object-get-own-property-names.js",
    "../../../node_modules/core-js/internals/object-get-own-property-symbols.js",
    "../../../node_modules/core-js/internals/own-keys.js",
    "../../../node_modules/core-js/internals/copy-constructor-properties.js",
    "../../../node_modules/core-js/internals/is-forced.js",
    "../../../node_modules/core-js/internals/export.js",
    "../../../node_modules/core-js/modules/es.date.now.js",
    "../../../node_modules/core-js/modules/es.date.to-string.js",
    "node_modules/path-browserify/index.js",
    "node_modules/tracks/vendor/express/utils.js",
    "node_modules/tracks/vendor/express/router/route.js",
    "node_modules/qs/lib/utils.js",
    "node_modules/qs/lib/formats.js",
    "node_modules/qs/lib/stringify.js",
    "node_modules/qs/lib/parse.js",
    "node_modules/qs/lib/index.js",
    "node_modules/punycode/punycode.js",
    "node_modules/url/util.js",
    "node_modules/querystring-es3/decode.js",
    "node_modules/querystring-es3/encode.js",
    "node_modules/querystring-es3/index.js",
    "node_modules/url/url.js",
    "node_modules/tracks/lib/router.js",
    "node_modules/tracks/lib/History.js",
    "node_modules/tracks/lib/browser.js",
    "node_modules/derby-templates/lib/contexts.js",
    "node_modules/derby-templates/lib/operatorFns.js",
    "node_modules/saddle/index.js",
    "node_modules/derby-templates/lib/util.js",
    "node_modules/derby-templates/lib/expressions.js",
    "node_modules/derby-templates/index.js",
    "node_modules/derby/lib/Dom.js",
    "node_modules/derby/lib/Controller.js",
    "node_modules/derby/lib/components.js",
    "node_modules/derby/lib/eventmodel.js",
    "node_modules/derby/lib/textDiff.js",
    "node_modules/derby/lib/Page.js",
    "node_modules/derby/lib/_views.js",
    "node_modules/derby/lib/App.js",
    "node_modules/derby/lib/Derby.js",
    "node_modules/derby",
    "node_modules/derby-debug/index.js",
    "node_modules/d-bootstrap/index.js",
    "../../../node_modules/core-js/modules/es.object.define-property.js",
    "node_modules/d-connection-alert/index.js",
    "node_modules/d-before-unload/index.js",
    "directory/pages/chrome.js",
    "directory/pages/edit.js",
    "../../../node_modules/core-js/internals/a-function.js",
    "../../../node_modules/core-js/internals/to-object.js",
    "../../../node_modules/core-js/internals/sloppy-array-method.js",
    "../../../node_modules/core-js/modules/es.array.sort.js",
    "../../../node_modules/core-js/modules/es.function.name.js",
    "directory/pages/people.js",
    "node_modules/browser-pack-flat/_postlude",
    "directory/index.js"
  ],
  "names": [
    "require",
    "exposedRequire",
    "e",
    "r",
    "m",
    "hasOwnProperty",
    "createModuleFactory",
    "t",
    "exports",
    "parent",
    "_$ContextMenu_60",
    "module",
    "ContextMenu",
    "prototype",
    "view",
    "__dirname",
    "create",
    "model",
    "dom",
    "contextMenu",
    "this",
    "on",
    "menu",
    "contains",
    "target",
    "set",
    "open",
    "Error",
    "preventDefault",
    "x",
    "clientX",
    "y",
    "clientY",
    "args",
    "Array",
    "slice",
    "call",
    "arguments",
    "unshift",
    "push",
    "style",
    "top",
    "left",
    "emitDelayable",
    "apply",
    "select",
    "option",
    "value",
    "content",
    "optionValue",
    "action",
    "emit",
    "Alert",
    "setNull",
    "show",
    "hide",
    "setTimeout",
    "Tabs",
    "init",
    "index",
    "Modal",
    "modal",
    "get",
    "keyCode",
    "document",
    "body",
    "classList",
    "add",
    "emitCancellable",
    "remove",
    "Dropdown",
    "dropdown",
    "toggleButton",
    "toggle",
    "label",
    "options",
    "getAttribute",
    "i",
    "len",
    "length",
    "inputSupportsSelection",
    "input",
    "type",
    "inputIsNumberValue",
    "multiple",
    "doc",
    "addEventListener",
    "documentInput",
    "documentChange",
    "parseFloat",
    "window",
    "navigator",
    "appVersion",
    "split",
    "activeElement",
    "createElement",
    "valueAsNumber",
    "oldInputValue",
    "inputValue",
    "tagName",
    "setInputValue",
    "setBoundProperty",
    "setOptionBindings",
    "node",
    "firstChild",
    "nextSibling",
    "hasChildNodes",
    "property",
    "binding",
    "$bindAttributes",
    "isUnbound",
    "template",
    "expression",
    "context",
    "pass",
    "$event",
    "segments",
    "pathSegments",
    "controller",
    "_$textDiff_83",
    "onTextInput",
    "textDiffBinding",
    "serializeObject",
    "_$serializeObject_127",
    "DependencyOptions",
    "_$options_71",
    "concat",
    "_$util_73",
    "hasKeys",
    "traverseAndCreate",
    "concatArrayDependencies",
    "dependencies",
    "expressions",
    "concatDependencies",
    "expressionDependencies",
    "getDependencies",
    "key",
    "_$saddle_126",
    "Marker",
    "View",
    "ViewInstance",
    "DynamicViewInstance",
    "ViewParent",
    "ContextClosure",
    "Views",
    "MarkupHook",
    "ElementOn",
    "ComponentOn",
    "AsProperty",
    "AsObject",
    "AsObjectComponent",
    "AsArray",
    "AsArrayComponent",
    "emptyTemplate",
    "Template",
    "unbound",
    "Binding",
    "resolve",
    "shouldIgnoreTemplate",
    "Doctype",
    "Text",
    "DynamicText",
    "Comment",
    "DynamicComment",
    "Html",
    "DynamicHtml",
    "Element",
    "concatMapDependencies",
    "attributes",
    "DynamicElement",
    "Block",
    "meta",
    "blockType",
    "blockContext",
    "child",
    "ConditionalBlock",
    "condition",
    "getCondition",
    "end",
    "concatSubArrayDependencies",
    "contents",
    "EachBlock",
    "items",
    "itemContext",
    "eachChild",
    "elseContent",
    "Attribute",
    "DynamicAttribute",
    "markerHooks",
    "$component",
    "markerNode",
    "data",
    "ViewAttributesMap",
    "source",
    "ViewArraysMap",
    "item",
    "views",
    "name",
    "nameSegments",
    "lastSegment",
    "pop",
    "namespace",
    "join",
    "registeredName",
    "attributesMap",
    "arraysMap",
    "arrays",
    "unminified",
    "string",
    "literal",
    "componentFactory",
    "fromSerialized",
    "hooks",
    "initHooks",
    "nameExpression",
    "ViewsMap",
    "nameMap",
    "tagMap",
    "elementMap",
    "keyExpression",
    "Object",
    "constructor",
    "serialize",
    "instance",
    "_isComponent",
    "extend",
    "_initComponent",
    "_queueCreate",
    "viewContext",
    "queue",
    "unescaped",
    "parse",
    "getFragment",
    "fragment",
    "appendTo",
    "attachTo",
    "componentChild",
    "_parse",
    "marker",
    "_find",
    "viewChild",
    "contextView",
    "getView",
    "find",
    "message",
    "findErrorMessage",
    "nameDependencies",
    "viewDependencies",
    "parentContext",
    "forViewParent",
    "closureContext",
    "closureChild",
    "equals",
    "other",
    "map",
    "match",
    "segmentsDepth",
    "testSegments",
    "splice",
    "register",
    "mapName",
    "replace",
    "tag",
    "element",
    "deserialize",
    "setTemplate",
    "forServer",
    "server",
    "minify",
    "serverOnly",
    "names",
    "keys",
    "elementOn",
    "$destroyListeners",
    "event",
    "modelData",
    "$element",
    "out",
    "component",
    "object",
    "addListeners",
    "addDestroyListener",
    "listener",
    "array",
    "comparePosition",
    "indexOf",
    "compareDocumentPosition",
    "templates",
    "_$templates_72",
    "setIgnoreTemplate",
    "ignoreTemplate",
    "serializeArgs",
    "serializeValue",
    "formatString",
    "isArray",
    "objectCreate",
    "objectCreatePolyfill",
    "objectKeys",
    "objectKeysPolyfill",
    "bind",
    "Function",
    "functionBindPolyfill",
    "EventEmitter",
    "_events",
    "_eventsCount",
    "_maxListeners",
    "undefined",
    "_$EventEmitter_84",
    "defaultMaxListeners",
    "hasDefineProperty",
    "o",
    "defineProperty",
    "err",
    "$getMaxListeners",
    "that",
    "emitNone",
    "handler",
    "isFn",
    "self",
    "listeners",
    "arrayClone",
    "emitOne",
    "arg1",
    "emitTwo",
    "arg2",
    "emitThree",
    "arg3",
    "emitMany",
    "_addListener",
    "prepend",
    "events",
    "existing",
    "TypeError",
    "newListener",
    "warned",
    "w",
    "String",
    "emitter",
    "count",
    "console",
    "warn",
    "onceWrapper",
    "fired",
    "removeListener",
    "wrapFn",
    "_onceWrap",
    "state",
    "wrapped",
    "_listeners",
    "unwrap",
    "evlistener",
    "unwrapListeners",
    "listenerCount",
    "spliceOne",
    "list",
    "k",
    "n",
    "arr",
    "copy",
    "ret",
    "proto",
    "F",
    "obj",
    "fn",
    "enumerable",
    "arg",
    "setMaxListeners",
    "isNaN",
    "getMaxListeners",
    "er",
    "doError",
    "error",
    "addListener",
    "prependListener",
    "once",
    "prependOnceListener",
    "position",
    "originalListener",
    "shift",
    "removeAllListeners",
    "rawListeners",
    "eventNames",
    "Reflect",
    "ownKeys",
    "rng",
    "crypto",
    "global",
    "msCrypto",
    "getRandomValues",
    "_rnds8",
    "Uint8Array",
    "_rnds",
    "Math",
    "random",
    "_$rng_149",
    "_byteToHex",
    "_hexToByte",
    "toString",
    "substr",
    "s",
    "buf",
    "offset",
    "ii",
    "toLowerCase",
    "oct",
    "unparse",
    "bth",
    "_seedBytes",
    "_nodeId",
    "_clockseq",
    "_lastMSecs",
    "_lastNSecs",
    "v1",
    "b",
    "clockseq",
    "msecs",
    "Date",
    "getTime",
    "nsecs",
    "dt",
    "tl",
    "tmh",
    "v4",
    "rnds",
    "uuid",
    "_$uuid_150",
    "Model",
    "INITS",
    "_$Model_106",
    "root",
    "inits",
    "debug",
    "ChildModel",
    "_context",
    "_at",
    "_pass",
    "_silent",
    "_eventContext",
    "_preventCompose",
    "id",
    "_child",
    "keyList",
    "hasProp",
    "_$equal_85",
    "equal",
    "a",
    "arrA",
    "arrB",
    "dateA",
    "dateB",
    "regexpA",
    "RegExp",
    "regexpB",
    "process",
    "_$browser_91",
    "cachedSetTimeout",
    "cachedClearTimeout",
    "defaultSetTimout",
    "defaultClearTimeout",
    "runTimeout",
    "fun",
    "runClearTimeout",
    "clearTimeout",
    "draining",
    "currentQueue",
    "queueIndex",
    "cleanUpNextTick",
    "drainQueue",
    "timeout",
    "run",
    "Item",
    "noop",
    "nextTick",
    "title",
    "browser",
    "env",
    "argv",
    "version",
    "versions",
    "off",
    "cwd",
    "chdir",
    "dir",
    "umask",
    "isServer",
    "AsyncGroup",
    "cb",
    "isDone",
    "copyObject",
    "equalsNaN",
    "isArrayIndex",
    "segment",
    "test",
    "mayImpact",
    "min",
    "_$util_125",
    "asyncGroup",
    "group",
    "castSegments",
    "deepCopy",
    "deepEqual",
    "lookup",
    "mergeInto",
    "to",
    "from",
    "mayImpactAny",
    "segmentsList",
    "serverRequire",
    "serverUse",
    "plugin",
    "use",
    "plugins",
    "_plugins",
    "unbundle",
    "collectionName",
    "connection",
    "startBulk",
    "_initQueries",
    "queries",
    "collections",
    "collection",
    "getOrCreateDoc",
    "contextId",
    "contexts",
    "contextData",
    "contextModel",
    "fetchedDocs",
    "fetchDoc",
    "_fetchedDocs",
    "increment",
    "subscribedDocs",
    "subscribeDoc",
    "createdDocs",
    "createDoc",
    "endBulk",
    "refs",
    "ref",
    "refLists",
    "refList",
    "fns",
    "start",
    "filters",
    "_filters",
    "__EventEmitter_113",
    "patternContained",
    "pattern",
    "listenerSegments",
    "patternSegments",
    "Passed",
    "previous",
    "eventListener",
    "eventType",
    "arg4",
    "subpattern",
    "isPath",
    "useEventObjects",
    "path",
    "modelEventListener",
    "modelEventListenerLegacy",
    "eventContext",
    "testFn",
    "testPatternFn",
    "modelListener",
    "eventArgs",
    "captures",
    "eventFactory",
    "getEventFactory",
    "ChangeEvent",
    "InsertEvent",
    "RemoveEvent",
    "MoveEvent",
    "LoadEvent",
    "UnloadEvent",
    "concreteEventFactory",
    "passed",
    "values",
    "removed",
    "howMany",
    "previousDocument",
    "endingRest",
    "stripRestWildcard",
    "patternLen",
    "patternSegment",
    "remainder",
    "lastIndex",
    "exec",
    "MUTATOR_EVENTS",
    "change",
    "insert",
    "move",
    "load",
    "unload",
    "_defaultCallback",
    "_emitError",
    "_mutatorEventQueue",
    "wrapCallback",
    "JSON",
    "stringify",
    "stringifyErr",
    "_emit",
    "queued",
    "_on",
    "g",
    "_removeAllListeners",
    "invert",
    "silent",
    "removeContextListeners",
    "createScoped",
    "scoped",
    "_$paths_118",
    "mixin",
    "_splitPath",
    "subpath",
    "scope",
    "at",
    "levels",
    "max",
    "leaf",
    "lastIndexOf",
    "_$Doc_104",
    "Doc",
    "collectionData",
    "_errorMessage",
    "description",
    "_$LocalDoc_105",
    "LocalDoc",
    "_updateCollectionData",
    "nodeCreateArray",
    "_apply",
    "del",
    "byNumber",
    "_validatedApply",
    "_arrayApply",
    "stringInsert",
    "stringRemove",
    "_createImplied",
    "nextKey",
    "validate",
    "CollectionMap",
    "ModelData",
    "DocMap",
    "CollectionData",
    "Collection",
    "docs",
    "noKeys",
    "getCollection",
    "getDoc",
    "_get",
    "getCopy",
    "_getCopy",
    "getDeepCopy",
    "_getDeepCopy",
    "getOrCreateCollection",
    "_getDocConstructor",
    "destroy",
    "silentModel",
    "_removeAllRefs",
    "_stopAll",
    "_removeAllFilters",
    "_del",
    "_mutate",
    "docSegments",
    "shareDoc",
    "oldPreventCompose",
    "preventCompose",
    "_set",
    "_dereference",
    "fnCb",
    "_setNull",
    "setEach",
    "_setEach",
    "_create",
    "createNull",
    "_createNull",
    "_add",
    "_increment",
    "_push",
    "_unshift",
    "_insert",
    "inserted",
    "_pop",
    "_shift",
    "_remove",
    "_move",
    "moved",
    "text",
    "_stringInsert",
    "$stringInsert",
    "_stringRemove",
    "$stringRemove",
    "subtypeSubmit",
    "subtype",
    "subtypeOp",
    "_subtypeSubmit",
    "$subtype",
    "op",
    "_$arrayDiff_56",
    "arrayDiff",
    "InsertDiff",
    "RemoveDiff",
    "MoveDiff",
    "strictEqual",
    "before",
    "after",
    "equalFn",
    "beforeLength",
    "afterLength",
    "moves",
    "beforeMarked",
    "afterMarked",
    "beforeIndex",
    "beforeItem",
    "afterIndex",
    "removes",
    "inserts",
    "j",
    "insertsLength",
    "removesLength",
    "movesLength",
    "earlier",
    "outputMoves",
    "later",
    "toJSON",
    "diffDeep",
    "diff",
    "itemSegments",
    "_applyArrayDiff",
    "_setDiff",
    "setDiff",
    "setDiffDeep",
    "_setDiffDeep",
    "finished",
    "setArrayDiff",
    "_setArrayDiff",
    "setArrayDiffDeep",
    "_setArrayDiffDeep",
    "_equalFn",
    "__EventEmitter_135",
    "Constructor",
    "_$emitter_135",
    "SUPPORTED_METHODS",
    "Logger",
    "defaultMethods",
    "forEach",
    "method",
    "setMethods",
    "_$Logger_138",
    "overrides",
    "logger",
    "_$logger_137",
    "ShareDBError",
    "code",
    "captureStackTrace",
    "stack",
    "CODES",
    "ERR_APPLY_OP_VERSION_DOES_NOT_MATCH_SNAPSHOT",
    "ERR_APPLY_SNAPSHOT_NOT_PROVIDED",
    "ERR_CLIENT_ID_BADLY_FORMED",
    "ERR_CONNECTION_STATE_TRANSITION_INVALID",
    "ERR_DATABASE_ADAPTER_NOT_FOUND",
    "ERR_DATABASE_DOES_NOT_SUPPORT_SUBSCRIBE",
    "ERR_DATABASE_METHOD_NOT_IMPLEMENTED",
    "ERR_DEFAULT_TYPE_MISMATCH",
    "ERR_DOC_MISSING_VERSION",
    "ERR_DOC_ALREADY_CREATED",
    "ERR_DOC_DOES_NOT_EXIST",
    "ERR_DOC_TYPE_NOT_RECOGNIZED",
    "ERR_DOC_WAS_DELETED",
    "ERR_INFLIGHT_OP_MISSING",
    "ERR_INGESTED_SNAPSHOT_HAS_NO_VERSION",
    "ERR_MAX_SUBMIT_RETRIES_EXCEEDED",
    "ERR_MESSAGE_BADLY_FORMED",
    "ERR_MILESTONE_ARGUMENT_INVALID",
    "ERR_OP_ALREADY_SUBMITTED",
    "ERR_OP_NOT_ALLOWED_IN_PROJECTION",
    "ERR_OP_SUBMIT_REJECTED",
    "ERR_OP_VERSION_MISMATCH_AFTER_TRANSFORM",
    "ERR_OP_VERSION_MISMATCH_DURING_TRANSFORM",
    "ERR_OP_VERSION_NEWER_THAN_CURRENT_SNAPSHOT",
    "ERR_OT_OP_BADLY_FORMED",
    "ERR_OT_OP_NOT_PROVIDED",
    "ERR_PROTOCOL_VERSION_NOT_SUPPORTED",
    "ERR_QUERY_EMITTER_LISTENER_NOT_ASSIGNED",
    "ERR_SNAPSHOT_READ_SILENT_REJECTION",
    "ERR_SNAPSHOT_READS_REJECTED",
    "ERR_SUBMIT_TRANSFORM_OPS_NOT_FOUND",
    "ERR_TYPE_CANNOT_BE_PROJECTED",
    "ERR_UNKNOWN_ERROR",
    "_$ShareDBError_136",
    "_$bootstrapTransform_86",
    "bootstrapTransform",
    "transformComponent",
    "checkValidOp",
    "append",
    "transformX",
    "leftOp",
    "rightOp",
    "right",
    "destRight",
    "newRightOp",
    "rightComponent",
    "newLeftOp",
    "nextC",
    "pair",
    "l",
    "transform",
    "otherOp",
    "_$text0_89",
    "uri",
    "initial",
    "strInject",
    "s1",
    "pos",
    "s2",
    "checkValidComponent",
    "c",
    "p",
    "d",
    "snapshot",
    "deleted",
    "_append",
    "newOp",
    "last",
    "compose",
    "op1",
    "op2",
    "normalize",
    "transformPosition",
    "insertAfter",
    "transformCursor",
    "side",
    "_tc",
    "dest",
    "otherC",
    "newC",
    "intersectStart",
    "intersectEnd",
    "invertComponent",
    "reverse",
    "__isArray_88",
    "isObject",
    "clone",
    "json",
    "subtypes",
    "convertFromText",
    "si",
    "sd",
    "convertToText",
    "registerSubtype",
    "c_",
    "oi",
    "od",
    "li",
    "ld",
    "na",
    "lm",
    "op_",
    "iop",
    "checkList",
    "elem",
    "checkObj",
    "container",
    "shatter",
    "results",
    "incrementalApply",
    "_yield",
    "smallOp",
    "pathMatches",
    "p1",
    "p2",
    "ignoreLast",
    "commonLengthForOps",
    "alen",
    "blen",
    "canOpAffectPath",
    "common",
    "common2",
    "cplength",
    "otherCplength",
    "oc",
    "commonOperand",
    "res",
    "otherFrom",
    "otherTo",
    "_$json_88",
    "_$lib_87",
    "_$types_140",
    "defaultType",
    "ERROR_CODE",
    "inflightFetch",
    "inflightSubscribe",
    "inflightUnsubscribe",
    "pendingFetch",
    "subscribed",
    "wantSubscribe",
    "inflightOp",
    "pendingOps",
    "applyStack",
    "pushActionCallback",
    "inflight",
    "isDuplicate",
    "callback",
    "lastCallback",
    "client",
    "result",
    "clientOp",
    "serverOp",
    "callEach",
    "callbacks",
    "called",
    "_$Doc_129",
    "whenNothingPending",
    "unsubscribe",
    "_destroyDoc",
    "_setType",
    "newType",
    "ingestSnapshot",
    "v",
    "hasWritePending",
    "fetch",
    "hasPending",
    "_emitNothingPending",
    "_emitResponseError",
    "_handleFetch",
    "_handleSubscribe",
    "_handleUnsubscribe",
    "_handleOp",
    "_rollback",
    "src",
    "seq",
    "_opAcknowledged",
    "transformErr",
    "_hardRollback",
    "_otApply",
    "_onConnectionStateChanged",
    "canSend",
    "flush",
    "_resubscribe",
    "subscribe",
    "sendFetch",
    "sendSubscribe",
    "sendUnsubscribe",
    "paused",
    "_sendOp",
    "stackLength",
    "componentOp",
    "_popApplyStack",
    "createDeserialized",
    "oldData",
    "sentAt",
    "now",
    "retries",
    "sendOp",
    "_submit",
    "_pushOp",
    "composed",
    "_tryCompose",
    "ops",
    "submitOp",
    "pause",
    "resume",
    "_clearInflightOp",
    "allOpsHadCallbacks",
    "Query",
    "query",
    "extra",
    "ready",
    "sent",
    "_$Query_131",
    "send",
    "q",
    "_destroyQuery",
    "_handleResponse",
    "_finishResponse",
    "wait",
    "finish",
    "_ingestSnapshots",
    "snapshots",
    "_handleError",
    "_handleDiff",
    "newDocs",
    "_handleExtra",
    "_$Snapshot_139",
    "Snapshot",
    "_$SnapshotRequest_132",
    "SnapshotRequest",
    "requestId",
    "_message",
    "metadata",
    "doNothing",
    "_$util_141",
    "isInteger",
    "Number",
    "isFinite",
    "floor",
    "isValidVersion",
    "isValidTimestamp",
    "timestamp",
    "_$SnapshotVersionRequest_134",
    "SnapshotVersionRequest",
    "_$SnapshotTimestampRequest_133",
    "SnapshotTimestampRequest",
    "ts",
    "connectionState",
    "socket",
    "readyState",
    "Connection",
    "nextQueryId",
    "nextSnapshotRequestId",
    "_snapshotRequests",
    "agent",
    "bindToSocket",
    "wrapErrorData",
    "errorData",
    "fullMessage",
    "_$Connection_128",
    "close",
    "onmessage",
    "onopen",
    "onerror",
    "onclose",
    "newState",
    "_setState",
    "info",
    "request",
    "handleMessage",
    "reason",
    "protocol",
    "_handleBulkMessage",
    "_handleSnapshotFetch",
    "getExisting",
    "dataForId",
    "_reset",
    "bulk",
    "actions",
    "_sendBulk",
    "f",
    "u",
    "versionId",
    "ids",
    "versionsCount",
    "_sendAction",
    "_addDoc",
    "_createQuery",
    "createFetchQuery",
    "createSubscribeQuery",
    "_firstDoc",
    "_firstQuery",
    "_firstSnapshotRequest",
    "_nothingPendingRetry",
    "snapshotRequest",
    "fetchSnapshot",
    "fetchSnapshotByTimestamp",
    "_$client_130",
    "types",
    "_$RemoteDoc_108",
    "RemoteDoc",
    "$remote",
    "debugMutations",
    "remoteMutations",
    "_initShareDoc",
    "createInsertOp",
    "ListInsertOp",
    "ImpliedOp",
    "ObjectReplaceOp",
    "ObjectInsertOp",
    "ObjectDeleteOp",
    "ListReplaceOp",
    "ListRemoveOp",
    "ListMoveOp",
    "StringInsertOp",
    "StringRemoveOp",
    "IncrementOp",
    "SubtypeOp",
    "defined",
    "disableSubmit",
    "isLocal",
    "_onOp",
    "log",
    "allowCompose",
    "createConnection",
    "bundle",
    "_createSocket",
    "_finishCreateConnection",
    "connect",
    "disconnect",
    "reconnect",
    "getAgent",
    "_isLocal",
    "firstCharcter",
    "charAt",
    "Queries",
    "$query",
    "hash",
    "queryHash",
    "idsSegments",
    "extraSegments",
    "_pendingSubscribeCallbacks",
    "subscribeCount",
    "fetchCount",
    "created",
    "shareQuery",
    "idMap",
    "resultsIds",
    "_$Query_107",
    "_queries",
    "db",
    "_getOrCreateQuery",
    "QueryConstructor",
    "sanitizeQuery",
    "counts",
    "_setExtra",
    "resultIndex",
    "_addMapIds",
    "countIndex",
    "fetched",
    "setContext",
    "fetchQuery",
    "getIds",
    "_maybeUnloadDocs",
    "_setResults",
    "subscribeQuery",
    "_getShareResults",
    "fetchOnly",
    "_shareFetchedSubscribe",
    "_shareSubscribe",
    "_subscribeCb",
    "_flushSubscribeCallbacks",
    "shareDocs",
    "_removeMapIds",
    "unloadDelay",
    "_diffMapIds",
    "addedIds",
    "removedIds",
    "newMap",
    "_setResultIds",
    "_maybeUnloadDoc",
    "pendingCallback",
    "unfetch",
    "unfetchQuery",
    "finishUnfetchQuery",
    "unsubscribeQuery",
    "finishUnsubscribeQuery",
    "unsubscribeQueryCallback",
    "getExtra",
    "idsPath",
    "refIds",
    "refExtra",
    "relPath",
    "extraPath",
    "_contexts",
    "subscribedQueries",
    "fetchedQueries",
    "serialized",
    "_$CollectionCounter_103",
    "CollectionCounter",
    "reset",
    "decrement",
    "_subscribedDocs",
    "_forSubscribable",
    "argumentsObject",
    "docMethod",
    "unfetchDoc",
    "finishUnfetchDoc",
    "unsubscribeDoc",
    "finishUnsubscribeDoc",
    "unsubscribeDocCallback",
    "_hasDocReferences",
    "Contexts",
    "FetchedQueries",
    "SubscribedQueries",
    "Context",
    "mapIncrement",
    "mapDecrement",
    "getOrCreateContext",
    "unloadAll",
    "defaultFns",
    "_$defaultFns_112",
    "DefaultFns",
    "FnPair",
    "getReverse",
    "setReverse",
    "0",
    "asc",
    "desc",
    "NamedFns",
    "parseStartArguments",
    "hasPath",
    "inputs",
    "inputPaths",
    "FromMap",
    "Fns",
    "_namedFns",
    "fromMap",
    "Fn",
    "$fn",
    "getFn",
    "setFn",
    "fromSegments",
    "inputsSegments",
    "copyInput",
    "copyOutput",
    "mode",
    "async",
    "eventPending",
    "_fns",
    "onInput",
    "onOutput",
    "evaluate",
    "parsed",
    "stop",
    "_stop",
    "fromPath",
    "stopAll",
    "_onInput",
    "_setValue",
    "parseFilterArguments",
    "Filters",
    "Filter",
    "filterFn",
    "sortFn",
    "$filter",
    "filterName",
    "sortName",
    "skip",
    "limit",
    "filter",
    "sort",
    "update",
    "removeAllFilters",
    "_slice",
    "begin",
    "getInputs",
    "callFilter",
    "_removeRef",
    "_refLists",
    "$refList",
    "onMutation",
    "patchFromEvent",
    "fromLength",
    "segmentsLength",
    "toSegments",
    "toSegmentsByItem",
    "updateIdForValue",
    "setNewToValues",
    "deleteRemoved",
    "itemById",
    "idByItem",
    "outSegments",
    "patchToEvent",
    "toLength",
    "indices",
    "indicesByItem",
    "removeIndex",
    "indicesLen",
    "remaining",
    "dereferenced",
    "newIndices",
    "oldIndices",
    "equivalentArrays",
    "patchIdsEvent",
    "idsLength",
    "idByIndex",
    "RefList",
    "__FromMap_120",
    "RefLists",
    "toPath",
    "dereference",
    "addIndexListeners",
    "onIndexChange",
    "patch",
    "_refs",
    "updateIndices",
    "patched",
    "refIndex",
    "refChange",
    "parentSegments",
    "refLoad",
    "refUnload",
    "refInsert",
    "refRemove",
    "refMove",
    "__addListener_119",
    "toMap",
    "numRefs",
    "setterModel",
    "noopDereference",
    "parentToMap",
    "Ref",
    "$ref",
    "parentTos",
    "parentTo",
    "__FromMap_119",
    "ToMap",
    "Refs",
    "listMapAdd",
    "listMapRemove",
    "_canRefTo",
    "removeRef",
    "removeAllRefs",
    "_removeMapRefs",
    "forArrayMutator",
    "ignore",
    "doAgain",
    "_$Model_116",
    "__EventEmitter_124",
    "Racer",
    "_$Racer_124",
    "util",
    "createModel",
    "_$lib_racer",
    "aa",
    "ba",
    "ca",
    "da",
    "propertyIsEnumerable",
    "ea",
    "fa",
    "ga",
    "ha",
    "ia",
    "ja",
    "pa",
    "Hc",
    "h",
    "ka",
    "la",
    "ma",
    "oa",
    "qa",
    "ra",
    "ua",
    "va",
    "wa",
    "ya",
    "sa",
    "abs",
    "ta",
    "xa",
    "userAgent",
    "za",
    "product",
    "Aa",
    "Ba",
    "z",
    "Da",
    "Ca",
    "documentMode",
    "Ea",
    "Fa",
    "opera",
    "Ga",
    "Ha",
    "Ia",
    "Ja",
    "A",
    "K",
    "parseInt",
    "La",
    "Ma",
    "compatMode",
    "Na",
    "Oa",
    "Pa",
    "Qa",
    "Ra",
    "Sa",
    "location",
    "href",
    "decodeURIComponent",
    "hostname",
    "Ta",
    "Ua",
    "Va",
    "Wa",
    "B",
    "Xa",
    "Ya",
    "Za",
    "$a",
    "ab",
    "bb",
    "O",
    "N",
    "C",
    "eb",
    "D",
    "E",
    "fb",
    "gb",
    "hb",
    "ib",
    "I",
    "jb",
    "R",
    "kb",
    "ub",
    "lb",
    "qb",
    "G",
    "rb",
    "sb",
    "H",
    "tb",
    "encodeURI",
    "vb",
    "charCodeAt",
    "mb",
    "encodeURIComponent",
    "nb",
    "ob",
    "pb",
    "substring",
    "J",
    "wb",
    "eval",
    "xb",
    "yb",
    "zb",
    "Ab",
    "Bb",
    "Cb",
    "\"",
    "\\",
    "/",
    "\b",
    "\f",
    "\n",
    "\r",
    "\t",
    "\u000b",
    "Db",
    "Eb",
    "Fb",
    "callee",
    "caller",
    "Gb",
    "Hb",
    "Ib",
    "Jb",
    "L",
    "rc",
    "Kb",
    "qc",
    "$b",
    "Lb",
    "Mb",
    "Nb",
    "Ob",
    "Pb",
    "Qb",
    "getParent",
    "mc",
    "timeStamp",
    "markTimeline",
    "msWriteProfilerMark",
    "lineNumber",
    "fileName",
    "Ic",
    "filename",
    "sourceURL",
    "$googDebugFname",
    "Ka",
    "Z",
    "Rb",
    "Sb",
    "Tb",
    "M",
    "Ub",
    "Vb",
    "Wb",
    "Xb",
    "Yb",
    "P",
    "Zb",
    "ac",
    "bc",
    "cc",
    "dc",
    "capture",
    "ec",
    "gc",
    "fc",
    "hc",
    "ic",
    "Q",
    "currentTarget",
    "jc",
    "kc",
    "relatedTarget",
    "charCode",
    "button",
    "screenY",
    "screenX",
    "offsetY",
    "offsetX",
    "metaKey",
    "shiftKey",
    "altKey",
    "ctrlKey",
    "srcElement",
    "nodeName",
    "fromElement",
    "toElement",
    "layerX",
    "layerY",
    "pageX",
    "pageY",
    "defaultPrevented",
    "returnValue",
    "lc",
    "nc",
    "pc",
    "attachEvent",
    "sc",
    "tc",
    "uc",
    "W",
    "removeEventListener",
    "detachEvent",
    "vc",
    "wc",
    "Boolean",
    "parentNode",
    "xc",
    "handleEvent",
    "yc",
    "zc",
    "Gc",
    "dispatchEvent",
    "enabled",
    "setInterval",
    "Ac",
    "Fc",
    "Bc",
    "Cc",
    "Dc",
    "Ec",
    "ActiveXObject",
    "XMLHttpRequest",
    "headers",
    "T",
    "Jc",
    "Kc",
    "Lc",
    "Oc",
    "ontimeout",
    "Mc",
    "abort",
    "Pc",
    "Qc",
    "Rc",
    "Sc",
    "S",
    "statusText",
    "Nc",
    "onreadystatechange",
    "status",
    "Tc",
    "responseText",
    "Uc",
    "Vc",
    "toUpperCase",
    "FormData",
    "setRequestHeader",
    "responseType",
    "withCredentials",
    "isActive",
    "Wc",
    "Xc",
    "Yc",
    "U",
    "Y",
    "Zc",
    "$c",
    "X",
    "$",
    "ad",
    "bd",
    "dd",
    "ed",
    "fd",
    "gd",
    "hd",
    "jd",
    "nd",
    "qd",
    "V",
    "pd",
    "rd",
    "write",
    "parentWindow",
    "rpcClose",
    "appendChild",
    "innerHTML",
    "td",
    "md",
    "ud",
    "vd",
    "onload",
    "onabort",
    "Image",
    "wd",
    "yd",
    "Ad",
    "zd",
    "Bd",
    "Cd",
    "Ed",
    "Fd",
    "Gd",
    "kd",
    "cancel",
    "xd",
    "correctHostPrefix",
    "Dd",
    "Hd",
    "Id",
    "Jd",
    "size",
    "Kd",
    "Yd",
    "Md",
    "Pd",
    "Qd",
    "Sd",
    "Rd",
    "Nd",
    "round",
    "getAdditionalParams",
    "badMapError",
    "Td",
    "Ud",
    "Vd",
    "Ld",
    "okToMakeRequest",
    "getNetworkTestImageUri",
    "Wd",
    "channelError",
    "Od",
    "channelClosed",
    "port",
    "Xd",
    "OSID",
    "OAID",
    "channelHandleMultipleArrays",
    "channelOpened",
    "channelHandleArray",
    "4",
    "6",
    "7",
    "8",
    "2",
    "9",
    "5",
    "10",
    "11",
    "cd",
    "reconnectTime",
    "extraHeaders",
    "extraParams",
    "affinity",
    "affinityParam",
    "CLOSED",
    "prev",
    "OPEN",
    "CONNECTING",
    "crossDomainXhr",
    "failFast",
    "sendMap",
    "_S",
    "canSendWhileConnecting",
    "canSendJSON",
    "CLOSING",
    "_$bcsocketUncompressed_57",
    "BCSocket",
    "_$Socket_102",
    "Socket",
    "_options",
    "_messageQueue",
    "_connectedOnce",
    "_attemptNum",
    "_url",
    "getWebSocketURL",
    "supportWebSockets",
    "browserChannelOnly",
    "_createWebSocket",
    "_createBrowserChannel",
    "getRandom",
    "WebSocket",
    "srvPort",
    "srvSecurePort",
    "srvHost",
    "srvProtocol",
    "base",
    "_type",
    "_socket",
    "_syncState",
    "_ws_onmessage",
    "_ws_onopen",
    "_ws_onclose",
    "_bc_onmessage",
    "_bc_onopen",
    "_bc_onclose",
    "_flushQueue",
    "wasClean",
    "_getTimeout",
    "maxTimeout",
    "timeoutIncrement",
    "_send",
    "CLIENT_OPTIONS",
    "check",
    "it",
    "_$global_15",
    "globalThis",
    "_$fails_12",
    "_$descriptors_8",
    "nativePropertyIsEnumerable",
    "getOwnPropertyDescriptor",
    "NASHORN_BUG",
    "1",
    "_$objectPropertyIsEnumerable_30",
    "descriptor",
    "_$createPropertyDescriptor_7",
    "bitmap",
    "configurable",
    "writable",
    "_$classofRaw_4",
    "_$indexedObject_19",
    "_$requireObjectCoercible_34",
    "_$toIndexedObject_41",
    "_$isObject_22",
    "_$toPrimitive_45",
    "PREFERRED_STRING",
    "val",
    "valueOf",
    "_$has_16",
    "__document_9",
    "EXISTS",
    "_$documentCreateElement_9",
    "_$ie8DomDefine_18",
    "nativeGetOwnPropertyDescriptor",
    "_$objectGetOwnPropertyDescriptor_26",
    "_$anObject_2",
    "nativeDefineProperty",
    "_$objectDefineProperty_25",
    "Attributes",
    "_$createNonEnumerableProperty_6",
    "_$isPure_23",
    "_$setGlobal_35",
    "SHARED",
    "store",
    "_$store_37",
    "_$shared_38",
    "copyright",
    "_$functionToString_13",
    "WeakMap",
    "_$nativeWeakMap_24",
    "postfix",
    "_$uid_46",
    "_$sharedKey_36",
    "_$hiddenKeys_17",
    "__WeakMap_20",
    "__has_20",
    "enforce",
    "getterFor",
    "TYPE",
    "__store_20",
    "wmget",
    "wmhas",
    "has",
    "wmset",
    "STATE",
    "_$internalState_20",
    "getInternalState",
    "enforceInternalState",
    "TEMPLATE",
    "_$redefine_33",
    "unsafe",
    "simple",
    "noTargetGet",
    "_$path_32",
    "aFunction",
    "variable",
    "_$getBuiltIn_14",
    "ceil",
    "_$toInteger_42",
    "argument",
    "_$toLength_43",
    "__min_40",
    "_$toAbsoluteIndex_40",
    "integer",
    "createMethod",
    "IS_INCLUDES",
    "$this",
    "el",
    "fromIndex",
    "_$arrayIncludes_3",
    "includes",
    "_$objectKeysInternal_29",
    "_$enumBugKeys_10",
    "__hiddenKeys_27",
    "_$objectGetOwnPropertyNames_27",
    "getOwnPropertyNames",
    "_$objectGetOwnPropertySymbols_28",
    "getOwnPropertySymbols",
    "_$ownKeys_31",
    "_$copyConstructorProperties_5",
    "replacement",
    "isForced",
    "feature",
    "detection",
    "POLYFILL",
    "NATIVE",
    "_$isForced_21",
    "__getOwnPropertyDescriptor_11",
    "_$export_11",
    "targetProperty",
    "sourceProperty",
    "TARGET",
    "GLOBAL",
    "STATIC",
    "stat",
    "forced",
    "sham",
    "DatePrototype",
    "INVALID_DATE",
    "TO_STRING",
    "nativeDateToString",
    "NaN",
    "normalizeArray",
    "parts",
    "allowAboveRoot",
    "up",
    "xs",
    "_$pathBrowserify_90",
    "resolvedPath",
    "resolvedAbsolute",
    "isAbsolute",
    "trailingSlash",
    "paths",
    "relative",
    "trim",
    "fromParts",
    "toParts",
    "samePartsLength",
    "outputParts",
    "sep",
    "delimiter",
    "dirname",
    "hasRoot",
    "matchedSlash",
    "basename",
    "ext",
    "extname",
    "startDot",
    "startPart",
    "preDotState",
    "str",
    "__toString_146",
    "paramsEqual",
    "some",
    "acceptParams",
    "quality",
    "params",
    "originalIndex",
    "pms",
    "_$utils_146",
    "etag",
    "crc32",
    "signed",
    "locals",
    "flatten",
    "normalizeType",
    "mime",
    "normalizeTypes",
    "acceptsArray",
    "accepted",
    "parseAccept",
    "normalized",
    "jlen",
    "accept",
    "accepts",
    "parseParams",
    "escape",
    "html",
    "pathRegexp",
    "sensitive",
    "strict",
    "_",
    "slash",
    "format",
    "optional",
    "star",
    "_$Route_145",
    "Route",
    "regexp",
    "__has_97",
    "__isArray_97",
    "hexTable",
    "compactQueue",
    "prop",
    "compacted",
    "arrayToObject",
    "plainObjects",
    "merge",
    "allowPrototypes",
    "mergeTarget",
    "targetItem",
    "reduce",
    "acc",
    "assign",
    "decode",
    "decoder",
    "charset",
    "strWithoutPlus",
    "unescape",
    "encode",
    "defaultEncoder",
    "Symbol",
    "$0",
    "compact",
    "isRegExp",
    "isBuffer",
    "combine",
    "_$utils_97",
    "percentTwenties",
    "Format",
    "RFC1738",
    "RFC3986",
    "_$formats_93",
    "default",
    "formatters",
    "__has_96",
    "arrayPrefixGenerators",
    "brackets",
    "prefix",
    "comma",
    "repeat",
    "__isArray_96",
    "pushToArray",
    "valueOrArray",
    "toISO",
    "toISOString",
    "defaultFormat",
    "defaults",
    "addQueryPrefix",
    "allowDots",
    "charsetSentinel",
    "encoder",
    "encodeValuesOnly",
    "formatter",
    "serializeDate",
    "date",
    "skipNulls",
    "strictNullHandling",
    "isNonNullishPrimitive",
    "generateArrayPrefix",
    "objKeys",
    "normalizeStringifyOptions",
    "opts",
    "_$stringify_96",
    "arrayFormat",
    "joined",
    "__has_95",
    "__isArray_95",
    "__defaults_95",
    "arrayLimit",
    "depth",
    "ignoreQueryPrefix",
    "interpretNumericEntities",
    "parameterLimit",
    "parseArrays",
    "numberStr",
    "fromCharCode",
    "isoSentinel",
    "parseValues",
    "cleanStr",
    "Infinity",
    "skipIndex",
    "part",
    "bracketEqualsPos",
    "parseObject",
    "chain",
    "cleanRoot",
    "parseKeys",
    "givenKey",
    "normalizeParseOptions",
    "_$parse_95",
    "tempObj",
    "newObj",
    "_$lib_94",
    "formats",
    "freeExports",
    "_$punycode_92",
    "nodeType",
    "freeModule",
    "freeGlobal",
    "punycode",
    "maxInt",
    "tMin",
    "tMax",
    "skew",
    "damp",
    "initialBias",
    "initialN",
    "regexPunycode",
    "regexNonASCII",
    "regexSeparators",
    "errors",
    "overflow",
    "not-basic",
    "invalid-input",
    "baseMinusTMin",
    "stringFromCharCode",
    "RangeError",
    "mapDomain",
    "ucs2decode",
    "output",
    "counter",
    "ucs2encode",
    "digitToBasic",
    "digit",
    "flag",
    "adapt",
    "delta",
    "numPoints",
    "firstTime",
    "basic",
    "oldi",
    "baseMinusT",
    "codePoint",
    "inputLength",
    "bias",
    "handledCPCount",
    "basicLength",
    "currentValue",
    "handledCPCountPlusOne",
    "qMinusT",
    "ucs2",
    "toASCII",
    "toUnicode",
    "define",
    "amd",
    "_$util_148",
    "isString",
    "isNull",
    "isNullOrUndefined",
    "__hasOwnProperty_98",
    "_$decode_98",
    "qs",
    "eq",
    "maxKeys",
    "kstr",
    "vstr",
    "idx",
    "__isArray_98",
    "stringifyPrimitive",
    "_$encode_99",
    "__objectKeys_99",
    "ks",
    "__isArray_99",
    "_$querystringEs3_100",
    "Url",
    "slashes",
    "auth",
    "host",
    "search",
    "pathname",
    "_$url_147",
    "urlParse",
    "urlResolve",
    "resolveObject",
    "urlResolveObject",
    "urlFormat",
    "protocolPattern",
    "portPattern",
    "simplePathPattern",
    "delims",
    "unwise",
    "autoEscape",
    "nonHostChars",
    "hostEndingChars",
    "hostnameMaxLen",
    "hostnamePartPattern",
    "hostnamePartStart",
    "unsafeProtocol",
    "javascript",
    "javascript:",
    "hostlessProtocol",
    "slashedProtocol",
    "http",
    "https",
    "ftp",
    "gopher",
    "file",
    "http:",
    "https:",
    "ftp:",
    "gopher:",
    "file:",
    "url",
    "parseQueryString",
    "slashesDenoteHost",
    "queryIndex",
    "splitter",
    "uSplit",
    "rest",
    "simplePath",
    "lowerProto",
    "atSign",
    "hostEnd",
    "hec",
    "parseHost",
    "ipv6Hostname",
    "hostparts",
    "newpart",
    "validParts",
    "notHost",
    "bit",
    "ae",
    "esc",
    "qm",
    "rel",
    "tkeys",
    "tk",
    "tkey",
    "rkeys",
    "rk",
    "rkey",
    "isSourceAbs",
    "isRelAbs",
    "mustEndAbs",
    "removeAllDots",
    "srcPath",
    "psychotic",
    "authInHost",
    "hasTrailingSlash",
    "_$router_144",
    "render",
    "isTransitional",
    "mapRoute",
    "queryString",
    "history",
    "req",
    "RenderReq",
    "app",
    "page",
    "routes",
    "routeTransitional",
    "routeQueue",
    "setUrl",
    "setPrevious",
    "transitional",
    "noNavigate",
    "form",
    "setAttribute",
    "submit",
    "previousPath",
    "next",
    "routeParams",
    "onMatch",
    "done",
    "route",
    "onRoute",
    "parseUrl",
    "resolveUrl",
    "currentPath",
    "replaceState",
    "$render",
    "$method",
    "_$History_142",
    "History",
    "pushState",
    "routePath",
    "renderOptions",
    "elements",
    "override",
    "link",
    "_tracksLink",
    "which",
    "hasAttribute",
    "hashIndex",
    "enctype",
    "getElementById",
    "getElementsByName",
    "scrollIntoView",
    "_update",
    "refresh",
    "back",
    "forward",
    "go",
    "historyMethod",
    "relativeUrl",
    "createPage",
    "redirect",
    "__router_143",
    "_$browser_143",
    "setup",
    "fromRoute",
    "toRoute",
    "__noop_68",
    "ContextMeta",
    "addBinding",
    "removeBinding",
    "removeNode",
    "addItemContext",
    "removeItemContext",
    "idNamespace",
    "idCount",
    "pending",
    "pauseCount",
    "__Context_68",
    "alias",
    "as",
    "keyAlias",
    "keyAs",
    "closure",
    "_id",
    "_$contexts_68",
    "itemFor",
    "forRelative",
    "forAlias",
    "forAttribute",
    "attribute",
    "inherit",
    "unpause",
    "!U",
    "-U",
    "+U",
    "~U",
    "typeofU",
    "||",
    "&&",
    "|",
    "^",
    "&",
    "==",
    "!=",
    "===",
    "!==",
    "<",
    ">",
    "<=",
    ">=",
    "instanceof",
    "in",
    "<<",
    ">>",
    ">>>",
    "+",
    "-",
    "*",
    "%",
    "?",
    "consequent",
    "alternate",
    ",",
    "BOOLEAN_PROPERTIES",
    "checked",
    "disabled",
    "readonly",
    "selected",
    "INTEGER_PROPERTIES",
    "colspan",
    "maxlength",
    "rowspan",
    "tabindex",
    "STRING_PROPERTIES",
    "cellpadding",
    "cellspacing",
    "class",
    "contenteditable",
    "for",
    "frameborder",
    "usemap",
    "UPDATE_PROPERTIES",
    "CREATE_PROPERTIES",
    "VOID_ELEMENTS",
    "area",
    "br",
    "col",
    "embed",
    "hr",
    "img",
    "keygen",
    "menuitem",
    "param",
    "track",
    "wbr",
    "NAMESPACE_URIS",
    "svg",
    "xlink",
    "xmlns",
    "publicId",
    "systemId",
    "escaped",
    "escapeHtml",
    "attachText",
    "newNode",
    "createTextNode",
    "addNodeBinding",
    "nextNode",
    "splitData",
    "normalizeLineBreaks",
    "attachError",
    "insertBefore",
    "attachComment",
    "createComment",
    "NodeBinding",
    "emitHooks",
    "ending",
    "createHtmlFragment",
    "range",
    "createRange",
    "selectNodeContents",
    "createContextualFragment",
    "div",
    "extractContents",
    "attachHtml",
    "childNodes",
    "ns",
    "elementNs",
    "getUnescapedValue",
    "selfClosing",
    "notClosed",
    "endTag",
    "getEndTag",
    "startClose",
    "getStartClose",
    "lowerTagName",
    "unescapedContent",
    "bindContentToValue",
    "getAttributeValue",
    "propertyName",
    "beginning",
    "indexStartNode",
    "$bindItemStart",
    "updateRange",
    "setNodeBounds",
    "RangeBinding",
    "setNodeProperty",
    "appendContent",
    "attachContent",
    "contentHtml",
    "replaceRange",
    "innerOnly",
    "replaceChild",
    "emitRemoved",
    "removeChild",
    "emitRemovedBinding",
    "AttributeBindingsMap",
    "AttributeBinding",
    "__noop_126",
    "escapeAttribute",
    "equalConditions",
    "cloneNode",
    "deleteData",
    "createDocumentFragment",
    "publicText",
    "systemText",
    "_blockUpdate",
    "getBound",
    "propertyValue",
    "setAttributeNS",
    "removeAttributeNS",
    "removeAttribute",
    "getTagName",
    "tagItems",
    "startTag",
    "createElementNS",
    "_bindContent",
    "truthy",
    "appendItemTo",
    "lastChild",
    "attachItemTo",
    "oldPrevious",
    "previousSibling",
    "windowsLength",
    "unixLength",
    "newLines",
    "defaultValue",
    "$try",
    "proxyNode",
    "$bindProxy",
    "templateTruthy",
    "renderValue",
    "renderTemplate",
    "hasTemplateProperty",
    "renderArrayProperties",
    "renderArray",
    "renderObjectProperties",
    "renderObject",
    "ExpressionMeta",
    "isEnd",
    "bindType",
    "valueType",
    "Expression",
    "LiteralExpression",
    "PathExpression",
    "RelativePathExpression",
    "AliasPathExpression",
    "AttributePathExpression",
    "BracketsExpression",
    "inside",
    "afterSegments",
    "DeferRenderExpression",
    "ArrayExpression",
    "ObjectExpression",
    "properties",
    "FnExpression",
    "NewExpression",
    "OperatorExpression",
    "_$operatorFns_70",
    "SequenceExpression",
    "ViewParentExpression",
    "ScopedModelExpression",
    "appendDependency",
    "swapLastDependency",
    "_$expressions_69",
    "_resolvePatch",
    "_lookupAndContextifyValue",
    "_scope",
    "relativeContext",
    "aliasContext",
    "attributeContext",
    "inner",
    "itemDependencies",
    "propertyDependencies",
    "extraInputs",
    "_lookupParent",
    "_applyFn",
    "_getInputs",
    "thisArg",
    "argDependencies",
    "jLen",
    "_$derbyTemplates_67",
    "operatorFns",
    "_$Dom_77",
    "Dom",
    "DomListener",
    "useCapture",
    "DestroyListener",
    "_initListeners",
    "_listenerIndex",
    "domListener",
    "wrappedListener",
    "__EventEmitter_75",
    "_$Controller_75",
    "Controller",
    "$controller",
    "cancelled",
    "delayed",
    "__templates_80",
    "Component",
    "_components",
    "isDestroyed",
    "ComponentAttribute",
    "ComponentAttributeBinding",
    "setModelAttributes",
    "setModelAttribute",
    "createFactory",
    "singleton",
    "SingletonComponentFactory",
    "ComponentFactory",
    "emitInitHooks",
    "ComponentModelData",
    "__noop_80",
    "isBasePrototype",
    "getRootPrototype",
    "getPrototypeOf",
    "_$components_80",
    "extendComponent",
    "components",
    "_eventModel",
    "$components",
    "throttle",
    "delayArg",
    "delay",
    "boundCallback",
    "nextArgs",
    "queueCall",
    "debounce",
    "debounceAsync",
    "applyArguments",
    "running",
    "viewName",
    "setNullAttribute",
    "DataConstructor",
    "isSingleton",
    "_extendComponent",
    "setPrototypeOf",
    "rootPrototype",
    "__expressions_82",
    "_$EventModel_82",
    "EventModel",
    "nextId",
    "ModelRef",
    "outside",
    "refChild",
    "RefOutMap",
    "RefChildrenMap",
    "BindingsMap",
    "ItemContextsMap",
    "EventModelsMap",
    "arrayByReference",
    "refOut",
    "refChildren",
    "bindings",
    "itemContexts",
    "__hasKeys_82",
    "childSetWildcard",
    "newItem",
    "arrayLookup",
    "segmentsBefore",
    "segmentsInside",
    "eventModel",
    "isEmpty",
    "dependancies",
    "_addItemContext",
    "_removeItemContext",
    "_addBinding",
    "eventModels",
    "_each",
    "localUpdate",
    "_updateChildItemContexts",
    "_updateArray",
    "_updateObject",
    "first",
    "mutate",
    "wildcardSegments",
    "onStringInsert",
    "replaceText",
    "cursor",
    "onStringRemove",
    "newText",
    "selectionStart",
    "selectionEnd",
    "scrollTop",
    "__expressions_78",
    "__templates_78",
    "__DependencyOptions_78",
    "documentListeners",
    "_$documentListeners_81",
    "_$Page_78",
    "Page",
    "_createContext",
    "_removeModelListeners",
    "_addListeners",
    "useLegacyListeners",
    "useLegacy",
    "addDependencies",
    "BindingWrapper",
    "updateDependencies",
    "$bodyClass",
    "classNames",
    "className",
    "$preventDefault",
    "$stopPropagation",
    "stopPropagation",
    "_setRenderParams",
    "_setRenderPrefix",
    "titleFragment",
    "bodyFragment",
    "titleElement",
    "getElementsByTagName",
    "attach",
    "titleView",
    "bodyView",
    "contextMeta",
    "_addModelListeners",
    "_addContextListeners",
    "_addModelListenersLegacy",
    "changeListener",
    "loadListener",
    "unloadListener",
    "insertListener",
    "moveListener",
    "patchTextBinding",
    "bindingWrappers",
    "destroyListeners",
    "__nextId_78",
    "ignoreTemplateDependency",
    "equalDependencies",
    "lenA",
    "itemA",
    "itemB",
    "lenItemA",
    "lenItemB",
    "textInputUpdate",
    "textUpdate",
    "dependencyOptions",
    "dependency",
    "_$_views_79",
    "derbyTemplates",
    "role",
    "aria-labelledby",
    "aria-hidden",
    "hasError",
    "autofocus",
    "__EventEmitter_74",
    "__templates_74",
    "_$App_74",
    "App",
    "derby",
    "scriptHash",
    "bundledAt",
    "createAppPage",
    "tracksRoutes",
    "_pendingComponentMap",
    "_init",
    "AppPage",
    "_waitForAttach",
    "_cancelAttach",
    "_contentReady",
    "_finishInit",
    "script",
    "_getScript",
    "isProduction",
    "nodeEnv",
    "_autoRefresh",
    "isReady",
    "onDOMContentLoaded",
    "onDOMReady",
    "toplevel",
    "frameElement",
    "documentElement",
    "doScroll",
    "doScrollCheck",
    "querySelector",
    "loadViews",
    "loadStyles",
    "addViews",
    "isDependency",
    "viewIs",
    "viewFilename",
    "viewSource",
    "viewProp",
    "is",
    "currentView",
    "_handleMessage",
    "styleElement",
    "css",
    "_$Derby_76",
    "Derby",
    "createApp",
    "__Derby_derby",
    "_$derby_derby",
    "_$derbyDebug_66",
    "MODEL",
    "APP",
    "findComponent",
    "componentCommand",
    "logEvents",
    "commentIterator",
    "createTreeWalker",
    "comment",
    "_$dBootstrap_62",
    "_$Dropdown_61",
    "_$Modal_63",
    "_$Tabs_64",
    "_$Alert_59",
    "ConnectionAlert",
    "_$ConnectionAlert_65",
    "reload",
    "sentenceCase",
    "_$BeforeUnload_58",
    "BeforeUnload",
    "listenerFn",
    "confirmationMessage",
    "_defineProperties",
    "props",
    "Chrome",
    "_classCallCheck",
    "protoProps",
    "staticProps",
    "getFullYear",
    "_$Chrome_53",
    "EditForm",
    "people",
    "person",
    "nameError",
    "_this",
    "checkName",
    "nameInput",
    "focus",
    "_this2",
    "_$EditForm_54",
    "_$aFunction_1",
    "_$toObject_44",
    "_$sloppyArrayMethod_39",
    "METHOD_NAME",
    "nativeSort",
    "FAILS_ON_UNDEFINED",
    "FAILS_ON_NULL",
    "SLOPPY_METHOD",
    "FORCED",
    "comparefn",
    "FunctionPrototype",
    "FunctionPrototypeToString",
    "nameRE",
    "NAME",
    "PeopleList",
    "nameAscending",
    "aName",
    "bName",
    "_$PeopleList_55",
    "_$directory_52",
    "__filename"
  ],
  "mappings": "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",
  "sourcesContent": [
    "require = (function (require) {\nvar exposedRequire = function exposedRequire(e,r){return exposedRequire.m.hasOwnProperty(e)?exposedRequire.m[e]:\"function\"!=typeof require||r?\"function\"==typeof exposedRequire.r?exposedRequire.r(e,1):void 0:require(e,1)};\nexposedRequire.m = {};\nexposedRequire.r = require;var createModuleFactory = function createModuleFactory(t){var e;return function(r){return e||t(e={exports:{},parent:r},e.exports),e.exports}};\n",
    "module.exports = ContextMenu;\nfunction ContextMenu() {}\nContextMenu.prototype.view = __dirname;\n\nContextMenu.prototype.create = function(model, dom) {\n  // Close when clicking outside of the context menu\n  var contextMenu = this;\n  dom.on('click', function(e) {\n    if(contextMenu.menu.contains(e.target)) return;\n    model.set('open', false);\n  });\n};\n\nContextMenu.prototype.open = function(e) {\n  if(!e) throw new Error('You must provide a click event as the first argument to open() when opening the context menu.');\n\n  e.preventDefault();\n  var contextMenu = this;\n  var model = this.model;\n  var x = e.clientX + 'px';\n  var y = e.clientY + 'px';\n\n  var args = Array.prototype.slice.call(arguments);\n  args.unshift('open');\n  args.push(function() {\n    contextMenu.menu.style.top = y;\n    contextMenu.menu.style.left = x;\n    model.set('open', true);\n  });\n\n  this.emitDelayable.apply(this, args);\n};\n\nContextMenu.prototype.select = function(option) {\n  this.model.set('value', optionValue(option));\n  this.model.set('open', false);\n  if(option.hasOwnProperty('action') && typeof option.action === 'function') option.action();\n  this.emit('select');\n};\n\nfunction optionValue(option) {\n  return (option.hasOwnProperty('value')) ? option.value : option.content;\n}",
    "module.exports = Alert\n\nfunction Alert() {}\n\nAlert.prototype.view = __dirname;\n\nAlert.prototype.create = function(model, dom) {\n  this.model.setNull('hidden', false);\n};\n\nAlert.prototype.show = function(model, dom) {\n  this.model.set('faded', false);\n  this.model.set('hidden', false);\n};\n\nAlert.prototype.hide = function() {\n  var model = this.model;\n  model.set('faded', true);\n  setTimeout(function() {\n    model.set('hidden', true);\n  }, 300);\n};",
    "module.exports = Tabs;\nfunction Tabs() {}\nTabs.prototype.view = __dirname;\n\nTabs.prototype.init = function(model) {\n  model.setNull('selectedIndex', 0);\n};\n\nTabs.prototype.select = function(index) {\n  this.model.set('selectedIndex', index);\n};\n",
    "module.exports = Modal;\nfunction Modal() {}\nModal.prototype.view = __dirname;\n\nModal.prototype.create = function(model, dom) {\n  var modal = this;\n  dom.on('keydown', function(e) {\n    if (!model.get('show')) return;\n    if (e.keyCode === 27) {  // Escape\n      modal.hide('escape');\n    }\n  });\n};\n\nModal.prototype.show = function() {\n  var model = this.model;\n  this.emitDelayable('show', function() {\n    document.body.classList.add('modal-open');\n    model.set('show', true);\n    setTimeout(function() {\n      model.set('faded', true);\n    }, 0);\n  });\n};\n\nModal.prototype.hide = function(action) {\n  var cancelled = this.emitCancellable('hide', action);\n  if (cancelled) return;\n  var model = this.model;\n  model.set('faded', false);\n  setTimeout(function() {\n    document.body.classList.remove('modal-open');\n    model.set('show', false);\n  }, 300);\n};\n",
    "module.exports = Dropdown;\nfunction Dropdown() {}\nDropdown.prototype.view = __dirname;\n\nDropdown.prototype.create = function(model, dom) {\n  // Close on click outside of the dropdown\n  var dropdown = this;\n  dom.on('click', function(e) {\n    if (dropdown.toggleButton.contains(e.target)) return;\n    if (dropdown.menu.contains(e.target)) return;\n    model.set('open', false);\n  });\n  // Watch the change of the options and update the selected element if needed\n  model.on('change', 'options', function() {\n    model.set('value', model.get('value'));\n  });\n};\n\nDropdown.prototype.toggle = function() {\n  this.model.set('open', !this.model.get('open'));\n};\n\nDropdown.prototype.select = function(option) {\n  this.model.set('value', optionValue(option));\n  this.model.set('open', false);\n};\n\nDropdown.prototype.label = function(value) {\n  var options = this.getAttribute('options') || [];\n  for (var i = 0, len = options.length; i < len; i++) {\n    var option = options[i];\n    if (value === optionValue(option)) {\n      return option.content;\n    }\n  }\n  return this.getAttribute('prompt') || 'Select';\n};\n\nfunction optionValue(option) {\n  return (option.hasOwnProperty('value')) ? option.value : option.content;\n}\n",
    "var textDiff = require('./textDiff');\n\nexports.add = addDocumentListeners;\nexports.inputSupportsSelection = inputSupportsSelection;\n\n// http://www.whatwg.org/specs/web-apps/current-work/multipage/the-input-element.html#do-not-apply\n// TODO: Date types support\nfunction inputSupportsSelection(input) {\n  var type = input.type;\n  return (\n    type === 'text' ||\n    type === 'textarea' ||\n    type === 'search' ||\n    type === 'url' ||\n    type === 'tel' ||\n    type === 'password'\n  );\n}\nfunction inputIsNumberValue(input) {\n  var type = input.type;\n  return (type === 'number' || (type === 'range' && !input.multiple));\n}\nvar inputValue = function(input) {\n  return inputIsNumberValue(input) ? input.valueAsNumber : input.value;\n};\n\nfunction addDocumentListeners(doc) {\n  doc.addEventListener('input', documentInput, true);\n  doc.addEventListener('change', documentChange, true);\n\n  // Listen to more events for versions of IE with buggy input event implementations\n  if (parseFloat(window.navigator.appVersion.split('MSIE ')[1]) <= 9) {\n    // We're listening on selectionchange because there's no other event emitted when\n    // the user clicks 'delete' from a context menu when right clicking on selected text.\n    // So although this event fires overly aggressively, it's the only real way\n    // to ensure that we can detect all changes to the input value in IE <= 9\n    doc.addEventListener('selectionchange', function(e){\n      if (document.activeElement) {\n        documentInput({target: document.activeElement}); // selectionchange evts don't have the e.target we need\n      }\n    }, true);\n  }\n\n  // For some reason valueAsNumber returns NaN for number inputs in IE\n  // until a new IE version that handles this is released, parse input.value as a fallback\n  var input = document.createElement('input');\n  input.type = 'number';\n  input.value = '7';\n  if (input.valueAsNumber !== input.valueAsNumber) {\n    var oldInputValue = inputValue;\n    inputValue = function(input) {\n      if (input.type === 'number') {\n        return inputIsNumberValue(input) ? parseFloat(input.value) : input.value;\n      } else {\n        return oldInputValue.apply(this, arguments);\n      }\n    };\n  }\n}\n\nfunction documentInput(e) {\n  var target = e.target;\n\n  if (target.tagName === 'INPUT' || target.tagName === 'TEXTAREA') {\n    setInputValue(e, target);\n  }\n}\n\nfunction documentChange(e) {\n  var target = e.target;\n\n  if (target.tagName === 'INPUT') {\n    setBoundProperty(target, 'checked');\n    setInputValue(e, target);\n\n  } else if (target.tagName === 'SELECT') {\n    setOptionBindings(target);\n\n  } else if (target.tagName === 'TEXTAREA') {\n    setInputValue(e, target);\n  }\n}\n\nfunction setBoundProperty(node, property) {\n  var binding = node.$bindAttributes && node.$bindAttributes[property];\n  if (!binding || binding.isUnbound()) return;\n\n  var value = node[property];\n  binding.template.expression.set(binding.context, value);\n}\n\nfunction setInputValue(e, target) {\n  var binding = target.$bindAttributes && target.$bindAttributes.value;\n  if (!binding || binding.isUnbound()) return;\n\n  if (inputSupportsSelection(target)) {\n    var pass = {$event: e};\n    textDiffBinding(binding, target.value, pass);\n  } else {\n    var value = inputValue(target);\n    binding.template.expression.set(binding.context, value);\n  }\n}\n\nfunction textDiffBinding(binding, value, pass) {\n  var expression = binding.template.expression;\n  var segments = expression.pathSegments(binding.context);\n  if (segments) {\n    var model = binding.context.controller.model.pass(pass);\n    textDiff.onTextInput(model, segments, value);\n  } else if (expression.set) {\n    expression.set(binding.context, value);\n  }\n}\n\nfunction setOptionBindings(parent) {\n  for (var node = parent.firstChild; node; node = node.nextSibling) {\n    if (node.tagName === 'OPTION') {\n      setBoundProperty(node, 'selected');\n    } else if (node.hasChildNodes()) {\n      setOptionBindings(node);\n    }\n  }\n}\n",
    "var saddle = require('saddle');\nvar serializeObject = require('serialize-object');\nvar DependencyOptions = require('./options').DependencyOptions;\nvar util = require('./util');\nvar concat = util.concat;\nvar hasKeys = util.hasKeys;\nvar traverseAndCreate = util.traverseAndCreate;\n\n(function() {\n  for (var key in saddle) {\n    exports[key] = saddle[key];\n  }\n})();\n\nexports.Marker = Marker;\nexports.View = View;\nexports.ViewInstance = ViewInstance;\nexports.DynamicViewInstance = DynamicViewInstance;\nexports.ViewParent = ViewParent;\nexports.ContextClosure = ContextClosure;\n\nexports.Views = Views;\n\nexports.MarkupHook = MarkupHook;\nexports.ElementOn = ElementOn;\nexports.ComponentOn = ComponentOn;\nexports.AsProperty = AsProperty;\nexports.AsObject = AsObject;\nexports.AsObjectComponent = AsObjectComponent;\nexports.AsArray = AsArray;\nexports.AsArrayComponent = AsArrayComponent;\n\nexports.emptyTemplate = new saddle.Template([]);\n\n// Add ::isUnbound to Template && Binding\nsaddle.Template.prototype.isUnbound = function(context) {\n  return context.unbound;\n};\nsaddle.Binding.prototype.isUnbound = function() {\n  return this.template.expression.isUnbound(this.context);\n};\n\n// Add Template::resolve\nsaddle.Template.prototype.resolve = function() {};\n\n// The Template::dependencies method is specific to how Derby bindings work,\n// so extend all of the Saddle Template types here\nsaddle.Template.prototype.dependencies = function(context, options) {\n  if (DependencyOptions.shouldIgnoreTemplate(this, options)) return;\n  return concatArrayDependencies(null, this.content, context, options);\n};\nsaddle.Doctype.prototype.dependencies = function() {};\nsaddle.Text.prototype.dependencies = function() {};\nsaddle.DynamicText.prototype.dependencies = function(context, options) {\n  if (DependencyOptions.shouldIgnoreTemplate(this, options)) return;\n  return getDependencies(this.expression, context, options);\n};\nsaddle.Comment.prototype.dependencies = function() {};\nsaddle.DynamicComment.prototype.dependencies = function(context, options) {\n  if (DependencyOptions.shouldIgnoreTemplate(this, options)) return;\n  return getDependencies(this.expression, context, options);\n};\nsaddle.Html.prototype.dependencies = function() {};\nsaddle.DynamicHtml.prototype.dependencies = function(context, options) {\n  if (DependencyOptions.shouldIgnoreTemplate(this, options)) return;\n  return getDependencies(this.expression, context, options);\n};\nsaddle.Element.prototype.dependencies = function(context, options) {\n  if (DependencyOptions.shouldIgnoreTemplate(this, options)) return;\n  var dependencies = concatMapDependencies(null, this.attributes, context, options);\n  if (!this.content) return dependencies;\n  return concatArrayDependencies(dependencies, this.content, context, options);\n};\nsaddle.DynamicElement.prototype.dependencies = function(context, options) {\n  if (DependencyOptions.shouldIgnoreTemplate(this, options)) return;\n  var dependencies = saddle.Element.prototype.dependencies(context, options);\n  return concatDependencies(dependencies, this.tagName, context, options);\n};\nsaddle.Block.prototype.dependencies = function(context, options) {\n  if (DependencyOptions.shouldIgnoreTemplate(this, options)) return;\n  var dependencies = (this.expression.meta && this.expression.meta.blockType === 'on') ?\n    getDependencies(this.expression, context, options) : null;\n  var blockContext = context.child(this.expression);\n  return concatArrayDependencies(dependencies, this.content, blockContext, options);\n};\nsaddle.ConditionalBlock.prototype.dependencies = function(context, options) {\n  if (DependencyOptions.shouldIgnoreTemplate(this, options)) return;\n  var condition = this.getCondition(context);\n  if (condition == null) {\n    return getDependencies(this.expressions[0], context, options);\n  }\n  var dependencies = concatSubArrayDependencies(null, this.expressions, context, options, condition);\n  var expression = this.expressions[condition];\n  var content = this.contents[condition];\n  var blockContext = context.child(expression);\n  return concatArrayDependencies(dependencies, content, blockContext, options);\n};\nsaddle.EachBlock.prototype.dependencies = function(context, options) {\n  if (DependencyOptions.shouldIgnoreTemplate(this, options)) return;\n  var dependencies = getDependencies(this.expression, context, options);\n  var items = this.expression.get(context);\n  if (items && items.length) {\n    for (var i = 0; i < items.length; i++) {\n      var itemContext = context.eachChild(this.expression, i);\n      dependencies = concatArrayDependencies(dependencies, this.content, itemContext, options);\n    }\n  } else if (this.elseContent) {\n    dependencies = concatArrayDependencies(dependencies, this.elseContent, context, options);\n  }\n  return dependencies;\n};\nsaddle.Attribute.prototype.dependencies = function() {};\nsaddle.DynamicAttribute.prototype.dependencies = function(context, options) {\n  if (DependencyOptions.shouldIgnoreTemplate(this, options)) return;\n  return getDependencies(this.expression, context, options);\n};\n\nfunction concatSubArrayDependencies(dependencies, expressions, context, options, end) {\n  for (var i = 0; i <= end; i++) {\n    dependencies = concatDependencies(dependencies, expressions[i], context, options);\n  }\n  return dependencies;\n}\nfunction concatArrayDependencies(dependencies, expressions, context, options) {\n  for (var i = 0; i < expressions.length; i++) {\n    dependencies = concatDependencies(dependencies, expressions[i], context, options);\n  }\n  return dependencies;\n}\nfunction concatMapDependencies(dependencies, expressions, context, options) {\n  for (var key in expressions) {\n    dependencies = concatDependencies(dependencies, expressions[key], context, options);\n  }\n  return dependencies;\n}\nfunction concatDependencies(dependencies, expression, context, options) {\n  var expressionDependencies = getDependencies(expression, context, options);\n  return concat(dependencies, expressionDependencies);\n}\nfunction getDependencies(expression, context, options) {\n  return expression.dependencies(context, options);\n}\n\nvar markerHooks = [{\n  emit: function(context, node) {\n    node.$component = context.controller;\n    context.controller.markerNode = node;\n  }\n}];\nfunction Marker(data) {\n  saddle.Comment.call(this, data, markerHooks);\n}\nMarker.prototype = Object.create(saddle.Comment.prototype);\nMarker.prototype.constructor = Marker;\nMarker.prototype.type = 'Marker';\nMarker.prototype.serialize = function() {\n  return serializeObject.instance(this, this.data);\n};\nMarker.prototype.get = function() {\n  return '';\n};\n\nfunction ViewAttributesMap(source) {\n  var items = source.split(/\\s+/);\n  for (var i = 0, len = items.length; i < len; i++) {\n    this[items[i]] = true;\n  }\n}\nfunction ViewArraysMap(source) {\n  var items = source.split(/\\s+/);\n  for (var i = 0, len = items.length; i < len; i++) {\n    var item = items[i].split('/');\n    this[item[0]] = item[1] || item[0];\n  }\n}\nfunction View(views, name, source, options) {\n  this.views = views;\n  this.name = name;\n  this.source = source;\n  this.options = options;\n\n  var nameSegments = (this.name || '').split(':');\n  var lastSegment = nameSegments.pop();\n  this.namespace = nameSegments.join(':');\n  this.registeredName = (lastSegment === 'index') ? this.namespace : this.name;\n\n  this.attributesMap = options && options.attributes &&\n    new ViewAttributesMap(options.attributes);\n  this.arraysMap = options && options.arrays &&\n    new ViewArraysMap(options.arrays);\n  // The empty string is considered true for easier HTML attribute parsing\n  this.unminified = options && (options.unminified || options.unminified === '');\n  this.string = options && (options.string || options.string === '');\n  this.literal = options && (options.literal || options.literal === '');\n  this.template = null;\n  this.componentFactory = null;\n  this.fromSerialized = false;\n}\nView.prototype = Object.create(saddle.Template.prototype);\nView.prototype.constructor = View;\nView.prototype.type = 'View';\nView.prototype.serialize = function() {\n  return null;\n};\nView.prototype._isComponent = function(context) {\n  if (!this.componentFactory) return false;\n  if (context.attributes && context.attributes.extend) return false;\n  return true;\n};\nView.prototype._initComponent = function(context) {\n  return (this._isComponent(context)) ?\n    this.componentFactory.init(context) : context;\n};\nView.prototype._queueCreate = function(context, viewContext) {\n  if (this._isComponent(context)) {\n    var componentFactory = this.componentFactory;\n    context.queue(function queuedCreate() {\n      componentFactory.create(viewContext);\n    });\n\n    if (!context.hooks) return;\n    context.queue(function queuedComponentHooks() {\n      // Kick off hooks if view instance specified `on` or `as` attributes\n      for (var i = 0, len = context.hooks.length; i < len; i++) {\n        context.hooks[i].emit(context, viewContext.controller);\n      }\n    });\n  }\n};\nView.prototype.get = function(context, unescaped) {\n  var viewContext = this._initComponent(context);\n  var template = this.template || this.parse();\n  return template.get(viewContext, unescaped);\n};\nView.prototype.getFragment = function(context, binding) {\n  var viewContext = this._initComponent(context);\n  var template = this.template || this.parse();\n  var fragment = template.getFragment(viewContext, binding);\n  this._queueCreate(context, viewContext);\n  return fragment;\n};\nView.prototype.appendTo = function(parent, context) {\n  var viewContext = this._initComponent(context);\n  var template = this.template || this.parse();\n  template.appendTo(parent, viewContext);\n  this._queueCreate(context, viewContext);\n};\nView.prototype.attachTo = function(parent, node, context) {\n  var viewContext = this._initComponent(context);\n  var template = this.template || this.parse();\n  var node = template.attachTo(parent, node, viewContext);\n  this._queueCreate(context, viewContext);\n  return node;\n};\nView.prototype.dependencies = function(context, options) {\n  if (DependencyOptions.shouldIgnoreTemplate(this, options)) return;\n  var template = this.template || this.parse();\n  // We can't figure out relative path dependencies within a component without\n  // rendering it, because each component instance's scope is dynamically set\n  // based on its unique `id` property. To represent this, set the context\n  // controller to `null`.\n  //\n  // Under normal rendering conditions, contexts should always have reference\n  // to a controller. Expression::get() methods use the reference to\n  // `context.controller.model.data` to lookup values, and paths are resolved\n  // based on `context.controller.model._scope`.\n  //\n  // To handle this, Expression methods guard against a null controller by not\n  // returning any dependencies for model paths. In addition, they return\n  // `undefined` from get, which affect dependencies computed for\n  // ConditionalBlock and EachBlock, as their dependencies will differ based\n  // on the value of model data.\n  //\n  // TODO: This likely under-estimates the true dependencies within a\n  // template. However, to provide a more complete view of dependencies, we'd\n  // need information we only have at render time, namely, the scope and data\n  // within the component model. This may indicate that Derby should use a\n  // more Functional Reactive Programming (FRP)-like approach of having\n  // dependencies be returned from getFragment and attach methods along with\n  // DOM nodes rather than computing dependencies separately from rendering.\n  var viewContext = (this._isComponent(context)) ?\n    context.componentChild(null) : context;\n  return template.dependencies(viewContext, options);\n};\nView.prototype.parse = function() {\n  this._parse();\n  if (this.componentFactory) {\n    var marker = new Marker(this.name);\n    this.template.content.unshift(marker);\n  }\n  return this.template;\n};\n// View.prototype._parse is defined in parsing.js, so that it doesn't have to\n// be included in the client if templates are all parsed server-side\nView.prototype._parse = function() {\n  throw new Error('View parsing not available');\n};\n\nfunction ViewInstance(name, attributes, hooks, initHooks) {\n  this.name = name;\n  this.attributes = attributes;\n  this.hooks = hooks;\n  this.initHooks = initHooks;\n  this.view = null;\n}\nViewInstance.prototype = Object.create(saddle.Template.prototype);\nViewInstance.prototype.constructor = ViewInstance;\nViewInstance.prototype.type = 'ViewInstance';\nViewInstance.prototype.serialize = function() {\n  return serializeObject.instance(this, this.name, this.attributes, this.hooks, this.initHooks);\n};\nViewInstance.prototype.get = function(context, unescaped) {\n  var view = this._find(context);\n  var viewContext = context.viewChild(view, this.attributes, this.hooks, this.initHooks);\n  return view.get(viewContext, unescaped);\n};\nViewInstance.prototype.getFragment = function(context, binding) {\n  var view = this._find(context);\n  var viewContext = context.viewChild(view, this.attributes, this.hooks, this.initHooks);\n  return view.getFragment(viewContext, binding);\n};\nViewInstance.prototype.appendTo = function(parent, context) {\n  var view = this._find(context);\n  var viewContext = context.viewChild(view, this.attributes, this.hooks, this.initHooks);\n  view.appendTo(parent, viewContext);\n};\nViewInstance.prototype.attachTo = function(parent, node, context) {\n  var view = this._find(context);\n  var viewContext = context.viewChild(view, this.attributes, this.hooks, this.initHooks);\n  return view.attachTo(parent, node, viewContext);\n};\nViewInstance.prototype.dependencies = function(context, options) {\n  if (DependencyOptions.shouldIgnoreTemplate(this, options)) return;\n  var view = this._find(context);\n  var viewContext = context.viewChild(view, this.attributes, this.hooks, this.initHooks);\n  return view.dependencies(viewContext, options);\n};\nViewInstance.prototype._find = function(context) {\n  if (this.view) return this.view;\n  var contextView = context.getView();\n  var namespace = contextView && contextView.namespace;\n  this.view = context.meta.views.find(this.name, namespace);\n  if (!this.view) {\n    var message = context.meta.views.findErrorMessage(this.name, contextView);\n    throw new Error(message);\n  }\n  return this.view;\n};\n\nfunction DynamicViewInstance(nameExpression, attributes, hooks, initHooks) {\n  this.nameExpression = nameExpression;\n  this.attributes = attributes;\n  this.hooks = hooks;\n  this.initHooks = initHooks;\n}\nDynamicViewInstance.prototype = Object.create(ViewInstance.prototype);\nDynamicViewInstance.prototype.constructor = DynamicViewInstance;\nDynamicViewInstance.prototype.type = 'DynamicViewInstance';\nDynamicViewInstance.prototype.serialize = function() {\n  return serializeObject.instance(this, this.nameExpression, this.attributes, this.hooks, this.initHooks);\n};\nDynamicViewInstance.prototype._find = function(context) {\n  var name = this.nameExpression.get(context);\n  var contextView = context.getView();\n  var namespace = contextView && contextView.namespace;\n  var view = name && context.meta.views.find(name, namespace);\n  return view || exports.emptyTemplate;\n};\nDynamicViewInstance.prototype.dependencies = function(context, options) {\n  if (DependencyOptions.shouldIgnoreTemplate(this, options)) return;\n  var nameDependencies = this.nameExpression.dependencies(context);\n  var viewDependencies = ViewInstance.prototype.dependencies.call(this, context, options);\n  return concat(nameDependencies, viewDependencies);\n};\n\n// Without a ContextClosure, ViewParent will return the nearest context that\n// is the parent of a view instance. When a context with a `closure` property\n// is encountered first, ViewParent will find the specific referenced context,\n// even if it is further up the context hierarchy.\nfunction ViewParent(template) {\n  this.template = template;\n}\nViewParent.prototype = Object.create(saddle.Template.prototype);\nViewParent.prototype.constructor = ViewParent;\nViewParent.prototype.type = 'ViewParent';\nViewParent.prototype.serialize = function() {\n  return serializeObject.instance(this, this.template);\n};\nViewParent.prototype.get = function(context, unescaped) {\n  var parentContext = context.forViewParent();\n  return this.template.get(parentContext, unescaped);\n};\nViewParent.prototype.getFragment = function(context, binding) {\n  var parentContext = context.forViewParent();\n  return this.template.getFragment(parentContext, binding);\n};\nViewParent.prototype.appendTo = function(parent, context) {\n  var parentContext = context.forViewParent();\n  this.template.appendTo(parent, parentContext);\n};\nViewParent.prototype.attachTo = function(parent, node, context) {\n  var parentContext = context.forViewParent();\n  return this.template.attachTo(parent, node, parentContext);\n};\nViewParent.prototype.dependencies = function(context, options) {\n  if (DependencyOptions.shouldIgnoreTemplate(this, options)) return;\n  var parentContext = context.forViewParent();\n  return this.template.dependencies(parentContext, options);\n};\n\n// At render time, this template creates a context child and sets its\n// `closure` property to a fixed reference. It is used in combination with\n// ViewParent in order to control which context is returned.\n//\n// Instances of this template cannot be serialized. It is intended for use\n// dynamically during rendering only.\nfunction ContextClosure(template, context) {\n  this.template = template;\n  this.context = context;\n}\nContextClosure.prototype = Object.create(saddle.Template.prototype);\nContextClosure.prototype.constructor = ContextClosure;\nContextClosure.prototype.serialize = function() {\n  throw new Error('ContextClosure cannot be serialized');\n};\nContextClosure.prototype.get = function(context, unescaped) {\n  var closureContext = context.closureChild(this.context);\n  return this.template.get(closureContext, unescaped);\n};\nContextClosure.prototype.getFragment = function(context, binding) {\n  var closureContext = context.closureChild(this.context);\n  return this.template.getFragment(closureContext, binding);\n};\nContextClosure.prototype.appendTo = function(parent, context) {\n  var closureContext = context.closureChild(this.context);\n  this.template.appendTo(parent, closureContext);\n};\nContextClosure.prototype.attachTo = function(parent, node, context) {\n  var closureContext = context.closureChild(this.context);\n  return this.template.attachTo(parent, node, closureContext);\n};\nContextClosure.prototype.dependencies = function(context, options) {\n  if (DependencyOptions.shouldIgnoreTemplate(this.template, options)) return;\n  var closureContext = context.closureChild(this.context);\n  return this.template.dependencies(closureContext, options);\n};\nContextClosure.prototype.equals = function(other) {\n  return (other instanceof ContextClosure) &&\n    (this.context === other.context) &&\n    (this.template.equals(other.template));\n};\n\nfunction ViewsMap() {}\nfunction Views() {\n  this.nameMap = new ViewsMap();\n  this.tagMap = new ViewsMap();\n  // TODO: elementMap is deprecated and should be removed with Derby 0.6.0\n  this.elementMap = this.tagMap;\n}\nViews.prototype.find = function(name, namespace) {\n  var map = this.nameMap;\n\n  // Exact match lookup\n  var exactName = (namespace) ? namespace + ':' + name : name;\n  var match = map[exactName];\n  if (match) return match;\n\n  // Relative lookup\n  var segments = name.split(':');\n  var segmentsDepth = segments.length;\n  if (namespace) segments = namespace.split(':').concat(segments);\n  // Iterate through segments, leaving the `segmentsDepth` segments and\n  // removing the second to `segmentsDepth` segment to traverse up the\n  // namespaces. Decrease `segmentsDepth` if not found and repeat again.\n  while (segmentsDepth > 0) {\n    var testSegments = segments.slice();\n    while (testSegments.length > segmentsDepth) {\n      testSegments.splice(-1 - segmentsDepth, 1);\n      var testName = testSegments.join(':');\n      var match = map[testName];\n      if (match) return match;\n    }\n    segmentsDepth--;\n  }\n};\nViews.prototype.register = function(name, source, options) {\n  var mapName = name.replace(/:index$/, '');\n  var view = this.nameMap[mapName];\n  if (view) {\n    // Recreate the view if it already exists. We re-apply the constructor\n    // instead of creating a new view object so that references to object\n    // can be cached after finding the first time\n    var componentFactory = view.componentFactory;\n    View.call(view, this, name, source, options);\n    view.componentFactory = componentFactory;\n  } else {\n    view = new View(this, name, source, options);\n  }\n  this.nameMap[mapName] = view;\n  // TODO: element is deprecated and should be removed with Derby 0.6.0\n  var tagName = options && (options.tag || options.element);\n  if (tagName) this.tagMap[tagName] = view;\n  return view;\n};\nViews.prototype.deserialize = function(items) {\n  for (var i = 0; i < items.length; i++) {\n    var item = items[i];\n    var setTemplate = item[0];\n    var name = item[1];\n    var source = item[2];\n    var options = item[3];\n    var view = this.register(name, source, options);\n    view.parse = setTemplate;\n    view.fromSerialized = true;\n  }\n};\nViews.prototype.serialize = function(options) {\n  var forServer = options && options.server;\n  var minify = options && options.minify;\n  var items = [];\n  for (var name in this.nameMap) {\n    var view = this.nameMap[name];\n    var template = view.template || view.parse();\n    if (!forServer && view.options) {\n      // Do not serialize views with the `serverOnly` option, except when\n      // serializing for a server script\n      if (view.options.serverOnly) continue;\n      // For views with the `server` option, serialize them with a blank\n      // template body. This allows them to be used from other views on the\n      // browser, but they will output nothing on the browser\n      if (view.options.server) template = exports.emptyTemplate;\n    }\n    // Serializing views as a function allows them to be constructed lazily upon\n    // first use. This can improve initial load times of the application when\n    // there are many views\n    items.push(\n      '[function(){return this.template=' +\n        template.serialize() + '},' +\n        serializeObject.args([\n          view.name,\n          (minify) ? null : view.source,\n          (hasKeys(view.options)) ? view.options : null\n        ]) +\n      ']'\n    );\n  }\n  return 'function(derbyTemplates, views){' +\n    'var expressions = derbyTemplates.expressions,' +\n    'templates = derbyTemplates.templates;' +\n    'views.deserialize([' + items.join(',') + '])}';\n};\nViews.prototype.findErrorMessage = function(name, contextView) {\n  var names = Object.keys(this.nameMap);\n  var message = 'Cannot find view \"' + name + '\" in' +\n    [''].concat(names).join('\\n  ') + '\\n';\n  if (contextView) {\n    message += '\\nWithin template \"' + contextView.name + '\":\\n' + contextView.source;\n  }\n  return message;\n};\n\n\nfunction MarkupHook() {}\nMarkupHook.prototype.module = saddle.Template.prototype.module;\n\nfunction ElementOn(name, expression) {\n  this.name = name;\n  this.expression = expression;\n}\nElementOn.prototype = Object.create(MarkupHook.prototype);\nElementOn.prototype.constructor = ElementOn;\nElementOn.prototype.type = 'ElementOn';\nElementOn.prototype.serialize = function() {\n  return serializeObject.instance(this, this.name, this.expression);\n};\nElementOn.prototype.emit = function(context, element) {\n  var elementOn = this;\n  if (this.name === 'create') {\n    this.apply(context, element);\n\n  } else if (this.name === 'destroy') {\n    var destroyListeners = element.$destroyListeners || (element.$destroyListeners = []);\n    destroyListeners.push(function elementOnDestroy() {\n      elementOn.apply(context, element);\n    });\n\n  } else {\n    element.addEventListener(this.name, function elementOnListener(event) {\n      return elementOn.apply(context, element, event);\n    }, false);\n  }\n};\nElementOn.prototype.apply = function(context, element, event) {\n  var modelData = context.controller.model.data;\n  modelData.$event = event;\n  modelData.$element = element;\n  var out = this.expression.apply(context);\n  delete modelData.$event;\n  delete modelData.$element;\n  return out;\n};\n\nfunction ComponentOn(name, expression) {\n  this.name = name;\n  this.expression = expression;\n}\nComponentOn.prototype = Object.create(MarkupHook.prototype);\nComponentOn.prototype.constructor = ComponentOn;\nComponentOn.prototype.type = 'ComponentOn';\nComponentOn.prototype.serialize = function() {\n  return serializeObject.instance(this, this.name, this.expression);\n};\nComponentOn.prototype.emit = function(context, component) {\n  var expression = this.expression;\n  component.on(this.name, function componentOnListener() {\n    var args = arguments.length && Array.prototype.slice.call(arguments);\n    return expression.apply(context, args);\n  });\n};\n\nfunction AsProperty(segments) {\n  this.segments = segments;\n  this.lastSegment = segments.pop();\n}\nAsProperty.prototype = Object.create(MarkupHook.prototype);\nAsProperty.prototype.constructor = AsProperty;\nAsProperty.prototype.type = 'AsProperty';\nAsProperty.prototype.serialize = function() {\n  var segments = this.segments.concat(this.lastSegment);\n  return serializeObject.instance(this, segments);\n};\nAsProperty.prototype.emit = function(context, target) {\n  var node = traverseAndCreate(context.controller, this.segments);\n  node[this.lastSegment] = target;\n};\n\nfunction AsObject(segments, keyExpression) {\n  AsProperty.call(this, segments);\n  this.keyExpression = keyExpression;\n}\nAsObject.prototype = Object.create(AsProperty.prototype);\nAsObject.prototype.constructor = AsObject;\nAsObject.prototype.type = 'AsObject';\nAsObject.prototype.serialize = function() {\n  var segments = this.segments.concat(this.lastSegment);\n  return serializeObject.instance(this, segments, this.keyExpression);\n};\nAsObject.prototype.emit = function(context, target) {\n  var node = traverseAndCreate(context.controller, this.segments);\n  var object = node[this.lastSegment] || (node[this.lastSegment] = {});\n  var key = this.keyExpression.get(context);\n  object[key] = target;\n  this.addListeners(target, object, key);\n};\nAsObject.prototype.addListeners = function(target, object, key) {\n  this.addDestroyListener(target, function asObjectDestroy() {\n    delete object[key];\n  });\n};\nAsObject.prototype.addDestroyListener = function(target, listener) {\n  var listeners = target.$destroyListeners || (target.$destroyListeners = []);\n  listeners.push(listener);\n};\n\nfunction AsObjectComponent(segments, keyExpression) {\n  AsObject.call(this, segments, keyExpression);\n}\nAsObjectComponent.prototype = Object.create(AsObject.prototype);\nAsObjectComponent.prototype.constructor = AsObjectComponent;\nAsObjectComponent.prototype.type = 'AsObjectComponent';\nAsObjectComponent.prototype.addDestroyListener = function(target, listener) {\n  target.on('destroy', listener);\n};\n\nfunction AsArray(segments) {\n  AsProperty.call(this, segments);\n}\nAsArray.prototype = Object.create(AsProperty.prototype);\nAsArray.prototype.constructor = AsArray;\nAsArray.prototype.type = 'AsArray';\nAsArray.prototype.emit = function(context, target) {\n  var node = traverseAndCreate(context.controller, this.segments);\n  var array = node[this.lastSegment] || (node[this.lastSegment] = []);\n\n  // Iterate backwards, since rendering will usually append\n  for (var i = array.length; i--;) {\n    var item = array[i];\n    // Don't add an item if already in the array\n    if (item === target) return;\n    var mask = this.comparePosition(target, item);\n    // If the emitted target is after the current item in the document,\n    // insert it next in the array\n    // Node.DOCUMENT_POSITION_FOLLOWING = 4\n    if (mask & 4) {\n      array.splice(i + 1, 0, target);\n      this.addListeners(target, array);\n      return;\n    }\n  }\n  // Add to the beginning if before all items\n  array.unshift(target);\n  this.addListeners(target, array);\n};\nAsArray.prototype.addListeners = function(target, array) {\n  this.addDestroyListener(target, function asArrayDestroy() {\n    var index = array.indexOf(target);\n    if (index !== -1) array.splice(index, 1);\n  });\n};\nAsArray.prototype.comparePosition = function(target, item) {\n  return item.compareDocumentPosition(target);\n};\nAsArray.prototype.addDestroyListener = AsObject.prototype.addDestroyListener;\n\nfunction AsArrayComponent(segments) {\n  AsArray.call(this, segments);\n}\nAsArrayComponent.prototype = Object.create(AsArray.prototype);\nAsArrayComponent.prototype.constructor = AsArrayComponent;\nAsArrayComponent.prototype.type = 'AsArrayComponent';\nAsArrayComponent.prototype.comparePosition = function(target, item) {\n  return item.markerNode.compareDocumentPosition(target.markerNode);\n};\nAsArrayComponent.prototype.addDestroyListener = AsObjectComponent.prototype.addDestroyListener;\n",
    "var templates = require('./templates');\n\nexports.DependencyOptions = DependencyOptions;\n\nfunction DependencyOptions(options) {\n  this.setIgnoreTemplate(options && options.ignoreTemplate);\n}\nDependencyOptions.shouldIgnoreTemplate = function(template, options) {\n  return (options) ? options.ignoreTemplate === template : false;\n};\nDependencyOptions.prototype.setIgnoreTemplate = function(template) {\n  while (template instanceof templates.ContextClosure) {\n    template = template.template;\n  }\n  this.ignoreTemplate = template;\n};\n",
    "exports.instance = serializeInstance;\nexports.args = serializeArgs;\nexports.value = serializeValue;\n\nfunction serializeInstance(instance) {\n  var args = Array.prototype.slice.call(arguments, 1);\n  return 'new ' + instance.module + '.' + instance.type +\n    '(' + serializeArgs(args) + ')';\n}\n\nfunction serializeArgs(args) {\n  // Map each argument into its string representation\n  var items = [];\n  for (var i = args.length; i--;) {\n    var item = serializeValue(args[i]);\n    items.unshift(item);\n  }\n  // Remove trailing null values, assuming they are optional\n  for (var i = items.length; i--;) {\n    var item = items[i];\n    if (item !== 'void 0' && item !== 'null') break;\n    items.pop();\n  }\n  return items.join(', ');\n}\n\nfunction serializeValue(input) {\n  if (input && input.serialize) {\n    return input.serialize();\n\n  } else if (typeof input === 'undefined') {\n    return 'void 0';\n\n  } else if (input === null) {\n    return 'null';\n\n  } else if (typeof input === 'string') {\n    return formatString(input);\n\n  } else if (typeof input === 'number' || typeof input === 'boolean') {\n    return input + '';\n\n  } else if (Array.isArray(input)) {\n    var items = [];\n    for (var i = 0; i < input.length; i++) {\n      var value = serializeValue(input[i]);\n      items.push(value);\n    }\n    return '[' + items.join(', ') + ']';\n\n  } else if (typeof input === 'object') {\n    var items = [];\n    for (var key in input) {\n      var value = serializeValue(input[key]);\n      items.push(formatString(key) + ': ' + value);\n    }\n    return '{' + items.join(', ') + '}';\n  }\n}\nfunction formatString(value) {\n  var escaped = value.replace(/['\\r\\n\\\\]/g, function(match) {\n    return (match === '\\'') ? '\\\\\\'' :\n      (match === '\\r') ? '\\\\r' :\n      (match === '\\n') ? '\\\\n' :\n      (match === '\\\\') ? '\\\\\\\\' :\n      '';\n  });\n  return '\\'' + escaped + '\\'';\n}\n",
    "// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar objectCreate = Object.create || objectCreatePolyfill\nvar objectKeys = Object.keys || objectKeysPolyfill\nvar bind = Function.prototype.bind || functionBindPolyfill\n\nfunction EventEmitter() {\n  if (!this._events || !Object.prototype.hasOwnProperty.call(this, '_events')) {\n    this._events = objectCreate(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nvar hasDefineProperty;\ntry {\n  var o = {};\n  if (Object.defineProperty) Object.defineProperty(o, 'x', { value: 0 });\n  hasDefineProperty = o.x === 0;\n} catch (err) { hasDefineProperty = false }\nif (hasDefineProperty) {\n  Object.defineProperty(EventEmitter, 'defaultMaxListeners', {\n    enumerable: true,\n    get: function() {\n      return defaultMaxListeners;\n    },\n    set: function(arg) {\n      // check whether the input is a positive number (whose value is zero or\n      // greater and not a NaN).\n      if (typeof arg !== 'number' || arg < 0 || arg !== arg)\n        throw new TypeError('\"defaultMaxListeners\" must be a positive number');\n      defaultMaxListeners = arg;\n    }\n  });\n} else {\n  EventEmitter.defaultMaxListeners = defaultMaxListeners;\n}\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || isNaN(n))\n    throw new TypeError('\"n\" argument must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nfunction $getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return $getMaxListeners(this);\n};\n\n// These standalone emit* functions are used to optimize calling of event\n// handlers for fast cases because emit() itself often has a variable number of\n// arguments and can be deoptimized because of that. These functions always have\n// the same number of arguments and thus do not get deoptimized, so the code\n// inside them can execute faster.\nfunction emitNone(handler, isFn, self) {\n  if (isFn)\n    handler.call(self);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self);\n  }\n}\nfunction emitOne(handler, isFn, self, arg1) {\n  if (isFn)\n    handler.call(self, arg1);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1);\n  }\n}\nfunction emitTwo(handler, isFn, self, arg1, arg2) {\n  if (isFn)\n    handler.call(self, arg1, arg2);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1, arg2);\n  }\n}\nfunction emitThree(handler, isFn, self, arg1, arg2, arg3) {\n  if (isFn)\n    handler.call(self, arg1, arg2, arg3);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1, arg2, arg3);\n  }\n}\n\nfunction emitMany(handler, isFn, self, args) {\n  if (isFn)\n    handler.apply(self, args);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].apply(self, args);\n  }\n}\n\nEventEmitter.prototype.emit = function emit(type) {\n  var er, handler, len, args, i, events;\n  var doError = (type === 'error');\n\n  events = this._events;\n  if (events)\n    doError = (doError && events.error == null);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    if (arguments.length > 1)\n      er = arguments[1];\n    if (er instanceof Error) {\n      throw er; // Unhandled 'error' event\n    } else {\n      // At least give some kind of context to the user\n      var err = new Error('Unhandled \"error\" event. (' + er + ')');\n      err.context = er;\n      throw err;\n    }\n    return false;\n  }\n\n  handler = events[type];\n\n  if (!handler)\n    return false;\n\n  var isFn = typeof handler === 'function';\n  len = arguments.length;\n  switch (len) {\n      // fast cases\n    case 1:\n      emitNone(handler, isFn, this);\n      break;\n    case 2:\n      emitOne(handler, isFn, this, arguments[1]);\n      break;\n    case 3:\n      emitTwo(handler, isFn, this, arguments[1], arguments[2]);\n      break;\n    case 4:\n      emitThree(handler, isFn, this, arguments[1], arguments[2], arguments[3]);\n      break;\n      // slower\n    default:\n      args = new Array(len - 1);\n      for (i = 1; i < len; i++)\n        args[i - 1] = arguments[i];\n      emitMany(handler, isFn, this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  if (typeof listener !== 'function')\n    throw new TypeError('\"listener\" argument must be a function');\n\n  events = target._events;\n  if (!events) {\n    events = target._events = objectCreate(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener) {\n      target.emit('newListener', type,\n          listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (!existing) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n          prepend ? [listener, existing] : [existing, listener];\n    } else {\n      // If we've already got an array, just append.\n      if (prepend) {\n        existing.unshift(listener);\n      } else {\n        existing.push(listener);\n      }\n    }\n\n    // Check for listener leak\n    if (!existing.warned) {\n      m = $getMaxListeners(target);\n      if (m && m > 0 && existing.length > m) {\n        existing.warned = true;\n        var w = new Error('Possible EventEmitter memory leak detected. ' +\n            existing.length + ' \"' + String(type) + '\" listeners ' +\n            'added. Use emitter.setMaxListeners() to ' +\n            'increase limit.');\n        w.name = 'MaxListenersExceededWarning';\n        w.emitter = target;\n        w.type = type;\n        w.count = existing.length;\n        if (typeof console === 'object' && console.warn) {\n          console.warn('%s: %s', w.name, w.message);\n        }\n      }\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    switch (arguments.length) {\n      case 0:\n        return this.listener.call(this.target);\n      case 1:\n        return this.listener.call(this.target, arguments[0]);\n      case 2:\n        return this.listener.call(this.target, arguments[0], arguments[1]);\n      case 3:\n        return this.listener.call(this.target, arguments[0], arguments[1],\n            arguments[2]);\n      default:\n        var args = new Array(arguments.length);\n        for (var i = 0; i < args.length; ++i)\n          args[i] = arguments[i];\n        this.listener.apply(this.target, args);\n    }\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = bind.call(onceWrapper, state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  if (typeof listener !== 'function')\n    throw new TypeError('\"listener\" argument must be a function');\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      if (typeof listener !== 'function')\n        throw new TypeError('\"listener\" argument must be a function');\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      if (typeof listener !== 'function')\n        throw new TypeError('\"listener\" argument must be a function');\n\n      events = this._events;\n      if (!events)\n        return this;\n\n      list = events[type];\n      if (!list)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = objectCreate(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else\n          spliceOne(list, position);\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (!events)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (!events.removeListener) {\n        if (arguments.length === 0) {\n          this._events = objectCreate(null);\n          this._eventsCount = 0;\n        } else if (events[type]) {\n          if (--this._eventsCount === 0)\n            this._events = objectCreate(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = objectKeys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = objectCreate(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (!events)\n    return [];\n\n  var evlistener = events[type];\n  if (!evlistener)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ? unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? Reflect.ownKeys(this._events) : [];\n};\n\n// About 1.5x faster than the two-arg version of Array#splice().\nfunction spliceOne(list, index) {\n  for (var i = index, k = i + 1, n = list.length; k < n; i += 1, k += 1)\n    list[i] = list[k];\n  list.pop();\n}\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction objectCreatePolyfill(proto) {\n  var F = function() {};\n  F.prototype = proto;\n  return new F;\n}\nfunction objectKeysPolyfill(obj) {\n  var keys = [];\n  for (var k in obj) if (Object.prototype.hasOwnProperty.call(obj, k)) {\n    keys.push(k);\n  }\n  return k;\n}\nfunction functionBindPolyfill(context) {\n  var fn = this;\n  return function () {\n    return fn.apply(context, arguments);\n  };\n}\n",
    "\nvar rng;\n\nvar crypto = global.crypto || global.msCrypto; // for IE 11\nif (crypto && crypto.getRandomValues) {\n  // WHATWG crypto-based RNG - http://wiki.whatwg.org/wiki/Crypto\n  // Moderately fast, high quality\n  var _rnds8 = new Uint8Array(16);\n  rng = function whatwgRNG() {\n    crypto.getRandomValues(_rnds8);\n    return _rnds8;\n  };\n}\n\nif (!rng) {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var  _rnds = new Array(16);\n  rng = function() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      _rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return _rnds;\n  };\n}\n\nmodule.exports = rng;\n\n",
    "//     uuid.js\n//\n//     Copyright (c) 2010-2012 Robert Kieffer\n//     MIT License - http://opensource.org/licenses/mit-license.php\n\n// Unique ID creation requires a high quality random # generator.  We feature\n// detect to determine the best RNG source, normalizing to a function that\n// returns 128-bits of randomness, since that's what's usually required\nvar _rng = require('./rng');\n\n// Maps for number <-> hex string conversion\nvar _byteToHex = [];\nvar _hexToByte = {};\nfor (var i = 0; i < 256; i++) {\n  _byteToHex[i] = (i + 0x100).toString(16).substr(1);\n  _hexToByte[_byteToHex[i]] = i;\n}\n\n// **`parse()` - Parse a UUID into it's component bytes**\nfunction parse(s, buf, offset) {\n  var i = (buf && offset) || 0, ii = 0;\n\n  buf = buf || [];\n  s.toLowerCase().replace(/[0-9a-f]{2}/g, function(oct) {\n    if (ii < 16) { // Don't overflow!\n      buf[i + ii++] = _hexToByte[oct];\n    }\n  });\n\n  // Zero out remaining bytes if string was short\n  while (ii < 16) {\n    buf[i + ii++] = 0;\n  }\n\n  return buf;\n}\n\n// **`unparse()` - Convert UUID byte array (ala parse()) into a string**\nfunction unparse(buf, offset) {\n  var i = offset || 0, bth = _byteToHex;\n  return  bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]];\n}\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\n// random #'s we need to init node and clockseq\nvar _seedBytes = _rng();\n\n// Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\nvar _nodeId = [\n  _seedBytes[0] | 0x01,\n  _seedBytes[1], _seedBytes[2], _seedBytes[3], _seedBytes[4], _seedBytes[5]\n];\n\n// Per 4.2.2, randomize (14 bit) clockseq\nvar _clockseq = (_seedBytes[6] << 8 | _seedBytes[7]) & 0x3fff;\n\n// Previous uuid creation time\nvar _lastMSecs = 0, _lastNSecs = 0;\n\n// See https://github.com/broofa/node-uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  var node = options.node || _nodeId;\n  for (var n = 0; n < 6; n++) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : unparse(b);\n}\n\n// **`v4()` - Generate random UUID**\n\n// See https://github.com/broofa/node-uuid for API details\nfunction v4(options, buf, offset) {\n  // Deprecated - 'format' argument, as supported in v1.2\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options == 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || _rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ii++) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || unparse(rnds);\n}\n\n// Export public API\nvar uuid = v4;\nuuid.v1 = v1;\nuuid.v4 = v4;\nuuid.parse = parse;\nuuid.unparse = unparse;\n\nmodule.exports = uuid;\n",
    "var uuid = require('uuid');\n\nModel.INITS = [];\n\nmodule.exports = Model;\n\nfunction Model(options) {\n  this.root = this;\n\n  var inits = Model.INITS;\n  if (!options) options = {};\n  this.debug = options.debug || {};\n  for (var i = 0; i < inits.length; i++) {\n    inits[i](this, options);\n  }\n}\n\nModel.prototype.id = function() {\n  return uuid.v4();\n};\n\nModel.prototype._child = function() {\n  return new ChildModel(this);\n};\n\nModel.ChildModel = ChildModel;\n\nfunction ChildModel(model) {\n  // Shared properties should be accessed via the root. This makes inheritance\n  // cheap and easily extensible\n  this.root = model.root;\n\n  // EventEmitter methods access these properties directly, so they must be\n  // inherited manually instead of via the root\n  this._events = model._events;\n  this._maxListeners = model._maxListeners;\n\n  // Properties specific to a child instance\n  this._context = model._context;\n  this._at = model._at;\n  this._pass = model._pass;\n  this._silent = model._silent;\n  this._eventContext = model._eventContext;\n  this._preventCompose = model._preventCompose;\n}\nChildModel.prototype = new Model();\n",
    "'use strict';\n\nvar isArray = Array.isArray;\nvar keyList = Object.keys;\nvar hasProp = Object.prototype.hasOwnProperty;\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    var arrA = isArray(a)\n      , arrB = isArray(b)\n      , i\n      , length\n      , key;\n\n    if (arrA && arrB) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n    if (arrA != arrB) return false;\n\n    var dateA = a instanceof Date\n      , dateB = b instanceof Date;\n    if (dateA != dateB) return false;\n    if (dateA && dateB) return a.getTime() == b.getTime();\n\n    var regexpA = a instanceof RegExp\n      , regexpB = b instanceof RegExp;\n    if (regexpA != regexpB) return false;\n    if (regexpA && regexpB) return a.toString() == b.toString();\n\n    var keys = keyList(a);\n    length = keys.length;\n\n    if (length !== keyList(b).length)\n      return false;\n\n    for (i = length; i-- !== 0;)\n      if (!hasProp.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      key = keys[i];\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  return a!==a && b!==b;\n};\n",
    "// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n",
    "var deepEqual = require('fast-deep-equal');\n\nvar isServer = process.title !== 'browser';\nexports.isServer = isServer;\n\nexports.asyncGroup = asyncGroup;\nexports.castSegments = castSegments;\nexports.contains = contains;\nexports.copy = copy;\nexports.copyObject = copyObject;\nexports.deepCopy = deepCopy;\nexports.deepEqual = deepEqual;\nexports.equal = equal;\nexports.equalsNaN = equalsNaN;\nexports.isArrayIndex = isArrayIndex;\nexports.lookup = lookup;\nexports.mergeInto = mergeInto;\nexports.mayImpact = mayImpact;\nexports.mayImpactAny = mayImpactAny;\nexports.serverRequire = serverRequire;\nexports.serverUse = serverUse;\nexports.use = use;\n\nfunction asyncGroup(cb) {\n  var group = new AsyncGroup(cb);\n  return function asyncGroupAdd() {\n    return group.add();\n  };\n}\n\n/**\n * @constructor\n * @param {Function} cb(err)\n */\nfunction AsyncGroup(cb) {\n  this.cb = cb;\n  this.isDone = false;\n  this.count = 0;\n}\nAsyncGroup.prototype.add = function() {\n  this.count++;\n  var self = this;\n  return function(err) {\n    self.count--;\n    if (self.isDone) return;\n    if (err) {\n      self.isDone = true;\n      self.cb(err);\n      return;\n    }\n    if (self.count > 0) return;\n    self.isDone = true;\n    self.cb();\n  };\n};\n\n/**\n * @param {Array<string | number>} segments\n * @return {Array<string | number>}\n */\nfunction castSegments(segments) {\n  // Cast number path segments from strings to numbers\n  for (var i = segments.length; i--;) {\n    var segment = segments[i];\n    if (typeof segment === 'string' && isArrayIndex(segment)) {\n      segments[i] = +segment;\n    }\n  }\n  return segments;\n}\n\nfunction contains(segments, testSegments) {\n  for (var i = 0; i < segments.length; i++) {\n    if (segments[i] !== testSegments[i]) return false;\n  }\n  return true;\n}\n\nfunction copy(value) {\n  if (value instanceof Date) return new Date(value);\n  if (typeof value === 'object') {\n    if (value === null) return null;\n    if (Array.isArray(value)) return value.slice();\n    return copyObject(value);\n  }\n  return value;\n}\n\nfunction copyObject(object) {\n  var out = new object.constructor();\n  for (var key in object) {\n    if (object.hasOwnProperty(key)) {\n      out[key] = object[key];\n    }\n  }\n  return out;\n}\n\nfunction deepCopy(value) {\n  if (value instanceof Date) return new Date(value);\n  if (typeof value === 'object') {\n    if (value === null) return null;\n    if (Array.isArray(value)) {\n      var array = [];\n      for (var i = value.length; i--;) {\n        array[i] = deepCopy(value[i]);\n      }\n      return array;\n    }\n    var object = new value.constructor();\n    for (var key in value) {\n      if (value.hasOwnProperty(key)) {\n        object[key] = deepCopy(value[key]);\n      }\n    }\n    return object;\n  }\n  return value;\n}\n\nfunction equal(a, b) {\n  return (a === b) || (equalsNaN(a) && equalsNaN(b));\n}\n\nfunction equalsNaN(x) {\n  // eslint-disable-next-line no-self-compare\n  return x !== x;\n}\n\nfunction isArrayIndex(segment) {\n  return (/^[0-9]+$/).test(segment);\n}\n\nfunction lookup(segments, value) {\n  if (!segments) return value;\n\n  for (var i = 0, len = segments.length; i < len; i++) {\n    if (value == null) return value;\n    value = value[segments[i]];\n  }\n  return value;\n}\n\nfunction mayImpactAny(segmentsList, testSegments) {\n  for (var i = 0, len = segmentsList.length; i < len; i++) {\n    if (mayImpact(segmentsList[i], testSegments)) return true;\n  }\n  return false;\n}\n\nfunction mayImpact(segments, testSegments) {\n  var len = Math.min(segments.length, testSegments.length);\n  for (var i = 0; i < len; i++) {\n    if (segments[i] !== testSegments[i]) return false;\n  }\n  return true;\n}\n\nfunction mergeInto(to, from) {\n  for (var key in from) {\n    to[key] = from[key];\n  }\n  return to;\n}\n\nfunction serverRequire(module, id) {\n  if (!isServer) return;\n  return module.require(id);\n}\n\nfunction serverUse(module, id, options) {\n  if (!isServer) return this;\n  var plugin = module.require(id);\n  return this.use(plugin, options);\n}\n\nfunction use(plugin, options) {\n  // Don't include a plugin more than once\n  var plugins = this._plugins || (this._plugins = []);\n  if (plugins.indexOf(plugin) === -1) {\n    plugins.push(plugin);\n    plugin(this, options);\n  }\n  return this;\n}\n",
    "var Model = require('./Model');\n\nModel.prototype.unbundle = function(data) {\n  if (this.connection) this.connection.startBulk();\n\n  // Re-create and subscribe queries; re-create documents associated with queries\n  this._initQueries(data.queries);\n\n  // Re-create other documents\n  for (var collectionName in data.collections) {\n    var collection = data.collections[collectionName];\n    for (var id in collection) {\n      this.getOrCreateDoc(collectionName, id, collection[id]);\n    }\n  }\n\n  for (var contextId in data.contexts) {\n    var contextData = data.contexts[contextId];\n    var contextModel = this.context(contextId);\n    // Re-init fetchedDocs counts\n    for (var collectionName in contextData.fetchedDocs) {\n      var collection = contextData.fetchedDocs[collectionName];\n      for (var id in collection) {\n        var count = collection[id];\n        while (count--) {\n          contextModel._context.fetchDoc(collectionName, id);\n          this._fetchedDocs.increment(collectionName, id);\n        }\n      }\n    }\n    // Subscribe to document subscriptions\n    for (var collectionName in contextData.subscribedDocs) {\n      var collection = contextData.subscribedDocs[collectionName];\n      for (var id in collection) {\n        var count = collection[id];\n        while (count--) {\n          contextModel.subscribeDoc(collectionName, id);\n        }\n      }\n    }\n    // Re-init createdDocs counts\n    for (var collectionName in contextData.createdDocs) {\n      var collection = contextData.createdDocs[collectionName];\n      for (var id in collection) {\n        // Count value doesn't matter for tracking creates\n        contextModel._context.createDoc(collectionName, id);\n      }\n    }\n  }\n\n  if (this.connection) this.connection.endBulk();\n\n  // Re-create refs\n  for (var i = 0; i < data.refs.length; i++) {\n    var item = data.refs[i];\n    this.ref(item[0], item[1]);\n  }\n  // Re-create refLists\n  for (var i = 0; i < data.refLists.length; i++) {\n    var item = data.refLists[i];\n    this.refList(item[0], item[1], item[2], item[3]);\n  }\n  // Re-create fns\n  for (var i = 0; i < data.fns.length; i++) {\n    var item = data.fns[i];\n    this.start.apply(this, item);\n  }\n  // Re-create filters\n  for (var i = 0; i < data.filters.length; i++) {\n    var item = data.filters[i];\n    var filter = this._filters.add(item[1], item[2], item[3], item[4], item[5]);\n    filter.ref(item[0]);\n  }\n};\n",
    "// @ts-check\n\nvar EventEmitter = require('events').EventEmitter;\nvar util = require('../util');\n/** @type any */\nvar Model = require('./Model');\n\n// These events are re-emitted as 'all' events, and they are queued up and\n// emitted in sequence, so that events generated by other events are not\n// seen in a different order by later listeners\nModel.MUTATOR_EVENTS = {\n  change: true,\n  insert: true,\n  remove: true,\n  move: true,\n  load: true,\n  unload: true\n};\n\nModel.INITS.push(function(model) {\n  EventEmitter.call(this);\n\n  // Set max listeners to unlimited\n  model.setMaxListeners(0);\n\n  // Used in async methods to emit an error event if a callback is not supplied.\n  // This will throw if there is no handler for model.on('error')\n  model.root._defaultCallback = defaultCallback;\n  function defaultCallback(err) {\n    if (err) model._emitError(err);\n  }\n\n  model.root._mutatorEventQueue = null;\n  model.root._pass = new Passed({}, {});\n  model.root._silent = null;\n  model.root._eventContext = null;\n});\n\nutil.mergeInto(Model.prototype, EventEmitter.prototype);\n\nModel.prototype.wrapCallback = function(cb) {\n  if (!cb) return this.root._defaultCallback;\n  var model = this;\n  return function wrappedCallback() {\n    try {\n      return cb.apply(this, arguments);\n    } catch (err) {\n      model._emitError(err);\n    }\n  };\n};\n\nModel.prototype._emitError = function(err, context) {\n  var message = (err.message) ? err.message :\n    (typeof err === 'string') ? err :\n      'Unknown model error';\n  if (context) {\n    message += ' ' + context;\n  }\n  if (err.data) {\n    try {\n      message += ' ' + JSON.stringify(err.data);\n    } catch (stringifyErr) {}\n  }\n  if (err instanceof Error) {\n    err.message = message;\n  } else {\n    err = new Error(message);\n  }\n  this.emit('error', err);\n};\n\n// EventEmitter.prototype.on, EventEmitter.prototype.addListener, and\n// EventEmitter.prototype.once return `this`. The Model equivalents return\n// the listener instead, since it is made internally for method subscriptions\n// and may need to be passed to removeListener.\n\nModel.prototype._emit = EventEmitter.prototype.emit;\nModel.prototype.emit = function(type) {\n  if (type === 'error') {\n    return this._emit.apply(this, arguments);\n  }\n  if (Model.MUTATOR_EVENTS[type]) {\n    if (this._silent) return this;\n    // `segments` is almost definitely an array of strings.\n    //\n    // A search for `.emit(` shows that `segments` is generated from either\n    // `Model#_splitPath` or `Model#_dereference`, both of which return an array\n    // of strings.\n    var segments = arguments[1];\n    var eventArgs = arguments[2];\n    this._emit(type + 'Immediate', segments, eventArgs);\n    if (this.root._mutatorEventQueue) {\n      this.root._mutatorEventQueue.push([type, segments, eventArgs]);\n      return this;\n    }\n    this.root._mutatorEventQueue = [];\n    this._emit(type, segments, eventArgs);\n    this._emit('all', segments, [type].concat(eventArgs));\n    while (this.root._mutatorEventQueue.length) {\n      var queued = this.root._mutatorEventQueue.shift();\n      type = queued[0];\n      segments = queued[1];\n      eventArgs = queued[2];\n      this._emit(type, segments, eventArgs);\n      this._emit('all', segments, [type].concat(eventArgs));\n    }\n    this.root._mutatorEventQueue = null;\n    return this;\n  }\n  return this._emit.apply(this, arguments);\n};\n\nModel.prototype._on = EventEmitter.prototype.on;\nModel.prototype.addListener =\nModel.prototype.on = function(type, pattern, options, cb) {\n  var listener = eventListener(this, type, pattern, options, cb);\n  this._on(type, listener);\n  return listener;\n};\n\nModel.prototype.once = function(type, pattern, options, cb) {\n  var listener = eventListener(this, type, pattern, options, cb);\n  function g() {\n    var matches = listener.apply(null, arguments);\n    if (matches) this.removeListener(type, g);\n  }\n  this._on(type, g);\n  return g;\n};\n\n/**\n * @typedef {Object} ModelOnOptions\n * @property {boolean} [useEventObjects] - If true, the listener is called with\n *   `cb(event: ___Event, captures: string[])`, instead of the legacy var-args\n *   style `cb(captures..., [eventType], eventArgs..., passed)`.\n */\n\nModel.prototype._removeAllListeners = EventEmitter.prototype.removeAllListeners;\nModel.prototype.removeAllListeners = function(type, subpattern) {\n  // If a pattern is specified without an event type, remove all model event\n  // listeners under that pattern for all events\n  if (!type) {\n    for (var key in this._events) {\n      this.removeAllListeners(key, subpattern);\n    }\n    return this;\n  }\n\n  var pattern = this.path(subpattern);\n  // If no pattern is specified, remove all listeners like normal\n  if (!pattern) {\n    if (arguments.length === 0) {\n      return this._removeAllListeners();\n    }\n    return this._removeAllListeners(type);\n  }\n\n  // Remove all listeners for an event under a pattern\n  var listeners = this.listeners(type);\n  var segments = pattern.split('.');\n  // Make sure to iterate in reverse, since the array might be\n  // mutated as listeners are removed\n  for (var i = listeners.length; i--;) {\n    var listener = listeners[i];\n    if (patternContained(pattern, segments, listener)) {\n      this.removeListener(type, listener);\n    }\n  }\n  return this;\n};\n\nfunction patternContained(pattern, segments, listener) {\n  var listenerSegments = listener.patternSegments;\n  if (!listenerSegments) return false;\n  if (pattern === listener.pattern || pattern === '**') return true;\n  var len = segments.length;\n  if (len > listenerSegments.length) return false;\n  for (var i = 0; i < len; i++) {\n    if (segments[i] !== listenerSegments[i]) return false;\n  }\n  return true;\n}\n\nModel.prototype.pass = function(object, invert) {\n  var model = this._child();\n  model._pass = (invert) ?\n    new Passed(object, this._pass) :\n    new Passed(this._pass, object);\n  return model;\n};\n\nfunction Passed(previous, value) {\n  for (var key in previous) {\n    this[key] = previous[key];\n  }\n  for (var key in value) {\n    this[key] = value[key];\n  }\n}\n\n/**\n * The returned Model will or won't trigger event handlers when the model emits\n * events, depending on `value`\n * @param {Boolean|Null} value defaults to true\n * @return {Model}\n */\nModel.prototype.silent = function(value) {\n  var model = this._child();\n  model._silent = (value == null) ? true : value;\n  return model;\n};\n\nModel.prototype.eventContext = function(value) {\n  var model = this._child();\n  model._eventContext = value;\n  return model;\n};\n\nModel.prototype.removeContextListeners = function(value) {\n  if (arguments.length === 0) {\n    value = this._eventContext;\n  }\n  // Remove all events created within a given context\n  for (var type in this._events) {\n    var listeners = this.listeners(type);\n    // Make sure to iterate in reverse, since the array might be\n    // mutated as listeners are removed\n    for (var i = listeners.length; i--;) {\n      var listener = listeners[i];\n      if (listener.eventContext === value) {\n        this.removeListener(type, listener);\n      }\n    }\n  }\n  return this;\n};\n\n/**\n * @param {Model} model\n * @param {string} eventType\n */\nfunction eventListener(model, eventType, arg2, arg3, arg4) {\n  var subpattern, options, cb;\n  if (arg4) {\n    // on(eventType, path, options, cb)\n    subpattern = arg2;\n    options = arg3;\n    cb = arg4;\n  } else if (arg3) {\n    // on(eventType, path, cb)\n    // on(eventType, options, cb)\n    cb = arg3;\n    if (model.isPath(arg2)) {\n      subpattern = arg2;\n    } else {\n      options = arg2;\n    }\n  } else { // if (arg2)\n    // on(eventType, cb)\n    cb = arg2;\n  }\n  if (options) {\n    if (options.useEventObjects) {\n      var useEventObjects = true;\n    }\n  }\n\n  if (subpattern) {\n    // For signatures with pattern:\n    // model.on('change', 'example.subpath.**', callback)\n    // model.at('example').on('change', 'subpath', callback)\n    var pattern = model.path(subpattern);\n    return (useEventObjects) ?\n      modelEventListener(eventType, pattern, cb, model._eventContext) :\n      modelEventListenerLegacy(pattern, cb, model._eventContext);\n  }\n  // For signature without explicit pattern:\n  // model.at('example').on('change', callback)\n  /** @type string */\n  var path = model.path();\n  if (path) {\n    return (useEventObjects) ?\n      modelEventListener(eventType, path, cb, model._eventContext) :\n      modelEventListenerLegacy(path, cb, model._eventContext);\n  }\n  // For signature:\n  // model.on('normalEvent', callback)\n  return cb;\n}\n\n/**\n * Legacy version of `modelEventListener` that calls `cb` with var-args\n * `(captures..., [eventType], args..., passed)` instead of new-style\n * `___Event` objects.\n *\n * @param {string} pattern\n * @param {Function} cb\n * @param {*} eventContext\n * @return {ModelListenerFn & ModelListenerProps}\n */\nfunction modelEventListenerLegacy(pattern, cb, eventContext) {\n  var patternSegments = util.castSegments(pattern.split('.'));\n  var testFn = testPatternFn(pattern, patternSegments);\n\n  /** @type ModelListenerFn */\n  function modelListener(segments, eventArgs) {\n    var captures = testFn(segments);\n    if (!captures) return;\n\n    var args = (captures.length) ? captures.concat(eventArgs) : eventArgs;\n    cb.apply(null, args);\n    return true;\n  }\n\n  // Used in Model#removeAllListeners\n  modelListener.pattern = pattern;\n  modelListener.patternSegments = patternSegments;\n  modelListener.eventContext = eventContext;\n\n  return modelListener;\n}\n\n/**\n * Returns a function that can be passed to `EventEmitter#on`, with some\n * additional properties used for `Model#removeAllListeners`.\n *\n * When the function is called, it checks if the event matches `patternArg`, and\n * if there's a match, it calls `cb`.\n *\n * @param {string} eventType\n * @param {string} pattern\n * @param {Function} cb\n * @param {*} eventContext\n * @return {ModelListenerFn & ModelListenerProps}\n */\nfunction modelEventListener(eventType, pattern, cb, eventContext) {\n  var patternSegments = util.castSegments(pattern.split('.'));\n  var testFn = testPatternFn(pattern, patternSegments);\n\n  var eventFactory = getEventFactory(eventType);\n  /** @type ModelListenerFn */\n  function modelListener(segments, eventArgs) {\n    var captures = testFn(segments);\n    if (!captures) return;\n\n    var event = eventFactory(eventArgs);\n    cb(event, captures);\n    return true;\n  }\n\n  // Used in Model#removeAllListeners\n  modelListener.pattern = pattern;\n  modelListener.patternSegments = patternSegments;\n  modelListener.eventContext = eventContext;\n\n  return modelListener;\n}\n\n/** @typedef { (segments: string[], eventArgs: any[]) => (boolean | undefined) } ModelListenerFn */\n/** @typedef { {pattern: string, patternSegments: Array<string | number>, eventContext: any} } ModelListenerProps */\n\n/**\n * Returns a factory function that creates an `___Event` object based on an\n * old-style `eventArgs` array.\n *\n * @param {string} eventType\n * @return {(eventArgs: any[]) => ChangeEvent | InsertEvent | RemoveEvent | MoveEvent | LoadEvent | UnloadEvent}\n */\nfunction getEventFactory(eventType) {\n  switch (eventType) {\n    case 'change':\n      return function(eventArgs) {\n        return new ChangeEvent(eventArgs);\n      };\n    case 'insert':\n      return function(eventArgs) {\n        return new InsertEvent(eventArgs);\n      };\n    case 'remove':\n      return function(eventArgs) {\n        return new RemoveEvent(eventArgs);\n      };\n    case 'move':\n      return function(eventArgs) {\n        return new MoveEvent(eventArgs);\n      };\n    case 'load':\n      return function(eventArgs) {\n        return new LoadEvent(eventArgs);\n      };\n    case 'unload':\n      return function(eventArgs) {\n        return new UnloadEvent(eventArgs);\n      };\n    case 'all':\n      return function(eventArgs) {\n        var concreteEventType = eventArgs[0]; // 'change', 'insert', etc.\n        var concreteEventFactory = getEventFactory(concreteEventType);\n        return concreteEventFactory(eventArgs.slice(1));\n      };\n    default: throw new Error('Unknown event: ' + eventType);\n  }\n}\n\n// These constructors accept the `eventArgs` array format that Racer uses\n// internally when calling `Model#emit`.\n//\n// Eventually, Racer should switch to passing these events around directly,\n// but that will require updating all the places that parse the `eventArgs`\n// array format, to extract things like `passed`.\n\nfunction ChangeEvent(eventArgs) {\n  this.value = eventArgs[0];\n  this.previous = eventArgs[1];\n  this.passed = eventArgs[2];\n}\nChangeEvent.prototype.type = 'change';\n\nfunction InsertEvent(eventArgs) {\n  this.index = eventArgs[0];\n  this.values = eventArgs[1];\n  this.passed = eventArgs[2];\n}\nInsertEvent.prototype.type = 'insert';\n\nfunction RemoveEvent(eventArgs) {\n  this.index = eventArgs[0];\n  this.removed = eventArgs[1];\n  this.passed = eventArgs[2];\n}\nRemoveEvent.prototype.type = 'remove';\n\nfunction MoveEvent(eventArgs) {\n  this.from = eventArgs[0];\n  this.to = eventArgs[1];\n  this.howMany = eventArgs[2];\n  this.passed = eventArgs[3];\n}\nMoveEvent.prototype.type = 'move';\n\nfunction LoadEvent(eventArgs) {\n  this.document = eventArgs[0];\n  this.passed = eventArgs[1];\n}\nLoadEvent.prototype.type = 'load';\n\nfunction UnloadEvent(eventArgs) {\n  this.previousDocument = eventArgs[0];\n  this.passed = eventArgs[1];\n}\nUnloadEvent.prototype.type = 'unload';\n\n/**\n * Returns a function that tests an array of event segments against the\n * `patternSegments`. (`pattern` only matters if it's exactly `'**'`.)\n *\n * @param {string?} pattern\n * @param {Array<string | number>} patternSegments\n * @return {(segments: string[]) => (string[] | undefined)} A function to test\n *   an array of event segments. If the event segments match, an array of 0 or\n *   more segments captured by `'*'` / `'**'` is returned, one per wildcard. If\n *   the event segments don't match, `undefined` is returned.\n */\nfunction testPatternFn(pattern, patternSegments) {\n  if (pattern === '**') {\n    return function testPattern(segments) {\n      return [segments.join('.')];\n    };\n  }\n\n  var endingRest = stripRestWildcard(patternSegments);\n\n  return function testPattern(segments) {\n    // Any pattern with more segments does not match\n    var patternLen = patternSegments.length;\n    if (patternLen > segments.length) return;\n\n    // A pattern with the same number of segments matches if each\n    // of the segments are wildcards or equal. A shorter pattern matches\n    // if it ends in a rest wildcard and each of the corresponding\n    // segments are wildcards or equal.\n    if (patternLen === segments.length || endingRest) {\n      /** @type string[] */\n      var captures = [];\n      for (var i = 0; i < patternLen; i++) {\n        var patternSegment = patternSegments[i];\n        var segment = segments[i];\n        if (patternSegment === '*' || patternSegment === '**') {\n          captures.push(segment);\n          continue;\n        }\n        if (patternSegment !== segment) return;\n      }\n      if (endingRest) {\n        var remainder = segments.slice(i).join('.');\n        captures.push(remainder);\n      }\n      return captures;\n    }\n  };\n}\n\n/**\n * @param {Array<string | number>} segments\n */\nfunction stripRestWildcard(segments) {\n  // ['example', '**'] -> ['example']; return true\n  var lastIndex = segments.length - 1;\n  var lastSegment = segments[lastIndex];\n  if (lastSegment === '**') {\n    segments.pop();\n    return true;\n  }\n  // ['example', 'subpath**'] -> ['example', 'subpath']; return true\n  if (typeof lastSegment !== 'string') return false;\n  var match = /^([^\\*]+)\\*\\*$/.exec(lastSegment);\n  if (!match) return false;\n  segments[lastIndex] = match[1];\n  return true;\n}\n",
    "var Model = require('./Model');\n\nexports.mixin = {};\n\nModel.prototype._splitPath = function(subpath) {\n  var path = this.path(subpath);\n  return (path && path.split('.')) || [];\n};\n\n/**\n * Returns the path equivalent to the path of the current scoped model plus\n * (optionally) a suffix subpath\n *\n * @optional @param {String} subpath\n * @return {String} absolute path\n * @api public\n */\nModel.prototype.path = function(subpath) {\n  if (subpath == null || subpath === '') return (this._at) ? this._at : '';\n  if (typeof subpath === 'string' || typeof subpath === 'number') {\n    return (this._at) ? this._at + '.' + subpath : '' + subpath;\n  }\n  if (typeof subpath.path === 'function') return subpath.path();\n};\n\nModel.prototype.isPath = function(subpath) {\n  return this.path(subpath) != null;\n};\n\nModel.prototype.scope = function(path) {\n  if (arguments.length > 1) {\n    for (var i = 1; i < arguments.length; i++) {\n      path = path + '.' + arguments[i];\n    }\n  }\n  return createScoped(this, path);\n};\n\n/**\n * Create a model object scoped to a particular path.\n * Example:\n *     var user = model.at('users.1');\n *     user.set('username', 'brian');\n *     user.on('push', 'todos', function(todo) {\n *       // ...\n *     });\n *\n *  @param {String} segment\n *  @return {Model} a scoped model\n *  @api public\n */\nModel.prototype.at = function(subpath) {\n  if (arguments.length > 1) {\n    for (var i = 1; i < arguments.length; i++) {\n      subpath = subpath + '.' + arguments[i];\n    }\n  }\n  var path = this.path(subpath);\n  return createScoped(this, path);\n};\n\nfunction createScoped(model, path) {\n  var scoped = model._child();\n  scoped._at = path;\n  return scoped;\n}\n\n/**\n * Returns a model scope that is a number of levels above the current scoped\n * path. Number of levels defaults to 1, so this method called without\n * arguments returns the model scope's parent model scope.\n *\n * @optional @param {Number} levels\n * @return {Model} a scoped model\n */\nModel.prototype.parent = function(levels) {\n  if (levels == null) levels = 1;\n  var segments = this._splitPath();\n  var len = Math.max(0, segments.length - levels);\n  var path = segments.slice(0, len).join('.');\n  return this.scope(path);\n};\n\n/**\n * Returns the last property segment of the current model scope path\n *\n * @optional @param {String} path\n * @return {String}\n */\nModel.prototype.leaf = function(path) {\n  if (!path) path = this.path();\n  var i = path.lastIndexOf('.');\n  return path.slice(i + 1);\n};\n",
    "module.exports = Doc;\n\nfunction Doc(model, collectionName, id) {\n  this.collectionName = collectionName;\n  this.id = id;\n  this.collectionData = model && model.data[collectionName];\n}\n\nDoc.prototype.path = function(segments) {\n  var path = this.collectionName + '.' + this.id;\n  if (segments && segments.length) path += '.' + segments.join('.');\n  return path;\n};\n\nDoc.prototype._errorMessage = function(description, segments, value) {\n  return description + ' at ' + this.path(segments) + ': ' +\n    JSON.stringify(value, null, 2);\n};\n",
    "var Doc = require('./Doc');\nvar util = require('../util');\n\nmodule.exports = LocalDoc;\n\nfunction LocalDoc(model, collectionName, id, data) {\n  Doc.call(this, model, collectionName, id);\n  this.data = data;\n  this._updateCollectionData();\n}\n\nLocalDoc.prototype = new Doc();\n\nLocalDoc.prototype._updateCollectionData = function() {\n  this.collectionData[this.id] = this.data;\n};\n\nLocalDoc.prototype.create = function(value, cb) {\n  if (this.data !== undefined) {\n    var message = this._errorMessage('create on local document with data', null, this.data);\n    var err = new Error(message);\n    return cb(err);\n  }\n  this.data = value;\n  this._updateCollectionData();\n  cb();\n};\n\nLocalDoc.prototype.set = function(segments, value, cb) {\n  function set(node, key) {\n    var previous = node[key];\n    node[key] = value;\n    return previous;\n  }\n  return this._apply(segments, set, cb);\n};\n\nLocalDoc.prototype.del = function(segments, cb) {\n  // Don't do anything if the value is already undefined, since\n  // apply creates objects as it traverses, and the del method\n  // should not create anything\n  var previous = this.get(segments);\n  if (previous === undefined) {\n    cb();\n    return;\n  }\n  function del(node, key) {\n    delete node[key];\n    return previous;\n  }\n  return this._apply(segments, del, cb);\n};\n\nLocalDoc.prototype.increment = function(segments, byNumber, cb) {\n  var self = this;\n  function validate(value) {\n    if (typeof value === 'number' || value == null) return;\n    return new TypeError(self._errorMessage(\n      'increment on non-number', segments, value\n    ));\n  }\n  function increment(node, key) {\n    var value = (node[key] || 0) + byNumber;\n    node[key] = value;\n    return value;\n  }\n  return this._validatedApply(segments, validate, increment, cb);\n};\n\nLocalDoc.prototype.push = function(segments, value, cb) {\n  function push(arr) {\n    return arr.push(value);\n  }\n  return this._arrayApply(segments, push, cb);\n};\n\nLocalDoc.prototype.unshift = function(segments, value, cb) {\n  function unshift(arr) {\n    return arr.unshift(value);\n  }\n  return this._arrayApply(segments, unshift, cb);\n};\n\nLocalDoc.prototype.insert = function(segments, index, values, cb) {\n  function insert(arr) {\n    arr.splice.apply(arr, [index, 0].concat(values));\n    return arr.length;\n  }\n  return this._arrayApply(segments, insert, cb);\n};\n\nLocalDoc.prototype.pop = function(segments, cb) {\n  function pop(arr) {\n    return arr.pop();\n  }\n  return this._arrayApply(segments, pop, cb);\n};\n\nLocalDoc.prototype.shift = function(segments, cb) {\n  function shift(arr) {\n    return arr.shift();\n  }\n  return this._arrayApply(segments, shift, cb);\n};\n\nLocalDoc.prototype.remove = function(segments, index, howMany, cb) {\n  function remove(arr) {\n    return arr.splice(index, howMany);\n  }\n  return this._arrayApply(segments, remove, cb);\n};\n\nLocalDoc.prototype.move = function(segments, from, to, howMany, cb) {\n  function move(arr) {\n    // Remove from old location\n    var values = arr.splice(from, howMany);\n    // Insert in new location\n    arr.splice.apply(arr, [to, 0].concat(values));\n    return values;\n  }\n  return this._arrayApply(segments, move, cb);\n};\n\nLocalDoc.prototype.stringInsert = function(segments, index, value, cb) {\n  var self = this;\n  function validate(value) {\n    if (typeof value === 'string' || value == null) return;\n    return new TypeError(self._errorMessage(\n      'stringInsert on non-string', segments, value\n    ));\n  }\n  function stringInsert(node, key) {\n    var previous = node[key];\n    if (previous == null) {\n      node[key] = value;\n      return previous;\n    }\n    node[key] = previous.slice(0, index) + value + previous.slice(index);\n    return previous;\n  }\n  return this._validatedApply(segments, validate, stringInsert, cb);\n};\n\nLocalDoc.prototype.stringRemove = function(segments, index, howMany, cb) {\n  var self = this;\n  function validate(value) {\n    if (typeof value === 'string' || value == null) return;\n    return new TypeError(self._errorMessage(\n      'stringRemove on non-string', segments, value\n    ));\n  }\n  function stringRemove(node, key) {\n    var previous = node[key];\n    if (previous == null) return previous;\n    if (index < 0) index += previous.length;\n    node[key] = previous.slice(0, index) + previous.slice(index + howMany);\n    return previous;\n  }\n  return this._validatedApply(segments, validate, stringRemove, cb);\n};\n\nLocalDoc.prototype.get = function(segments) {\n  return util.lookup(segments, this.data);\n};\n\n/**\n * @param {Array} segments is the array representing a path\n * @param {Function} fn(node, key) applies a mutation on node[key]\n * @return {Object} returns the return value of fn(node, key)\n */\nLocalDoc.prototype._createImplied = function(segments, fn) {\n  var node = this;\n  var key = 'data';\n  var i = 0;\n  var nextKey = segments[i++];\n  while (nextKey != null) {\n    // Get or create implied object or array\n    node = node[key] || (node[key] = /^\\d+$/.test(nextKey) ? [] : {});\n    key = nextKey;\n    nextKey = segments[i++];\n  }\n  return fn(node, key);\n};\n\nLocalDoc.prototype._apply = function(segments, fn, cb) {\n  var out = this._createImplied(segments, fn);\n  this._updateCollectionData();\n  cb();\n  return out;\n};\n\nLocalDoc.prototype._validatedApply = function(segments, validate, fn, cb) {\n  var out = this._createImplied(segments, function(node, key) {\n    var err = validate(node[key]);\n    if (err) return cb(err);\n    return fn(node, key);\n  });\n  this._updateCollectionData();\n  cb();\n  return out;\n};\n\nLocalDoc.prototype._arrayApply = function(segments, fn, cb) {\n  // Lookup a pointer to the property or nested property &\n  // return the current value or create a new array\n  var arr = this._createImplied(segments, nodeCreateArray);\n\n  if (!Array.isArray(arr)) {\n    var message = this._errorMessage(fn.name + ' on non-array', segments, arr);\n    var err = new TypeError(message);\n    return cb(err);\n  }\n  var out = fn(arr);\n  this._updateCollectionData();\n  cb();\n  return out;\n};\n\nfunction nodeCreateArray(node, key) {\n  var node = node[key] || (node[key] = []);\n  return node;\n}\n",
    "var Model = require('./Model');\nvar LocalDoc = require('./LocalDoc');\nvar util = require('../util');\n\nfunction CollectionMap() {}\nfunction ModelData() {}\nfunction DocMap() {}\nfunction CollectionData() {}\n\nModel.INITS.push(function(model) {\n  model.root.collections = new CollectionMap();\n  model.root.data = new ModelData();\n});\n\nModel.prototype.getCollection = function(collectionName) {\n  return this.root.collections[collectionName];\n};\nModel.prototype.getDoc = function(collectionName, id) {\n  var collection = this.root.collections[collectionName];\n  return collection && collection.docs[id];\n};\nModel.prototype.get = function(subpath) {\n  var segments = this._splitPath(subpath);\n  return this._get(segments);\n};\nModel.prototype._get = function(segments) {\n  return util.lookup(segments, this.root.data);\n};\nModel.prototype.getCopy = function(subpath) {\n  var segments = this._splitPath(subpath);\n  return this._getCopy(segments);\n};\nModel.prototype._getCopy = function(segments) {\n  var value = this._get(segments);\n  return util.copy(value);\n};\nModel.prototype.getDeepCopy = function(subpath) {\n  var segments = this._splitPath(subpath);\n  return this._getDeepCopy(segments);\n};\nModel.prototype._getDeepCopy = function(segments) {\n  var value = this._get(segments);\n  return util.deepCopy(value);\n};\nModel.prototype.getOrCreateCollection = function(name) {\n  var collection = this.root.collections[name];\n  if (collection) return collection;\n  var Doc = this._getDocConstructor(name);\n  collection = new Collection(this.root, name, Doc);\n  this.root.collections[name] = collection;\n  return collection;\n};\nModel.prototype._getDocConstructor = function() {\n  // Only create local documents. This is overriden in ./connection.js, so that\n  // the RemoteDoc behavior can be selectively included\n  return LocalDoc;\n};\n\n/**\n * Returns an existing document with id in a collection. If the document does\n * not exist, then creates the document with id in a collection and returns the\n * new document.\n * @param {String} collectionName\n * @param {String} id\n * @param {Object} [data] data to create if doc with id does not exist in collection\n */\nModel.prototype.getOrCreateDoc = function(collectionName, id, data) {\n  var collection = this.getOrCreateCollection(collectionName);\n  return collection.docs[id] || collection.add(id, data);\n};\n\n/**\n * @param {String} subpath\n */\nModel.prototype.destroy = function(subpath) {\n  var segments = this._splitPath(subpath);\n  // Silently remove all types of listeners within subpath\n  var silentModel = this.silent();\n  silentModel.removeAllListeners(null, subpath);\n  silentModel._removeAllRefs(segments);\n  silentModel._stopAll(segments);\n  silentModel._removeAllFilters(segments);\n  // Silently remove all model data within subpath\n  if (segments.length === 0) {\n    this.root.collections = new CollectionMap();\n    // Delete each property of data instead of creating a new object so that\n    // it is possible to continue using a reference to the original data object\n    var data = this.root.data;\n    for (var key in data) {\n      delete data[key];\n    }\n  } else if (segments.length === 1) {\n    var collection = this.getCollection(segments[0]);\n    collection && collection.destroy();\n  } else {\n    silentModel._del(segments);\n  }\n};\n\nfunction Collection(model, name, Doc) {\n  this.model = model;\n  this.name = name;\n  this.Doc = Doc;\n  this.docs = new DocMap();\n  this.data = model.data[name] = new CollectionData();\n}\n\n/**\n * Adds a document with `id` and `data` to `this` Collection.\n * @param {String} id\n * @param {Object} data\n * @return {LocalDoc|RemoteDoc} doc\n */\nCollection.prototype.add = function(id, data) {\n  var doc = new this.Doc(this.model, this.name, id, data, this);\n  this.docs[id] = doc;\n  return doc;\n};\nCollection.prototype.destroy = function() {\n  delete this.model.collections[this.name];\n  delete this.model.data[this.name];\n};\n\n/**\n * Removes the document with `id` from `this` Collection. If there are no more\n * documents in the Collection after the given document is removed, then this\n * also destroys the Collection.\n * @param {String} id\n */\nCollection.prototype.remove = function(id) {\n  delete this.docs[id];\n  delete this.data[id];\n  if (noKeys(this.docs)) this.destroy();\n};\n\n/**\n * Returns an object that maps doc ids to fully resolved documents.\n * @return {Object}\n */\nCollection.prototype.get = function() {\n  return this.data;\n};\n\nfunction noKeys(object) {\n  // eslint-disable-next-line no-unused-vars\n  for (var key in object) {\n    return false;\n  }\n  return true;\n}\n",
    "var util = require('../util');\nvar Model = require('./Model');\n\nModel.prototype._mutate = function(segments, fn, cb) {\n  cb = this.wrapCallback(cb);\n  var collectionName = segments[0];\n  var id = segments[1];\n  if (!collectionName || !id) {\n    var message = fn.name + ' must be performed under a collection ' +\n      'and document id. Invalid path: ' + segments.join('.');\n    return cb(new Error(message));\n  }\n  var doc = this.getOrCreateDoc(collectionName, id);\n  var docSegments = segments.slice(2);\n  if (this._preventCompose && doc.shareDoc) {\n    var oldPreventCompose = doc.shareDoc.preventCompose;\n    doc.shareDoc.preventCompose = true;\n    var out = fn(doc, docSegments, cb);\n    doc.shareDoc.preventCompose = oldPreventCompose;\n    return out;\n  }\n  return fn(doc, docSegments, cb);\n};\n\nModel.prototype.set = function() {\n  var subpath, value, cb;\n  if (arguments.length === 1) {\n    value = arguments[0];\n  } else if (arguments.length === 2) {\n    subpath = arguments[0];\n    value = arguments[1];\n  } else {\n    subpath = arguments[0];\n    value = arguments[1];\n    cb = arguments[2];\n  }\n  var segments = this._splitPath(subpath);\n  return this._set(segments, value, cb);\n};\nModel.prototype._set = function(segments, value, cb) {\n  segments = this._dereference(segments);\n  var model = this;\n  function set(doc, docSegments, fnCb) {\n    var previous = doc.set(docSegments, value, fnCb);\n    // On setting the entire doc, remote docs sometimes do a copy to add the\n    // id without it being stored in the database by ShareJS\n    if (docSegments.length === 0) value = doc.get(docSegments);\n    model.emit('change', segments, [value, previous, model._pass]);\n    return previous;\n  }\n  return this._mutate(segments, set, cb);\n};\n\nModel.prototype.setNull = function() {\n  var subpath, value, cb;\n  if (arguments.length === 1) {\n    value = arguments[0];\n  } else if (arguments.length === 2) {\n    subpath = arguments[0];\n    value = arguments[1];\n  } else {\n    subpath = arguments[0];\n    value = arguments[1];\n    cb = arguments[2];\n  }\n  var segments = this._splitPath(subpath);\n  return this._setNull(segments, value, cb);\n};\nModel.prototype._setNull = function(segments, value, cb) {\n  segments = this._dereference(segments);\n  var model = this;\n  function setNull(doc, docSegments, fnCb) {\n    var previous = doc.get(docSegments);\n    if (previous != null) {\n      fnCb();\n      return previous;\n    }\n    doc.set(docSegments, value, fnCb);\n    model.emit('change', segments, [value, previous, model._pass]);\n    return value;\n  }\n  return this._mutate(segments, setNull, cb);\n};\n\nModel.prototype.setEach = function() {\n  var subpath, object, cb;\n  if (arguments.length === 1) {\n    object = arguments[0];\n  } else if (arguments.length === 2) {\n    subpath = arguments[0];\n    object = arguments[1];\n  } else {\n    subpath = arguments[0];\n    object = arguments[1];\n    cb = arguments[2];\n  }\n  var segments = this._splitPath(subpath);\n  return this._setEach(segments, object, cb);\n};\nModel.prototype._setEach = function(segments, object, cb) {\n  segments = this._dereference(segments);\n  var group = util.asyncGroup(this.wrapCallback(cb));\n  for (var key in object) {\n    var value = object[key];\n    this._set(segments.concat(key), value, group());\n  }\n};\n\nModel.prototype.create = function() {\n  var subpath, value, cb;\n  if (arguments.length === 0) {\n    value = {};\n  } else if (arguments.length === 1) {\n    if (typeof arguments[0] === 'function') {\n      value = {};\n      cb = arguments[0];\n    } else {\n      value = arguments[0];\n    }\n  } else if (arguments.length === 2) {\n    if (typeof arguments[1] === 'function') {\n      value = arguments[0];\n      cb = arguments[1];\n    } else {\n      subpath = arguments[0];\n      value = arguments[1];\n    }\n  } else {\n    subpath = arguments[0];\n    value = arguments[1];\n    cb = arguments[2];\n  }\n  var segments = this._splitPath(subpath);\n  return this._create(segments, value, cb);\n};\nModel.prototype._create = function(segments, value, cb) {\n  segments = this._dereference(segments);\n  if (segments.length !== 2) {\n    var message = 'create may only be used on a document path. ' +\n      'Invalid path: ' + segments.join('.');\n    cb = this.wrapCallback(cb);\n    return cb(new Error(message));\n  }\n  var model = this;\n  function create(doc, docSegments, fnCb) {\n    var previous;\n    doc.create(value, fnCb);\n    // On creating the doc, remote docs do a copy to add the id without\n    // it being stored in the database by ShareJS\n    value = doc.get();\n    model.emit('change', segments, [value, previous, model._pass]);\n  }\n  this._mutate(segments, create, cb);\n};\n\nModel.prototype.createNull = function() {\n  var subpath, value, cb;\n  if (arguments.length === 0) {\n    value = {};\n  } else if (arguments.length === 1) {\n    if (typeof arguments[0] === 'function') {\n      value = {};\n      cb = arguments[0];\n    } else {\n      value = arguments[0];\n    }\n  } else if (arguments.length === 2) {\n    if (typeof arguments[1] === 'function') {\n      value = arguments[0];\n      cb = arguments[1];\n    } else {\n      subpath = arguments[0];\n      value = arguments[1];\n    }\n  } else {\n    subpath = arguments[0];\n    value = arguments[1];\n    cb = arguments[2];\n  }\n  var segments = this._splitPath(subpath);\n  return this._createNull(segments, value, cb);\n};\nModel.prototype._createNull = function(segments, value, cb) {\n  segments = this._dereference(segments);\n  var doc = this.getDoc(segments[0], segments[1]);\n  if (doc && doc.get() != null) return;\n  this._create(segments, value, cb);\n};\n\nModel.prototype.add = function() {\n  var subpath, value, cb;\n  if (arguments.length === 0) {\n    value = {};\n  } else if (arguments.length === 1) {\n    if (typeof arguments[0] === 'function') {\n      value = {};\n      cb = arguments[0];\n    } else {\n      value = arguments[0];\n    }\n  } else if (arguments.length === 2) {\n    if (typeof arguments[1] === 'function') {\n      value = arguments[0];\n      cb = arguments[1];\n    } else {\n      subpath = arguments[0];\n      value = arguments[1];\n    }\n  } else {\n    subpath = arguments[0];\n    value = arguments[1];\n    cb = arguments[2];\n  }\n  var segments = this._splitPath(subpath);\n  return this._add(segments, value, cb);\n};\nModel.prototype._add = function(segments, value, cb) {\n  if (typeof value !== 'object') {\n    var message = 'add requires an object value. Invalid value: ' + value;\n    cb = this.wrapCallback(cb);\n    return cb(new Error(message));\n  }\n  var id = value.id || this.id();\n  value.id = id;\n  segments = this._dereference(segments.concat(id));\n  var model = this;\n  function add(doc, docSegments, fnCb) {\n    var previous;\n    if (docSegments.length) {\n      previous = doc.set(docSegments, value, fnCb);\n    } else {\n      doc.create(value, fnCb);\n      // On creating the doc, remote docs do a copy to add the id without\n      // it being stored in the database by ShareJS\n      value = doc.get();\n    }\n    model.emit('change', segments, [value, previous, model._pass]);\n  }\n  this._mutate(segments, add, cb);\n  return id;\n};\n\nModel.prototype.del = function() {\n  var subpath, cb;\n  if (arguments.length === 1) {\n    if (typeof arguments[0] === 'function') {\n      cb = arguments[0];\n    } else {\n      subpath = arguments[0];\n    }\n  } else {\n    subpath = arguments[0];\n    cb = arguments[1];\n  }\n  var segments = this._splitPath(subpath);\n  return this._del(segments, cb);\n};\nModel.prototype._del = function(segments, cb) {\n  segments = this._dereference(segments);\n  var model = this;\n  function del(doc, docSegments, fnCb) {\n    var previous = doc.del(docSegments, fnCb);\n    // When deleting an entire document, also remove the reference to the\n    // document object from its collection\n    if (segments.length === 2) {\n      var collectionName = segments[0];\n      var id = segments[1];\n      model.root.collections[collectionName].remove(id);\n    }\n    model.emit('change', segments, [undefined, previous, model._pass]);\n    return previous;\n  }\n  return this._mutate(segments, del, cb);\n};\n\nModel.prototype.increment = function() {\n  var subpath, byNumber, cb;\n  if (arguments.length === 1) {\n    if (typeof arguments[0] === 'function') {\n      cb = arguments[0];\n    } else if (typeof arguments[0] === 'number') {\n      byNumber = arguments[0];\n    } else {\n      subpath = arguments[0];\n    }\n  } else if (arguments.length === 2) {\n    if (typeof arguments[1] === 'function') {\n      cb = arguments[1];\n      if (typeof arguments[0] === 'number') {\n        byNumber = arguments[0];\n      } else {\n        subpath = arguments[0];\n      }\n    } else {\n      subpath = arguments[0];\n      byNumber = arguments[1];\n    }\n  } else {\n    subpath = arguments[0];\n    byNumber = arguments[1];\n    cb = arguments[2];\n  }\n  var segments = this._splitPath(subpath);\n  return this._increment(segments, byNumber, cb);\n};\nModel.prototype._increment = function(segments, byNumber, cb) {\n  segments = this._dereference(segments);\n  if (byNumber == null) byNumber = 1;\n  var model = this;\n  function increment(doc, docSegments, fnCb) {\n    var value = doc.increment(docSegments, byNumber, fnCb);\n    var previous = value - byNumber;\n    model.emit('change', segments, [value, previous, model._pass]);\n    return value;\n  }\n  return this._mutate(segments, increment, cb);\n};\n\nModel.prototype.push = function() {\n  var subpath, value, cb;\n  if (arguments.length === 1) {\n    value = arguments[0];\n  } else if (arguments.length === 2) {\n    subpath = arguments[0];\n    value = arguments[1];\n  } else {\n    subpath = arguments[0];\n    value = arguments[1];\n    cb = arguments[2];\n  }\n  var segments = this._splitPath(subpath);\n  return this._push(segments, value, cb);\n};\nModel.prototype._push = function(segments, value, cb) {\n  var forArrayMutator = true;\n  segments = this._dereference(segments, forArrayMutator);\n  var model = this;\n  function push(doc, docSegments, fnCb) {\n    var length = doc.push(docSegments, value, fnCb);\n    model.emit('insert', segments, [length - 1, [value], model._pass]);\n    return length;\n  }\n  return this._mutate(segments, push, cb);\n};\n\nModel.prototype.unshift = function() {\n  var subpath, value, cb;\n  if (arguments.length === 1) {\n    value = arguments[0];\n  } else if (arguments.length === 2) {\n    subpath = arguments[0];\n    value = arguments[1];\n  } else {\n    subpath = arguments[0];\n    value = arguments[1];\n    cb = arguments[2];\n  }\n  var segments = this._splitPath(subpath);\n  return this._unshift(segments, value, cb);\n};\nModel.prototype._unshift = function(segments, value, cb) {\n  var forArrayMutator = true;\n  segments = this._dereference(segments, forArrayMutator);\n  var model = this;\n  function unshift(doc, docSegments, fnCb) {\n    var length = doc.unshift(docSegments, value, fnCb);\n    model.emit('insert', segments, [0, [value], model._pass]);\n    return length;\n  }\n  return this._mutate(segments, unshift, cb);\n};\n\nModel.prototype.insert = function() {\n  var subpath, index, values, cb;\n  if (arguments.length < 2) {\n    throw new Error('Not enough arguments for insert');\n  } else if (arguments.length === 2) {\n    index = arguments[0];\n    values = arguments[1];\n  } else if (arguments.length === 3) {\n    subpath = arguments[0];\n    index = arguments[1];\n    values = arguments[2];\n  } else {\n    subpath = arguments[0];\n    index = arguments[1];\n    values = arguments[2];\n    cb = arguments[3];\n  }\n  var segments = this._splitPath(subpath);\n  return this._insert(segments, +index, values, cb);\n};\nModel.prototype._insert = function(segments, index, values, cb) {\n  var forArrayMutator = true;\n  segments = this._dereference(segments, forArrayMutator);\n  var model = this;\n  function insert(doc, docSegments, fnCb) {\n    var inserted = (Array.isArray(values)) ? values : [values];\n    var length = doc.insert(docSegments, index, inserted, fnCb);\n    model.emit('insert', segments, [index, inserted, model._pass]);\n    return length;\n  }\n  return this._mutate(segments, insert, cb);\n};\n\nModel.prototype.pop = function() {\n  var subpath, cb;\n  if (arguments.length === 1) {\n    if (typeof arguments[0] === 'function') {\n      cb = arguments[0];\n    } else {\n      subpath = arguments[0];\n    }\n  } else {\n    subpath = arguments[0];\n    cb = arguments[1];\n  }\n  var segments = this._splitPath(subpath);\n  return this._pop(segments, cb);\n};\nModel.prototype._pop = function(segments, cb) {\n  var forArrayMutator = true;\n  segments = this._dereference(segments, forArrayMutator);\n  var model = this;\n  function pop(doc, docSegments, fnCb) {\n    var arr = doc.get(docSegments);\n    var length = arr && arr.length;\n    if (!length) {\n      fnCb();\n      return;\n    }\n    var value = doc.pop(docSegments, fnCb);\n    model.emit('remove', segments, [length - 1, [value], model._pass]);\n    return value;\n  }\n  return this._mutate(segments, pop, cb);\n};\n\nModel.prototype.shift = function() {\n  var subpath, cb;\n  if (arguments.length === 1) {\n    if (typeof arguments[0] === 'function') {\n      cb = arguments[0];\n    } else {\n      subpath = arguments[0];\n    }\n  } else {\n    subpath = arguments[0];\n    cb = arguments[1];\n  }\n  var segments = this._splitPath(subpath);\n  return this._shift(segments, cb);\n};\nModel.prototype._shift = function(segments, cb) {\n  var forArrayMutator = true;\n  segments = this._dereference(segments, forArrayMutator);\n  var model = this;\n  function shift(doc, docSegments, fnCb) {\n    var arr = doc.get(docSegments);\n    var length = arr && arr.length;\n    if (!length) {\n      fnCb();\n      return;\n    }\n    var value = doc.shift(docSegments, fnCb);\n    model.emit('remove', segments, [0, [value], model._pass]);\n    return value;\n  }\n  return this._mutate(segments, shift, cb);\n};\n\nModel.prototype.remove = function() {\n  var subpath, index, howMany, cb;\n  if (arguments.length < 2) {\n    index = arguments[0];\n  } else if (arguments.length === 2) {\n    if (typeof arguments[1] === 'function') {\n      cb = arguments[1];\n      if (typeof arguments[0] === 'number') {\n        index = arguments[0];\n      } else {\n        subpath = arguments[0];\n      }\n    } else {\n      // eslint-disable-next-line no-lonely-if\n      if (typeof arguments[0] === 'number') {\n        index = arguments[0];\n        howMany = arguments[1];\n      } else {\n        subpath = arguments[0];\n        index = arguments[1];\n      }\n    }\n  } else if (arguments.length === 3) {\n    if (typeof arguments[2] === 'function') {\n      cb = arguments[2];\n      if (typeof arguments[0] === 'number') {\n        index = arguments[0];\n        howMany = arguments[1];\n      } else {\n        subpath = arguments[0];\n        index = arguments[1];\n      }\n    } else {\n      subpath = arguments[0];\n      index = arguments[1];\n      howMany = arguments[2];\n    }\n  } else {\n    subpath = arguments[0];\n    index = arguments[1];\n    howMany = arguments[2];\n    cb = arguments[3];\n  }\n  var segments = this._splitPath(subpath);\n  if (index == null) index = segments.pop();\n  return this._remove(segments, +index, howMany, cb);\n};\nModel.prototype._remove = function(segments, index, howMany, cb) {\n  var forArrayMutator = true;\n  segments = this._dereference(segments, forArrayMutator);\n  if (howMany == null) howMany = 1;\n  var model = this;\n  function remove(doc, docSegments, fnCb) {\n    var removed = doc.remove(docSegments, index, howMany, fnCb);\n    model.emit('remove', segments, [index, removed, model._pass]);\n    return removed;\n  }\n  return this._mutate(segments, remove, cb);\n};\n\nModel.prototype.move = function() {\n  var subpath, from, to, howMany, cb;\n  if (arguments.length < 2) {\n    throw new Error('Not enough arguments for move');\n  } else if (arguments.length === 2) {\n    from = arguments[0];\n    to = arguments[1];\n  } else if (arguments.length === 3) {\n    if (typeof arguments[2] === 'function') {\n      from = arguments[0];\n      to = arguments[1];\n      cb = arguments[2];\n    } else if (typeof arguments[0] === 'number') {\n      from = arguments[0];\n      to = arguments[1];\n      howMany = arguments[2];\n    } else {\n      subpath = arguments[0];\n      from = arguments[1];\n      to = arguments[2];\n    }\n  } else if (arguments.length === 4) {\n    if (typeof arguments[3] === 'function') {\n      cb = arguments[3];\n      if (typeof arguments[0] === 'number') {\n        from = arguments[0];\n        to = arguments[1];\n        howMany = arguments[2];\n      } else {\n        subpath = arguments[0];\n        from = arguments[1];\n        to = arguments[2];\n      }\n    } else {\n      subpath = arguments[0];\n      from = arguments[1];\n      to = arguments[2];\n      howMany = arguments[3];\n    }\n  } else {\n    subpath = arguments[0];\n    from = arguments[1];\n    to = arguments[2];\n    howMany = arguments[3];\n    cb = arguments[4];\n  }\n  var segments = this._splitPath(subpath);\n  return this._move(segments, from, to, howMany, cb);\n};\nModel.prototype._move = function(segments, from, to, howMany, cb) {\n  var forArrayMutator = true;\n  segments = this._dereference(segments, forArrayMutator);\n  if (howMany == null) howMany = 1;\n  var model = this;\n  function move(doc, docSegments, fnCb) {\n    // Cast to numbers\n    from = +from;\n    to = +to;\n    // Convert negative indices into positive\n    if (from < 0 || to < 0) {\n      var len = doc.get(docSegments).length;\n      if (from < 0) from += len;\n      if (to < 0) to += len;\n    }\n    var moved = doc.move(docSegments, from, to, howMany, fnCb);\n    model.emit('move', segments, [from, to, moved.length, model._pass]);\n    return moved;\n  }\n  return this._mutate(segments, move, cb);\n};\n\nModel.prototype.stringInsert = function() {\n  var subpath, index, text, cb;\n  if (arguments.length < 2) {\n    throw new Error('Not enough arguments for stringInsert');\n  } else if (arguments.length === 2) {\n    index = arguments[0];\n    text = arguments[1];\n  } else if (arguments.length === 3) {\n    if (typeof arguments[2] === 'function') {\n      index = arguments[0];\n      text = arguments[1];\n      cb = arguments[2];\n    } else {\n      subpath = arguments[0];\n      index = arguments[1];\n      text = arguments[2];\n    }\n  } else {\n    subpath = arguments[0];\n    index = arguments[1];\n    text = arguments[2];\n    cb = arguments[3];\n  }\n  var segments = this._splitPath(subpath);\n  return this._stringInsert(segments, index, text, cb);\n};\nModel.prototype._stringInsert = function(segments, index, text, cb) {\n  segments = this._dereference(segments);\n  var model = this;\n  function stringInsert(doc, docSegments, fnCb) {\n    var previous = doc.stringInsert(docSegments, index, text, fnCb);\n    var value = doc.get(docSegments);\n    var pass = model.pass({$stringInsert: {index: index, text: text}})._pass;\n    model.emit('change', segments, [value, previous, pass]);\n    return;\n  }\n  return this._mutate(segments, stringInsert, cb);\n};\n\nModel.prototype.stringRemove = function() {\n  var subpath, index, howMany, cb;\n  if (arguments.length < 2) {\n    throw new Error('Not enough arguments for stringRemove');\n  } else if (arguments.length === 2) {\n    index = arguments[0];\n    howMany = arguments[1];\n  } else if (arguments.length === 3) {\n    if (typeof arguments[2] === 'function') {\n      index = arguments[0];\n      howMany = arguments[1];\n      cb = arguments[2];\n    } else {\n      subpath = arguments[0];\n      index = arguments[1];\n      howMany = arguments[2];\n    }\n  } else {\n    subpath = arguments[0];\n    index = arguments[1];\n    howMany = arguments[2];\n    cb = arguments[3];\n  }\n  var segments = this._splitPath(subpath);\n  return this._stringRemove(segments, index, howMany, cb);\n};\nModel.prototype._stringRemove = function(segments, index, howMany, cb) {\n  segments = this._dereference(segments);\n  var model = this;\n  function stringRemove(doc, docSegments, fnCb) {\n    var previous = doc.stringRemove(docSegments, index, howMany, fnCb);\n    var value = doc.get(docSegments);\n    var pass = model.pass({$stringRemove: {index: index, howMany: howMany}})._pass;\n    model.emit('change', segments, [value, previous, pass]);\n    return;\n  }\n  return this._mutate(segments, stringRemove, cb);\n};\n\nModel.prototype.subtypeSubmit = function() {\n  var subpath, subtype, subtypeOp, cb;\n  if (arguments.length < 2) {\n    throw new Error('Not enough arguments for subtypeSubmit');\n  } else if (arguments.length === 2) {\n    subtype = arguments[0];\n    subtypeOp = arguments[1];\n  } else if (arguments.length === 3) {\n    if (typeof arguments[2] === 'function') {\n      subtype = arguments[0];\n      subtypeOp = arguments[1];\n      cb = arguments[2];\n    } else {\n      subpath = arguments[0];\n      subtype = arguments[1];\n      subtypeOp = arguments[2];\n    }\n  } else {\n    subpath = arguments[0];\n    subtype = arguments[1];\n    subtypeOp = arguments[2];\n    cb = arguments[3];\n  }\n  var segments = this._splitPath(subpath);\n  return this._subtypeSubmit(segments, subtype, subtypeOp, cb);\n};\n\nModel.prototype._subtypeSubmit = function(segments, subtype, subtypeOp, cb) {\n  segments = this._dereference(segments);\n  var model = this;\n  function subtypeSubmit(doc, docSegments, fnCb) {\n    var previous = doc.subtypeSubmit(docSegments, subtype, subtypeOp, fnCb);\n    var value = doc.get(docSegments);\n    var pass = model.pass({$subtype: {type: subtype, op: subtypeOp}})._pass;\n    // Emit undefined for the previous value, since we don't really know\n    // whether or not the previous value returned by the subtypeSubmit is the\n    // same object returned by reference or not. This may cause change\n    // listeners to over-trigger, but that is usually going to be better than\n    // under-triggering\n    model.emit('change', segments, [value, undefined, pass]);\n    return previous;\n  }\n  return this._mutate(segments, subtypeSubmit, cb);\n};\n",
    "module.exports = arrayDiff;\n\n// Based on some rough benchmarking, this algorithm is about O(2n) worst case,\n// and it can compute diffs on random arrays of length 1024 in about 34ms,\n// though just a few changes on an array of length 1024 takes about 0.5ms\n\narrayDiff.InsertDiff = InsertDiff;\narrayDiff.RemoveDiff = RemoveDiff;\narrayDiff.MoveDiff = MoveDiff;\n\nfunction InsertDiff(index, values) {\n  this.index = index;\n  this.values = values;\n}\nInsertDiff.prototype.type = 'insert';\nInsertDiff.prototype.toJSON = function() {\n  return {\n    type: this.type,\n    index: this.index,\n    values: this.values\n  };\n};\n\nfunction RemoveDiff(index, howMany) {\n  this.index = index;\n  this.howMany = howMany;\n}\nRemoveDiff.prototype.type = 'remove';\nRemoveDiff.prototype.toJSON = function() {\n  return {\n    type: this.type,\n    index: this.index,\n    howMany: this.howMany\n  };\n};\n\nfunction MoveDiff(from, to, howMany) {\n  this.from = from;\n  this.to = to;\n  this.howMany = howMany;\n}\nMoveDiff.prototype.type = 'move';\nMoveDiff.prototype.toJSON = function() {\n  return {\n    type: this.type,\n    from: this.from,\n    to: this.to,\n    howMany: this.howMany\n  };\n};\n\nfunction strictEqual(a, b) {\n  return a === b;\n}\n\nfunction arrayDiff(before, after, equalFn) {\n  if (!equalFn) equalFn = strictEqual;\n\n  // Find all items in both the before and after array, and represent them\n  // as moves. Many of these \"moves\" may end up being discarded in the last\n  // pass if they are from an index to the same index, but we don't know this\n  // up front, since we haven't yet offset the indices.\n  //\n  // Also keep a map of all the indices accounted for in the before and after\n  // arrays. These maps are used next to create insert and remove diffs.\n  var beforeLength = before.length;\n  var afterLength = after.length;\n  var moves = [];\n  var beforeMarked = {};\n  var afterMarked = {};\n  for (var beforeIndex = 0; beforeIndex < beforeLength; beforeIndex++) {\n    var beforeItem = before[beforeIndex];\n    for (var afterIndex = 0; afterIndex < afterLength; afterIndex++) {\n      if (afterMarked[afterIndex]) continue;\n      if (!equalFn(beforeItem, after[afterIndex])) continue;\n      var from = beforeIndex;\n      var to = afterIndex;\n      var howMany = 0;\n      do {\n        beforeMarked[beforeIndex++] = afterMarked[afterIndex++] = true;\n        howMany++;\n      } while (\n        beforeIndex < beforeLength &&\n        afterIndex < afterLength &&\n        equalFn(before[beforeIndex], after[afterIndex]) &&\n        !afterMarked[afterIndex]\n      );\n      moves.push(new MoveDiff(from, to, howMany));\n      beforeIndex--;\n      break;\n    }\n  }\n\n  // Create a remove for all of the items in the before array that were\n  // not marked as being matched in the after array as well\n  var removes = [];\n  for (beforeIndex = 0; beforeIndex < beforeLength;) {\n    if (beforeMarked[beforeIndex]) {\n      beforeIndex++;\n      continue;\n    }\n    var index = beforeIndex;\n    var howMany = 0;\n    while (beforeIndex < beforeLength && !beforeMarked[beforeIndex++]) {\n      howMany++;\n    }\n    removes.push(new RemoveDiff(index, howMany));\n  }\n\n  // Create an insert for all of the items in the after array that were\n  // not marked as being matched in the before array as well\n  var inserts = [];\n  for (var afterIndex = 0; afterIndex < afterLength;) {\n    if (afterMarked[afterIndex]) {\n      afterIndex++;\n      continue;\n    }\n    var index = afterIndex;\n    var howMany = 0;\n    while (afterIndex < afterLength && !afterMarked[afterIndex++]) {\n      howMany++;\n    }\n    var values = after.slice(index, index + howMany);\n    inserts.push(new InsertDiff(index, values));\n  }\n\n  var insertsLength = inserts.length;\n  var removesLength = removes.length;\n  var movesLength = moves.length;\n  var i, j;\n\n  // Offset subsequent removes and moves by removes\n  var count = 0;\n  for (i = 0; i < removesLength; i++) {\n    var remove = removes[i];\n    remove.index -= count;\n    count += remove.howMany;\n    for (j = 0; j < movesLength; j++) {\n      var move = moves[j];\n      if (move.from >= remove.index) move.from -= remove.howMany;\n    }\n  }\n\n  // Offset moves by inserts\n  for (i = insertsLength; i--;) {\n    var insert = inserts[i];\n    var howMany = insert.values.length;\n    for (j = movesLength; j--;) {\n      var move = moves[j];\n      if (move.to >= insert.index) move.to -= howMany;\n    }\n  }\n\n  // Offset the to of moves by later moves\n  for (i = movesLength; i-- > 1;) {\n    var move = moves[i];\n    if (move.to === move.from) continue;\n    for (j = i; j--;) {\n      var earlier = moves[j];\n      if (earlier.to >= move.to) earlier.to -= move.howMany;\n      if (earlier.to >= move.from) earlier.to += move.howMany;\n    }\n  }\n\n  // Only output moves that end up having an effect after offsetting\n  var outputMoves = [];\n\n  // Offset the from of moves by earlier moves\n  for (i = 0; i < movesLength; i++) {\n    var move = moves[i];\n    if (move.to === move.from) continue;\n    outputMoves.push(move);\n    for (j = i + 1; j < movesLength; j++) {\n      var later = moves[j];\n      if (later.from >= move.from) later.from -= move.howMany;\n      if (later.from >= move.to) later.from += move.howMany;\n    }\n  }\n\n  return removes.concat(outputMoves, inserts);\n}\n",
    "var util = require('../util');\nvar Model = require('./Model');\nvar arrayDiff = require('arraydiff');\n\nModel.prototype.setDiff = function() {\n  var subpath, value, cb;\n  if (arguments.length === 1) {\n    value = arguments[0];\n  } else if (arguments.length === 2) {\n    subpath = arguments[0];\n    value = arguments[1];\n  } else {\n    subpath = arguments[0];\n    value = arguments[1];\n    cb = arguments[2];\n  }\n  var segments = this._splitPath(subpath);\n  return this._setDiff(segments, value, cb);\n};\nModel.prototype._setDiff = function(segments, value, cb) {\n  segments = this._dereference(segments);\n  var model = this;\n  function setDiff(doc, docSegments, fnCb) {\n    var previous = doc.get(docSegments);\n    if (util.equal(previous, value)) {\n      fnCb();\n      return previous;\n    }\n    doc.set(docSegments, value, fnCb);\n    model.emit('change', segments, [value, previous, model._pass]);\n    return previous;\n  }\n  return this._mutate(segments, setDiff, cb);\n};\n\nModel.prototype.setDiffDeep = function() {\n  var subpath, value, cb;\n  if (arguments.length === 1) {\n    value = arguments[0];\n  } else if (arguments.length === 2) {\n    subpath = arguments[0];\n    value = arguments[1];\n  } else {\n    subpath = arguments[0];\n    value = arguments[1];\n    cb = arguments[2];\n  }\n  var segments = this._splitPath(subpath);\n  return this._setDiffDeep(segments, value, cb);\n};\nModel.prototype._setDiffDeep = function(segments, value, cb) {\n  var before = this._get(segments);\n  cb = this.wrapCallback(cb);\n  var group = util.asyncGroup(cb);\n  var finished = group();\n  diffDeep(this, segments, before, value, group);\n  finished();\n};\nfunction diffDeep(model, segments, before, after, group) {\n  if (typeof before !== 'object' || !before ||\n      typeof after !== 'object' || !after) {\n    // Diff the entire value if not diffable objects\n    model._setDiff(segments, after, group());\n    return;\n  }\n  if (Array.isArray(before) && Array.isArray(after)) {\n    var diff = arrayDiff(before, after, util.deepEqual);\n    if (!diff.length) return;\n    // If the only change is a single item replacement, diff the item instead\n    if (\n      diff.length === 2 &&\n      diff[0].index === diff[1].index &&\n      diff[0] instanceof arrayDiff.RemoveDiff &&\n      diff[0].howMany === 1 &&\n      diff[1] instanceof arrayDiff.InsertDiff &&\n      diff[1].values.length === 1\n    ) {\n      var index = diff[0].index;\n      var itemSegments = segments.concat(index);\n      diffDeep(model, itemSegments, before[index], after[index], group);\n      return;\n    }\n    model._applyArrayDiff(segments, diff, group());\n    return;\n  }\n\n  // Delete keys that were in before but not after\n  for (var key in before) {\n    if (key in after) continue;\n    var itemSegments = segments.concat(key);\n    model._del(itemSegments, group());\n  }\n\n  // Diff each property in after\n  for (var key in after) {\n    if (util.deepEqual(before[key], after[key])) continue;\n    var itemSegments = segments.concat(key);\n    diffDeep(model, itemSegments, before[key], after[key], group);\n  }\n}\n\nModel.prototype.setArrayDiff = function() {\n  var subpath, value, cb;\n  if (arguments.length === 1) {\n    value = arguments[0];\n  } else if (arguments.length === 2) {\n    subpath = arguments[0];\n    value = arguments[1];\n  } else {\n    subpath = arguments[0];\n    value = arguments[1];\n    cb = arguments[2];\n  }\n  var segments = this._splitPath(subpath);\n  return this._setArrayDiff(segments, value, cb);\n};\nModel.prototype.setArrayDiffDeep = function() {\n  var subpath, value, cb;\n  if (arguments.length === 1) {\n    value = arguments[0];\n  } else if (arguments.length === 2) {\n    subpath = arguments[0];\n    value = arguments[1];\n  } else {\n    subpath = arguments[0];\n    value = arguments[1];\n    cb = arguments[2];\n  }\n  var segments = this._splitPath(subpath);\n  return this._setArrayDiffDeep(segments, value, cb);\n};\nModel.prototype._setArrayDiffDeep = function(segments, value, cb) {\n  return this._setArrayDiff(segments, value, cb, util.deepEqual);\n};\nModel.prototype._setArrayDiff = function(segments, value, cb, _equalFn) {\n  var before = this._get(segments);\n  if (before === value) return this.wrapCallback(cb)();\n  if (!Array.isArray(before) || !Array.isArray(value)) {\n    this._set(segments, value, cb);\n    return;\n  }\n  var diff = arrayDiff(before, value, _equalFn);\n  this._applyArrayDiff(segments, diff, cb);\n};\nModel.prototype._applyArrayDiff = function(segments, diff, cb) {\n  if (!diff.length) return this.wrapCallback(cb)();\n  segments = this._dereference(segments);\n  var model = this;\n  function applyArrayDiff(doc, docSegments, fnCb) {\n    var group = util.asyncGroup(fnCb);\n    for (var i = 0, len = diff.length; i < len; i++) {\n      var item = diff[i];\n      if (item instanceof arrayDiff.InsertDiff) {\n        // Insert\n        doc.insert(docSegments, item.index, item.values, group());\n        model.emit('insert', segments, [item.index, item.values, model._pass]);\n      } else if (item instanceof arrayDiff.RemoveDiff) {\n        // Remove\n        var removed = doc.remove(docSegments, item.index, item.howMany, group());\n        model.emit('remove', segments, [item.index, removed, model._pass]);\n      } else if (item instanceof arrayDiff.MoveDiff) {\n        // Move\n        var moved = doc.move(docSegments, item.from, item.to, item.howMany, group());\n        model.emit('move', segments, [item.from, item.to, moved.length, model._pass]);\n      }\n    }\n  }\n  return this._mutate(segments, applyArrayDiff, cb);\n};\n",
    "var EventEmitter = require('events').EventEmitter;\n\nexports.EventEmitter = EventEmitter;\nexports.mixin = mixin;\n\nfunction mixin(Constructor) {\n  for (var key in EventEmitter.prototype) {\n    Constructor.prototype[key] = EventEmitter.prototype[key];\n  }\n}\n",
    "var SUPPORTED_METHODS = [\n  'info',\n  'warn',\n  'error'\n];\n\nfunction Logger() {\n  var defaultMethods = {};\n  SUPPORTED_METHODS.forEach(function(method) {\n    // Deal with Chrome issue: https://bugs.chromium.org/p/chromium/issues/detail?id=179628\n    defaultMethods[method] = console[method].bind(console);\n  });\n  this.setMethods(defaultMethods);\n}\nmodule.exports = Logger;\n\nLogger.prototype.setMethods = function(overrides) {\n  overrides = overrides || {};\n  var logger = this;\n\n  SUPPORTED_METHODS.forEach(function(method) {\n    if (typeof overrides[method] === 'function') {\n      logger[method] = overrides[method];\n    }\n  });\n};\n",
    "var Logger = require('./logger');\nvar logger = new Logger();\nmodule.exports = logger;\n",
    "function ShareDBError(code, message) {\n  this.code = code;\n  this.message = message || '';\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, ShareDBError);\n  } else {\n    this.stack = new Error().stack;\n  }\n}\n\nShareDBError.prototype = Object.create(Error.prototype);\nShareDBError.prototype.constructor = ShareDBError;\nShareDBError.prototype.name = 'ShareDBError';\n\nShareDBError.CODES = {\n  ERR_APPLY_OP_VERSION_DOES_NOT_MATCH_SNAPSHOT: 'ERR_APPLY_OP_VERSION_DOES_NOT_MATCH_SNAPSHOT',\n  ERR_APPLY_SNAPSHOT_NOT_PROVIDED: 'ERR_APPLY_SNAPSHOT_NOT_PROVIDED',\n  ERR_CLIENT_ID_BADLY_FORMED: 'ERR_CLIENT_ID_BADLY_FORMED',\n  ERR_CONNECTION_STATE_TRANSITION_INVALID: 'ERR_CONNECTION_STATE_TRANSITION_INVALID',\n  ERR_DATABASE_ADAPTER_NOT_FOUND: 'ERR_DATABASE_ADAPTER_NOT_FOUND',\n  ERR_DATABASE_DOES_NOT_SUPPORT_SUBSCRIBE: 'ERR_DATABASE_DOES_NOT_SUPPORT_SUBSCRIBE',\n  ERR_DATABASE_METHOD_NOT_IMPLEMENTED: 'ERR_DATABASE_METHOD_NOT_IMPLEMENTED',\n  ERR_DEFAULT_TYPE_MISMATCH: 'ERR_DEFAULT_TYPE_MISMATCH',\n  ERR_DOC_MISSING_VERSION: 'ERR_DOC_MISSING_VERSION',\n  ERR_DOC_ALREADY_CREATED: 'ERR_DOC_ALREADY_CREATED',\n  ERR_DOC_DOES_NOT_EXIST: 'ERR_DOC_DOES_NOT_EXIST',\n  ERR_DOC_TYPE_NOT_RECOGNIZED: 'ERR_DOC_TYPE_NOT_RECOGNIZED',\n  ERR_DOC_WAS_DELETED: 'ERR_DOC_WAS_DELETED',\n  ERR_INFLIGHT_OP_MISSING: 'ERR_INFLIGHT_OP_MISSING',\n  ERR_INGESTED_SNAPSHOT_HAS_NO_VERSION: 'ERR_INGESTED_SNAPSHOT_HAS_NO_VERSION',\n  ERR_MAX_SUBMIT_RETRIES_EXCEEDED: 'ERR_MAX_SUBMIT_RETRIES_EXCEEDED',\n  ERR_MESSAGE_BADLY_FORMED: 'ERR_MESSAGE_BADLY_FORMED',\n  ERR_MILESTONE_ARGUMENT_INVALID: 'ERR_MILESTONE_ARGUMENT_INVALID',\n  ERR_OP_ALREADY_SUBMITTED: 'ERR_OP_ALREADY_SUBMITTED',\n  ERR_OP_NOT_ALLOWED_IN_PROJECTION: 'ERR_OP_NOT_ALLOWED_IN_PROJECTION',\n  ERR_OP_SUBMIT_REJECTED: 'ERR_OP_SUBMIT_REJECTED',\n  ERR_OP_VERSION_MISMATCH_AFTER_TRANSFORM: 'ERR_OP_VERSION_MISMATCH_AFTER_TRANSFORM',\n  ERR_OP_VERSION_MISMATCH_DURING_TRANSFORM: 'ERR_OP_VERSION_MISMATCH_DURING_TRANSFORM',\n  ERR_OP_VERSION_NEWER_THAN_CURRENT_SNAPSHOT: 'ERR_OP_VERSION_NEWER_THAN_CURRENT_SNAPSHOT',\n  ERR_OT_OP_BADLY_FORMED: 'ERR_OT_OP_BADLY_FORMED',\n  ERR_OT_OP_NOT_PROVIDED: 'ERR_OT_OP_NOT_PROVIDED',\n  ERR_PROTOCOL_VERSION_NOT_SUPPORTED: 'ERR_PROTOCOL_VERSION_NOT_SUPPORTED',\n  ERR_QUERY_EMITTER_LISTENER_NOT_ASSIGNED: 'ERR_QUERY_EMITTER_LISTENER_NOT_ASSIGNED',\n  /**\n   * A special error that a \"readSnapshots\" middleware implementation can use to indicate that it\n   * wishes for the ShareDB client to treat it as a silent rejection, not passing the error back to\n   * user code.\n   *\n   * For subscribes, the ShareDB client will still cancel the document subscription.\n   */\n  ERR_SNAPSHOT_READ_SILENT_REJECTION: 'ERR_SNAPSHOT_READ_SILENT_REJECTION',\n  /**\n   * A \"readSnapshots\" middleware rejected the reads of specific snapshots.\n   *\n   * This error code is mostly for server use and generally will not be encountered on the client.\n   * Instead, each specific doc that encountered an error will receive its specific error.\n   *\n   * The one exception is for queries, where a \"readSnapshots\" rejection of specific snapshots will\n   * cause the client to receive this error for the whole query, since queries don't support\n   * doc-specific errors.\n   */\n  ERR_SNAPSHOT_READS_REJECTED: 'ERR_SNAPSHOT_READS_REJECTED',\n  ERR_SUBMIT_TRANSFORM_OPS_NOT_FOUND: 'ERR_SUBMIT_TRANSFORM_OPS_NOT_FOUND',\n  ERR_TYPE_CANNOT_BE_PROJECTED: 'ERR_TYPE_CANNOT_BE_PROJECTED',\n  ERR_UNKNOWN_ERROR: 'ERR_UNKNOWN_ERROR'\n};\n\nmodule.exports = ShareDBError;\n",
    "// These methods let you build a transform function from a transformComponent\n// function for OT types like JSON0 in which operations are lists of components\n// and transforming them requires N^2 work. I find it kind of nasty that I need\n// this, but I'm not really sure what a better solution is. Maybe I should do\n// this automatically to types that don't have a compose function defined.\n\n// Add transform and transformX functions for an OT type which has\n// transformComponent defined.  transformComponent(destination array,\n// component, other component, side)\nmodule.exports = bootstrapTransform\nfunction bootstrapTransform(type, transformComponent, checkValidOp, append) {\n  var transformComponentX = function(left, right, destLeft, destRight) {\n    transformComponent(destLeft, left, right, 'left');\n    transformComponent(destRight, right, left, 'right');\n  };\n\n  var transformX = type.transformX = function(leftOp, rightOp) {\n    checkValidOp(leftOp);\n    checkValidOp(rightOp);\n    var newRightOp = [];\n\n    for (var i = 0; i < rightOp.length; i++) {\n      var rightComponent = rightOp[i];\n\n      // Generate newLeftOp by composing leftOp by rightComponent\n      var newLeftOp = [];\n      var k = 0;\n      while (k < leftOp.length) {\n        var nextC = [];\n        transformComponentX(leftOp[k], rightComponent, newLeftOp, nextC);\n        k++;\n\n        if (nextC.length === 1) {\n          rightComponent = nextC[0];\n        } else if (nextC.length === 0) {\n          for (var j = k; j < leftOp.length; j++) {\n            append(newLeftOp, leftOp[j]);\n          }\n          rightComponent = null;\n          break;\n        } else {\n          // Recurse.\n          var pair = transformX(leftOp.slice(k), nextC);\n          for (var l = 0; l < pair[0].length; l++) {\n            append(newLeftOp, pair[0][l]);\n          }\n          for (var r = 0; r < pair[1].length; r++) {\n            append(newRightOp, pair[1][r]);\n          }\n          rightComponent = null;\n          break;\n        }\n      }\n\n      if (rightComponent != null) {\n        append(newRightOp, rightComponent);\n      }\n      leftOp = newLeftOp;\n    }\n    return [leftOp, newRightOp];\n  };\n\n  // Transforms op with specified type ('left' or 'right') by otherOp.\n  type.transform = function(op, otherOp, type) {\n    if (!(type === 'left' || type === 'right'))\n      throw new Error(\"type must be 'left' or 'right'\");\n\n    if (otherOp.length === 0) return op;\n\n    if (op.length === 1 && otherOp.length === 1)\n      return transformComponent([], op[0], otherOp[0], type);\n\n    if (type === 'left')\n      return transformX(op, otherOp)[0];\n    else\n      return transformX(otherOp, op)[1];\n  };\n};\n",
    "// DEPRECATED!\n//\n// This type works, but is not exported. Its included here because the JSON0\n// embedded string operations use this library.\n\n\n// A simple text implementation\n//\n// Operations are lists of components. Each component either inserts or deletes\n// at a specified position in the document.\n//\n// Components are either:\n//  {i:'str', p:100}: Insert 'str' at position 100 in the document\n//  {d:'str', p:100}: Delete 'str' at position 100 in the document\n//\n// Components in an operation are executed sequentially, so the position of components\n// assumes previous components have already executed.\n//\n// Eg: This op:\n//   [{i:'abc', p:0}]\n// is equivalent to this op:\n//   [{i:'a', p:0}, {i:'b', p:1}, {i:'c', p:2}]\n\nvar text = module.exports = {\n  name: 'text0',\n  uri: 'http://sharejs.org/types/textv0',\n  create: function(initial) {\n    if ((initial != null) && typeof initial !== 'string') {\n      throw new Error('Initial data must be a string');\n    }\n    return initial || '';\n  }\n};\n\n/** Insert s2 into s1 at pos. */\nvar strInject = function(s1, pos, s2) {\n  return s1.slice(0, pos) + s2 + s1.slice(pos);\n};\n\n/** Check that an operation component is valid. Throws if its invalid. */\nvar checkValidComponent = function(c) {\n  if (typeof c.p !== 'number')\n    throw new Error('component missing position field');\n\n  if ((typeof c.i === 'string') === (typeof c.d === 'string'))\n    throw new Error('component needs an i or d field');\n\n  if (c.p < 0)\n    throw new Error('position cannot be negative');\n};\n\n/** Check that an operation is valid */\nvar checkValidOp = function(op) {\n  for (var i = 0; i < op.length; i++) {\n    checkValidComponent(op[i]);\n  }\n};\n\n/** Apply op to snapshot */\ntext.apply = function(snapshot, op) {\n  var deleted;\n\n  checkValidOp(op);\n  for (var i = 0; i < op.length; i++) {\n    var component = op[i];\n    if (component.i != null) {\n      snapshot = strInject(snapshot, component.p, component.i);\n    } else {\n      deleted = snapshot.slice(component.p, component.p + component.d.length);\n      if (component.d !== deleted)\n        throw new Error(\"Delete component '\" + component.d + \"' does not match deleted text '\" + deleted + \"'\");\n\n      snapshot = snapshot.slice(0, component.p) + snapshot.slice(component.p + component.d.length);\n    }\n  }\n  return snapshot;\n};\n\n/**\n * Append a component to the end of newOp. Exported for use by the random op\n * generator and the JSON0 type.\n */\nvar append = text._append = function(newOp, c) {\n  if (c.i === '' || c.d === '') return;\n\n  if (newOp.length === 0) {\n    newOp.push(c);\n  } else {\n    var last = newOp[newOp.length - 1];\n\n    if (last.i != null && c.i != null && last.p <= c.p && c.p <= last.p + last.i.length) {\n      // Compose the insert into the previous insert\n      newOp[newOp.length - 1] = {i:strInject(last.i, c.p - last.p, c.i), p:last.p};\n\n    } else if (last.d != null && c.d != null && c.p <= last.p && last.p <= c.p + c.d.length) {\n      // Compose the deletes together\n      newOp[newOp.length - 1] = {d:strInject(c.d, last.p - c.p, last.d), p:c.p};\n\n    } else {\n      newOp.push(c);\n    }\n  }\n};\n\n/** Compose op1 and op2 together */\ntext.compose = function(op1, op2) {\n  checkValidOp(op1);\n  checkValidOp(op2);\n  var newOp = op1.slice();\n  for (var i = 0; i < op2.length; i++) {\n    append(newOp, op2[i]);\n  }\n  return newOp;\n};\n\n/** Clean up an op */\ntext.normalize = function(op) {\n  var newOp = [];\n\n  // Normalize should allow ops which are a single (unwrapped) component:\n  // {i:'asdf', p:23}.\n  // There's no good way to test if something is an array:\n  // http://perfectionkills.com/instanceof-considered-harmful-or-how-to-write-a-robust-isarray/\n  // so this is probably the least bad solution.\n  if (op.i != null || op.p != null) op = [op];\n\n  for (var i = 0; i < op.length; i++) {\n    var c = op[i];\n    if (c.p == null) c.p = 0;\n\n    append(newOp, c);\n  }\n\n  return newOp;\n};\n\n// This helper method transforms a position by an op component.\n//\n// If c is an insert, insertAfter specifies whether the transform\n// is pushed after the insert (true) or before it (false).\n//\n// insertAfter is optional for deletes.\nvar transformPosition = function(pos, c, insertAfter) {\n  // This will get collapsed into a giant ternary by uglify.\n  if (c.i != null) {\n    if (c.p < pos || (c.p === pos && insertAfter)) {\n      return pos + c.i.length;\n    } else {\n      return pos;\n    }\n  } else {\n    // I think this could also be written as: Math.min(c.p, Math.min(c.p -\n    // otherC.p, otherC.d.length)) but I think its harder to read that way, and\n    // it compiles using ternary operators anyway so its no slower written like\n    // this.\n    if (pos <= c.p) {\n      return pos;\n    } else if (pos <= c.p + c.d.length) {\n      return c.p;\n    } else {\n      return pos - c.d.length;\n    }\n  }\n};\n\n// Helper method to transform a cursor position as a result of an op.\n//\n// Like transformPosition above, if c is an insert, insertAfter specifies\n// whether the cursor position is pushed after an insert (true) or before it\n// (false).\ntext.transformCursor = function(position, op, side) {\n  var insertAfter = side === 'right';\n  for (var i = 0; i < op.length; i++) {\n    position = transformPosition(position, op[i], insertAfter);\n  }\n\n  return position;\n};\n\n// Transform an op component by another op component. Asymmetric.\n// The result will be appended to destination.\n//\n// exported for use in JSON type\nvar transformComponent = text._tc = function(dest, c, otherC, side) {\n  //var cIntersect, intersectEnd, intersectStart, newC, otherIntersect, s;\n\n  checkValidComponent(c);\n  checkValidComponent(otherC);\n\n  if (c.i != null) {\n    // Insert.\n    append(dest, {i:c.i, p:transformPosition(c.p, otherC, side === 'right')});\n  } else {\n    // Delete\n    if (otherC.i != null) {\n      // Delete vs insert\n      var s = c.d;\n      if (c.p < otherC.p) {\n        append(dest, {d:s.slice(0, otherC.p - c.p), p:c.p});\n        s = s.slice(otherC.p - c.p);\n      }\n      if (s !== '')\n        append(dest, {d: s, p: c.p + otherC.i.length});\n\n    } else {\n      // Delete vs delete\n      if (c.p >= otherC.p + otherC.d.length)\n        append(dest, {d: c.d, p: c.p - otherC.d.length});\n      else if (c.p + c.d.length <= otherC.p)\n        append(dest, c);\n      else {\n        // They overlap somewhere.\n        var newC = {d: '', p: c.p};\n\n        if (c.p < otherC.p)\n          newC.d = c.d.slice(0, otherC.p - c.p);\n\n        if (c.p + c.d.length > otherC.p + otherC.d.length)\n          newC.d += c.d.slice(otherC.p + otherC.d.length - c.p);\n\n        // This is entirely optional - I'm just checking the deleted text in\n        // the two ops matches\n        var intersectStart = Math.max(c.p, otherC.p);\n        var intersectEnd = Math.min(c.p + c.d.length, otherC.p + otherC.d.length);\n        var cIntersect = c.d.slice(intersectStart - c.p, intersectEnd - c.p);\n        var otherIntersect = otherC.d.slice(intersectStart - otherC.p, intersectEnd - otherC.p);\n        if (cIntersect !== otherIntersect)\n          throw new Error('Delete ops delete different text in the same region of the document');\n\n        if (newC.d !== '') {\n          newC.p = transformPosition(newC.p, otherC);\n          append(dest, newC);\n        }\n      }\n    }\n  }\n\n  return dest;\n};\n\nvar invertComponent = function(c) {\n  return (c.i != null) ? {d:c.i, p:c.p} : {i:c.d, p:c.p};\n};\n\n// No need to use append for invert, because the components won't be able to\n// cancel one another.\ntext.invert = function(op) {\n  // Shallow copy & reverse that sucka.\n  op = op.slice().reverse();\n  for (var i = 0; i < op.length; i++) {\n    op[i] = invertComponent(op[i]);\n  }\n  return op;\n};\n\nrequire('./bootstrapTransform')(text, transformComponent, checkValidOp, append);\n",
    "/*\n This is the implementation of the JSON OT type.\n\n Spec is here: https://github.com/josephg/ShareJS/wiki/JSON-Operations\n\n Note: This is being made obsolete. It will soon be replaced by the JSON2 type.\n*/\n\n/**\n * UTILITY FUNCTIONS\n */\n\n/**\n * Checks if the passed object is an Array instance. Can't use Array.isArray\n * yet because its not supported on IE8.\n *\n * @param obj\n * @returns {boolean}\n */\nvar isArray = function(obj) {\n  return Object.prototype.toString.call(obj) == '[object Array]';\n};\n\n/**\n * Checks if the passed object is an Object instance.\n * No function call (fast) version\n *\n * @param obj\n * @returns {boolean}\n */\nvar isObject = function(obj) {\n  return (!!obj) && (obj.constructor === Object);\n};\n\n/**\n * Clones the passed object using JSON serialization (which is slow).\n *\n * hax, copied from test/types/json. Apparently this is still the fastest way\n * to deep clone an object, assuming we have browser support for JSON.  @see\n * http://jsperf.com/cloning-an-object/12\n */\nvar clone = function(o) {\n  return JSON.parse(JSON.stringify(o));\n};\n\n/**\n * JSON OT Type\n * @type {*}\n */\nvar json = {\n  name: 'json0',\n  uri: 'http://sharejs.org/types/JSONv0'\n};\n\n// You can register another OT type as a subtype in a JSON document using\n// the following function. This allows another type to handle certain\n// operations instead of the builtin JSON type.\nvar subtypes = {};\njson.registerSubtype = function(subtype) {\n  subtypes[subtype.name] = subtype;\n};\n\njson.create = function(data) {\n  // Null instead of undefined if you don't pass an argument.\n  return data === undefined ? null : clone(data);\n};\n\njson.invertComponent = function(c) {\n  var c_ = {p: c.p};\n\n  // handle subtype ops\n  if (c.t && subtypes[c.t]) {\n    c_.t = c.t;\n    c_.o = subtypes[c.t].invert(c.o);\n  }\n\n  if (c.si !== void 0) c_.sd = c.si;\n  if (c.sd !== void 0) c_.si = c.sd;\n  if (c.oi !== void 0) c_.od = c.oi;\n  if (c.od !== void 0) c_.oi = c.od;\n  if (c.li !== void 0) c_.ld = c.li;\n  if (c.ld !== void 0) c_.li = c.ld;\n  if (c.na !== void 0) c_.na = -c.na;\n\n  if (c.lm !== void 0) {\n    c_.lm = c.p[c.p.length-1];\n    c_.p = c.p.slice(0,c.p.length-1).concat([c.lm]);\n  }\n\n  return c_;\n};\n\njson.invert = function(op) {\n  var op_ = op.slice().reverse();\n  var iop = [];\n  for (var i = 0; i < op_.length; i++) {\n    iop.push(json.invertComponent(op_[i]));\n  }\n  return iop;\n};\n\njson.checkValidOp = function(op) {\n  for (var i = 0; i < op.length; i++) {\n    if (!isArray(op[i].p)) throw new Error('Missing path');\n  }\n};\n\njson.checkList = function(elem) {\n  if (!isArray(elem))\n    throw new Error('Referenced element not a list');\n};\n\njson.checkObj = function(elem) {\n  if (!isObject(elem)) {\n    throw new Error(\"Referenced element not an object (it was \" + JSON.stringify(elem) + \")\");\n  }\n};\n\n// helper functions to convert old string ops to and from subtype ops\nfunction convertFromText(c) {\n  c.t = 'text0';\n  var o = {p: c.p.pop()};\n  if (c.si != null) o.i = c.si;\n  if (c.sd != null) o.d = c.sd;\n  c.o = [o];\n}\n\nfunction convertToText(c) {\n  c.p.push(c.o[0].p);\n  if (c.o[0].i != null) c.si = c.o[0].i;\n  if (c.o[0].d != null) c.sd = c.o[0].d;\n  delete c.t;\n  delete c.o;\n}\n\njson.apply = function(snapshot, op) {\n  json.checkValidOp(op);\n\n  op = clone(op);\n\n  var container = {\n    data: snapshot\n  };\n\n  for (var i = 0; i < op.length; i++) {\n    var c = op[i];\n\n    // convert old string ops to use subtype for backwards compatibility\n    if (c.si != null || c.sd != null)\n      convertFromText(c);\n\n    var parent = null;\n    var parentKey = null;\n    var elem = container;\n    var key = 'data';\n\n    for (var j = 0; j < c.p.length; j++) {\n      var p = c.p[j];\n\n      parent = elem;\n      parentKey = key;\n      elem = elem[key];\n      key = p;\n\n      if (parent == null)\n        throw new Error('Path invalid');\n    }\n\n    // handle subtype ops\n    if (c.t && c.o !== void 0 && subtypes[c.t]) {\n      elem[key] = subtypes[c.t].apply(elem[key], c.o);\n\n    // Number add\n    } else if (c.na !== void 0) {\n      if (typeof elem[key] != 'number')\n        throw new Error('Referenced element not a number');\n\n      elem[key] += c.na;\n    }\n\n    // List replace\n    else if (c.li !== void 0 && c.ld !== void 0) {\n      json.checkList(elem);\n      // Should check the list element matches c.ld\n      elem[key] = c.li;\n    }\n\n    // List insert\n    else if (c.li !== void 0) {\n      json.checkList(elem);\n      elem.splice(key,0, c.li);\n    }\n\n    // List delete\n    else if (c.ld !== void 0) {\n      json.checkList(elem);\n      // Should check the list element matches c.ld here too.\n      elem.splice(key,1);\n    }\n\n    // List move\n    else if (c.lm !== void 0) {\n      json.checkList(elem);\n      if (c.lm != key) {\n        var e = elem[key];\n        // Remove it...\n        elem.splice(key,1);\n        // And insert it back.\n        elem.splice(c.lm,0,e);\n      }\n    }\n\n    // Object insert / replace\n    else if (c.oi !== void 0) {\n      json.checkObj(elem);\n\n      // Should check that elem[key] == c.od\n      elem[key] = c.oi;\n    }\n\n    // Object delete\n    else if (c.od !== void 0) {\n      json.checkObj(elem);\n\n      // Should check that elem[key] == c.od\n      delete elem[key];\n    }\n\n    else {\n      throw new Error('invalid / missing instruction in op');\n    }\n  }\n\n  return container.data;\n};\n\n// Helper to break an operation up into a bunch of small ops.\njson.shatter = function(op) {\n  var results = [];\n  for (var i = 0; i < op.length; i++) {\n    results.push([op[i]]);\n  }\n  return results;\n};\n\n// Helper for incrementally applying an operation to a snapshot. Calls yield\n// after each op component has been applied.\njson.incrementalApply = function(snapshot, op, _yield) {\n  for (var i = 0; i < op.length; i++) {\n    var smallOp = [op[i]];\n    snapshot = json.apply(snapshot, smallOp);\n    // I'd just call this yield, but thats a reserved keyword. Bah!\n    _yield(smallOp, snapshot);\n  }\n\n  return snapshot;\n};\n\n// Checks if two paths, p1 and p2 match.\nvar pathMatches = json.pathMatches = function(p1, p2, ignoreLast) {\n  if (p1.length != p2.length)\n    return false;\n\n  for (var i = 0; i < p1.length; i++) {\n    if (p1[i] !== p2[i] && (!ignoreLast || i !== p1.length - 1))\n      return false;\n  }\n\n  return true;\n};\n\njson.append = function(dest,c) {\n  c = clone(c);\n\n  if (dest.length === 0) {\n    dest.push(c);\n    return;\n  }\n\n  var last = dest[dest.length - 1];\n\n  // convert old string ops to use subtype for backwards compatibility\n  if ((c.si != null || c.sd != null) && (last.si != null || last.sd != null)) {\n    convertFromText(c);\n    convertFromText(last);\n  }\n\n  if (pathMatches(c.p, last.p)) {\n    // handle subtype ops\n    if (c.t && last.t && c.t === last.t && subtypes[c.t]) {\n      last.o = subtypes[c.t].compose(last.o, c.o);\n\n      // convert back to old string ops\n      if (c.si != null || c.sd != null) {\n        var p = c.p;\n        for (var i = 0; i < last.o.length - 1; i++) {\n          c.o = [last.o.pop()];\n          c.p = p.slice();\n          convertToText(c);\n          dest.push(c);\n        }\n\n        convertToText(last);\n      }\n    } else if (last.na != null && c.na != null) {\n      dest[dest.length - 1] = {p: last.p, na: last.na + c.na};\n    } else if (last.li !== undefined && c.li === undefined && c.ld === last.li) {\n      // insert immediately followed by delete becomes a noop.\n      if (last.ld !== undefined) {\n        // leave the delete part of the replace\n        delete last.li;\n      } else {\n        dest.pop();\n      }\n    } else if (last.od !== undefined && last.oi === undefined && c.oi !== undefined && c.od === undefined) {\n      last.oi = c.oi;\n    } else if (last.oi !== undefined && c.od !== undefined) {\n      // The last path component inserted something that the new component deletes (or replaces).\n      // Just merge them.\n      if (c.oi !== undefined) {\n        last.oi = c.oi;\n      } else if (last.od !== undefined) {\n        delete last.oi;\n      } else {\n        // An insert directly followed by a delete turns into a no-op and can be removed.\n        dest.pop();\n      }\n    } else if (c.lm !== undefined && c.p[c.p.length - 1] === c.lm) {\n      // don't do anything\n    } else {\n      dest.push(c);\n    }\n  } else {\n    // convert string ops back\n    if ((c.si != null || c.sd != null) && (last.si != null || last.sd != null)) {\n      convertToText(c);\n      convertToText(last);\n    }\n\n    dest.push(c);\n  }\n};\n\njson.compose = function(op1,op2) {\n  json.checkValidOp(op1);\n  json.checkValidOp(op2);\n\n  var newOp = clone(op1);\n\n  for (var i = 0; i < op2.length; i++) {\n    json.append(newOp,op2[i]);\n  }\n\n  return newOp;\n};\n\njson.normalize = function(op) {\n  var newOp = [];\n\n  op = isArray(op) ? op : [op];\n\n  for (var i = 0; i < op.length; i++) {\n    var c = op[i];\n    if (c.p == null) c.p = [];\n\n    json.append(newOp,c);\n  }\n\n  return newOp;\n};\n\n// Returns the common length of the paths of ops a and b\njson.commonLengthForOps = function(a, b) {\n  var alen = a.p.length;\n  var blen = b.p.length;\n  if (a.na != null || a.t)\n    alen++;\n\n  if (b.na != null || b.t)\n    blen++;\n\n  if (alen === 0) return -1;\n  if (blen === 0) return null;\n\n  alen--;\n  blen--;\n\n  for (var i = 0; i < alen; i++) {\n    var p = a.p[i];\n    if (i >= blen || p !== b.p[i])\n      return null;\n  }\n\n  return alen;\n};\n\n// Returns true if an op can affect the given path\njson.canOpAffectPath = function(op, path) {\n  return json.commonLengthForOps({p:path}, op) != null;\n};\n\n// transform c so it applies to a document with otherC applied.\njson.transformComponent = function(dest, c, otherC, type) {\n  c = clone(c);\n\n  var common = json.commonLengthForOps(otherC, c);\n  var common2 = json.commonLengthForOps(c, otherC);\n  var cplength = c.p.length;\n  var otherCplength = otherC.p.length;\n\n  if (c.na != null || c.t)\n    cplength++;\n\n  if (otherC.na != null || otherC.t)\n    otherCplength++;\n\n  // if c is deleting something, and that thing is changed by otherC, we need to\n  // update c to reflect that change for invertibility.\n  if (common2 != null && otherCplength > cplength && c.p[common2] == otherC.p[common2]) {\n    if (c.ld !== void 0) {\n      var oc = clone(otherC);\n      oc.p = oc.p.slice(cplength);\n      c.ld = json.apply(clone(c.ld),[oc]);\n    } else if (c.od !== void 0) {\n      var oc = clone(otherC);\n      oc.p = oc.p.slice(cplength);\n      c.od = json.apply(clone(c.od),[oc]);\n    }\n  }\n\n  if (common != null) {\n    var commonOperand = cplength == otherCplength;\n\n    // backward compatibility for old string ops\n    var oc = otherC;\n    if ((c.si != null || c.sd != null) && (otherC.si != null || otherC.sd != null)) {\n      convertFromText(c);\n      oc = clone(otherC);\n      convertFromText(oc);\n    }\n\n    // handle subtype ops\n    if (oc.t && subtypes[oc.t]) {\n      if (c.t && c.t === oc.t) {\n        var res = subtypes[c.t].transform(c.o, oc.o, type);\n\n        // convert back to old string ops\n        if (c.si != null || c.sd != null) {\n          var p = c.p;\n          for (var i = 0; i < res.length; i++) {\n            c.o = [res[i]];\n            c.p = p.slice();\n            convertToText(c);\n            json.append(dest, c);\n          }\n        } else if (!isArray(res) || res.length > 0) {\n          c.o = res;\n          json.append(dest, c);\n        }\n\n        return dest;\n      }\n    }\n\n    // transform based on otherC\n    else if (otherC.na !== void 0) {\n      // this case is handled below\n    } else if (otherC.li !== void 0 && otherC.ld !== void 0) {\n      if (otherC.p[common] === c.p[common]) {\n        // noop\n\n        if (!commonOperand) {\n          return dest;\n        } else if (c.ld !== void 0) {\n          // we're trying to delete the same element, -> noop\n          if (c.li !== void 0 && type === 'left') {\n            // we're both replacing one element with another. only one can survive\n            c.ld = clone(otherC.li);\n          } else {\n            return dest;\n          }\n        }\n      }\n    } else if (otherC.li !== void 0) {\n      if (c.li !== void 0 && c.ld === undefined && commonOperand && c.p[common] === otherC.p[common]) {\n        // in li vs. li, left wins.\n        if (type === 'right')\n          c.p[common]++;\n      } else if (otherC.p[common] <= c.p[common]) {\n        c.p[common]++;\n      }\n\n      if (c.lm !== void 0) {\n        if (commonOperand) {\n          // otherC edits the same list we edit\n          if (otherC.p[common] <= c.lm)\n            c.lm++;\n          // changing c.from is handled above.\n        }\n      }\n    } else if (otherC.ld !== void 0) {\n      if (c.lm !== void 0) {\n        if (commonOperand) {\n          if (otherC.p[common] === c.p[common]) {\n            // they deleted the thing we're trying to move\n            return dest;\n          }\n          // otherC edits the same list we edit\n          var p = otherC.p[common];\n          var from = c.p[common];\n          var to = c.lm;\n          if (p < to || (p === to && from < to))\n            c.lm--;\n\n        }\n      }\n\n      if (otherC.p[common] < c.p[common]) {\n        c.p[common]--;\n      } else if (otherC.p[common] === c.p[common]) {\n        if (otherCplength < cplength) {\n          // we're below the deleted element, so -> noop\n          return dest;\n        } else if (c.ld !== void 0) {\n          if (c.li !== void 0) {\n            // we're replacing, they're deleting. we become an insert.\n            delete c.ld;\n          } else {\n            // we're trying to delete the same element, -> noop\n            return dest;\n          }\n        }\n      }\n\n    } else if (otherC.lm !== void 0) {\n      if (c.lm !== void 0 && cplength === otherCplength) {\n        // lm vs lm, here we go!\n        var from = c.p[common];\n        var to = c.lm;\n        var otherFrom = otherC.p[common];\n        var otherTo = otherC.lm;\n        if (otherFrom !== otherTo) {\n          // if otherFrom == otherTo, we don't need to change our op.\n\n          // where did my thing go?\n          if (from === otherFrom) {\n            // they moved it! tie break.\n            if (type === 'left') {\n              c.p[common] = otherTo;\n              if (from === to) // ugh\n                c.lm = otherTo;\n            } else {\n              return dest;\n            }\n          } else {\n            // they moved around it\n            if (from > otherFrom) c.p[common]--;\n            if (from > otherTo) c.p[common]++;\n            else if (from === otherTo) {\n              if (otherFrom > otherTo) {\n                c.p[common]++;\n                if (from === to) // ugh, again\n                  c.lm++;\n              }\n            }\n\n            // step 2: where am i going to put it?\n            if (to > otherFrom) {\n              c.lm--;\n            } else if (to === otherFrom) {\n              if (to > from)\n                c.lm--;\n            }\n            if (to > otherTo) {\n              c.lm++;\n            } else if (to === otherTo) {\n              // if we're both moving in the same direction, tie break\n              if ((otherTo > otherFrom && to > from) ||\n                  (otherTo < otherFrom && to < from)) {\n                if (type === 'right') c.lm++;\n              } else {\n                if (to > from) c.lm++;\n                else if (to === otherFrom) c.lm--;\n              }\n            }\n          }\n        }\n      } else if (c.li !== void 0 && c.ld === undefined && commonOperand) {\n        // li\n        var from = otherC.p[common];\n        var to = otherC.lm;\n        p = c.p[common];\n        if (p > from) c.p[common]--;\n        if (p > to) c.p[common]++;\n      } else {\n        // ld, ld+li, si, sd, na, oi, od, oi+od, any li on an element beneath\n        // the lm\n        //\n        // i.e. things care about where their item is after the move.\n        var from = otherC.p[common];\n        var to = otherC.lm;\n        p = c.p[common];\n        if (p === from) {\n          c.p[common] = to;\n        } else {\n          if (p > from) c.p[common]--;\n          if (p > to) c.p[common]++;\n          else if (p === to && from > to) c.p[common]++;\n        }\n      }\n    }\n    else if (otherC.oi !== void 0 && otherC.od !== void 0) {\n      if (c.p[common] === otherC.p[common]) {\n        if (c.oi !== void 0 && commonOperand) {\n          // we inserted where someone else replaced\n          if (type === 'right') {\n            // left wins\n            return dest;\n          } else {\n            // we win, make our op replace what they inserted\n            c.od = otherC.oi;\n          }\n        } else {\n          // -> noop if the other component is deleting the same object (or any parent)\n          return dest;\n        }\n      }\n    } else if (otherC.oi !== void 0) {\n      if (c.oi !== void 0 && c.p[common] === otherC.p[common]) {\n        // left wins if we try to insert at the same place\n        if (type === 'left') {\n          json.append(dest,{p: c.p, od:otherC.oi});\n        } else {\n          return dest;\n        }\n      }\n    } else if (otherC.od !== void 0) {\n      if (c.p[common] == otherC.p[common]) {\n        if (!commonOperand)\n          return dest;\n        if (c.oi !== void 0) {\n          delete c.od;\n        } else {\n          return dest;\n        }\n      }\n    }\n  }\n\n  json.append(dest,c);\n  return dest;\n};\n\nrequire('./bootstrapTransform')(json, json.transformComponent, json.checkValidOp, json.append);\n\n/**\n * Register a subtype for string operations, using the text0 type.\n */\nvar text = require('./text0');\n\njson.registerSubtype(text);\nmodule.exports = json;\n\n",
    "// Only the JSON type is exported, because the text type is deprecated\n// otherwise. (If you want to use it somewhere, you're welcome to pull it out\n// into a separate module that json0 can depend on).\n\nmodule.exports = {\n  type: require('./json0')\n};\n",
    "\nexports.defaultType = require('ot-json0').type;\n\nexports.map = {};\n\nexports.register = function(type) {\n  if (type.name) exports.map[type.name] = type;\n  if (type.uri) exports.map[type.uri] = type;\n};\n\nexports.register(exports.defaultType);\n",
    "var emitter = require('../emitter');\nvar logger = require('../logger');\nvar ShareDBError = require('../error');\nvar types = require('../types');\n\nvar ERROR_CODE = ShareDBError.CODES;\n\n/**\n * A Doc is a client's view on a sharejs document.\n *\n * It is is uniquely identified by its `id` and `collection`.  Documents\n * should not be created directly. Create them with connection.get()\n *\n *\n * Subscriptions\n * -------------\n *\n * We can subscribe a document to stay in sync with the server.\n *   doc.subscribe(function(error) {\n *     doc.subscribed // = true\n *   })\n * The server now sends us all changes concerning this document and these are\n * applied to our data. If the subscription was successful the initial\n * data and version sent by the server are loaded into the document.\n *\n * To stop listening to the changes we call `doc.unsubscribe()`.\n *\n * If we just want to load the data but not stay up-to-date, we call\n *   doc.fetch(function(error) {\n *     doc.data // sent by server\n *   })\n *\n *\n * Events\n * ------\n *\n * You can use doc.on(eventName, callback) to subscribe to the following events:\n * - `before op (op, source)` Fired before a partial operation is applied to the data.\n *   It may be used to read the old data just before applying an operation\n * - `op (op, source)` Fired after every partial operation with this operation as the\n *   first argument\n * - `create (source)` The document was created. That means its type was\n *   set and it has some initial data.\n * - `del (data, source)` Fired after the document is deleted, that is\n *   the data is null. It is passed the data before delteion as an\n *   arguments\n * - `load ()` Fired when a new snapshot is ingested from a fetch, subscribe, or query\n */\n\nmodule.exports = Doc;\nfunction Doc(connection, collection, id) {\n  emitter.EventEmitter.call(this);\n\n  this.connection = connection;\n\n  this.collection = collection;\n  this.id = id;\n\n  this.version = null;\n  this.type = null;\n  this.data = undefined;\n\n  // Array of callbacks or nulls as placeholders\n  this.inflightFetch = [];\n  this.inflightSubscribe = [];\n  this.inflightUnsubscribe = [];\n  this.pendingFetch = [];\n\n  // Whether we think we are subscribed on the server. Synchronously set to\n  // false on calls to unsubscribe and disconnect. Should never be true when\n  // this.wantSubscribe is false\n  this.subscribed = false;\n  // Whether to re-establish the subscription on reconnect\n  this.wantSubscribe = false;\n\n  // The op that is currently roundtripping to the server, or null.\n  //\n  // When the connection reconnects, the inflight op is resubmitted.\n  //\n  // This has the same format as an entry in pendingOps\n  this.inflightOp = null;\n\n  // All ops that are waiting for the server to acknowledge this.inflightOp\n  // This used to just be a single operation, but creates & deletes can't be\n  // composed with regular operations.\n  //\n  // This is a list of {[create:{...}], [del:true], [op:...], callbacks:[...]}\n  this.pendingOps = [];\n\n  // The OT type of this document. An uncreated document has type `null`\n  this.type = null;\n\n  // The applyStack enables us to track any ops submitted while we are\n  // applying an op incrementally. This value is an array when we are\n  // performing an incremental apply and null otherwise. When it is an array,\n  // all submitted ops should be pushed onto it. The `_otApply` method will\n  // reset it back to null when all incremental apply loops are complete.\n  this.applyStack = null;\n\n  // Disable the default behavior of composing submitted ops. This is read at\n  // the time of op submit, so it may be toggled on before submitting a\n  // specifc op and toggled off afterward\n  this.preventCompose = false;\n}\nemitter.mixin(Doc);\n\nDoc.prototype.destroy = function(callback) {\n  var doc = this;\n  doc.whenNothingPending(function() {\n    if (doc.wantSubscribe) {\n      doc.unsubscribe(function(err) {\n        if (err) {\n          if (callback) return callback(err);\n          return doc.emit('error', err);\n        }\n        doc.connection._destroyDoc(doc);\n        if (callback) callback();\n      });\n    } else {\n      doc.connection._destroyDoc(doc);\n      if (callback) callback();\n    }\n  });\n};\n\n\n// ****** Manipulating the document data, version and type.\n\n// Set the document's type, and associated properties. Most of the logic in\n// this function exists to update the document based on any added & removed API\n// methods.\n//\n// @param newType OT type provided by the ottypes library or its name or uri\nDoc.prototype._setType = function(newType) {\n  if (typeof newType === 'string') {\n    newType = types.map[newType];\n  }\n\n  if (newType) {\n    this.type = newType;\n  } else if (newType === null) {\n    this.type = newType;\n    // If we removed the type from the object, also remove its data\n    this.data = undefined;\n  } else {\n    var err = new ShareDBError(ERROR_CODE.ERR_DOC_TYPE_NOT_RECOGNIZED, 'Missing type ' + newType);\n    return this.emit('error', err);\n  }\n};\n\n// Ingest snapshot data. This data must include a version, snapshot and type.\n// This is used both to ingest data that was exported with a webpage and data\n// that was received from the server during a fetch.\n//\n// @param snapshot.v    version\n// @param snapshot.data\n// @param snapshot.type\n// @param callback\nDoc.prototype.ingestSnapshot = function(snapshot, callback) {\n  if (!snapshot) return callback && callback();\n\n  if (typeof snapshot.v !== 'number') {\n    var err = new ShareDBError(\n      ERROR_CODE.ERR_INGESTED_SNAPSHOT_HAS_NO_VERSION,\n      'Missing version in ingested snapshot. ' + this.collection + '.' + this.id\n    );\n    if (callback) return callback(err);\n    return this.emit('error', err);\n  }\n\n  // If the doc is already created or there are ops pending, we cannot use the\n  // ingested snapshot and need ops in order to update the document\n  if (this.type || this.hasWritePending()) {\n    // The version should only be null on a created document when it was\n    // created locally without fetching\n    if (this.version == null) {\n      if (this.hasWritePending()) {\n        // If we have pending ops and we get a snapshot for a locally created\n        // document, we have to wait for the pending ops to complete, because\n        // we don't know what version to fetch ops from. It is possible that\n        // the snapshot came from our local op, but it is also possible that\n        // the doc was created remotely (which would conflict and be an error)\n        return callback && this.once('no write pending', callback);\n      }\n      // Otherwise, we've encounted an error state\n      var err = new ShareDBError(\n        ERROR_CODE.ERR_DOC_MISSING_VERSION,\n        'Cannot ingest snapshot in doc with null version. ' + this.collection + '.' + this.id\n      );\n      if (callback) return callback(err);\n      return this.emit('error', err);\n    }\n    // If we got a snapshot for a version further along than the document is\n    // currently, issue a fetch to get the latest ops and catch us up\n    if (snapshot.v > this.version) return this.fetch(callback);\n    return callback && callback();\n  }\n\n  // Ignore the snapshot if we are already at a newer version. Under no\n  // circumstance should we ever set the current version backward\n  if (this.version > snapshot.v) return callback && callback();\n\n  this.version = snapshot.v;\n  var type = (snapshot.type === undefined) ? types.defaultType : snapshot.type;\n  this._setType(type);\n  this.data = (this.type && this.type.deserialize) ?\n    this.type.deserialize(snapshot.data) :\n    snapshot.data;\n  this.emit('load');\n  callback && callback();\n};\n\nDoc.prototype.whenNothingPending = function(callback) {\n  var doc = this;\n  process.nextTick(function() {\n    if (doc.hasPending()) {\n      doc.once('nothing pending', callback);\n      return;\n    }\n    callback();\n  });\n};\n\nDoc.prototype.hasPending = function() {\n  return !!(\n    this.inflightOp ||\n    this.pendingOps.length ||\n    this.inflightFetch.length ||\n    this.inflightSubscribe.length ||\n    this.inflightUnsubscribe.length ||\n    this.pendingFetch.length\n  );\n};\n\nDoc.prototype.hasWritePending = function() {\n  return !!(this.inflightOp || this.pendingOps.length);\n};\n\nDoc.prototype._emitNothingPending = function() {\n  if (this.hasWritePending()) return;\n  this.emit('no write pending');\n  if (this.hasPending()) return;\n  this.emit('nothing pending');\n};\n\n// **** Helpers for network messages\n\nDoc.prototype._emitResponseError = function(err, callback) {\n  if (err && err.code === ERROR_CODE.ERR_SNAPSHOT_READ_SILENT_REJECTION) {\n    this.wantSubscribe = false;\n    if (callback) {\n      callback();\n    }\n    this._emitNothingPending();\n    return;\n  }\n  if (callback) {\n    callback(err);\n    this._emitNothingPending();\n    return;\n  }\n  this._emitNothingPending();\n  this.emit('error', err);\n};\n\nDoc.prototype._handleFetch = function(err, snapshot) {\n  var callback = this.inflightFetch.shift();\n  if (err) return this._emitResponseError(err, callback);\n  this.ingestSnapshot(snapshot, callback);\n  this._emitNothingPending();\n};\n\nDoc.prototype._handleSubscribe = function(err, snapshot) {\n  var callback = this.inflightSubscribe.shift();\n  if (err) return this._emitResponseError(err, callback);\n  // Indicate we are subscribed only if the client still wants to be. In the\n  // time since calling subscribe and receiving a response from the server,\n  // unsubscribe could have been called and we might already be unsubscribed\n  // but not have received the response. Also, because requests from the\n  // client are not serialized and may take different async time to process,\n  // it is possible that we could hear responses back in a different order\n  // from the order originally sent\n  if (this.wantSubscribe) this.subscribed = true;\n  this.ingestSnapshot(snapshot, callback);\n  this._emitNothingPending();\n};\n\nDoc.prototype._handleUnsubscribe = function(err) {\n  var callback = this.inflightUnsubscribe.shift();\n  if (err) return this._emitResponseError(err, callback);\n  if (callback) callback();\n  this._emitNothingPending();\n};\n\nDoc.prototype._handleOp = function(err, message) {\n  if (err) {\n    if (this.inflightOp) {\n      // The server has rejected submission of the current operation. If we get\n      // an \"Op submit rejected\" error, this was done intentionally\n      // and we should roll back but not return an error to the user.\n      if (err.code === ERROR_CODE.ERR_OP_SUBMIT_REJECTED) err = null;\n      return this._rollback(err);\n    }\n    return this.emit('error', err);\n  }\n\n  if (this.inflightOp &&\n      message.src === this.inflightOp.src &&\n      message.seq === this.inflightOp.seq) {\n    // The op has already been applied locally. Just update the version\n    // and pending state appropriately\n    this._opAcknowledged(message);\n    return;\n  }\n\n  if (this.version == null || message.v > this.version) {\n    // This will happen in normal operation if we become subscribed to a\n    // new document via a query. It can also happen if we get an op for\n    // a future version beyond the version we are expecting next. This\n    // could happen if the server doesn't publish an op for whatever reason\n    // or because of a race condition. In any case, we can send a fetch\n    // command to catch back up.\n    //\n    // Fetch only sends a new fetch command if no fetches are inflight, which\n    // will act as a natural debouncing so we don't send multiple fetch\n    // requests for many ops received at once.\n    this.fetch();\n    return;\n  }\n\n  if (message.v < this.version) {\n    // We can safely ignore the old (duplicate) operation.\n    return;\n  }\n\n  if (this.inflightOp) {\n    var transformErr = transformX(this.inflightOp, message);\n    if (transformErr) return this._hardRollback(transformErr);\n  }\n\n  for (var i = 0; i < this.pendingOps.length; i++) {\n    var transformErr = transformX(this.pendingOps[i], message);\n    if (transformErr) return this._hardRollback(transformErr);\n  }\n\n  this.version++;\n  try {\n    this._otApply(message, false);\n  } catch (error) {\n    return this._hardRollback(error);\n  }\n};\n\n// Called whenever (you guessed it!) the connection state changes. This will\n// happen when we get disconnected & reconnect.\nDoc.prototype._onConnectionStateChanged = function() {\n  if (this.connection.canSend) {\n    this.flush();\n    this._resubscribe();\n  } else {\n    if (this.inflightOp) {\n      this.pendingOps.unshift(this.inflightOp);\n      this.inflightOp = null;\n    }\n    this.subscribed = false;\n    if (this.inflightFetch.length || this.inflightSubscribe.length) {\n      this.pendingFetch = this.pendingFetch.concat(this.inflightFetch, this.inflightSubscribe);\n      this.inflightFetch.length = 0;\n      this.inflightSubscribe.length = 0;\n    }\n    if (this.inflightUnsubscribe.length) {\n      var callbacks = this.inflightUnsubscribe;\n      this.inflightUnsubscribe = [];\n      callEach(callbacks);\n    }\n  }\n};\n\nDoc.prototype._resubscribe = function() {\n  var callbacks = this.pendingFetch;\n  this.pendingFetch = [];\n\n  if (this.wantSubscribe) {\n    if (callbacks.length) {\n      this.subscribe(function(err) {\n        callEach(callbacks, err);\n      });\n      return;\n    }\n    this.subscribe();\n    return;\n  }\n\n  if (callbacks.length) {\n    this.fetch(function(err) {\n      callEach(callbacks, err);\n    });\n  }\n};\n\n// Request the current document snapshot or ops that bring us up to date\nDoc.prototype.fetch = function(callback) {\n  if (this.connection.canSend) {\n    var isDuplicate = this.connection.sendFetch(this);\n    pushActionCallback(this.inflightFetch, isDuplicate, callback);\n    return;\n  }\n  this.pendingFetch.push(callback);\n};\n\n// Fetch the initial document and keep receiving updates\nDoc.prototype.subscribe = function(callback) {\n  this.wantSubscribe = true;\n  if (this.connection.canSend) {\n    var isDuplicate = this.connection.sendSubscribe(this);\n    pushActionCallback(this.inflightSubscribe, isDuplicate, callback);\n    return;\n  }\n  this.pendingFetch.push(callback);\n};\n\n// Unsubscribe. The data will stay around in local memory, but we'll stop\n// receiving updates\nDoc.prototype.unsubscribe = function(callback) {\n  this.wantSubscribe = false;\n  // The subscribed state should be conservative in indicating when we are\n  // subscribed on the server. We'll actually be unsubscribed some time\n  // between sending the message and hearing back, but we cannot know exactly\n  // when. Thus, immediately mark us as not subscribed\n  this.subscribed = false;\n  if (this.connection.canSend) {\n    var isDuplicate = this.connection.sendUnsubscribe(this);\n    pushActionCallback(this.inflightUnsubscribe, isDuplicate, callback);\n    return;\n  }\n  if (callback) process.nextTick(callback);\n};\n\nfunction pushActionCallback(inflight, isDuplicate, callback) {\n  if (isDuplicate) {\n    var lastCallback = inflight.pop();\n    inflight.push(function(err) {\n      lastCallback && lastCallback(err);\n      callback && callback(err);\n    });\n  } else {\n    inflight.push(callback);\n  }\n}\n\n\n// Operations //\n\n// Send the next pending op to the server, if we can.\n//\n// Only one operation can be in-flight at a time. If an operation is already on\n// its way, or we're not currently connected, this method does nothing.\nDoc.prototype.flush = function() {\n  // Ignore if we can't send or we are already sending an op\n  if (!this.connection.canSend || this.inflightOp) return;\n\n  // Send first pending op unless paused\n  if (!this.paused && this.pendingOps.length) {\n    this._sendOp();\n  }\n};\n\n// Helper function to set op to contain a no-op.\nfunction setNoOp(op) {\n  delete op.op;\n  delete op.create;\n  delete op.del;\n}\n\n// Transform server op data by a client op, and vice versa. Ops are edited in place.\nfunction transformX(client, server) {\n  // Order of statements in this function matters. Be especially careful if\n  // refactoring this function\n\n  // A client delete op should dominate if both the server and the client\n  // delete the document. Thus, any ops following the client delete (such as a\n  // subsequent create) will be maintained, since the server op is transformed\n  // to a no-op\n  if (client.del) return setNoOp(server);\n\n  if (server.del) {\n    return new ShareDBError(ERROR_CODE.ERR_DOC_WAS_DELETED, 'Document was deleted');\n  }\n  if (server.create) {\n    return new ShareDBError(ERROR_CODE.ERR_DOC_ALREADY_CREATED, 'Document already created');\n  }\n\n  // Ignore no-op coming from server\n  if (!server.op) return;\n\n  // I believe that this should not occur, but check just in case\n  if (client.create) {\n    return new ShareDBError(ERROR_CODE.ERR_DOC_ALREADY_CREATED, 'Document already created');\n  }\n\n  // They both edited the document. This is the normal case for this function -\n  // as in, most of the time we'll end up down here.\n  //\n  // You should be wondering why I'm using client.type instead of this.type.\n  // The reason is, if we get ops at an old version of the document, this.type\n  // might be undefined or a totally different type. By pinning the type to the\n  // op data, we make sure the right type has its transform function called.\n  if (client.type.transformX) {\n    var result = client.type.transformX(client.op, server.op);\n    client.op = result[0];\n    server.op = result[1];\n  } else {\n    var clientOp = client.type.transform(client.op, server.op, 'left');\n    var serverOp = client.type.transform(server.op, client.op, 'right');\n    client.op = clientOp;\n    server.op = serverOp;\n  }\n};\n\n/**\n * Applies the operation to the snapshot\n *\n * If the operation is create or delete it emits `create` or `del`. Then the\n * operation is applied to the snapshot and `op` and `after op` are emitted.\n * If the type supports incremental updates and `this.incremental` is true we\n * fire `op` after every small operation.\n *\n * This is the only function to fire the above mentioned events.\n *\n * @private\n */\nDoc.prototype._otApply = function(op, source) {\n  if (op.op) {\n    if (!this.type) {\n      // Throw here, because all usage of _otApply should be wrapped with a try/catch\n      throw new ShareDBError(\n        ERROR_CODE.ERR_DOC_DOES_NOT_EXIST,\n        'Cannot apply op to uncreated document. ' + this.collection + '.' + this.id\n      );\n    }\n\n    // Iteratively apply multi-component remote operations and rollback ops\n    // (source === false) for the default JSON0 OT type. It could use\n    // type.shatter(), but since this code is so specific to use cases for the\n    // JSON0 type and ShareDB explicitly bundles the default type, we might as\n    // well write it this way and save needing to iterate through the op\n    // components twice.\n    //\n    // Ideally, we would not need this extra complexity. However, it is\n    // helpful for implementing bindings that update DOM nodes and other\n    // stateful objects by translating op events directly into corresponding\n    // mutations. Such bindings are most easily written as responding to\n    // individual op components one at a time in order, and it is important\n    // that the snapshot only include updates from the particular op component\n    // at the time of emission. Eliminating this would require rethinking how\n    // such external bindings are implemented.\n    if (!source && this.type === types.defaultType && op.op.length > 1) {\n      if (!this.applyStack) this.applyStack = [];\n      var stackLength = this.applyStack.length;\n      for (var i = 0; i < op.op.length; i++) {\n        var component = op.op[i];\n        var componentOp = {op: [component]};\n        // Transform componentOp against any ops that have been submitted\n        // sychronously inside of an op event handler since we began apply of\n        // our operation\n        for (var j = stackLength; j < this.applyStack.length; j++) {\n          var transformErr = transformX(this.applyStack[j], componentOp);\n          if (transformErr) return this._hardRollback(transformErr);\n        }\n        // Apply the individual op component\n        this.emit('before op', componentOp.op, source);\n        this.data = this.type.apply(this.data, componentOp.op);\n        this.emit('op', componentOp.op, source);\n      }\n      // Pop whatever was submitted since we started applying this op\n      this._popApplyStack(stackLength);\n      return;\n    }\n\n    // The 'before op' event enables clients to pull any necessary data out of\n    // the snapshot before it gets changed\n    this.emit('before op', op.op, source);\n    // Apply the operation to the local data, mutating it in place\n    this.data = this.type.apply(this.data, op.op);\n    // Emit an 'op' event once the local data includes the changes from the\n    // op. For locally submitted ops, this will be synchronously with\n    // submission and before the server or other clients have received the op.\n    // For ops from other clients, this will be after the op has been\n    // committed to the database and published\n    this.emit('op', op.op, source);\n    return;\n  }\n\n  if (op.create) {\n    this._setType(op.create.type);\n    this.data = (this.type.deserialize) ?\n      (this.type.createDeserialized) ?\n        this.type.createDeserialized(op.create.data) :\n        this.type.deserialize(this.type.create(op.create.data)) :\n      this.type.create(op.create.data);\n    this.emit('create', source);\n    return;\n  }\n\n  if (op.del) {\n    var oldData = this.data;\n    this._setType(null);\n    this.emit('del', oldData, source);\n    return;\n  }\n};\n\n\n// ***** Sending operations\n\n// Actually send op to the server.\nDoc.prototype._sendOp = function() {\n  // Wait until we have a src id from the server\n  var src = this.connection.id;\n  if (!src) return;\n\n  // When there is no inflightOp, send the first item in pendingOps. If\n  // there is inflightOp, try sending it again\n  if (!this.inflightOp) {\n    // Send first pending op\n    this.inflightOp = this.pendingOps.shift();\n  }\n  var op = this.inflightOp;\n  if (!op) {\n    var err = new ShareDBError(ERROR_CODE.ERR_INFLIGHT_OP_MISSING, 'No op to send on call to _sendOp');\n    return this.emit('error', err);\n  }\n\n  // Track data for retrying ops\n  op.sentAt = Date.now();\n  op.retries = (op.retries == null) ? 0 : op.retries + 1;\n\n  // The src + seq number is a unique ID representing this operation. This tuple\n  // is used on the server to detect when ops have been sent multiple times and\n  // on the client to match acknowledgement of an op back to the inflightOp.\n  // Note that the src could be different from this.connection.id after a\n  // reconnect, since an op may still be pending after the reconnection and\n  // this.connection.id will change. In case an op is sent multiple times, we\n  // also need to be careful not to override the original seq value.\n  if (op.seq == null) op.seq = this.connection.seq++;\n\n  this.connection.sendOp(this, op);\n\n  // src isn't needed on the first try, since the server session will have the\n  // same id, but it must be set on the inflightOp in case it is sent again\n  // after a reconnect and the connection's id has changed by then\n  if (op.src == null) op.src = src;\n};\n\n\n// Queues the operation for submission to the server and applies it locally.\n//\n// Internal method called to do the actual work for submit(), create() and del().\n// @private\n//\n// @param op\n// @param [op.op]\n// @param [op.del]\n// @param [op.create]\n// @param [callback] called when operation is submitted\nDoc.prototype._submit = function(op, source, callback) {\n  // Locally submitted ops must always have a truthy source\n  if (!source) source = true;\n\n  // The op contains either op, create, delete, or none of the above (a no-op).\n  if (op.op) {\n    if (!this.type) {\n      var err = new ShareDBError(\n        ERROR_CODE.ERR_DOC_DOES_NOT_EXIST,\n        'Cannot submit op. Document has not been created. ' + this.collection + '.' + this.id\n      );\n      if (callback) return callback(err);\n      return this.emit('error', err);\n    }\n    // Try to normalize the op. This removes trailing skip:0's and things like that.\n    if (this.type.normalize) op.op = this.type.normalize(op.op);\n  }\n\n  try {\n    this._pushOp(op, callback);\n    this._otApply(op, source);\n  } catch (error) {\n    return this._hardRollback(error);\n  }\n\n  // The call to flush is delayed so if submit() is called multiple times\n  // synchronously, all the ops are combined before being sent to the server.\n  var doc = this;\n  process.nextTick(function() {\n    doc.flush();\n  });\n};\n\nDoc.prototype._pushOp = function(op, callback) {\n  if (this.applyStack) {\n    // If we are in the process of incrementally applying an operation, don't\n    // compose the op and push it onto the applyStack so it can be transformed\n    // against other components from the op or ops being applied\n    this.applyStack.push(op);\n  } else {\n    // If the type supports composes, try to compose the operation onto the\n    // end of the last pending operation.\n    var composed = this._tryCompose(op);\n    if (composed) {\n      composed.callbacks.push(callback);\n      return;\n    }\n  }\n  // Push on to the pendingOps queue of ops to submit if we didn't compose\n  op.type = this.type;\n  op.callbacks = [callback];\n  this.pendingOps.push(op);\n};\n\nDoc.prototype._popApplyStack = function(to) {\n  if (to > 0) {\n    this.applyStack.length = to;\n    return;\n  }\n  // Once we have completed the outermost apply loop, reset to null and no\n  // longer add ops to the applyStack as they are submitted\n  var op = this.applyStack[0];\n  this.applyStack = null;\n  if (!op) return;\n  // Compose the ops added since the beginning of the apply stack, since we\n  // had to skip compose when they were originally pushed\n  var i = this.pendingOps.indexOf(op);\n  if (i === -1) return;\n  var ops = this.pendingOps.splice(i);\n  for (var i = 0; i < ops.length; i++) {\n    var op = ops[i];\n    var composed = this._tryCompose(op);\n    if (composed) {\n      composed.callbacks = composed.callbacks.concat(op.callbacks);\n    } else {\n      this.pendingOps.push(op);\n    }\n  }\n};\n\n// Try to compose a submitted op into the last pending op. Returns the\n// composed op if it succeeds, undefined otherwise\nDoc.prototype._tryCompose = function(op) {\n  if (this.preventCompose) return;\n\n  // We can only compose into the last pending op. Inflight ops have already\n  // been sent to the server, so we can't modify them\n  var last = this.pendingOps[this.pendingOps.length - 1];\n  if (!last || last.sentAt) return;\n\n  // Compose an op into a create by applying it. This effectively makes the op\n  // invisible, as if the document were created including the op originally\n  if (last.create && op.op) {\n    last.create.data = this.type.apply(last.create.data, op.op);\n    return last;\n  }\n\n  // Compose two ops into a single op if supported by the type. Types that\n  // support compose must be able to compose any two ops together\n  if (last.op && op.op && this.type.compose) {\n    last.op = this.type.compose(last.op, op.op);\n    return last;\n  }\n};\n\n// *** Client OT entrypoints.\n\n// Submit an operation to the document.\n//\n// @param operation handled by the OT type\n// @param options  {source: ...}\n// @param [callback] called after operation submitted\n//\n// @fires before op, op, after op\nDoc.prototype.submitOp = function(component, options, callback) {\n  if (typeof options === 'function') {\n    callback = options;\n    options = null;\n  }\n  var op = {op: component};\n  var source = options && options.source;\n  this._submit(op, source, callback);\n};\n\n// Create the document, which in ShareJS semantics means to set its type. Every\n// object implicitly exists in the database but has no data and no type. Create\n// sets the type of the object and can optionally set some initial data on the\n// object, depending on the type.\n//\n// @param data  initial\n// @param type  OT type\n// @param options  {source: ...}\n// @param callback  called when operation submitted\nDoc.prototype.create = function(data, type, options, callback) {\n  if (typeof type === 'function') {\n    callback = type;\n    options = null;\n    type = null;\n  } else if (typeof options === 'function') {\n    callback = options;\n    options = null;\n  }\n  if (!type) {\n    type = types.defaultType.uri;\n  }\n  if (this.type) {\n    var err = new ShareDBError(ERROR_CODE.ERR_DOC_ALREADY_CREATED, 'Document already exists');\n    if (callback) return callback(err);\n    return this.emit('error', err);\n  }\n  var op = {create: {type: type, data: data}};\n  var source = options && options.source;\n  this._submit(op, source, callback);\n};\n\n// Delete the document. This creates and submits a delete operation to the\n// server. Deleting resets the object's type to null and deletes its data. The\n// document still exists, and still has the version it used to have before you\n// deleted it (well, old version +1).\n//\n// @param options  {source: ...}\n// @param callback  called when operation submitted\nDoc.prototype.del = function(options, callback) {\n  if (typeof options === 'function') {\n    callback = options;\n    options = null;\n  }\n  if (!this.type) {\n    var err = new ShareDBError(ERROR_CODE.ERR_DOC_DOES_NOT_EXIST, 'Document does not exist');\n    if (callback) return callback(err);\n    return this.emit('error', err);\n  }\n  var op = {del: true};\n  var source = options && options.source;\n  this._submit(op, source, callback);\n};\n\n\n// Stops the document from sending any operations to the server.\nDoc.prototype.pause = function() {\n  this.paused = true;\n};\n\n// Continue sending operations to the server\nDoc.prototype.resume = function() {\n  this.paused = false;\n  this.flush();\n};\n\n\n// *** Receiving operations\n\n// This is called when the server acknowledges an operation from the client.\nDoc.prototype._opAcknowledged = function(message) {\n  if (this.inflightOp.create) {\n    this.version = message.v;\n  } else if (message.v !== this.version) {\n    // We should already be at the same version, because the server should\n    // have sent all the ops that have happened before acknowledging our op\n    logger.warn('Invalid version from server. Expected: ' + this.version + ' Received: ' + message.v, message);\n\n    // Fetching should get us back to a working document state\n    return this.fetch();\n  }\n\n  // The op was committed successfully. Increment the version number\n  this.version++;\n\n  this._clearInflightOp();\n};\n\nDoc.prototype._rollback = function(err) {\n  // The server has rejected submission of the current operation. Invert by\n  // just the inflight op if possible. If not possible to invert, cancel all\n  // pending ops and fetch the latest from the server to get us back into a\n  // working state, then call back\n  var op = this.inflightOp;\n\n  if (op.op && op.type.invert) {\n    op.op = op.type.invert(op.op);\n\n    // Transform the undo operation by any pending ops.\n    for (var i = 0; i < this.pendingOps.length; i++) {\n      var transformErr = transformX(this.pendingOps[i], op);\n      if (transformErr) return this._hardRollback(transformErr);\n    }\n\n    // ... and apply it locally, reverting the changes.\n    //\n    // This operation is applied to look like it comes from a remote source.\n    // I'm still not 100% sure about this functionality, because its really a\n    // local op. Basically, the problem is that if the client's op is rejected\n    // by the server, the editor window should update to reflect the undo.\n    try {\n      this._otApply(op, false);\n    } catch (error) {\n      return this._hardRollback(error);\n    }\n\n    this._clearInflightOp(err);\n    return;\n  }\n\n  this._hardRollback(err);\n};\n\nDoc.prototype._hardRollback = function(err) {\n  // Store pending ops so that we can notify their callbacks of the error.\n  // We combine the inflight op and the pending ops, because it's possible\n  // to hit a condition where we have no inflight op, but we do have pending\n  // ops. This can happen when an invalid op is submitted, which causes us\n  // to hard rollback before the pending op was flushed.\n  var pendingOps = [];\n  if (this.inflightOp) pendingOps.push(this.inflightOp);\n  pendingOps = pendingOps.concat(this.pendingOps);\n\n  // Cancel all pending ops and reset if we can't invert\n  this._setType(null);\n  this.version = null;\n  this.inflightOp = null;\n  this.pendingOps = [];\n\n  // Fetch the latest version from the server to get us back into a working state\n  var doc = this;\n  this.fetch(function() {\n    // We want to check that no errors are swallowed, so we check that:\n    // - there are callbacks to call, and\n    // - that every single pending op called a callback\n    // If there are no ops queued, or one of them didn't handle the error,\n    // then we emit the error.\n    var allOpsHadCallbacks = !!pendingOps.length;\n    for (var i = 0; i < pendingOps.length; i++) {\n      allOpsHadCallbacks = callEach(pendingOps[i].callbacks, err) && allOpsHadCallbacks;\n    }\n    if (err && !allOpsHadCallbacks) return doc.emit('error', err);\n  });\n};\n\nDoc.prototype._clearInflightOp = function(err) {\n  var inflightOp = this.inflightOp;\n\n  this.inflightOp = null;\n\n  var called = callEach(inflightOp.callbacks, err);\n\n  this.flush();\n  this._emitNothingPending();\n\n  if (err && !called) return this.emit('error', err);\n};\n\nfunction callEach(callbacks, err) {\n  var called = false;\n  for (var i = 0; i < callbacks.length; i++) {\n    var callback = callbacks[i];\n    if (callback) {\n      callback(err);\n      called = true;\n    }\n  }\n  return called;\n}\n",
    "var emitter = require('../emitter');\n\n// Queries are live requests to the database for particular sets of fields.\n//\n// The server actively tells the client when there's new data that matches\n// a set of conditions.\nmodule.exports = Query;\nfunction Query(action, connection, id, collection, query, options, callback) {\n  emitter.EventEmitter.call(this);\n\n  // 'qf' or 'qs'\n  this.action = action;\n\n  this.connection = connection;\n  this.id = id;\n  this.collection = collection;\n\n  // The query itself. For mongo, this should look something like {\"data.x\":5}\n  this.query = query;\n\n  // A list of resulting documents. These are actual documents, complete with\n  // data and all the rest. It is possible to pass in an initial results set,\n  // so that a query can be serialized and then re-established\n  this.results = null;\n  if (options && options.results) {\n    this.results = options.results;\n    delete options.results;\n  }\n  this.extra = undefined;\n\n  // Options to pass through with the query\n  this.options = options;\n\n  this.callback = callback;\n  this.ready = false;\n  this.sent = false;\n}\nemitter.mixin(Query);\n\nQuery.prototype.hasPending = function() {\n  return !this.ready;\n};\n\n// Helper for subscribe & fetch, since they share the same message format.\n//\n// This function actually issues the query.\nQuery.prototype.send = function() {\n  if (!this.connection.canSend) return;\n\n  var message = {\n    a: this.action,\n    id: this.id,\n    c: this.collection,\n    q: this.query\n  };\n  if (this.options) {\n    message.o = this.options;\n  }\n  if (this.results) {\n    // Collect the version of all the documents in the current result set so we\n    // don't need to be sent their snapshots again.\n    var results = [];\n    for (var i = 0; i < this.results.length; i++) {\n      var doc = this.results[i];\n      results.push([doc.id, doc.version]);\n    }\n    message.r = results;\n  }\n\n  this.connection.send(message);\n  this.sent = true;\n};\n\n// Destroy the query object. Any subsequent messages for the query will be\n// ignored by the connection.\nQuery.prototype.destroy = function(callback) {\n  if (this.connection.canSend && this.action === 'qs') {\n    this.connection.send({a: 'qu', id: this.id});\n  }\n  this.connection._destroyQuery(this);\n  // There is a callback for consistency, but we don't actually wait for the\n  // server's unsubscribe message currently\n  if (callback) process.nextTick(callback);\n};\n\nQuery.prototype._onConnectionStateChanged = function() {\n  if (this.connection.canSend && !this.sent) {\n    this.send();\n  } else {\n    this.sent = false;\n  }\n};\n\nQuery.prototype._handleFetch = function(err, data, extra) {\n  // Once a fetch query gets its data, it is destroyed.\n  this.connection._destroyQuery(this);\n  this._handleResponse(err, data, extra);\n};\n\nQuery.prototype._handleSubscribe = function(err, data, extra) {\n  this._handleResponse(err, data, extra);\n};\n\nQuery.prototype._handleResponse = function(err, data, extra) {\n  var callback = this.callback;\n  this.callback = null;\n  if (err) return this._finishResponse(err, callback);\n  if (!data) return this._finishResponse(null, callback);\n\n  var query = this;\n  var wait = 1;\n  var finish = function(err) {\n    if (err) return query._finishResponse(err, callback);\n    if (--wait) return;\n    query._finishResponse(null, callback);\n  };\n\n  if (Array.isArray(data)) {\n    wait += data.length;\n    this.results = this._ingestSnapshots(data, finish);\n    this.extra = extra;\n  } else {\n    for (var id in data) {\n      wait++;\n      var snapshot = data[id];\n      var doc = this.connection.get(snapshot.c || this.collection, id);\n      doc.ingestSnapshot(snapshot, finish);\n    }\n  }\n\n  finish();\n};\n\nQuery.prototype._ingestSnapshots = function(snapshots, finish) {\n  var results = [];\n  for (var i = 0; i < snapshots.length; i++) {\n    var snapshot = snapshots[i];\n    var doc = this.connection.get(snapshot.c || this.collection, snapshot.d);\n    doc.ingestSnapshot(snapshot, finish);\n    results.push(doc);\n  }\n  return results;\n};\n\nQuery.prototype._finishResponse = function(err, callback) {\n  this.emit('ready');\n  this.ready = true;\n  if (err) {\n    this.connection._destroyQuery(this);\n    if (callback) return callback(err);\n    return this.emit('error', err);\n  }\n  if (callback) callback(null, this.results, this.extra);\n};\n\nQuery.prototype._handleError = function(err) {\n  this.emit('error', err);\n};\n\nQuery.prototype._handleDiff = function(diff) {\n  // We need to go through the list twice. First, we'll ingest all the new\n  // documents. After that we'll emit events and actually update our list.\n  // This avoids race conditions around setting documents to be subscribed &\n  // unsubscribing documents in event callbacks.\n  for (var i = 0; i < diff.length; i++) {\n    var d = diff[i];\n    if (d.type === 'insert') d.values = this._ingestSnapshots(d.values);\n  }\n\n  for (var i = 0; i < diff.length; i++) {\n    var d = diff[i];\n    switch (d.type) {\n      case 'insert':\n        var newDocs = d.values;\n        Array.prototype.splice.apply(this.results, [d.index, 0].concat(newDocs));\n        this.emit('insert', newDocs, d.index);\n        break;\n      case 'remove':\n        var howMany = d.howMany || 1;\n        var removed = this.results.splice(d.index, howMany);\n        this.emit('remove', removed, d.index);\n        break;\n      case 'move':\n        var howMany = d.howMany || 1;\n        var docs = this.results.splice(d.from, howMany);\n        Array.prototype.splice.apply(this.results, [d.to, 0].concat(docs));\n        this.emit('move', docs, d.from, d.to);\n        break;\n    }\n  }\n\n  this.emit('changed', this.results);\n};\n\nQuery.prototype._handleExtra = function(extra) {\n  this.extra = extra;\n  this.emit('extra', extra);\n};\n",
    "module.exports = Snapshot;\nfunction Snapshot(id, version, type, data, meta) {\n  this.id = id;\n  this.v = version;\n  this.type = type;\n  this.data = data;\n  this.m = meta;\n}\n",
    "var Snapshot = require('../../snapshot');\nvar emitter = require('../../emitter');\n\nmodule.exports = SnapshotRequest;\n\nfunction SnapshotRequest(connection, requestId, collection, id, callback) {\n  emitter.EventEmitter.call(this);\n\n  if (typeof callback !== 'function') {\n    throw new Error('Callback is required for SnapshotRequest');\n  }\n\n  this.requestId = requestId;\n  this.connection = connection;\n  this.id = id;\n  this.collection = collection;\n  this.callback = callback;\n\n  this.sent = false;\n}\nemitter.mixin(SnapshotRequest);\n\nSnapshotRequest.prototype.send = function() {\n  if (!this.connection.canSend) {\n    return;\n  }\n\n  this.connection.send(this._message());\n  this.sent = true;\n};\n\nSnapshotRequest.prototype._onConnectionStateChanged = function() {\n  if (this.connection.canSend) {\n    if (!this.sent) this.send();\n  } else {\n    // If the connection can't send, then we've had a disconnection, and even if we've already sent\n    // the request previously, we need to re-send it over this reconnected client, so reset the\n    // sent flag to false.\n    this.sent = false;\n  }\n};\n\nSnapshotRequest.prototype._handleResponse = function(error, message) {\n  this.emit('ready');\n\n  if (error) {\n    return this.callback(error);\n  }\n\n  var metadata = message.meta ? message.meta : null;\n  var snapshot = new Snapshot(this.id, message.v, message.type, message.data, metadata);\n\n  this.callback(null, snapshot);\n};\n",
    "\nexports.doNothing = doNothing;\nfunction doNothing() {}\n\nexports.hasKeys = function(object) {\n  for (var key in object) return true;\n  return false;\n};\n\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isInteger#Polyfill\nexports.isInteger = Number.isInteger || function(value) {\n  return typeof value === 'number' &&\n    isFinite(value) &&\n    Math.floor(value) === value;\n};\n\nexports.isValidVersion = function(version) {\n  if (version === null) return true;\n  return exports.isInteger(version) && version >= 0;\n};\n\nexports.isValidTimestamp = function(timestamp) {\n  return exports.isValidVersion(timestamp);\n};\n",
    "var SnapshotRequest = require('./snapshot-request');\nvar util = require('../../util');\n\nmodule.exports = SnapshotVersionRequest;\n\nfunction SnapshotVersionRequest(connection, requestId, collection, id, version, callback) {\n  SnapshotRequest.call(this, connection, requestId, collection, id, callback);\n\n  if (!util.isValidVersion(version)) {\n    throw new Error('Snapshot version must be a positive integer or null');\n  }\n\n  this.version = version;\n}\n\nSnapshotVersionRequest.prototype = Object.create(SnapshotRequest.prototype);\n\nSnapshotVersionRequest.prototype._message = function() {\n  return {\n    a: 'nf',\n    id: this.requestId,\n    c: this.collection,\n    d: this.id,\n    v: this.version\n  };\n};\n",
    "var SnapshotRequest = require('./snapshot-request');\nvar util = require('../../util');\n\nmodule.exports = SnapshotTimestampRequest;\n\nfunction SnapshotTimestampRequest(connection, requestId, collection, id, timestamp, callback) {\n  SnapshotRequest.call(this, connection, requestId, collection, id, callback);\n\n  if (!util.isValidTimestamp(timestamp)) {\n    throw new Error('Snapshot timestamp must be a positive integer or null');\n  }\n\n  this.timestamp = timestamp;\n}\n\nSnapshotTimestampRequest.prototype = Object.create(SnapshotRequest.prototype);\n\nSnapshotTimestampRequest.prototype._message = function() {\n  return {\n    a: 'nt',\n    id: this.requestId,\n    c: this.collection,\n    d: this.id,\n    ts: this.timestamp\n  };\n};\n",
    "var Doc = require('./doc');\nvar Query = require('./query');\nvar SnapshotVersionRequest = require('./snapshot-request/snapshot-version-request');\nvar SnapshotTimestampRequest = require('./snapshot-request/snapshot-timestamp-request');\nvar emitter = require('../emitter');\nvar ShareDBError = require('../error');\nvar types = require('../types');\nvar util = require('../util');\nvar logger = require('../logger');\n\nvar ERROR_CODE = ShareDBError.CODES;\n\nfunction connectionState(socket) {\n  if (socket.readyState === 0 || socket.readyState === 1) return 'connecting';\n  return 'disconnected';\n}\n\n/**\n * Handles communication with the sharejs server and provides queries and\n * documents.\n *\n * We create a connection with a socket object\n *   connection = new sharejs.Connection(sockset)\n * The socket may be any object handling the websocket protocol. See the\n * documentation of bindToSocket() for details. We then wait for the connection\n * to connect\n *   connection.on('connected', ...)\n * and are finally able to work with shared documents\n *   connection.get('food', 'steak') // Doc\n *\n * @param socket @see bindToSocket\n */\nmodule.exports = Connection;\nfunction Connection(socket) {\n  emitter.EventEmitter.call(this);\n\n  // Map of collection -> id -> doc object for created documents.\n  // (created documents MUST BE UNIQUE)\n  this.collections = {};\n\n  // Each query and snapshot request is created with an id that the server uses when it sends us\n  // info about the request (updates, etc)\n  this.nextQueryId = 1;\n  this.nextSnapshotRequestId = 1;\n\n  // Map from query ID -> query object.\n  this.queries = {};\n\n  // Map from snapshot request ID -> snapshot request\n  this._snapshotRequests = {};\n\n  // A unique message number for the given id\n  this.seq = 1;\n\n  // Equals agent.clientId on the server\n  this.id = null;\n\n  // This direct reference from connection to agent is not used internal to\n  // ShareDB, but it is handy for server-side only user code that may cache\n  // state on the agent and read it in middleware\n  this.agent = null;\n\n  this.debug = false;\n\n  this.state = connectionState(socket);\n\n  this.bindToSocket(socket);\n}\nemitter.mixin(Connection);\n\n\n/**\n * Use socket to communicate with server\n *\n * Socket is an object that can handle the websocket protocol. This method\n * installs the onopen, onclose, onmessage and onerror handlers on the socket to\n * handle communication and sends messages by calling socket.send(message). The\n * sockets `readyState` property is used to determine the initaial state.\n *\n * @param socket Handles the websocket protocol\n * @param socket.readyState\n * @param socket.close\n * @param socket.send\n * @param socket.onopen\n * @param socket.onclose\n * @param socket.onmessage\n * @param socket.onerror\n */\nConnection.prototype.bindToSocket = function(socket) {\n  if (this.socket) {\n    this.socket.close();\n    this.socket.onmessage = null;\n    this.socket.onopen = null;\n    this.socket.onerror = null;\n    this.socket.onclose = null;\n  }\n\n  this.socket = socket;\n\n  // State of the connection. The corresponding events are emitted when this changes\n  //\n  // - 'connecting'   The connection is still being established, or we are still\n  //                    waiting on the server to send us the initialization message\n  // - 'connected'    The connection is open and we have connected to a server\n  //                    and recieved the initialization message\n  // - 'disconnected' Connection is closed, but it will reconnect automatically\n  // - 'closed'       The connection was closed by the client, and will not reconnect\n  // - 'stopped'      The connection was closed by the server, and will not reconnect\n  var newState = connectionState(socket);\n  this._setState(newState);\n\n  // This is a helper variable the document uses to see whether we're\n  // currently in a 'live' state. It is true if and only if we're connected\n  this.canSend = false;\n\n  var connection = this;\n\n  socket.onmessage = function(event) {\n    try {\n      var data = (typeof event.data === 'string') ?\n        JSON.parse(event.data) : event.data;\n    } catch (err) {\n      logger.warn('Failed to parse message', event);\n      return;\n    }\n\n    if (connection.debug) logger.info('RECV', JSON.stringify(data));\n\n    var request = {data: data};\n    connection.emit('receive', request);\n    if (!request.data) return;\n\n    try {\n      connection.handleMessage(request.data);\n    } catch (err) {\n      process.nextTick(function() {\n        connection.emit('error', err);\n      });\n    }\n  };\n\n  socket.onopen = function() {\n    connection._setState('connecting');\n  };\n\n  socket.onerror = function(err) {\n    // This isn't the same as a regular error, because it will happen normally\n    // from time to time. Your connection should probably automatically\n    // reconnect anyway, but that should be triggered off onclose not onerror.\n    // (onclose happens when onerror gets called anyway).\n    connection.emit('connection error', err);\n  };\n\n  socket.onclose = function(reason) {\n    // node-browserchannel reason values:\n    //   'Closed' - The socket was manually closed by calling socket.close()\n    //   'Stopped by server' - The server sent the stop message to tell the client not to try connecting\n    //   'Request failed' - Server didn't respond to request (temporary, usually offline)\n    //   'Unknown session ID' - Server session for client is missing (temporary, will immediately reestablish)\n\n    if (reason === 'closed' || reason === 'Closed') {\n      connection._setState('closed', reason);\n    } else if (reason === 'stopped' || reason === 'Stopped by server') {\n      connection._setState('stopped', reason);\n    } else {\n      connection._setState('disconnected', reason);\n    }\n  };\n};\n\n/**\n * @param {object} message\n * @param {String} message.a action\n */\nConnection.prototype.handleMessage = function(message) {\n  var err = null;\n  if (message.error) {\n    err = wrapErrorData(message.error, message);\n    delete message.error;\n  }\n  // Switch on the message action. Most messages are for documents and are\n  // handled in the doc class.\n  switch (message.a) {\n    case 'init':\n      // Client initialization packet\n      if (message.protocol !== 1) {\n        err = new ShareDBError(\n          ERROR_CODE.ERR_PROTOCOL_VERSION_NOT_SUPPORTED,\n          'Unsupported protocol version: ' + message.protocol\n        );\n        return this.emit('error', err);\n      }\n      if (types.map[message.type] !== types.defaultType) {\n        err = new ShareDBError(\n          ERROR_CODE.ERR_DEFAULT_TYPE_MISMATCH,\n          message.type + ' does not match the server default type'\n        );\n        return this.emit('error', err);\n      }\n      if (typeof message.id !== 'string') {\n        err = new ShareDBError(ERROR_CODE.ERR_CLIENT_ID_BADLY_FORMED, 'Client id must be a string');\n        return this.emit('error', err);\n      }\n      this.id = message.id;\n\n      this._setState('connected');\n      return;\n\n    case 'qf':\n      var query = this.queries[message.id];\n      if (query) query._handleFetch(err, message.data, message.extra);\n      return;\n    case 'qs':\n      var query = this.queries[message.id];\n      if (query) query._handleSubscribe(err, message.data, message.extra);\n      return;\n    case 'qu':\n      // Queries are removed immediately on calls to destroy, so we ignore\n      // replies to query unsubscribes. Perhaps there should be a callback for\n      // destroy, but this is currently unimplemented\n      return;\n    case 'q':\n      // Query message. Pass this to the appropriate query object.\n      var query = this.queries[message.id];\n      if (!query) return;\n      if (err) return query._handleError(err);\n      if (message.diff) query._handleDiff(message.diff);\n      if (message.hasOwnProperty('extra')) query._handleExtra(message.extra);\n      return;\n\n    case 'bf':\n      return this._handleBulkMessage(err, message, '_handleFetch');\n    case 'bs':\n      return this._handleBulkMessage(err, message, '_handleSubscribe');\n    case 'bu':\n      return this._handleBulkMessage(err, message, '_handleUnsubscribe');\n\n    case 'nf':\n    case 'nt':\n      return this._handleSnapshotFetch(err, message);\n\n    case 'f':\n      var doc = this.getExisting(message.c, message.d);\n      if (doc) doc._handleFetch(err, message.data);\n      return;\n    case 's':\n      var doc = this.getExisting(message.c, message.d);\n      if (doc) doc._handleSubscribe(err, message.data);\n      return;\n    case 'u':\n      var doc = this.getExisting(message.c, message.d);\n      if (doc) doc._handleUnsubscribe(err);\n      return;\n    case 'op':\n      var doc = this.getExisting(message.c, message.d);\n      if (doc) doc._handleOp(err, message);\n      return;\n\n    default:\n      logger.warn('Ignoring unrecognized message', message);\n  }\n};\n\nfunction wrapErrorData(errorData, fullMessage) {\n  // wrap in Error object so can be passed through event emitters\n  var err = new Error(errorData.message);\n  err.code = errorData.code;\n  if (fullMessage) {\n    // Add the message data to the error object for more context\n    err.data = fullMessage;\n  }\n  return err;\n}\n\nConnection.prototype._handleBulkMessage = function(err, message, method) {\n  if (message.data) {\n    for (var id in message.data) {\n      var dataForId = message.data[id];\n      var doc = this.getExisting(message.c, id);\n      if (doc) {\n        if (err) {\n          doc[method](err);\n        } else if (dataForId.error) {\n          // Bulk reply snapshot-specific errorr - see agent.js getMapResult\n          doc[method](wrapErrorData(dataForId.error));\n        } else {\n          doc[method](null, dataForId);\n        }\n      }\n    }\n  } else if (Array.isArray(message.b)) {\n    for (var i = 0; i < message.b.length; i++) {\n      var id = message.b[i];\n      var doc = this.getExisting(message.c, id);\n      if (doc) doc[method](err);\n    }\n  } else if (message.b) {\n    for (var id in message.b) {\n      var doc = this.getExisting(message.c, id);\n      if (doc) doc[method](err);\n    }\n  } else {\n    logger.error('Invalid bulk message', message);\n  }\n};\n\nConnection.prototype._reset = function() {\n  this.seq = 1;\n  this.id = null;\n  this.agent = null;\n};\n\n// Set the connection's state. The connection is basically a state machine.\nConnection.prototype._setState = function(newState, reason) {\n  if (this.state === newState) return;\n\n  // I made a state diagram. The only invalid transitions are getting to\n  // 'connecting' from anywhere other than 'disconnected' and getting to\n  // 'connected' from anywhere other than 'connecting'.\n  if (\n    (\n      newState === 'connecting' &&\n      this.state !== 'disconnected' &&\n      this.state !== 'stopped' &&\n      this.state !== 'closed'\n    ) || (\n      newState === 'connected' &&\n      this.state !== 'connecting'\n    )\n  ) {\n    var err = new ShareDBError(\n      ERROR_CODE.ERR_CONNECTION_STATE_TRANSITION_INVALID,\n      'Cannot transition directly from ' + this.state + ' to ' + newState\n    );\n    return this.emit('error', err);\n  }\n\n  this.state = newState;\n  this.canSend = (newState === 'connected');\n\n  if (\n    newState === 'disconnected' ||\n    newState === 'stopped' ||\n    newState === 'closed'\n  ) {\n    this._reset();\n  }\n\n  // Group subscribes together to help server make more efficient calls\n  this.startBulk();\n  // Emit the event to all queries\n  for (var id in this.queries) {\n    var query = this.queries[id];\n    query._onConnectionStateChanged();\n  }\n  // Emit the event to all documents\n  for (var collection in this.collections) {\n    var docs = this.collections[collection];\n    for (var id in docs) {\n      docs[id]._onConnectionStateChanged();\n    }\n  }\n  // Emit the event to all snapshots\n  for (var id in this._snapshotRequests) {\n    var snapshotRequest = this._snapshotRequests[id];\n    snapshotRequest._onConnectionStateChanged();\n  }\n  this.endBulk();\n\n  this.emit(newState, reason);\n  this.emit('state', newState, reason);\n};\n\nConnection.prototype.startBulk = function() {\n  if (!this.bulk) this.bulk = {};\n};\n\nConnection.prototype.endBulk = function() {\n  if (this.bulk) {\n    for (var collection in this.bulk) {\n      var actions = this.bulk[collection];\n      this._sendBulk('f', collection, actions.f);\n      this._sendBulk('s', collection, actions.s);\n      this._sendBulk('u', collection, actions.u);\n    }\n  }\n  this.bulk = null;\n};\n\nConnection.prototype._sendBulk = function(action, collection, values) {\n  if (!values) return;\n  var ids = [];\n  var versions = {};\n  var versionsCount = 0;\n  var versionId;\n  for (var id in values) {\n    var value = values[id];\n    if (value == null) {\n      ids.push(id);\n    } else {\n      versions[id] = value;\n      versionId = id;\n      versionsCount++;\n    }\n  }\n  if (ids.length === 1) {\n    var id = ids[0];\n    this.send({a: action, c: collection, d: id});\n  } else if (ids.length) {\n    this.send({a: 'b' + action, c: collection, b: ids});\n  }\n  if (versionsCount === 1) {\n    var version = versions[versionId];\n    this.send({a: action, c: collection, d: versionId, v: version});\n  } else if (versionsCount) {\n    this.send({a: 'b' + action, c: collection, b: versions});\n  }\n};\n\nConnection.prototype._sendAction = function(action, doc, version) {\n  // Ensure the doc is registered so that it receives the reply message\n  this._addDoc(doc);\n  if (this.bulk) {\n    // Bulk subscribe\n    var actions = this.bulk[doc.collection] || (this.bulk[doc.collection] = {});\n    var versions = actions[action] || (actions[action] = {});\n    var isDuplicate = versions.hasOwnProperty(doc.id);\n    versions[doc.id] = version;\n    return isDuplicate;\n  } else {\n    // Send single doc subscribe message\n    var message = {a: action, c: doc.collection, d: doc.id, v: version};\n    this.send(message);\n  }\n};\n\nConnection.prototype.sendFetch = function(doc) {\n  return this._sendAction('f', doc, doc.version);\n};\n\nConnection.prototype.sendSubscribe = function(doc) {\n  return this._sendAction('s', doc, doc.version);\n};\n\nConnection.prototype.sendUnsubscribe = function(doc) {\n  return this._sendAction('u', doc);\n};\n\nConnection.prototype.sendOp = function(doc, op) {\n  // Ensure the doc is registered so that it receives the reply message\n  this._addDoc(doc);\n  var message = {\n    a: 'op',\n    c: doc.collection,\n    d: doc.id,\n    v: doc.version,\n    src: op.src,\n    seq: op.seq\n  };\n  if (op.op) message.op = op.op;\n  if (op.create) message.create = op.create;\n  if (op.del) message.del = op.del;\n  this.send(message);\n};\n\n\n/**\n * Sends a message down the socket\n */\nConnection.prototype.send = function(message) {\n  if (this.debug) logger.info('SEND', JSON.stringify(message));\n\n  this.emit('send', message);\n  this.socket.send(JSON.stringify(message));\n};\n\n\n/**\n * Closes the socket and emits 'closed'\n */\nConnection.prototype.close = function() {\n  this.socket.close();\n};\n\nConnection.prototype.getExisting = function(collection, id) {\n  if (this.collections[collection]) return this.collections[collection][id];\n};\n\n\n/**\n * Get or create a document.\n *\n * @param collection\n * @param id\n * @return {Doc}\n */\nConnection.prototype.get = function(collection, id) {\n  var docs = this.collections[collection] ||\n    (this.collections[collection] = {});\n\n  var doc = docs[id];\n  if (!doc) {\n    doc = docs[id] = new Doc(this, collection, id);\n    this.emit('doc', doc);\n  }\n\n  return doc;\n};\n\n\n/**\n * Remove document from this.collections\n *\n * @private\n */\nConnection.prototype._destroyDoc = function(doc) {\n  var docs = this.collections[doc.collection];\n  if (!docs) return;\n\n  delete docs[doc.id];\n\n  // Delete the collection container if its empty. This could be a source of\n  // memory leaks if you slowly make a billion collections, which you probably\n  // won't do anyway, but whatever.\n  if (!util.hasKeys(docs)) {\n    delete this.collections[doc.collection];\n  }\n};\n\nConnection.prototype._addDoc = function(doc) {\n  var docs = this.collections[doc.collection];\n  if (!docs) {\n    docs = this.collections[doc.collection] = {};\n  }\n  if (docs[doc.id] !== doc) {\n    docs[doc.id] = doc;\n  }\n};\n\n// Helper for createFetchQuery and createSubscribeQuery, below.\nConnection.prototype._createQuery = function(action, collection, q, options, callback) {\n  var id = this.nextQueryId++;\n  var query = new Query(action, this, id, collection, q, options, callback);\n  this.queries[id] = query;\n  query.send();\n  return query;\n};\n\n// Internal function. Use query.destroy() to remove queries.\nConnection.prototype._destroyQuery = function(query) {\n  delete this.queries[query.id];\n};\n\n// The query options object can contain the following fields:\n//\n// db: Name of the db for the query. You can attach extraDbs to ShareDB and\n//   pick which one the query should hit using this parameter.\n\n// Create a fetch query. Fetch queries are only issued once, returning the\n// results directly into the callback.\n//\n// The callback should have the signature function(error, results, extra)\n// where results is a list of Doc objects.\nConnection.prototype.createFetchQuery = function(collection, q, options, callback) {\n  return this._createQuery('qf', collection, q, options, callback);\n};\n\n// Create a subscribe query. Subscribe queries return with the initial data\n// through the callback, then update themselves whenever the query result set\n// changes via their own event emitter.\n//\n// If present, the callback should have the signature function(error, results, extra)\n// where results is a list of Doc objects.\nConnection.prototype.createSubscribeQuery = function(collection, q, options, callback) {\n  return this._createQuery('qs', collection, q, options, callback);\n};\n\nConnection.prototype.hasPending = function() {\n  return !!(\n    this._firstDoc(hasPending) ||\n    this._firstQuery(hasPending) ||\n    this._firstSnapshotRequest()\n  );\n};\nfunction hasPending(object) {\n  return object.hasPending();\n}\n\nConnection.prototype.hasWritePending = function() {\n  return !!this._firstDoc(hasWritePending);\n};\nfunction hasWritePending(object) {\n  return object.hasWritePending();\n}\n\nConnection.prototype.whenNothingPending = function(callback) {\n  var doc = this._firstDoc(hasPending);\n  if (doc) {\n    // If a document is found with a pending operation, wait for it to emit\n    // that nothing is pending anymore, and then recheck all documents again.\n    // We have to recheck all documents, just in case another mutation has\n    // been made in the meantime as a result of an event callback\n    doc.once('nothing pending', this._nothingPendingRetry(callback));\n    return;\n  }\n  var query = this._firstQuery(hasPending);\n  if (query) {\n    query.once('ready', this._nothingPendingRetry(callback));\n    return;\n  }\n  var snapshotRequest = this._firstSnapshotRequest();\n  if (snapshotRequest) {\n    snapshotRequest.once('ready', this._nothingPendingRetry(callback));\n    return;\n  }\n  // Call back when no pending operations\n  process.nextTick(callback);\n};\nConnection.prototype._nothingPendingRetry = function(callback) {\n  var connection = this;\n  return function() {\n    process.nextTick(function() {\n      connection.whenNothingPending(callback);\n    });\n  };\n};\n\nConnection.prototype._firstDoc = function(fn) {\n  for (var collection in this.collections) {\n    var docs = this.collections[collection];\n    for (var id in docs) {\n      var doc = docs[id];\n      if (fn(doc)) {\n        return doc;\n      }\n    }\n  }\n};\n\nConnection.prototype._firstQuery = function(fn) {\n  for (var id in this.queries) {\n    var query = this.queries[id];\n    if (fn(query)) {\n      return query;\n    }\n  }\n};\n\nConnection.prototype._firstSnapshotRequest = function() {\n  for (var id in this._snapshotRequests) {\n    return this._snapshotRequests[id];\n  }\n};\n\n/**\n * Fetch a read-only snapshot at a given version\n *\n * @param collection - the collection name of the snapshot\n * @param id - the ID of the snapshot\n * @param version (optional) - the version number to fetch. If null, the latest version is fetched.\n * @param callback - (error, snapshot) => void, where snapshot takes the following schema:\n *\n * {\n *   id: string;         // ID of the snapshot\n *   v: number;          // version number of the snapshot\n *   type: string;       // the OT type of the snapshot, or null if it doesn't exist or is deleted\n *   data: any;          // the snapshot\n * }\n *\n */\nConnection.prototype.fetchSnapshot = function(collection, id, version, callback) {\n  if (typeof version === 'function') {\n    callback = version;\n    version = null;\n  }\n\n  var requestId = this.nextSnapshotRequestId++;\n  var snapshotRequest = new SnapshotVersionRequest(this, requestId, collection, id, version, callback);\n  this._snapshotRequests[snapshotRequest.requestId] = snapshotRequest;\n  snapshotRequest.send();\n};\n\n/**\n * Fetch a read-only snapshot at a given timestamp\n *\n * @param collection - the collection name of the snapshot\n * @param id - the ID of the snapshot\n * @param timestamp (optional) - the timestamp to fetch. If null, the latest version is fetched.\n * @param callback - (error, snapshot) => void, where snapshot takes the following schema:\n *\n * {\n *   id: string;         // ID of the snapshot\n *   v: number;          // version number of the snapshot\n *   type: string;       // the OT type of the snapshot, or null if it doesn't exist or is deleted\n *   data: any;          // the snapshot\n * }\n *\n */\nConnection.prototype.fetchSnapshotByTimestamp = function(collection, id, timestamp, callback) {\n  if (typeof timestamp === 'function') {\n    callback = timestamp;\n    timestamp = null;\n  }\n\n  var requestId = this.nextSnapshotRequestId++;\n  var snapshotRequest = new SnapshotTimestampRequest(this, requestId, collection, id, timestamp, callback);\n  this._snapshotRequests[snapshotRequest.requestId] = snapshotRequest;\n  snapshotRequest.send();\n};\n\nConnection.prototype._handleSnapshotFetch = function(error, message) {\n  var snapshotRequest = this._snapshotRequests[message.id];\n  if (!snapshotRequest) return;\n  delete this._snapshotRequests[message.id];\n  snapshotRequest._handleResponse(error, message);\n};\n",
    "exports.Connection = require('./connection');\nexports.Doc = require('./doc');\nexports.Error = require('../error');\nexports.Query = require('./query');\nexports.types = require('../types');\nexports.logger = require('../logger');\n",
    "/**\n * RemoteDoc adapts the ShareJS operation protocol to Racer's mutator\n * interface.\n *\n * 1. It maps Racer's mutator methods to outgoing ShareJS operations.\n * 2. It maps incoming ShareJS operations to Racer events.\n */\n\nvar Doc = require('./Doc');\nvar util = require('../util');\n\nmodule.exports = RemoteDoc;\n\nfunction RemoteDoc(model, collectionName, id, snapshot, collection) {\n  // This is a bit messy, but we have to immediately register this doc on the\n  // collection that added it, so that when we create the shareDoc and the\n  // connection emits the 'doc' event, we'll find this doc instead of\n  // creating a new one\n  if (collection) collection.docs[id] = this;\n\n  Doc.call(this, model, collectionName, id);\n  this.model = model.pass({$remote: true});\n  this.debugMutations = model.root.debug.remoteMutations;\n\n  // Get or create the Share document. Note that we must have already added\n  // this doc to the collection to avoid creating a duplicate doc\n  this.shareDoc = model.root.connection.get(collectionName, id);\n  this.shareDoc.ingestSnapshot(snapshot);\n  this._initShareDoc();\n}\n\nRemoteDoc.prototype = new Doc();\n\nRemoteDoc.prototype._initShareDoc = function() {\n  var doc = this;\n  var model = this.model;\n  var collectionName = this.collectionName;\n  var id = this.id;\n  var shareDoc = this.shareDoc;\n  // Override submitOp to disable all writes and perform a dry-run\n  if (model.root.debug.disableSubmit) {\n    shareDoc.submitOp = function() {};\n    shareDoc.create = function() {};\n    shareDoc.del = function() {};\n  }\n  // Subscribe to doc events\n  shareDoc.on('op', function(op, isLocal) {\n    // Don't emit on local operations, since they are emitted in the mutator\n    if (isLocal) return;\n    doc._updateCollectionData();\n    doc._onOp(op);\n  });\n  shareDoc.on('del', function(previous, isLocal) {\n    // Calling the shareDoc.del method does not emit an operation event,\n    // so we create the appropriate event here.\n    if (isLocal) return;\n    delete doc.collectionData[id];\n    model.emit('change', [collectionName, id], [undefined, previous, model._pass]);\n  });\n  shareDoc.on('create', function(isLocal) {\n    // Local creates should not emit an event, since they only happen\n    // implicitly as a result of another mutation, and that operation will\n    // emit the appropriate event. Remote creates can set the snapshot data\n    // without emitting an operation event, so an event needs to be emitted\n    // for them.\n    if (isLocal) return;\n    doc._updateCollectionData();\n    var value = shareDoc.data;\n    model.emit('change', [collectionName, id], [value, undefined, model._pass]);\n  });\n  shareDoc.on('error', function(err) {\n    model._emitError(err, collectionName + '.' + id);\n  });\n  shareDoc.on('load', function() {\n    doc._updateCollectionData();\n    var value = shareDoc.data;\n    // If we subscribe to an uncreated document, no need to emit 'load' event\n    if (value === undefined) return;\n    model.emit('load', [collectionName, id], [value, model._pass]);\n  });\n  this._updateCollectionData();\n};\n\nRemoteDoc.prototype._updateCollectionData = function() {\n  var data = this.shareDoc.data;\n  if (typeof data === 'object' && !Array.isArray(data) && data !== null) {\n    data.id = this.id;\n  }\n  this.collectionData[this.id] = data;\n};\n\nRemoteDoc.prototype.create = function(value, cb) {\n  if (this.debugMutations) {\n    console.log('RemoteDoc create', this.path(), value);\n  }\n  // We copy the snapshot data at time of create to prevent the id added\n  // outside of ShareJS from getting stored in the data\n  var data = util.deepCopy(value);\n  if (data) delete data.id;\n  this.shareDoc.create(data, cb);\n  // The id value will get added to the data that was passed in\n  this.shareDoc.data = value;\n  this._updateCollectionData();\n  this.model._context.createDoc(this.collectionName, this.id);\n  return;\n};\n\nRemoteDoc.prototype.set = function(segments, value, cb) {\n  if (this.debugMutations) {\n    console.log('RemoteDoc set', this.path(segments), value);\n  }\n  var previous = this._createImplied(segments);\n  var lastSegment = segments[segments.length - 1];\n  if (previous instanceof ImpliedOp) {\n    previous.value[lastSegment] = value;\n    this.shareDoc.submitOp(previous.op, cb);\n    this._updateCollectionData();\n    return;\n  }\n  var op = (util.isArrayIndex(lastSegment)) ?\n    [new ListReplaceOp(segments.slice(0, -1), lastSegment, previous, value)] :\n    [new ObjectReplaceOp(segments, previous, value)];\n  this.shareDoc.submitOp(op, cb);\n  this._updateCollectionData();\n  return previous;\n};\n\nRemoteDoc.prototype.del = function(segments, cb) {\n  if (this.debugMutations) {\n    console.log('RemoteDoc del', this.path(segments));\n  }\n  if (segments.length === 0) {\n    var previous = this.get();\n    this.shareDoc.del(cb);\n    delete this.collectionData[this.id];\n    return previous;\n  }\n  // Don't do anything if the value is already undefined, since\n  // the del method should not create anything\n  var previous = this.get(segments);\n  if (previous === undefined) {\n    cb();\n    return;\n  }\n  var op = [new ObjectDeleteOp(segments, previous)];\n  this.shareDoc.submitOp(op, cb);\n  this._updateCollectionData();\n  return previous;\n};\n\nRemoteDoc.prototype.increment = function(segments, byNumber, cb) {\n  if (this.debugMutations) {\n    console.log('RemoteDoc increment', this.path(segments), byNumber);\n  }\n  var previous = this._createImplied(segments);\n  if (previous instanceof ImpliedOp) {\n    var lastSegment = segments[segments.length - 1];\n    previous.value[lastSegment] = byNumber;\n    this.shareDoc.submitOp(previous.op, cb);\n    this._updateCollectionData();\n    return byNumber;\n  }\n  if (previous == null) {\n    var lastSegment = segments[segments.length - 1];\n    var op = (util.isArrayIndex(lastSegment)) ?\n      [new ListInsertOp(segments.slice(0, -1), lastSegment, byNumber)] :\n      [new ObjectInsertOp(segments, byNumber)];\n    this.shareDoc.submitOp(op, cb);\n    this._updateCollectionData();\n    return byNumber;\n  }\n  var op = [new IncrementOp(segments, byNumber)];\n  this.shareDoc.submitOp(op, cb);\n  this._updateCollectionData();\n  return previous + byNumber;\n};\n\nRemoteDoc.prototype.push = function(segments, value, cb) {\n  if (this.debugMutations) {\n    console.log('RemoteDoc push', this.path(segments), value);\n  }\n  var shareDoc = this.shareDoc;\n  function push(arr, fnCb) {\n    var op = [new ListInsertOp(segments, arr.length, value)];\n    shareDoc.submitOp(op, fnCb);\n    return arr.length;\n  }\n  return this._arrayApply(segments, push, cb);\n};\n\nRemoteDoc.prototype.unshift = function(segments, value, cb) {\n  if (this.debugMutations) {\n    console.log('RemoteDoc unshift', this.path(segments), value);\n  }\n  var shareDoc = this.shareDoc;\n  function unshift(arr, fnCb) {\n    var op = [new ListInsertOp(segments, 0, value)];\n    shareDoc.submitOp(op, fnCb);\n    return arr.length;\n  }\n  return this._arrayApply(segments, unshift, cb);\n};\n\nRemoteDoc.prototype.insert = function(segments, index, values, cb) {\n  if (this.debugMutations) {\n    console.log('RemoteDoc insert', this.path(segments), index, values);\n  }\n  var shareDoc = this.shareDoc;\n  function insert(arr, fnCb) {\n    var op = createInsertOp(segments, index, values);\n    shareDoc.submitOp(op, fnCb);\n    return arr.length;\n  }\n  return this._arrayApply(segments, insert, cb);\n};\n\nfunction createInsertOp(segments, index, values) {\n  if (!Array.isArray(values)) {\n    return [new ListInsertOp(segments, index, values)];\n  }\n  var op = [];\n  for (var i = 0, len = values.length; i < len; i++) {\n    op.push(new ListInsertOp(segments, index++, values[i]));\n  }\n  return op;\n}\n\nRemoteDoc.prototype.pop = function(segments, cb) {\n  if (this.debugMutations) {\n    console.log('RemoteDoc pop', this.path(segments));\n  }\n  var shareDoc = this.shareDoc;\n  function pop(arr, fnCb) {\n    var index = arr.length - 1;\n    var value = arr[index];\n    var op = [new ListRemoveOp(segments, index, value)];\n    shareDoc.submitOp(op, fnCb);\n    return value;\n  }\n  return this._arrayApply(segments, pop, cb);\n};\n\nRemoteDoc.prototype.shift = function(segments, cb) {\n  if (this.debugMutations) {\n    console.log('RemoteDoc shift', this.path(segments));\n  }\n  var shareDoc = this.shareDoc;\n  function shift(arr, fnCb) {\n    var value = arr[0];\n    var op = [new ListRemoveOp(segments, 0, value)];\n    shareDoc.submitOp(op, fnCb);\n    return value;\n  }\n  return this._arrayApply(segments, shift, cb);\n};\n\nRemoteDoc.prototype.remove = function(segments, index, howMany, cb) {\n  if (this.debugMutations) {\n    console.log('RemoteDoc remove', this.path(segments), index, howMany);\n  }\n  var shareDoc = this.shareDoc;\n  function remove(arr, fnCb) {\n    var values = arr.slice(index, index + howMany);\n    var op = [];\n    for (var i = 0, len = values.length; i < len; i++) {\n      op.push(new ListRemoveOp(segments, index, values[i]));\n    }\n    shareDoc.submitOp(op, fnCb);\n    return values;\n  }\n  return this._arrayApply(segments, remove, cb);\n};\n\nRemoteDoc.prototype.move = function(segments, from, to, howMany, cb) {\n  if (this.debugMutations) {\n    console.log('RemoteDoc move', this.path(segments), from, to, howMany);\n  }\n  var shareDoc = this.shareDoc;\n  function move(arr, fnCb) {\n    // Get the return value\n    var values = arr.slice(from, from + howMany);\n\n    // Build an op that moves each item individually\n    var op = [];\n    for (var i = 0; i < howMany; i++) {\n      op.push(new ListMoveOp(segments, (from < to) ? from : from + howMany - 1, (from < to) ? to + howMany - 1 : to));\n    }\n    shareDoc.submitOp(op, fnCb);\n\n    return values;\n  }\n  return this._arrayApply(segments, move, cb);\n};\n\nRemoteDoc.prototype.stringInsert = function(segments, index, value, cb) {\n  if (this.debugMutations) {\n    console.log('RemoteDoc stringInsert', this.path(segments), index, value);\n  }\n  var previous = this._createImplied(segments);\n  if (previous instanceof ImpliedOp) {\n    var lastSegment = segments[segments.length - 1];\n    previous.value[lastSegment] = value;\n    this.shareDoc.submitOp(previous.op, cb);\n    this._updateCollectionData();\n    return;\n  }\n  if (previous == null) {\n    var lastSegment = segments[segments.length - 1];\n    var op = (util.isArrayIndex(lastSegment)) ?\n      [new ListInsertOp(segments.slice(0, -1), lastSegment, value)] :\n      [new ObjectInsertOp(segments, value)];\n    this.shareDoc.submitOp(op, cb);\n    this._updateCollectionData();\n    return previous;\n  }\n  var op = [new StringInsertOp(segments, index, value)];\n  this.shareDoc.submitOp(op, cb);\n  this._updateCollectionData();\n  return previous;\n};\n\nRemoteDoc.prototype.stringRemove = function(segments, index, howMany, cb) {\n  if (this.debugMutations) {\n    console.log('RemoteDoc stringRemove', this.path(segments), index, howMany);\n  }\n  var previous = this._createImplied(segments);\n  if (previous instanceof ImpliedOp) return;\n  if (previous == null) return previous;\n  var removed = previous.slice(index, index + howMany);\n  var op = [new StringRemoveOp(segments, index, removed)];\n  this.shareDoc.submitOp(op, cb);\n  this._updateCollectionData();\n  return previous;\n};\n\nRemoteDoc.prototype.subtypeSubmit = function(segments, subtype, subtypeOp, cb) {\n  if (this.debugMutations) {\n    console.log('RemoteDoc subtypeSubmit', this.path(segments), subtype, subtypeOp);\n  }\n  var previous = this._createImplied(segments);\n  if (previous instanceof ImpliedOp) {\n    this.shareDoc.submitOp(previous.op);\n    previous = undefined;\n  }\n  var op = new SubtypeOp(segments, subtype, subtypeOp);\n  this.shareDoc.submitOp(op, cb);\n  this._updateCollectionData();\n  return previous;\n};\n\nRemoteDoc.prototype.get = function(segments) {\n  return util.lookup(segments, this.shareDoc.data);\n};\n\nRemoteDoc.prototype._createImplied = function(segments) {\n  if (!this.shareDoc.type) {\n    throw new Error('Mutation on uncreated remote document');\n  }\n  var parent = this.shareDoc;\n  var key = 'data';\n  var node = parent[key];\n  var i = 0;\n  var nextKey = segments[i++];\n  var op, value;\n  while (nextKey != null) {\n    if (!node) {\n      if (op) {\n        value = value[key] = util.isArrayIndex(nextKey) ? [] : {};\n      } else {\n        value = util.isArrayIndex(nextKey) ? [] : {};\n        if (Array.isArray(parent)) {\n          if (key >= parent.length) {\n            op = new ListInsertOp(segments.slice(0, i - 2), key, value);\n          } else {\n            op = new ListReplaceOp(segments.slice(0, i - 2), key, node, value);\n          }\n        } else {\n          op = new ObjectInsertOp(segments.slice(0, i - 1), value);\n        }\n      }\n      node = value;\n    }\n    parent = node;\n    key = nextKey;\n    node = parent[key];\n    nextKey = segments[i++];\n  }\n  if (op) return new ImpliedOp(op, value);\n  return node;\n};\n\nfunction ImpliedOp(op, value) {\n  this.op = op;\n  this.value = value;\n}\n\nRemoteDoc.prototype._arrayApply = function(segments, fn, cb) {\n  var arr = this._createImplied(segments);\n  if (arr instanceof ImpliedOp) {\n    this.shareDoc.submitOp(arr.op);\n    arr = this.get(segments);\n  }\n  if (arr == null) {\n    var lastSegment = segments[segments.length - 1];\n    var op = (util.isArrayIndex(lastSegment)) ?\n      [new ListInsertOp(segments.slice(0, -1), lastSegment, [])] :\n      [new ObjectInsertOp(segments, [])];\n    this.shareDoc.submitOp(op);\n    arr = this.get(segments);\n  }\n\n  if (!Array.isArray(arr)) {\n    var message = this._errorMessage(fn.name + ' on non-array', segments, arr);\n    var err = new TypeError(message);\n    return cb(err);\n  }\n  var out = fn(arr, cb);\n  this._updateCollectionData();\n  return out;\n};\n\nRemoteDoc.prototype._onOp = function(op) {\n  var item;\n  if (op.length === 1) {\n    // ShareDB docs shatter json0 ops into single components during apply\n    item = op[0];\n  } else if (op.length === 0) {\n    // Ignore no-ops\n    return;\n  } else {\n    try {\n      op = JSON.stringify(op);\n    } catch (err) {}\n    throw new Error('Received op with multiple components from ShareDB ' + op);\n  }\n  var segments = [this.collectionName, this.id].concat(item.p);\n  var model = this.model;\n\n  // ObjectReplaceOp, ObjectInsertOp, or ObjectDeleteOp\n  if (defined(item.oi) || defined(item.od)) {\n    var value = item.oi;\n    var previous = item.od;\n    model.emit('change', segments, [value, previous, model._pass]);\n\n  // ListReplaceOp\n  } else if (defined(item.li) && defined(item.ld)) {\n    var value = item.li;\n    var previous = item.ld;\n    model.emit('change', segments, [value, previous, model._pass]);\n\n  // ListInsertOp\n  } else if (defined(item.li)) {\n    var index = segments[segments.length - 1];\n    var values = [item.li];\n    model.emit('insert', segments.slice(0, -1), [index, values, model._pass]);\n\n  // ListRemoveOp\n  } else if (defined(item.ld)) {\n    var index = segments[segments.length - 1];\n    var removed = [item.ld];\n    model.emit('remove', segments.slice(0, -1), [index, removed, model._pass]);\n\n  // ListMoveOp\n  } else if (defined(item.lm)) {\n    var from = segments[segments.length - 1];\n    var to = item.lm;\n    var howMany = 1;\n    model.emit('move', segments.slice(0, -1), [from, to, howMany, model._pass]);\n\n  // StringInsertOp\n  } else if (defined(item.si)) {\n    var index = segments[segments.length - 1];\n    var text = item.si;\n    segments = segments.slice(0, -1);\n    var value = model._get(segments);\n    var previous = value.slice(0, index) + value.slice(index + text.length);\n    var pass = model.pass({$stringInsert: {index: index, text: text}})._pass;\n    model.emit('change', segments, [value, previous, pass]);\n\n  // StringRemoveOp\n  } else if (defined(item.sd)) {\n    var index = segments[segments.length - 1];\n    var text = item.sd;\n    var howMany = text.length;\n    segments = segments.slice(0, -1);\n    var value = model._get(segments);\n    var previous = value.slice(0, index) + text + value.slice(index);\n    var pass = model.pass({$stringRemove: {index: index, howMany: howMany}})._pass;\n    model.emit('change', segments, [value, previous, pass]);\n\n  // IncrementOp\n  } else if (defined(item.na)) {\n    var value = this.get(item.p);\n    var previous = value - item.na;\n    model.emit('change', segments, [value, previous, model._pass]);\n\n  // SubtypeOp\n  } else if (defined(item.t)) {\n    var value = this.get(item.p);\n    // Since this is generic to all subtypes, we don't know how to get a copy\n    // of the previous value efficiently. We could make a copy eagerly, but\n    // given that embedded types are likely to be used for custom editors,\n    // we'll assume they primarily use the returned op and are unlikely to\n    // need the previous snapshot data\n    var previous = undefined;\n    var type = item.t;\n    var op = item.o;\n    var pass = model.pass({$subtype: {type: type, op: op}})._pass;\n    model.emit('change', segments, [value, previous, pass]);\n  }\n};\n\nfunction ObjectReplaceOp(segments, before, after) {\n  this.p = util.castSegments(segments);\n  this.od = before;\n  this.oi = (after === undefined) ? null : after;\n}\nfunction ObjectInsertOp(segments, value) {\n  this.p = util.castSegments(segments);\n  this.oi = (value === undefined) ? null : value;\n}\nfunction ObjectDeleteOp(segments, value) {\n  this.p = util.castSegments(segments);\n  this.od = (value === undefined) ? null : value;\n}\nfunction ListReplaceOp(segments, index, before, after) {\n  this.p = util.castSegments(segments.concat(index));\n  this.ld = before;\n  this.li = (after === undefined) ? null : after;\n}\nfunction ListInsertOp(segments, index, value) {\n  this.p = util.castSegments(segments.concat(index));\n  this.li = (value === undefined) ? null : value;\n}\nfunction ListRemoveOp(segments, index, value) {\n  this.p = util.castSegments(segments.concat(index));\n  this.ld = (value === undefined) ? null : value;\n}\nfunction ListMoveOp(segments, from, to) {\n  this.p = util.castSegments(segments.concat(from));\n  this.lm = to;\n}\nfunction StringInsertOp(segments, index, value) {\n  this.p = util.castSegments(segments.concat(index));\n  this.si = value;\n}\nfunction StringRemoveOp(segments, index, value) {\n  this.p = util.castSegments(segments.concat(index));\n  this.sd = value;\n}\nfunction IncrementOp(segments, byNumber) {\n  this.p = util.castSegments(segments);\n  this.na = byNumber;\n}\nfunction SubtypeOp(segments, subtype, subtypeOp) {\n  this.p = util.castSegments(segments);\n  this.t = subtype;\n  this.o = subtypeOp;\n}\n\nfunction defined(value) {\n  return value !== undefined;\n}\n",
    "var Connection = require('sharedb/lib/client').Connection;\nvar Model = require('./Model');\nvar LocalDoc = require('./LocalDoc');\nvar RemoteDoc = require('./RemoteDoc');\n\nModel.INITS.push(function(model) {\n  model.root._preventCompose = false;\n});\n\nModel.prototype.preventCompose = function() {\n  var model = this._child();\n  model._preventCompose = true;\n  return model;\n};\n\nModel.prototype.allowCompose = function() {\n  var model = this._child();\n  model._preventCompose = false;\n  return model;\n};\n\nModel.prototype.createConnection = function(bundle) {\n  // Model::_createSocket should be defined by the socket plugin\n  this.root.socket = this._createSocket(bundle);\n\n  // The Share connection will bind to the socket by defining the onopen,\n  // onmessage, etc. methods\n  var model = this;\n  this.root.connection = new Connection(this.root.socket);\n  this.root.connection.on('state', function(state, reason) {\n    model._setDiff(['$connection', 'state'], state);\n    model._setDiff(['$connection', 'reason'], reason);\n  });\n  this._set(['$connection', 'state'], 'connected');\n\n  this._finishCreateConnection();\n};\n\nModel.prototype._finishCreateConnection = function() {\n  var model = this;\n  this.root.connection.on('error', function(err) {\n    model._emitError(err);\n  });\n  // Share docs can be created by queries, so we need to register them\n  // with Racer as soon as they are created to capture their events\n  this.root.connection.on('doc', function(shareDoc) {\n    model.getOrCreateDoc(shareDoc.collection, shareDoc.id);\n  });\n};\n\nModel.prototype.connect = function() {\n  this.root.socket.open();\n};\nModel.prototype.disconnect = function() {\n  this.root.socket.close();\n};\nModel.prototype.reconnect = function() {\n  this.disconnect();\n  this.connect();\n};\n// Clean delayed disconnect\nModel.prototype.close = function(cb) {\n  cb = this.wrapCallback(cb);\n  var model = this;\n  this.whenNothingPending(function() {\n    model.root.socket.close();\n    cb();\n  });\n};\n\n// Returns a reference to the ShareDB agent if it is connected directly on the\n// server. Will return null if the ShareDB connection has been disconnected or\n// if we are not in the same process and we do not have a reference to the\n// server-side agent object\nModel.prototype.getAgent = function() {\n  return this.root.connection.agent;\n};\n\nModel.prototype._isLocal = function(name) {\n  // Whether the collection is local or remote is determined by its name.\n  // Collections starting with an underscore ('_') are for user-defined local\n  // collections, those starting with a dollar sign ('$'') are for\n  // framework-defined local collections, and all others are remote.\n  var firstCharcter = name.charAt(0);\n  return firstCharcter === '_' || firstCharcter === '$';\n};\n\nModel.prototype._getDocConstructor = function(name) {\n  return (this._isLocal(name)) ? LocalDoc : RemoteDoc;\n};\n\nModel.prototype.hasPending = function() {\n  return this.root.connection.hasPending();\n};\nModel.prototype.hasWritePending = function() {\n  return this.root.connection.hasWritePending();\n};\nModel.prototype.whenNothingPending = function(cb) {\n  return this.root.connection.whenNothingPending(cb);\n};\n",
    "var util = require('../util');\nvar Model = require('./Model');\nvar defaultType = require('sharedb/lib/client').types.defaultType;\n\nmodule.exports = Query;\n\nModel.INITS.push(function(model) {\n  model.root._queries = new Queries();\n});\n\nModel.prototype.query = function(collectionName, expression, options) {\n  // DEPRECATED: Passing in a string as the third argument specifies the db\n  // option for backward compatibility\n  if (typeof options === 'string') {\n    options = {db: options};\n  }\n  return this._getOrCreateQuery(collectionName, expression, options, Query);\n};\n\n/**\n * If an existing query is present with the same `collectionName`, `expression`,\n * and `options`, then returns the existing query; otherwise, constructs and\n * returns a new query using `QueryConstructor`.\n *\n * @param {string} collectionName\n * @param {*} expression\n * @param {*} options\n * @param {new (model: Model, collectionName: string, expression: any, options: any) => Query} QueryConstructor -\n *   constructor function for a Query, to create one if not already present on this model\n */\nModel.prototype._getOrCreateQuery = function(collectionName, expression, options, QueryConstructor) {\n  expression = this.sanitizeQuery(expression);\n  var query = this.root._queries.get(collectionName, expression, options);\n  if (query) return query;\n  query = new QueryConstructor(this, collectionName, expression, options);\n  this.root._queries.add(query);\n  return query;\n};\n\n// This method replaces undefined in query objects with null, because\n// undefined properties are removed in JSON stringify. This can be dangerous\n// in queries, where presenece of a property may indicate that it should be a\n// filter and absence means that all values are accepted. We aren't checking\n// for cycles, which aren't allowed in JSON, so this could throw a max call\n// stack error\nModel.prototype.sanitizeQuery = function(expression) {\n  if (expression && typeof expression === 'object') {\n    for (var key in expression) {\n      if (expression.hasOwnProperty(key)) {\n        var value = expression[key];\n        if (value === undefined) {\n          expression[key] = null;\n        } else {\n          this.sanitizeQuery(value);\n        }\n      }\n    }\n  }\n  return expression;\n};\n\n// Called during initialization of the bundle on page load.\nModel.prototype._initQueries = function(items) {\n  var queries = this.root._queries;\n  for (var i = 0; i < items.length; i++) {\n    var item = items[i];\n    var counts = item[0];\n    var collectionName = item[1];\n    var expression = item[2];\n    var results = item[3] || [];\n    var options = item[4];\n    var extra = item[5];\n    var query = this.root._queries.get(collectionName, expression, options);\n    if (!query) {\n      query = new Query(this, collectionName, expression, options);\n      queries.add(query);\n    }\n\n    query._setExtra(extra);\n\n    var ids = [];\n    for (var resultIndex = 0; resultIndex < results.length; resultIndex++) {\n      var result = results[resultIndex];\n      if (typeof result === 'string') {\n        ids.push(result);\n        continue;\n      }\n      var data = result[0];\n      var v = result[1];\n      var id = result[2] || data.id;\n      var type = result[3];\n      ids.push(id);\n      var snapshot = {data: data, v: v, type: type};\n      this.getOrCreateDoc(collectionName, id, snapshot);\n    }\n    query._addMapIds(ids);\n    this._set(query.idsSegments, ids);\n\n    for (var countIndex = 0; countIndex < counts.length; countIndex++) {\n      var count = counts[countIndex];\n      var subscribed = count[0] || 0;\n      var fetched = count[1] || 0;\n      var contextId = count[2];\n      if (contextId) query.model.setContext(contextId);\n      while (subscribed--) {\n        query.subscribe();\n      }\n      query.fetchCount += fetched;\n      while (fetched--) {\n        query.model._context.fetchQuery(query);\n      }\n    }\n  }\n};\n\nfunction Queries() {\n  // Map is a flattened map of queries by hash. Currently used in contexts\n  this.map = {};\n  // Collections is a nested map of queries by collection then hash\n  this.collections = {};\n}\nQueries.prototype.add = function(query) {\n  this.map[query.hash] = query;\n  var collection = this.collections[query.collectionName] ||\n    (this.collections[query.collectionName] = {});\n  collection[query.hash] = query;\n};\nQueries.prototype.remove = function(query) {\n  delete this.map[query.hash];\n  var collection = this.collections[query.collectionName];\n  if (!collection) return;\n  delete collection[query.hash];\n  // Check if the collection still has any keys\n  // eslint-disable-next-line no-unused-vars\n  for (var key in collection) return;\n  delete this.collections[query.collectionName];\n};\nQueries.prototype.get = function(collectionName, expression, options) {\n  var hash = queryHash(collectionName, expression, options);\n  return this.map[hash];\n};\nQueries.prototype.toJSON = function() {\n  var out = [];\n  for (var hash in this.map) {\n    var query = this.map[hash];\n    if (query.subscribeCount || query.fetchCount) {\n      out.push(query.serialize());\n    }\n  }\n  return out;\n};\n\nfunction Query(model, collectionName, expression, options) {\n  this.model = model.pass({$query: this});\n  this.collectionName = collectionName;\n  this.expression = expression;\n  this.options = options;\n  this.hash = queryHash(collectionName, expression, options);\n  this.segments = ['$queries', this.hash];\n  this.idsSegments = ['$queries', this.hash, 'ids'];\n  this.extraSegments = ['$queries', this.hash, 'extra'];\n\n  this._pendingSubscribeCallbacks = [];\n\n  // These are used to help cleanup appropriately when calling unsubscribe and\n  // unfetch. A query won't be fully cleaned up until unfetch and unsubscribe\n  // are called the same number of times that fetch and subscribe were called.\n  this.subscribeCount = 0;\n  this.fetchCount = 0;\n\n  this.created = false;\n  this.shareQuery = null;\n\n  // idMap is checked in maybeUnload to see if the query is currently holding\n  // a reference to an id in its results set. This map is duplicative of the\n  // actual results id list stored in the model, but we are maintaining it,\n  // because otherwise maybeUnload would be looping through the entire results\n  // set of each query on the same collection for every doc checked\n  //\n  // Map of id -> count of ids\n  this.idMap = {};\n}\n\nQuery.prototype.create = function() {\n  this.created = true;\n  this.model.root._queries.add(this);\n};\n\nQuery.prototype.destroy = function() {\n  var ids = this.getIds();\n  this.created = false;\n  if (this.shareQuery) {\n    this.shareQuery.destroy();\n    this.shareQuery = null;\n  }\n  this.model.root._queries.remove(this);\n  this.idMap = {};\n  this.model._del(this.segments);\n  this._maybeUnloadDocs(ids);\n};\n\nQuery.prototype.fetch = function(cb) {\n  cb = this.model.wrapCallback(cb);\n  this.model._context.fetchQuery(this);\n\n  this.fetchCount++;\n\n  if (!this.created) this.create();\n\n  var query = this;\n  function fetchCb(err, results, extra) {\n    if (err) return cb(err);\n    query._setExtra(extra);\n    query._setResults(results);\n    cb();\n  }\n  this.model.root.connection.createFetchQuery(\n    this.collectionName,\n    this.expression,\n    this.options,\n    fetchCb\n  );\n  return this;\n};\n\nQuery.prototype.subscribe = function(cb) {\n  cb = this.model.wrapCallback(cb);\n  this.model._context.subscribeQuery(this);\n\n  if (this.subscribeCount++) {\n    var query = this;\n    process.nextTick(function() {\n      var data = query.model._get(query.segments);\n      if (data) {\n        cb();\n      } else {\n        query._pendingSubscribeCallbacks.push(cb);\n      }\n    });\n    return this;\n  }\n\n  if (!this.created) this.create();\n\n  var options = (this.options) ? util.copy(this.options) : {};\n  options.results = this._getShareResults();\n\n  // When doing server-side rendering, we actually do a fetch the first time\n  // that subscribe is called, but keep track of the state as if subscribe\n  // were called for proper initialization in the client\n  if (this.model.root.fetchOnly) {\n    this._shareFetchedSubscribe(options, cb);\n  } else {\n    this._shareSubscribe(options, cb);\n  }\n\n  return this;\n};\n\nQuery.prototype._subscribeCb = function(cb) {\n  var query = this;\n  return function subscribeCb(err, results, extra) {\n    if (err) return query._flushSubscribeCallbacks(err, cb);\n    query._setExtra(extra);\n    query._setResults(results);\n    query._flushSubscribeCallbacks(null, cb);\n  };\n};\n\nQuery.prototype._shareFetchedSubscribe = function(options, cb) {\n  this.model.root.connection.createFetchQuery(\n    this.collectionName,\n    this.expression,\n    options,\n    this._subscribeCb(cb)\n  );\n};\n\nQuery.prototype._shareSubscribe = function(options, cb) {\n  var query = this;\n  // Sanity check, though this shouldn't happen\n  if (this.shareQuery) {\n    this.shareQuery.destroy();\n  }\n  this.shareQuery = this.model.root.connection.createSubscribeQuery(\n    this.collectionName,\n    this.expression,\n    options,\n    this._subscribeCb(cb)\n  );\n  this.shareQuery.on('insert', function(shareDocs, index) {\n    var ids = resultsIds(shareDocs);\n    query._addMapIds(ids);\n    query.model._insert(query.idsSegments, index, ids);\n  });\n  this.shareQuery.on('remove', function(shareDocs, index) {\n    var ids = resultsIds(shareDocs);\n    query._removeMapIds(ids);\n    query.model._remove(query.idsSegments, index, shareDocs.length);\n  });\n  this.shareQuery.on('move', function(shareDocs, from, to) {\n    query.model._move(query.idsSegments, from, to, shareDocs.length);\n  });\n  this.shareQuery.on('extra', function(extra) {\n    query.model._setDiffDeep(query.extraSegments, extra);\n  });\n  this.shareQuery.on('error', function(err) {\n    query.model._emitError(err, query.hash);\n  });\n};\n\nQuery.prototype._removeMapIds = function(ids) {\n  for (var i = ids.length; i--;) {\n    var id = ids[i];\n    if (this.idMap[id] > 1) {\n      this.idMap[id]--;\n    } else {\n      delete this.idMap[id];\n    }\n  }\n  // Technically this isn't quite right and we might not wait the full unload\n  // delay if someone else calls maybeUnload for the same doc id. However,\n  // it is a lot easier to implement than delaying the removal until later and\n  // dealing with adds that might happen in the meantime. This will probably\n  // work to avoid thrashing subscribe/unsubscribe in expected cases\n  if (this.model.root.unloadDelay) {\n    var query = this;\n    setTimeout(function() {\n      query._maybeUnloadDocs(ids);\n    }, this.model.root.unloadDelay);\n    return;\n  }\n  this._maybeUnloadDocs(ids);\n};\nQuery.prototype._addMapIds = function(ids) {\n  for (var i = ids.length; i--;) {\n    var id = ids[i];\n    this.idMap[id] = (this.idMap[id] || 0) + 1;\n  }\n};\nQuery.prototype._diffMapIds = function(ids) {\n  var addedIds = [];\n  var removedIds = [];\n  var newMap = {};\n  for (var i = ids.length; i--;) {\n    var id = ids[i];\n    newMap[id] = true;\n    if (this.idMap[id]) continue;\n    addedIds.push(id);\n  }\n  for (var id in this.idMap) {\n    if (newMap[id]) continue;\n    removedIds.push(id);\n  }\n  if (addedIds.length) this._addMapIds(addedIds);\n  if (removedIds.length) this._removeMapIds(removedIds);\n};\nQuery.prototype._setExtra = function(extra) {\n  if (extra === undefined) return;\n  this.model._setDiffDeep(this.extraSegments, extra);\n};\nQuery.prototype._setResults = function(results) {\n  var ids = resultsIds(results);\n  this._setResultIds(ids);\n};\nQuery.prototype._setResultIds = function(ids) {\n  this._diffMapIds(ids);\n  this.model._setArrayDiff(this.idsSegments, ids);\n};\nQuery.prototype._maybeUnloadDocs = function(ids) {\n  for (var i = 0; i < ids.length; i++) {\n    var id = ids[i];\n    this.model._maybeUnloadDoc(this.collectionName, id);\n  }\n};\n\n// Flushes `_pendingSubscribeCallbacks`, calling each callback in the array,\n// with an optional error to pass into each. `_pendingSubscribeCallbacks` will\n// be empty after this runs.\nQuery.prototype._flushSubscribeCallbacks = function(err, cb) {\n  cb(err);\n  var pendingCallback;\n  while ((pendingCallback = this._pendingSubscribeCallbacks.shift())) {\n    pendingCallback(err);\n  }\n};\n\nQuery.prototype.unfetch = function(cb) {\n  cb = this.model.wrapCallback(cb);\n  this.model._context.unfetchQuery(this);\n\n  // No effect if the query is not currently fetched\n  if (!this.fetchCount) {\n    cb();\n    return this;\n  }\n\n  var query = this;\n  if (this.model.root.unloadDelay) {\n    setTimeout(finishUnfetchQuery, this.model.root.unloadDelay);\n  } else {\n    finishUnfetchQuery();\n  }\n  function finishUnfetchQuery() {\n    var count = --query.fetchCount;\n    if (count) return cb(null, count);\n    // Cleanup when no fetches or subscribes remain\n    if (!query.subscribeCount) query.destroy();\n    cb(null, 0);\n  }\n  return this;\n};\n\nQuery.prototype.unsubscribe = function(cb) {\n  cb = this.model.wrapCallback(cb);\n  this.model._context.unsubscribeQuery(this);\n\n  // No effect if the query is not currently subscribed\n  if (!this.subscribeCount) {\n    cb();\n    return this;\n  }\n\n  var query = this;\n  if (this.model.root.unloadDelay) {\n    setTimeout(finishUnsubscribeQuery, this.model.root.unloadDelay);\n  } else {\n    finishUnsubscribeQuery();\n  }\n  function finishUnsubscribeQuery() {\n    var count = --query.subscribeCount;\n    if (count) return cb(null, count);\n\n    if (query.shareQuery) {\n      query.shareQuery.destroy();\n      query.shareQuery = null;\n    }\n\n    unsubscribeQueryCallback();\n  }\n  function unsubscribeQueryCallback(err) {\n    if (err) return cb(err);\n    // Cleanup when no fetches or subscribes remain\n    if (!query.fetchCount) query.destroy();\n    cb(null, 0);\n  }\n  return this;\n};\n\nQuery.prototype._getShareResults = function() {\n  var ids = this.model._get(this.idsSegments);\n  if (!ids) return;\n\n  var collection = this.model.getCollection(this.collectionName);\n  if (!collection) return;\n\n  var results = [];\n  for (var i = 0; i < ids.length; i++) {\n    var id = ids[i];\n    var doc = collection.docs[id];\n    results.push(doc && doc.shareDoc);\n  }\n  return results;\n};\n\nQuery.prototype.get = function() {\n  var results = [];\n  var data = this.model._get(this.segments);\n  if (!data) {\n    console.warn('You must fetch or subscribe to a query before getting its results.');\n    return results;\n  }\n  var ids = data.ids;\n  if (!ids) return results;\n\n  var collection = this.model.getCollection(this.collectionName);\n  for (var i = 0, l = ids.length; i < l; i++) {\n    var id = ids[i];\n    var doc = collection && collection.docs[id];\n    results.push(doc && doc.get());\n  }\n  return results;\n};\n\nQuery.prototype.getIds = function() {\n  return this.model._get(this.idsSegments) || [];\n};\n\nQuery.prototype.getExtra = function() {\n  return this.model._get(this.extraSegments);\n};\n\nQuery.prototype.ref = function(from) {\n  var idsPath = this.idsSegments.join('.');\n  return this.model.refList(from, this.collectionName, idsPath);\n};\n\nQuery.prototype.refIds = function(from) {\n  var idsPath = this.idsSegments.join('.');\n  return this.model.root.ref(from, idsPath);\n};\n\nQuery.prototype.refExtra = function(from, relPath) {\n  var extraPath = this.extraSegments.join('.');\n  if (relPath) extraPath += '.' + relPath;\n  return this.model.root.ref(from, extraPath);\n};\n\nQuery.prototype.serialize = function() {\n  var ids = this.getIds();\n  var collection = this.model.getCollection(this.collectionName);\n  var results;\n  if (collection) {\n    results = [];\n    for (var i = 0; i < ids.length; i++) {\n      var id = ids[i];\n      var doc = collection.docs[id];\n      if (doc) {\n        delete collection.docs[id];\n        var data = doc.shareDoc.data;\n        var result = [data, doc.shareDoc.version];\n        if (!data || data.id !== id) {\n          result[2] = id;\n        }\n        if (doc.shareDoc.type !== defaultType) {\n          result[3] = doc.shareDoc.type && doc.shareDoc.type.name;\n        }\n        results.push(result);\n      } else {\n        results.push(id);\n      }\n    }\n  }\n  var counts = [];\n  var contexts = this.model.root._contexts;\n  for (var key in contexts) {\n    var context = contexts[key];\n    var subscribed = context.subscribedQueries[this.hash] || 0;\n    var fetched = context.fetchedQueries[this.hash] || 0;\n    if (subscribed || fetched) {\n      if (key !== 'root') {\n        counts.push([subscribed, fetched, key]);\n      } else if (fetched) {\n        counts.push([subscribed, fetched]);\n      } else {\n        counts.push([subscribed]);\n      }\n    }\n  }\n  var serialized = [\n    counts,\n    this.collectionName,\n    this.expression,\n    results,\n    this.options,\n    this.getExtra()\n  ];\n  while (serialized[serialized.length - 1] == null) {\n    serialized.pop();\n  }\n  return serialized;\n};\n\nfunction queryHash(collectionName, expression, options) {\n  var args = [collectionName, expression, options];\n  return JSON.stringify(args).replace(/\\./g, '|');\n}\n\nfunction resultsIds(results) {\n  var ids = [];\n  for (var i = 0; i < results.length; i++) {\n    var shareDoc = results[i];\n    ids.push(shareDoc.id);\n  }\n  return ids;\n}\n",
    "module.exports = CollectionCounter;\n\nfunction CollectionCounter() {\n  this.reset();\n}\nCollectionCounter.prototype.reset = function() {\n  this.collections = {};\n};\nCollectionCounter.prototype.get = function(collectionName, id) {\n  var collection = this.collections[collectionName];\n  return collection && collection[id];\n};\nCollectionCounter.prototype.increment = function(collectionName, id) {\n  var collection = this.collections[collectionName] ||\n    (this.collections[collectionName] = {});\n  var count = (collection[id] || 0) + 1;\n  collection[id] = count;\n  return count;\n};\nCollectionCounter.prototype.decrement = function(collectionName, id) {\n  var collection = this.collections[collectionName];\n  var count = collection && collection[id];\n  if (count == null) return;\n  if (count > 1) {\n    count--;\n    collection[id] = count;\n    return count;\n  }\n  delete collection[id];\n  // Check if the collection still has any keys\n  // eslint-disable-next-line no-unused-vars\n  for (var key in collection) return 0;\n  delete this.collections[collectionName];\n  return 0;\n};\nCollectionCounter.prototype.toJSON = function() {\n  // Check to see if we have any keys\n  // eslint-disable-next-line no-unused-vars\n  for (var key in this.collections) {\n    return this.collections;\n  }\n  return;\n};\n",
    "var util = require('../util');\nvar Model = require('./Model');\nvar Query = require('./Query');\nvar CollectionCounter = require('./CollectionCounter');\n\nModel.INITS.push(function(model, options) {\n  model.root.fetchOnly = options.fetchOnly;\n  model.root.unloadDelay = options.unloadDelay || (util.isServer) ? 0 : 1000;\n\n  // Track the total number of active fetches per doc\n  model.root._fetchedDocs = new CollectionCounter();\n  // Track the total number of active susbscribes per doc\n  model.root._subscribedDocs = new CollectionCounter();\n});\n\nModel.prototype.fetch = function() {\n  this._forSubscribable(arguments, 'fetch');\n  return this;\n};\nModel.prototype.unfetch = function() {\n  this._forSubscribable(arguments, 'unfetch');\n  return this;\n};\nModel.prototype.subscribe = function() {\n  this._forSubscribable(arguments, 'subscribe');\n  return this;\n};\nModel.prototype.unsubscribe = function() {\n  this._forSubscribable(arguments, 'unsubscribe');\n  return this;\n};\n\nModel.prototype._forSubscribable = function(argumentsObject, method) {\n  var args, cb;\n  if (!argumentsObject.length) {\n    // Use this model's scope if no arguments\n    args = [null];\n  } else if (typeof argumentsObject[0] === 'function') {\n    // Use this model's scope if the first argument is a callback\n    args = [null];\n    cb = argumentsObject[0];\n  } else if (Array.isArray(argumentsObject[0])) {\n    // Items can be passed in as an array\n    args = argumentsObject[0];\n    cb = argumentsObject[1];\n  } else {\n    // Or as multiple arguments\n    args = Array.prototype.slice.call(argumentsObject);\n    var last = args[args.length - 1];\n    if (typeof last === 'function') cb = args.pop();\n  }\n\n  var group = util.asyncGroup(this.wrapCallback(cb));\n  var finished = group();\n  var docMethod = method + 'Doc';\n\n  this.root.connection.startBulk();\n  for (var i = 0; i < args.length; i++) {\n    var item = args[i];\n    if (item instanceof Query) {\n      item[method](group());\n    } else {\n      var segments = this._dereference(this._splitPath(item));\n      if (segments.length === 2) {\n        // Do the appropriate method for a single document.\n        this[docMethod](segments[0], segments[1], group());\n      } else {\n        var message = 'Cannot ' + method + ' to path: ' + segments.join('.');\n        group()(new Error(message));\n      }\n    }\n  }\n  this.root.connection.endBulk();\n  process.nextTick(finished);\n};\n\nModel.prototype.fetchDoc = function(collectionName, id, cb) {\n  cb = this.wrapCallback(cb);\n\n  // Maintain a count of fetches so that we can unload the document\n  // when there are no remaining fetches or subscribes for that document\n  this._context.fetchDoc(collectionName, id);\n  this.root._fetchedDocs.increment(collectionName, id);\n\n  // Fetch\n  var doc = this.getOrCreateDoc(collectionName, id);\n  doc.shareDoc.fetch(cb);\n};\n\nModel.prototype.subscribeDoc = function(collectionName, id, cb) {\n  cb = this.wrapCallback(cb);\n\n  // Maintain a count of subscribes so that we can unload the document\n  // when there are no remaining fetches or subscribes for that document\n  this._context.subscribeDoc(collectionName, id);\n  this.root._subscribedDocs.increment(collectionName, id);\n\n  var doc = this.getOrCreateDoc(collectionName, id);\n  // Early return if we know we are already subscribed\n  if (doc.shareDoc.subscribed) {\n    return cb();\n  }\n  // Subscribe\n  if (this.root.fetchOnly) {\n    doc.shareDoc.fetch(cb);\n  } else {\n    doc.shareDoc.subscribe(cb);\n  }\n};\n\nModel.prototype.unfetchDoc = function(collectionName, id, cb) {\n  cb = this.wrapCallback(cb);\n  this._context.unfetchDoc(collectionName, id);\n\n  // No effect if the document is not currently fetched\n  if (!this.root._fetchedDocs.get(collectionName, id)) return cb();\n\n  var model = this;\n  if (this.root.unloadDelay) {\n    setTimeout(finishUnfetchDoc, this.root.unloadDelay);\n  } else {\n    finishUnfetchDoc();\n  }\n  function finishUnfetchDoc() {\n    var count = model.root._fetchedDocs.decrement(collectionName, id);\n    if (count) return cb(null, count);\n    model._maybeUnloadDoc(collectionName, id);\n    cb(null, 0);\n  }\n};\n\nModel.prototype.unsubscribeDoc = function(collectionName, id, cb) {\n  cb = this.wrapCallback(cb);\n  this._context.unsubscribeDoc(collectionName, id);\n\n  // No effect if the document is not currently subscribed\n  if (!this.root._subscribedDocs.get(collectionName, id)) return cb();\n\n  var model = this;\n  if (this.root.unloadDelay) {\n    setTimeout(finishUnsubscribeDoc, this.root.unloadDelay);\n  } else {\n    finishUnsubscribeDoc();\n  }\n  function finishUnsubscribeDoc() {\n    var count = model.root._subscribedDocs.decrement(collectionName, id);\n    // If there are more remaining subscriptions, only decrement the count\n    // and callback with how many subscriptions are remaining\n    if (count) return cb(null, count);\n\n    // If there is only one remaining subscription, actually unsubscribe\n    if (model.root.fetchOnly) {\n      unsubscribeDocCallback();\n    } else {\n      var doc = model.getDoc(collectionName, id);\n      var shareDoc = doc && doc.shareDoc;\n      if (!shareDoc) return unsubscribeDocCallback();\n      shareDoc.unsubscribe(unsubscribeDocCallback);\n    }\n  }\n  function unsubscribeDocCallback(err) {\n    model._maybeUnloadDoc(collectionName, id);\n    if (err) return cb(err);\n    cb(null, 0);\n  }\n};\n\n// Removes the document from the local model if the model no longer has any\n// remaining fetches or subscribes via a query or direct loading\nModel.prototype._maybeUnloadDoc = function(collectionName, id) {\n  var doc = this.getDoc(collectionName, id);\n  if (!doc) return;\n\n  // If there is a query or direct fetch or subscribe that is holding reference\n  // to this doc, leave it loaded\n  if (this._hasDocReferences(collectionName, id)) return;\n  // Calling sharedDoc.destroy() will remove it from the connection only when\n  // there aren't any operations, fetches, or subscribes pending on the doc.\n  // Thus, if we remove the doc from Racer's model but don't remove it from\n  // ShareDB, we can end up with an inconsistent state, with the data existing\n  // in ShareDB not reflected in the racer model data\n  if (doc.shareDoc && doc.shareDoc.hasPending()) return;\n\n  var previous = doc.get();\n\n  // Remove doc from Racer\n  this.root.collections[collectionName].remove(id);\n  // Remove doc from Share\n  if (doc.shareDoc) doc.shareDoc.destroy();\n\n  this.emit('unload', [collectionName, id], [previous, this._pass]);\n};\n\nModel.prototype._hasDocReferences = function(collectionName, id) {\n  // Check if any fetched or subscribed queries currently have the\n  // id in their results\n  var queries = this.root._queries.collections[collectionName];\n  if (queries) {\n    for (var hash in queries) {\n      var query = queries[hash];\n      if (!query.subscribeCount && !query.fetchCount) continue;\n      if (query.idMap[id] > 0) return true;\n    }\n  }\n\n  // Check if document currently has direct fetch or subscribe\n  if (\n    this.root._fetchedDocs.get(collectionName, id) ||\n    this.root._subscribedDocs.get(collectionName, id)\n  ) return true;\n\n  return false;\n};\n",
    "/**\n * Contexts are useful for keeping track of the origin of subscribes.\n */\n\nvar Model = require('./Model');\nvar CollectionCounter = require('./CollectionCounter');\n\nModel.INITS.push(function(model) {\n  model.root._contexts = new Contexts();\n  model.root.setContext('root');\n});\n\nModel.prototype.context = function(id) {\n  var model = this._child();\n  model.setContext(id);\n  return model;\n};\n\nModel.prototype.setContext = function(id) {\n  this._context = this.getOrCreateContext(id);\n};\n\nModel.prototype.getOrCreateContext = function(id) {\n  var context = this.root._contexts[id] ||\n    (this.root._contexts[id] = new Context(this, id));\n  return context;\n};\n\nModel.prototype.unload = function(id) {\n  var context = (id) ? this.root._contexts[id] : this._context;\n  context && context.unload();\n};\n\nModel.prototype.unloadAll = function() {\n  var contexts = this.root._contexts;\n  for (var key in contexts) {\n    contexts[key].unload();\n  }\n};\n\nfunction Contexts() {}\n\nfunction FetchedQueries() {}\nfunction SubscribedQueries() {}\n\nfunction Context(model, id) {\n  this.model = model;\n  this.id = id;\n  this.fetchedDocs = new CollectionCounter();\n  this.subscribedDocs = new CollectionCounter();\n  this.createdDocs = new CollectionCounter();\n  this.fetchedQueries = new FetchedQueries();\n  this.subscribedQueries = new SubscribedQueries();\n}\n\nContext.prototype.toJSON = function() {\n  var fetchedDocs = this.fetchedDocs.toJSON();\n  var subscribedDocs = this.subscribedDocs.toJSON();\n  var createdDocs = this.createdDocs.toJSON();\n  if (!fetchedDocs && !subscribedDocs && !createdDocs) return;\n  return {\n    fetchedDocs: fetchedDocs,\n    subscribedDocs: subscribedDocs,\n    createdDocs: createdDocs\n  };\n};\n\nContext.prototype.fetchDoc = function(collectionName, id) {\n  this.fetchedDocs.increment(collectionName, id);\n};\nContext.prototype.subscribeDoc = function(collectionName, id) {\n  this.subscribedDocs.increment(collectionName, id);\n};\nContext.prototype.unfetchDoc = function(collectionName, id) {\n  this.fetchedDocs.decrement(collectionName, id);\n};\nContext.prototype.unsubscribeDoc = function(collectionName, id) {\n  this.subscribedDocs.decrement(collectionName, id);\n};\nContext.prototype.createDoc = function(collectionName, id) {\n  this.createdDocs.increment(collectionName, id);\n};\nContext.prototype.fetchQuery = function(query) {\n  mapIncrement(this.fetchedQueries, query.hash);\n};\nContext.prototype.subscribeQuery = function(query) {\n  mapIncrement(this.subscribedQueries, query.hash);\n};\nContext.prototype.unfetchQuery = function(query) {\n  mapDecrement(this.fetchedQueries, query.hash);\n};\nContext.prototype.unsubscribeQuery = function(query) {\n  mapDecrement(this.subscribedQueries, query.hash);\n};\nfunction mapIncrement(map, key) {\n  map[key] = (map[key] || 0) + 1;\n}\nfunction mapDecrement(map, key) {\n  map[key] && map[key]--;\n  if (!map[key]) delete map[key];\n}\n\nContext.prototype.unload = function() {\n  var model = this.model;\n  for (var hash in this.fetchedQueries) {\n    var query = model.root._queries.map[hash];\n    if (!query) continue;\n    var count = this.fetchedQueries[hash];\n    while (count--) query.unfetch();\n  }\n  for (var hash in this.subscribedQueries) {\n    var query = model.root._queries.map[hash];\n    if (!query) continue;\n    var count = this.subscribedQueries[hash];\n    while (count--) query.unsubscribe();\n  }\n  for (var collectionName in this.fetchedDocs.collections) {\n    var collection = this.fetchedDocs.collections[collectionName];\n    for (var id in collection) {\n      var count = collection[id];\n      while (count--) model.unfetchDoc(collectionName, id);\n    }\n  }\n  for (var collectionName in this.subscribedDocs.collections) {\n    var collection = this.subscribedDocs.collections[collectionName];\n    for (var id in collection) {\n      var count = collection[id];\n      while (count--) model.unsubscribeDoc(collectionName, id);\n    }\n  }\n  for (var collectionName in this.createdDocs.collections) {\n    var collection = this.createdDocs.collections[collectionName];\n    for (var id in collection) {\n      model._maybeUnloadDoc(collectionName, id);\n    }\n  }\n  this.createdDocs.reset();\n};\n",
    "var defaultFns = module.exports = new DefaultFns();\n\ndefaultFns.reverse = new FnPair(getReverse, setReverse);\ndefaultFns.asc = asc;\ndefaultFns.desc = desc;\n\nfunction DefaultFns() {}\nfunction FnPair(get, set) {\n  this.get = get;\n  this.set = set;\n}\n\nfunction getReverse(array) {\n  return array && array.slice().reverse();\n}\nfunction setReverse(values) {\n  return {0: getReverse(values)};\n}\n\nfunction asc(a, b) {\n  if (a < b) return -1;\n  if (a > b) return 1;\n  return 0;\n}\nfunction desc(a, b) {\n  if (a > b) return -1;\n  if (a < b) return 1;\n  return 0;\n}\n",
    "var util = require('../util');\nvar Model = require('./Model');\nvar defaultFns = require('./defaultFns');\n\nfunction NamedFns() {}\n\nModel.INITS.push(function(model) {\n  model.root._namedFns = new NamedFns();\n  model.root._fns = new Fns(model);\n  model.on('all', fnListener);\n  function fnListener(segments, eventArgs) {\n    var pass = eventArgs[eventArgs.length - 1];\n    var map = model.root._fns.fromMap;\n    for (var path in map) {\n      var fn = map[path];\n      if (pass.$fn === fn) continue;\n      if (util.mayImpactAny(fn.inputsSegments, segments)) {\n        // Mutation affecting input path\n        fn.onInput(pass);\n      } else if (util.mayImpact(fn.fromSegments, segments)) {\n        // Mutation affecting output path\n        fn.onOutput(pass);\n      }\n    }\n  }\n});\n\nModel.prototype.fn = function(name, fns) {\n  this.root._namedFns[name] = fns;\n};\n\nfunction parseStartArguments(model, args, hasPath) {\n  var last = args.pop();\n  var fns, name;\n  if (typeof last === 'string') {\n    name = last;\n  } else {\n    fns = last;\n  }\n  // For `Model#start`, the first parameter is the output path.\n  var path;\n  if (hasPath) {\n    path = model.path(args.shift());\n  }\n  // The second-to-last original argument could be an options object.\n  // If it's not an array and not path-like, then it's an options object.\n  last = args[args.length - 1];\n  var options;\n  if (!Array.isArray(last) && !model.isPath(last)) {\n    options = args.pop();\n  }\n\n  // `args` is just the input paths at this point.\n  var inputs;\n  if (args.length === 1 && Array.isArray(args[0])) {\n    // Inputs provided as one array:\n    //   model.start(outPath, [inPath1, inPath2], fn);\n    inputs = args[0];\n  } else {\n    // Inputs provided as var-args:\n    //   model.start(outPath, inPath1, inPath2, fn);\n    inputs = args;\n  }\n\n  // Normalize each input into a string path.\n  var i = inputs.length;\n  while (i--) {\n    inputs[i] = model.path(inputs[i]);\n  }\n  return {\n    name: name,\n    path: path,\n    inputPaths: inputs,\n    fns: fns,\n    options: options\n  };\n}\n\nModel.prototype.evaluate = function() {\n  var args = Array.prototype.slice.call(arguments);\n  var parsed = parseStartArguments(this, args, false);\n  return this.root._fns.get(parsed.name, parsed.inputPaths, parsed.fns, parsed.options);\n};\n\nModel.prototype.start = function() {\n  var args = Array.prototype.slice.call(arguments);\n  var parsed = parseStartArguments(this, args, true);\n  return this.root._fns.start(parsed.name, parsed.path, parsed.inputPaths, parsed.fns, parsed.options);\n};\n\nModel.prototype.stop = function(subpath) {\n  var path = this.path(subpath);\n  this._stop(path);\n};\nModel.prototype._stop = function(fromPath) {\n  this.root._fns.stop(fromPath);\n};\n\nModel.prototype.stopAll = function(subpath) {\n  var segments = this._splitPath(subpath);\n  this._stopAll(segments);\n};\nModel.prototype._stopAll = function(segments) {\n  var fns = this.root._fns.fromMap;\n  for (var from in fns) {\n    var fromSegments = fns[from].fromSegments;\n    if (util.contains(segments, fromSegments)) {\n      this._stop(from);\n    }\n  }\n};\n\nfunction FromMap() {}\nfunction Fns(model) {\n  this.model = model;\n  this.nameMap = model.root._namedFns;\n  this.fromMap = new FromMap();\n}\n\nFns.prototype.get = function(name, inputPaths, fns, options) {\n  fns || (fns = this.nameMap[name] || defaultFns[name]);\n  var fn = new Fn(this.model, name, null, inputPaths, fns, options);\n  return fn.get();\n};\n\nFns.prototype.start = function(name, path, inputPaths, fns, options) {\n  fns || (fns = this.nameMap[name] || defaultFns[name]);\n  var fn = new Fn(this.model, name, path, inputPaths, fns, options);\n  this.fromMap[path] = fn;\n  return fn._onInput();\n};\n\nFns.prototype.stop = function(path) {\n  var fn = this.fromMap[path];\n  delete this.fromMap[path];\n  return fn;\n};\n\nFns.prototype.toJSON = function() {\n  var out = [];\n  for (var from in this.fromMap) {\n    var fn = this.fromMap[from];\n    // Don't try to bundle non-named functions that were started via\n    // model.start directly instead of by name\n    if (!fn.name) continue;\n    var args = [fn.from].concat(fn.inputPaths);\n    if (fn.options) args.push(fn.options);\n    args.push(fn.name);\n    out.push(args);\n  }\n  return out;\n};\n\nfunction Fn(model, name, from, inputPaths, fns, options) {\n  this.model = model.pass({$fn: this});\n  this.name = name;\n  this.from = from;\n  this.inputPaths = inputPaths;\n  this.options = options;\n  if (!fns) {\n    throw new TypeError('Model function not found: ' + name);\n  }\n  this.getFn = fns.get || fns;\n  this.setFn = fns.set;\n  this.fromSegments = from && from.split('.');\n  this.inputsSegments = [];\n  for (var i = 0; i < this.inputPaths.length; i++) {\n    var segments = this.inputPaths[i].split('.');\n    this.inputsSegments.push(segments);\n  }\n\n  // Copy can be 'output', 'input', 'both', or 'none'\n  var copy = (options && options.copy) || 'output';\n  this.copyInput = (copy === 'input' || copy === 'both');\n  this.copyOutput = (copy === 'output' || copy === 'both');\n\n  // Mode can be 'diffDeep', 'diff', 'arrayDeep', or 'array'\n  this.mode = (options && options.mode) || 'diffDeep';\n\n  this.async = !!(options && options.async);\n  this.eventPending = false;\n}\n\nFn.prototype.apply = function(fn, inputs) {\n  for (var i = 0, len = this.inputsSegments.length; i < len; i++) {\n    var input = this.model._get(this.inputsSegments[i]);\n    inputs.push(this.copyInput ? util.deepCopy(input) : input);\n  }\n  return fn.apply(this.model, inputs);\n};\n\nFn.prototype.get = function() {\n  return this.apply(this.getFn, []);\n};\n\nFn.prototype.set = function(value, pass) {\n  if (!this.setFn) return;\n  var out = this.apply(this.setFn, [value]);\n  if (!out) return;\n  var inputsSegments = this.inputsSegments;\n  var model = this.model.pass(pass, true);\n  for (var key in out) {\n    var value = (this.copyOutput) ? util.deepCopy(out[key]) : out[key];\n    this._setValue(model, inputsSegments[key], value);\n  }\n};\n\nFn.prototype.onInput = function(pass) {\n  if (this.async) {\n    if (this.eventPending) return;\n    this.eventPending = true;\n    var fn = this;\n    process.nextTick(function() {\n      fn._onInput(pass);\n      fn.eventPending = false;\n    });\n    return;\n  }\n  return this._onInput(pass);\n};\n\nFn.prototype._onInput = function(pass) {\n  var value = (this.copyOutput) ? util.deepCopy(this.get()) : this.get();\n  this._setValue(this.model.pass(pass, true), this.fromSegments, value);\n  return value;\n};\n\nFn.prototype.onOutput = function(pass) {\n  var value = this.model._get(this.fromSegments);\n  return this.set(value, pass);\n};\n\nFn.prototype._setValue = function(model, segments, value) {\n  if (this.mode === 'diffDeep') {\n    model._setDiffDeep(segments, value);\n  } else if (this.mode === 'arrayDeep') {\n    model._setArrayDiffDeep(segments, value);\n  } else if (this.mode === 'array') {\n    model._setArrayDiff(segments, value);\n  } else {\n    model._setDiff(segments, value);\n  }\n};\n",
    "var util = require('../util');\nvar Model = require('./Model');\nvar defaultFns = require('./defaultFns');\n\nModel.INITS.push(function(model) {\n  model.root._filters = new Filters(model);\n  model.on('all', filterListener);\n  function filterListener(segments, eventArgs) {\n    var pass = eventArgs[eventArgs.length - 1];\n    var map = model.root._filters.fromMap;\n    for (var path in map) {\n      var filter = map[path];\n      if (pass.$filter === filter) continue;\n      if (\n        util.mayImpact(filter.segments, segments) ||\n        (filter.inputsSegments && util.mayImpactAny(filter.inputsSegments, segments))\n      ) {\n        filter.update(pass);\n      }\n    }\n  }\n});\n\nfunction parseFilterArguments(model, args) {\n  var fn = args.pop();\n  var options;\n  if (!model.isPath(args[args.length - 1])) {\n    options = args.pop();\n  }\n  var path = model.path(args.shift());\n  var i = args.length;\n  while (i--) {\n    args[i] = model.path(args[i]);\n  }\n  return {\n    path: path,\n    inputPaths: (args.length) ? args : null,\n    options: options,\n    fn: fn\n  };\n}\n\nModel.prototype.filter = function() {\n  var args = Array.prototype.slice.call(arguments);\n  var parsed = parseFilterArguments(this, args);\n  return this.root._filters.add(\n    parsed.path,\n    parsed.fn,\n    null,\n    parsed.inputPaths,\n    parsed.options\n  );\n};\n\nModel.prototype.sort = function() {\n  var args = Array.prototype.slice.call(arguments);\n  var parsed = parseFilterArguments(this, args);\n  return this.root._filters.add(\n    parsed.path,\n    null,\n    parsed.fn || 'asc',\n    parsed.inputPaths,\n    parsed.options\n  );\n};\n\nModel.prototype.removeAllFilters = function(subpath) {\n  var segments = this._splitPath(subpath);\n  this._removeAllFilters(segments);\n};\nModel.prototype._removeAllFilters = function(segments) {\n  var filters = this.root._filters.fromMap;\n  for (var from in filters) {\n    if (util.contains(segments, filters[from].fromSegments)) {\n      filters[from].destroy();\n    }\n  }\n};\n\nfunction FromMap() {}\nfunction Filters(model) {\n  this.model = model;\n  this.fromMap = new FromMap();\n}\n\nFilters.prototype.add = function(path, filterFn, sortFn, inputPaths, options) {\n  return new Filter(this, path, filterFn, sortFn, inputPaths, options);\n};\n\nFilters.prototype.toJSON = function() {\n  var out = [];\n  for (var from in this.fromMap) {\n    var filter = this.fromMap[from];\n    // Don't try to bundle if functions were passed directly instead of by name\n    if (!filter.bundle) continue;\n    var args = [from, filter.path, filter.filterName, filter.sortName, filter.inputPaths];\n    if (filter.options) args.push(filter.options);\n    out.push(args);\n  }\n  return out;\n};\n\nfunction Filter(filters, path, filterFn, sortFn, inputPaths, options) {\n  this.filters = filters;\n  this.model = filters.model.pass({$filter: this});\n  this.path = path;\n  this.segments = path.split('.');\n  this.filterName = null;\n  this.sortName = null;\n  this.bundle = true;\n  this.filterFn = null;\n  this.sortFn = null;\n  this.inputPaths = inputPaths;\n  this.inputsSegments = null;\n  if (inputPaths) {\n    this.inputsSegments = [];\n    for (var i = 0; i < this.inputPaths.length; i++) {\n      var segments = this.inputPaths[i].split('.');\n      this.inputsSegments.push(segments);\n    }\n  }\n  this.options = options;\n  this.skip = options && options.skip;\n  this.limit = options && options.limit;\n  if (filterFn) this.filter(filterFn);\n  if (sortFn) this.sort(sortFn);\n  this.idsSegments = null;\n  this.from = null;\n  this.fromSegments = null;\n}\n\nFilter.prototype.filter = function(fn) {\n  if (typeof fn === 'function') {\n    this.filterFn = fn;\n    this.bundle = false;\n    return this;\n  } else if (typeof fn === 'string') {\n    this.filterName = fn;\n    this.filterFn = this.model.root._namedFns[fn] || defaultFns[fn];\n    if (!this.filterFn) {\n      throw new TypeError('Filter function not found: ' + fn);\n    }\n  }\n  return this;\n};\n\nFilter.prototype.sort = function(fn) {\n  if (!fn) fn = 'asc';\n  if (typeof fn === 'function') {\n    this.sortFn = fn;\n    this.bundle = false;\n    return this;\n  } else if (typeof fn === 'string') {\n    this.sortName = fn;\n    this.sortFn = this.model.root._namedFns[fn] || defaultFns[fn];\n    if (!this.sortFn) {\n      throw new TypeError('Sort function not found: ' + fn);\n    }\n  }\n  return this;\n};\n\nFilter.prototype._slice = function(results) {\n  if (this.skip == null && this.limit == null) return results;\n  var begin = this.skip || 0;\n  // A limit of zero is equivalent to setting no limit\n  var end;\n  if (this.limit) end = begin + this.limit;\n  return results.slice(begin, end);\n};\n\nFilter.prototype.getInputs = function() {\n  if (!this.inputsSegments) return;\n  var inputs = [];\n  for (var i = 0, len = this.inputsSegments.length; i < len; i++) {\n    var input = this.model._get(this.inputsSegments[i]);\n    inputs.push(input);\n  }\n  return inputs;\n};\n\nFilter.prototype.callFilter = function(items, key, inputs) {\n  var item = items[key];\n  return (inputs) ?\n    this.filterFn.apply(this.model, [item, key, items].concat(inputs)) :\n    this.filterFn.call(this.model, item, key, items);\n};\n\nFilter.prototype.ids = function() {\n  var items = this.model._get(this.segments);\n  var ids = [];\n  if (!items) return ids;\n  if (Array.isArray(items)) {\n    throw new Error('model.filter is not currently supported on arrays');\n  }\n  if (this.filterFn) {\n    var inputs = this.getInputs();\n    for (var key in items) {\n      if (items.hasOwnProperty(key) && this.callFilter(items, key, inputs)) {\n        ids.push(key);\n      }\n    }\n  } else {\n    ids = Object.keys(items);\n  }\n  var sortFn = this.sortFn;\n  if (sortFn) {\n    ids.sort(function(a, b) {\n      return sortFn(items[a], items[b]);\n    });\n  }\n  return this._slice(ids);\n};\n\nFilter.prototype.get = function() {\n  var items = this.model._get(this.segments);\n  var results = [];\n  if (Array.isArray(items)) {\n    throw new Error('model.filter is not currently supported on arrays');\n  }\n  if (this.filterFn) {\n    var inputs = this.getInputs();\n    for (var key in items) {\n      if (items.hasOwnProperty(key) && this.callFilter(items, key, inputs)) {\n        results.push(items[key]);\n      }\n    }\n  } else {\n    for (var key in items) {\n      if (items.hasOwnProperty(key)) {\n        results.push(items[key]);\n      }\n    }\n  }\n  if (this.sortFn) results.sort(this.sortFn);\n  return this._slice(results);\n};\n\nFilter.prototype.update = function(pass) {\n  var ids = this.ids();\n  this.model.pass(pass, true)._setArrayDiff(this.idsSegments, ids);\n};\n\nFilter.prototype.ref = function(from) {\n  from = this.model.path(from);\n  this.from = from;\n  this.fromSegments = from.split('.');\n  this.filters.fromMap[from] = this;\n  this.idsSegments = ['$filters', from.replace(/\\./g, '|')];\n  this.update();\n  return this.model.refList(from, this.path, this.idsSegments.join('.'));\n};\n\nFilter.prototype.destroy = function() {\n  delete this.filters.fromMap[this.from];\n  this.model._removeRef(this.idsSegments);\n  this.model._del(this.idsSegments);\n};\n",
    "var util = require('../util');\nvar Model = require('./Model');\n\nModel.INITS.push(function(model) {\n  var root = model.root;\n  root._refLists = new RefLists();\n  for (var type in Model.MUTATOR_EVENTS) {\n    addListener(root, type);\n  }\n});\n\nfunction addListener(model, type) {\n  model.on(type + 'Immediate', refListListener);\n  function refListListener(segments, eventArgs) {\n    var pass = eventArgs[eventArgs.length - 1];\n    // Check for updates on or underneath paths\n    var fromMap = model._refLists.fromMap;\n    for (var from in fromMap) {\n      var refList = fromMap[from];\n      if (pass.$refList === refList) continue;\n      refList.onMutation(type, segments, eventArgs);\n    }\n  }\n}\n\n/**\n * @param {String} type\n * @param {Array} segments\n * @param {Array} eventArgs\n * @param {RefList} refList\n */\nfunction patchFromEvent(type, segments, eventArgs, refList) {\n  var fromLength = refList.fromSegments.length;\n  var segmentsLength = segments.length;\n  var pass = eventArgs[eventArgs.length - 1];\n  var model = refList.model.pass(pass, true);\n\n  // Mutation on the `from` output itself\n  if (segmentsLength === fromLength) {\n    if (type === 'insert') {\n      var index = eventArgs[0];\n      var values = eventArgs[1];\n      var ids = setNewToValues(model, refList, values);\n      model._insert(refList.idsSegments, index, ids);\n      return;\n    }\n\n    if (type === 'remove') {\n      var index = eventArgs[0];\n      var howMany = eventArgs[1].length;\n      var ids = model._remove(refList.idsSegments, index, howMany);\n      // Delete the appropriate items underneath `to` if the `deleteRemoved`\n      // option was set true\n      if (refList.deleteRemoved) {\n        for (var i = 0; i < ids.length; i++) {\n          var item = refList.itemById(ids[i]);\n          model._del(refList.toSegmentsByItem(item));\n        }\n      }\n      return;\n    }\n\n    if (type === 'move') {\n      var from = eventArgs[0];\n      var to = eventArgs[1];\n      var howMany = eventArgs[2];\n      model._move(refList.idsSegments, from, to, howMany);\n      return;\n    }\n\n    // Change of the entire output\n    var values = (type === 'change') ?\n      eventArgs[0] : model._get(refList.fromSegments);\n    // Set ids to empty list if output is set to null\n    if (!values) {\n      model._set(refList.idsSegments, []);\n      return;\n    }\n    // If the entire output is set, create a list of ids based on the output,\n    // and update the corresponding items\n    var ids = setNewToValues(model, refList, values);\n    model._set(refList.idsSegments, ids);\n    return;\n  }\n\n  // If mutation is on a parent of `from`, we might need to re-create the\n  // entire refList output\n  if (segmentsLength < fromLength) {\n    model._setArrayDiff(refList.fromSegments, refList.get());\n    return;\n  }\n\n  var index = segments[fromLength];\n  var value = model._get(refList.fromSegments.concat(index));\n  var toSegments = refList.toSegmentsByItem(value);\n\n  // Mutation underneath a child of the `from` object.\n  if (segmentsLength > fromLength + 1) {\n    throw new Error('Mutation on descendant of refList `from`' +\n      ' should have been dereferenced: ' + segments.join('.'));\n  }\n\n  // Otherwise, mutation of a child of the `from` object\n\n  // If changing the item itself, it will also have to be re-set on the\n  // original object\n  if (type === 'change') {\n    model._set(toSegments, value);\n    updateIdForValue(model, refList, index, value);\n    return;\n  }\n  if (type === 'insert' || type === 'remove' || type === 'move') {\n    throw new Error('Array mutation on child of refList `from`' +\n      'should have been dereferenced: ' + segments.join('.'));\n  }\n}\n\n/**\n * @private\n * @param {Model} model\n * @param {RefList} refList\n * @param {Array} values\n */\nfunction setNewToValues(model, refList, values) {\n  var ids = [];\n  for (var i = 0; i < values.length; i++) {\n    var value = values[i];\n    var id = refList.idByItem(value);\n    if (id === undefined && typeof value === 'object') {\n      id = value.id = model.id();\n    }\n    var toSegments = refList.toSegmentsByItem(value);\n    if (id === undefined || toSegments === undefined) {\n      throw new Error('Unable to add item to refList: ' + value);\n    }\n    if (model._get(toSegments) !== value) {\n      model._set(toSegments, value);\n    }\n    ids.push(id);\n  }\n  return ids;\n}\nfunction updateIdForValue(model, refList, index, value) {\n  var id = refList.idByItem(value);\n  var outSegments = refList.idsSegments.concat(index);\n  model._set(outSegments, id);\n}\n\nfunction patchToEvent(type, segments, eventArgs, refList) {\n  var toLength = refList.toSegments.length;\n  var segmentsLength = segments.length;\n  var pass = eventArgs[eventArgs.length - 1];\n  var model = refList.model.pass(pass, true);\n\n  // Mutation on the `to` object itself\n  if (segmentsLength === toLength) {\n    if (type === 'insert') {\n      var values = eventArgs[1];\n      for (var i = 0; i < values.length; i++) {\n        var value = values[i];\n        var indices = refList.indicesByItem(value);\n        if (!indices) continue;\n        for (var j = 0; j < indices.length; j++) {\n          var outSegments = refList.fromSegments.concat(indices[j]);\n          model._set(outSegments, value);\n        }\n      }\n      return;\n    }\n\n    if (type === 'remove') {\n      var removeIndex = eventArgs[0];\n      var values = eventArgs[1];\n      var howMany = values.length;\n      for (var i = removeIndex, len = removeIndex + howMany; i < len; i++) {\n        var indices = refList.indicesByItem(values[i]);\n        if (!indices) continue;\n        for (var j = 0, indicesLen = indices.length; j < indicesLen; j++) {\n          var outSegments = refList.fromSegments.concat(indices[j]);\n          model._set(outSegments, undefined);\n        }\n      }\n      return;\n    }\n\n    if (type === 'move') {\n      // Moving items in the `to` object should have no effect on the output\n      return;\n    }\n  }\n\n  // Mutation on or above the `to` object\n  if (segmentsLength <= toLength) {\n    // If the entire `to` object is updated, we need to re-create the\n    // entire refList output and apply what is different\n    model._setArrayDiff(refList.fromSegments, refList.get());\n    return;\n  }\n\n  // Mutation underneath a child of the `to` object. The item will already\n  // be up to date, since it is under an object reference. Just re-emit\n  if (segmentsLength > toLength + 1) {\n    var value = model._get(segments.slice(0, toLength + 1));\n    var indices = refList.indicesByItem(value);\n    if (!indices) return;\n    var remaining = segments.slice(toLength + 1);\n    for (var i = 0; i < indices.length; i++) {\n      var index = indices[i];\n      var dereferenced = refList.fromSegments.concat(index, remaining);\n      dereferenced = model._dereference(dereferenced, null, refList);\n      eventArgs = eventArgs.slice();\n      eventArgs[eventArgs.length - 1] = model._pass;\n      model.emit(type, dereferenced, eventArgs);\n    }\n    return;\n  }\n\n  // Otherwise, mutation of a child of the `to` object\n\n  // If changing the item itself, it will also have to be re-set on the\n  // array created by the refList\n  if (type === 'change' || type === 'load' || type === 'unload') {\n    var value, previous;\n    if (type === 'change') {\n      value = eventArgs[0];\n      previous = eventArgs[1];\n    } else if (type === 'load') {\n      value = eventArgs[0];\n      previous = undefined;\n    } else if (type === 'unload') {\n      value = undefined;\n      previous = eventArgs[0];\n    }\n    var newIndices = refList.indicesByItem(value);\n    var oldIndices = refList.indicesByItem(previous);\n    if (!newIndices && !oldIndices) return;\n    if (oldIndices && !equivalentArrays(oldIndices, newIndices)) {\n      // The changed item used to refer to some indices, but no longer does\n      for (var i = 0; i < oldIndices.length; i++) {\n        var outSegments = refList.fromSegments.concat(oldIndices[i]);\n        model._set(outSegments, undefined);\n      }\n    }\n    if (newIndices) {\n      for (var i = 0; i < newIndices.length; i++) {\n        var outSegments = refList.fromSegments.concat(newIndices[i]);\n        model._set(outSegments, value);\n      }\n    }\n    return;\n  }\n\n  var value = model._get(segments.slice(0, toLength + 1));\n  var indices = refList.indicesByItem(value);\n  if (!indices) return;\n\n  if (type === 'insert' || type === 'remove' || type === 'move') {\n    // Array mutations will have already been updated via an object\n    // reference, so only re-emit\n    for (var i = 0; i < indices.length; i++) {\n      var dereferenced = refList.fromSegments.concat(indices[i]);\n      dereferenced = model._dereference(dereferenced, null, refList);\n      eventArgs = eventArgs.slice();\n      eventArgs[eventArgs.length - 1] = model._pass;\n      model.emit(type, dereferenced, eventArgs);\n    }\n  }\n}\nfunction equivalentArrays(a, b) {\n  if (!a || !b) return false;\n  if (a.length !== b.length) return false;\n  for (var i = 0; i < a.length; i++) {\n    if (a[i] !== b[i]) return false;\n  }\n  return true;\n}\n\nfunction patchIdsEvent(type, segments, eventArgs, refList) {\n  var idsLength = refList.idsSegments.length;\n  var segmentsLength = segments.length;\n  var pass = eventArgs[eventArgs.length - 1];\n  var model = refList.model.pass(pass, true);\n\n  // An array mutation of the ids should be mirrored with a like change in\n  // the output array\n  if (segmentsLength === idsLength) {\n    if (type === 'insert') {\n      var index = eventArgs[0];\n      var inserted = eventArgs[1];\n      var values = [];\n      for (var i = 0; i < inserted.length; i++) {\n        var value = refList.itemById(inserted[i]);\n        values.push(value);\n      }\n      model._insert(refList.fromSegments, index, values);\n      return;\n    }\n\n    if (type === 'remove') {\n      var index = eventArgs[0];\n      var howMany = eventArgs[1].length;\n      model._remove(refList.fromSegments, index, howMany);\n      return;\n    }\n\n    if (type === 'move') {\n      var from = eventArgs[0];\n      var to = eventArgs[1];\n      var howMany = eventArgs[2];\n      model._move(refList.fromSegments, from, to, howMany);\n      return;\n    }\n  }\n\n  // Mutation on the `ids` list itself\n  if (segmentsLength <= idsLength) {\n    // If the entire `ids` array is updated, we need to re-create the\n    // entire refList output and apply what is different\n    model._setArrayDiff(refList.fromSegments, refList.get());\n    return;\n  }\n\n  // Otherwise, direct mutation of a child in the `ids` object or mutation\n  // underneath an item in the `ids` list. Update the item for the appropriate\n  // id if it has changed\n  var index = segments[idsLength];\n  var id = refList.idByIndex(index);\n  var item = refList.itemById(id);\n  var itemSegments = refList.fromSegments.concat(index);\n  if (model._get(itemSegments) !== item) {\n    model._set(itemSegments, item);\n  }\n}\n\nModel.prototype.refList = function() {\n  var from, to, ids, options;\n  if (arguments.length === 2) {\n    to = arguments[0];\n    ids = arguments[1];\n  } else if (arguments.length === 3) {\n    if (this.isPath(arguments[2])) {\n      from = arguments[0];\n      to = arguments[1];\n      ids = arguments[2];\n    } else {\n      to = arguments[0];\n      ids = arguments[1];\n      options = arguments[2];\n    }\n  } else {\n    from = arguments[0];\n    to = arguments[1];\n    ids = arguments[2];\n    options = arguments[3];\n  }\n  var fromPath = this.path(from);\n  var toPath;\n  if (Array.isArray(to)) {\n    toPath = [];\n    for (var i = 0; i < to.length; i++) {\n      toPath.push(this.path(to[i]));\n    }\n  } else {\n    toPath = this.path(to);\n  }\n  var idsPath = this.path(ids);\n  var refList = new RefList(this.root, fromPath, toPath, idsPath, options);\n  this.root._refLists.remove(fromPath);\n  refList.model._setArrayDiff(refList.fromSegments, refList.get());\n  this.root._refLists.add(refList);\n  return this.scope(fromPath);\n};\n\nfunction RefList(model, from, to, ids, options) {\n  this.model = model && model.pass({$refList: this});\n  this.from = from;\n  this.to = to;\n  this.ids = ids;\n  this.fromSegments = from && from.split('.');\n  this.toSegments = to && to.split('.');\n  this.idsSegments = ids && ids.split('.');\n  this.options = options;\n  this.deleteRemoved = options && options.deleteRemoved;\n}\n\n// The default implementation assumes that the ids array is a flat list of\n// keys on the to object. Ideally, this mapping could be customized via\n// inheriting from RefList and overriding these methods without having to\n// modify the above event handling code.\n//\n// In the default refList implementation, `key` and `id` are equal.\n//\n// Terms in the below methods:\n//   `item`  - Object on the `to` path, which gets mirrored on the `from` path\n//   `key`   - The property under `to` at which an item is located\n//   `id`    - String or object in the array at the `ids` path\n//   `index` - The index of an id, which corresponds to an index on `from`\nRefList.prototype.get = function() {\n  var ids = this.model._get(this.idsSegments);\n  if (!ids) return [];\n  var items = this.model._get(this.toSegments);\n  var out = [];\n  for (var i = 0; i < ids.length; i++) {\n    var key = ids[i];\n    out.push(items && items[key]);\n  }\n  return out;\n};\nRefList.prototype.dereference = function(segments, i) {\n  var remaining = segments.slice(i + 1);\n  var key = this.idByIndex(remaining[0]);\n  if (key == null) return [];\n  remaining[0] = key;\n  return this.toSegments.concat(remaining);\n};\nRefList.prototype.toSegmentsByItem = function(item) {\n  var key = this.idByItem(item);\n  if (key === undefined) return;\n  return this.toSegments.concat(key);\n};\nRefList.prototype.idByItem = function(item) {\n  if (item && item.id) return item.id;\n  var items = this.model._get(this.toSegments);\n  for (var key in items) {\n    if (item === items[key]) return key;\n  }\n};\nRefList.prototype.indicesByItem = function(item) {\n  var id = this.idByItem(item);\n  var ids = this.model._get(this.idsSegments);\n  if (!ids) return;\n  var indices;\n  var index = -1;\n  for (;;) {\n    index = ids.indexOf(id, index + 1);\n    if (index === -1) break;\n    if (indices) {\n      indices.push(index);\n    } else {\n      indices = [index];\n    }\n  }\n  return indices;\n};\nRefList.prototype.itemById = function(id) {\n  return this.model._get(this.toSegments.concat(id));\n};\nRefList.prototype.idByIndex = function(index) {\n  return this.model._get(this.idsSegments.concat(index));\n};\nRefList.prototype.onMutation = function(type, segments, eventArgs) {\n  if (util.mayImpact(this.toSegments, segments)) {\n    patchToEvent(type, segments, eventArgs, this);\n  } else if (util.mayImpact(this.idsSegments, segments)) {\n    patchIdsEvent(type, segments, eventArgs, this);\n  } else if (util.mayImpact(this.fromSegments, segments)) {\n    patchFromEvent(type, segments, eventArgs, this);\n  }\n};\n\nfunction FromMap() {}\n\nfunction RefLists() {\n  this.fromMap = new FromMap();\n}\n\nRefLists.prototype.add = function(refList) {\n  this.fromMap[refList.from] = refList;\n};\n\nRefLists.prototype.remove = function(from) {\n  var refList = this.fromMap[from];\n  delete this.fromMap[from];\n  return refList;\n};\n\nRefLists.prototype.toJSON = function() {\n  var out = [];\n  for (var from in this.fromMap) {\n    var refList = this.fromMap[from];\n    out.push([refList.from, refList.to, refList.ids, refList.options]);\n  }\n  return out;\n};\n",
    "var util = require('../util');\nvar Model = require('./Model');\n\nModel.INITS.push(function(model) {\n  var root = model.root;\n  root._refs = new Refs();\n  addIndexListeners(root);\n  addListener(root, 'change', refChange);\n  addListener(root, 'load', refLoad);\n  addListener(root, 'unload', refUnload);\n  addListener(root, 'insert', refInsert);\n  addListener(root, 'remove', refRemove);\n  addListener(root, 'move', refMove);\n});\n\nfunction addIndexListeners(model) {\n  model.on('insertImmediate', function refInsertIndex(segments, eventArgs) {\n    var index = eventArgs[0];\n    var howMany = eventArgs[1].length;\n    function patchInsert(refIndex) {\n      return (index <= refIndex) ? refIndex + howMany : refIndex;\n    }\n    onIndexChange(segments, patchInsert);\n  });\n  model.on('removeImmediate', function refRemoveIndex(segments, eventArgs) {\n    var index = eventArgs[0];\n    var howMany = eventArgs[1].length;\n    function patchRemove(refIndex) {\n      return (index <= refIndex) ? refIndex - howMany : refIndex;\n    }\n    onIndexChange(segments, patchRemove);\n  });\n  model.on('moveImmediate', function refMoveIndex(segments, eventArgs) {\n    var from = eventArgs[0];\n    var to = eventArgs[1];\n    var howMany = eventArgs[2];\n    function patchMove(refIndex) {\n      // If the index was moved itself\n      if (from <= refIndex && refIndex < from + howMany) {\n        return refIndex + to - from;\n      }\n      // Remove part of a move\n      if (from <= refIndex) refIndex -= howMany;\n      // Insert part of a move\n      if (to <= refIndex) refIndex += howMany;\n      return refIndex;\n    }\n    onIndexChange(segments, patchMove);\n  });\n  function onIndexChange(segments, patch) {\n    var fromMap = model._refs.fromMap;\n    for (var from in fromMap) {\n      var ref = fromMap[from];\n      if (!(ref.updateIndices &&\n        util.contains(segments, ref.toSegments) &&\n        ref.toSegments.length > segments.length)) continue;\n      var index = +ref.toSegments[segments.length];\n      var patched = patch(index);\n      if (index === patched) continue;\n      model._refs.remove(from);\n      ref.toSegments[segments.length] = '' + patched;\n      ref.to = ref.toSegments.join('.');\n      model._refs.add(ref);\n    }\n  }\n}\n\nfunction refChange(model, dereferenced, eventArgs, segments) {\n  var value = eventArgs[0];\n  // Detect if we are deleting vs. setting to undefined\n  if (value === undefined) {\n    var parentSegments = segments.slice();\n    var last = parentSegments.pop();\n    var parent = model._get(parentSegments);\n    if (!parent || !(last in parent)) {\n      model._del(dereferenced);\n      return;\n    }\n  }\n  model._set(dereferenced, value);\n}\nfunction refLoad(model, dereferenced, eventArgs) {\n  var value = eventArgs[0];\n  model._set(dereferenced, value);\n}\nfunction refUnload(model, dereferenced) {\n  model._del(dereferenced);\n}\nfunction refInsert(model, dereferenced, eventArgs) {\n  var index = eventArgs[0];\n  var values = eventArgs[1];\n  model._insert(dereferenced, index, values);\n}\nfunction refRemove(model, dereferenced, eventArgs) {\n  var index = eventArgs[0];\n  var howMany = eventArgs[1].length;\n  model._remove(dereferenced, index, howMany);\n}\nfunction refMove(model, dereferenced, eventArgs) {\n  var from = eventArgs[0];\n  var to = eventArgs[1];\n  var howMany = eventArgs[2];\n  model._move(dereferenced, from, to, howMany);\n}\n\nfunction addListener(model, type, fn) {\n  model.on(type + 'Immediate', refListener);\n  function refListener(segments, eventArgs) {\n    var pass = eventArgs[eventArgs.length - 1];\n    // Find cases where an event is emitted on a path where a reference\n    // is pointing. All original mutations happen on the fully dereferenced\n    // location, so this detection only needs to happen in one direction\n    var toMap = model._refs.toMap;\n    var subpath;\n    for (var i = 0, len = segments.length; i < len; i++) {\n      subpath = (subpath) ? subpath + '.' + segments[i] : segments[i];\n      // If a ref is found pointing to a matching subpath, re-emit on the\n      // place where the reference is coming from as if the mutation also\n      // occured at that path\n      var refs = toMap[subpath];\n      if (!refs) continue;\n\n      // Shallow clone refs in case a ref is removed while going through\n      // the loop\n      refs = refs.slice();\n      var remaining = segments.slice(i + 1);\n      for (var refIndex = 0, numRefs = refs.length; refIndex < numRefs; refIndex++) {\n        var ref = refs[refIndex];\n        var dereferenced = ref.fromSegments.concat(remaining);\n        // The value may already be up to date via object reference. If so,\n        // simply re-emit the event. Otherwise, perform the same mutation on\n        // the ref's path\n        if (model._get(dereferenced) === model._get(segments)) {\n          model.emit(type, dereferenced, eventArgs);\n        } else {\n          var setterModel = ref.model.pass(pass, true);\n          setterModel._dereference = noopDereference;\n          fn(setterModel, dereferenced, eventArgs, segments);\n        }\n      }\n    }\n    // If a ref points to a child of a matching subpath, get the value in\n    // case it has changed and set if different\n    var parentToMap = model._refs.parentToMap;\n    var refs = parentToMap[subpath];\n    if (!refs) return;\n    for (var refIndex = 0, numRefs = refs.length; refIndex < numRefs; refIndex++) {\n      var ref = refs[refIndex];\n      var value = model._get(ref.toSegments);\n      var previous = model._get(ref.fromSegments);\n      if (previous !== value) {\n        var setterModel = ref.model.pass(pass, true);\n        setterModel._dereference = noopDereference;\n        setterModel._set(ref.fromSegments, value);\n      }\n    }\n  }\n}\n\nModel.prototype._canRefTo = function(value) {\n  return this.isPath(value) || (value && typeof value.ref === 'function');\n};\n\nModel.prototype.ref = function() {\n  var from, to, options;\n  if (arguments.length === 1) {\n    to = arguments[0];\n  } else if (arguments.length === 2) {\n    if (this._canRefTo(arguments[1])) {\n      from = arguments[0];\n      to = arguments[1];\n    } else {\n      to = arguments[0];\n      options = arguments[1];\n    }\n  } else {\n    from = arguments[0];\n    to = arguments[1];\n    options = arguments[2];\n  }\n  var fromPath = this.path(from);\n  var toPath = this.path(to);\n  // Make ref to reffable object, such as query or filter\n  if (!toPath) return to.ref(fromPath);\n  var ref = new Ref(this.root, fromPath, toPath, options);\n  if (ref.fromSegments.length < 2) {\n    throw new Error('ref must be performed under a collection ' +\n      'and document id. Invalid path: ' + fromPath);\n  }\n  this.root._refs.remove(fromPath);\n  this.root._refLists.remove(fromPath);\n  var value = this.get(to);\n  ref.model._set(ref.fromSegments, value);\n  this.root._refs.add(ref);\n  return this.scope(fromPath);\n};\n\nModel.prototype.removeRef = function(subpath) {\n  var segments = this._splitPath(subpath);\n  var fromPath = segments.join('.');\n  this._removeRef(segments, fromPath);\n};\nModel.prototype._removeRef = function(segments, fromPath) {\n  this.root._refs.remove(fromPath);\n  this.root._refLists.remove(fromPath);\n  this._del(segments);\n};\n\nModel.prototype.removeAllRefs = function(subpath) {\n  var segments = this._splitPath(subpath);\n  this._removeAllRefs(segments);\n};\nModel.prototype._removeAllRefs = function(segments) {\n  this._removeMapRefs(segments, this.root._refs.fromMap);\n  this._removeMapRefs(segments, this.root._refLists.fromMap);\n};\nModel.prototype._removeMapRefs = function(segments, map) {\n  for (var from in map) {\n    var fromSegments = map[from].fromSegments;\n    if (util.contains(segments, fromSegments)) {\n      this._removeRef(fromSegments, from);\n    }\n  }\n};\n\nModel.prototype.dereference = function(subpath) {\n  var segments = this._splitPath(subpath);\n  return this._dereference(segments).join('.');\n};\n\nModel.prototype._dereference = function(segments, forArrayMutator, ignore) {\n  if (segments.length === 0) return segments;\n  var refs = this.root._refs.fromMap;\n  var refLists = this.root._refLists.fromMap;\n  var doAgain;\n  do {\n    var subpath = '';\n    doAgain = false;\n    for (var i = 0, len = segments.length; i < len; i++) {\n      subpath = (subpath) ? subpath + '.' + segments[i] : segments[i];\n\n      var ref = refs[subpath];\n      if (ref) {\n        var remaining = segments.slice(i + 1);\n        segments = ref.toSegments.concat(remaining);\n        doAgain = true;\n        break;\n      }\n\n      var refList = refLists[subpath];\n      if (refList && refList !== ignore) {\n        var belowDescendant = i + 2 < len;\n        var belowChild = i + 1 < len;\n        if (!(belowDescendant || forArrayMutator && belowChild)) continue;\n        segments = refList.dereference(segments, i);\n        doAgain = true;\n        break;\n      }\n    }\n  } while (doAgain);\n  // If a dereference fails, return a path that will result in a null value\n  // instead of a path to everything in the model\n  if (segments.length === 0) return ['$null'];\n  return segments;\n};\n\nfunction noopDereference(segments) {\n  return segments;\n}\n\nfunction Ref(model, from, to, options) {\n  this.model = model && model.pass({$ref: this});\n  this.from = from;\n  this.to = to;\n  this.fromSegments = from.split('.');\n  this.toSegments = to.split('.');\n  this.parentTos = [];\n  for (var i = 1, len = this.toSegments.length; i < len; i++) {\n    var parentTo = this.toSegments.slice(0, i).join('.');\n    this.parentTos.push(parentTo);\n  }\n  this.updateIndices = options && options.updateIndices;\n}\nfunction FromMap() {}\nfunction ToMap() {}\n\nfunction Refs() {\n  this.fromMap = new FromMap();\n  this.toMap = new ToMap();\n  this.parentToMap = new ToMap();\n}\n\nRefs.prototype.add = function(ref) {\n  this.fromMap[ref.from] = ref;\n  listMapAdd(this.toMap, ref.to, ref);\n  for (var i = 0, len = ref.parentTos.length; i < len; i++) {\n    listMapAdd(this.parentToMap, ref.parentTos[i], ref);\n  }\n};\n\nRefs.prototype.remove = function(from) {\n  var ref = this.fromMap[from];\n  if (!ref) return;\n  delete this.fromMap[from];\n  listMapRemove(this.toMap, ref.to, ref);\n  for (var i = 0, len = ref.parentTos.length; i < len; i++) {\n    listMapRemove(this.parentToMap, ref.parentTos[i], ref);\n  }\n  return ref;\n};\n\nRefs.prototype.toJSON = function() {\n  var out = [];\n  for (var from in this.fromMap) {\n    var ref = this.fromMap[from];\n    out.push([ref.from, ref.to]);\n  }\n  return out;\n};\n\nfunction listMapAdd(map, name, item) {\n  map[name] || (map[name] = []);\n  map[name].push(item);\n}\n\nfunction listMapRemove(map, name, item) {\n  var items = map[name];\n  if (!items) return;\n  var index = items.indexOf(item);\n  if (index === -1) return;\n  items.splice(index, 1);\n  if (!items.length) delete map[name];\n}\n",
    "module.exports = require('./Model');\nvar util = require('../util');\n\n// Extend model on both server and client //\nrequire('./unbundle');\nrequire('./events');\nrequire('./paths');\nrequire('./collections');\nrequire('./mutators');\nrequire('./setDiff');\n\nrequire('./connection');\nrequire('./subscriptions');\nrequire('./Query');\nrequire('./contexts');\n\nrequire('./fn');\nrequire('./filter');\nrequire('./refList');\nrequire('./ref');\n\n// Extend model for server //\nutil.serverRequire(module, './bundle');\nutil.serverRequire(module, './connection.server');\n",
    "var EventEmitter = require('events').EventEmitter;\nvar Model = require('./Model');\nvar util = require('./util');\n\nmodule.exports = Racer;\n\nfunction Racer() {\n  EventEmitter.call(this);\n}\n\nutil.mergeInto(Racer.prototype, EventEmitter.prototype);\n\n// Make classes accessible for use by plugins and tests\nRacer.prototype.Model = Model;\nRacer.prototype.util = util;\n\n// Support plugins on racer instances\nRacer.prototype.use = util.use;\nRacer.prototype.serverUse = util.serverUse;\n\nRacer.prototype.createModel = function(data) {\n  var model = new Model();\n  if (data) {\n    model.createConnection(data);\n    model.unbundle(data);\n  }\n  return model;\n};\n\nutil.serverRequire(module, './Racer.server');\n",
    "var Racer = require('./Racer');\nmodule.exports = new Racer();\n",
    "(function(){\nvar f, aa = aa || {}, l = this;\nfunction ba(a) {\n  a = a.split(\".\");\n  for (var b = l, c;c = a.shift();) {\n    if (null != b[c]) {\n      b = b[c];\n    } else {\n      return null;\n    }\n  }\n  return b;\n}\nfunction ca() {\n}\nfunction da(a) {\n  var b = typeof a;\n  if (\"object\" == b) {\n    if (a) {\n      if (a instanceof Array) {\n        return \"array\";\n      }\n      if (a instanceof Object) {\n        return b;\n      }\n      var c = Object.prototype.toString.call(a);\n      if (\"[object Window]\" == c) {\n        return \"object\";\n      }\n      if (\"[object Array]\" == c || \"number\" == typeof a.length && \"undefined\" != typeof a.splice && \"undefined\" != typeof a.propertyIsEnumerable && !a.propertyIsEnumerable(\"splice\")) {\n        return \"array\";\n      }\n      if (\"[object Function]\" == c || \"undefined\" != typeof a.call && \"undefined\" != typeof a.propertyIsEnumerable && !a.propertyIsEnumerable(\"call\")) {\n        return \"function\";\n      }\n    } else {\n      return \"null\";\n    }\n  } else {\n    if (\"function\" == b && \"undefined\" == typeof a.call) {\n      return \"object\";\n    }\n  }\n  return b;\n}\nfunction m(a) {\n  return \"array\" == da(a);\n}\nfunction ea(a) {\n  var b = da(a);\n  return \"array\" == b || \"object\" == b && \"number\" == typeof a.length;\n}\nfunction n(a) {\n  return \"string\" == typeof a;\n}\nfunction fa(a) {\n  return \"function\" == da(a);\n}\nvar ga = \"closure_uid_\" + (1E9 * Math.random() >>> 0), ha = 0;\nfunction ia(a, b, c) {\n  return a.call.apply(a.bind, arguments);\n}\nfunction ja(a, b, c) {\n  if (!a) {\n    throw Error();\n  }\n  if (2 < arguments.length) {\n    var d = Array.prototype.slice.call(arguments, 2);\n    return function() {\n      var c = Array.prototype.slice.call(arguments);\n      Array.prototype.unshift.apply(c, d);\n      return a.apply(b, c);\n    };\n  }\n  return function() {\n    return a.apply(b, arguments);\n  };\n}\nfunction p(a, b, c) {\n  p = Function.prototype.bind && -1 != Function.prototype.bind.toString().indexOf(\"native code\") ? ia : ja;\n  return p.apply(null, arguments);\n}\nvar q = Date.now || function() {\n  return+new Date;\n};\nfunction s(a, b) {\n  function c() {\n  }\n  c.prototype = b.prototype;\n  a.pa = b.prototype;\n  a.prototype = new c;\n  a.Hc = function(a, c, g) {\n    var h = Array.prototype.slice.call(arguments, 2);\n    return b.prototype[c].apply(a, h);\n  };\n}\n;function ka(a, b) {\n  for (var c = a.split(\"%s\"), d = \"\", e = Array.prototype.slice.call(arguments, 1);e.length && 1 < c.length;) {\n    d += c.shift() + e.shift();\n  }\n  return d + c.join(\"%s\");\n}\nfunction la(a) {\n  if (!ma.test(a)) {\n    return a;\n  }\n  -1 != a.indexOf(\"&\") && (a = a.replace(na, \"&amp;\"));\n  -1 != a.indexOf(\"<\") && (a = a.replace(oa, \"&lt;\"));\n  -1 != a.indexOf(\">\") && (a = a.replace(pa, \"&gt;\"));\n  -1 != a.indexOf('\"') && (a = a.replace(qa, \"&quot;\"));\n  -1 != a.indexOf(\"'\") && (a = a.replace(ra, \"&#39;\"));\n  return a;\n}\nvar na = /&/g, oa = /</g, pa = />/g, qa = /\"/g, ra = /'/g, ma = /[&<>\"']/;\nfunction sa() {\n  return Math.floor(2147483648 * Math.random()).toString(36) + Math.abs(Math.floor(2147483648 * Math.random()) ^ q()).toString(36);\n}\nfunction ta(a, b) {\n  return a < b ? -1 : a > b ? 1 : 0;\n}\n;var x, ua, va, wa;\nfunction xa() {\n  return l.navigator ? l.navigator.userAgent : null;\n}\nwa = va = ua = x = !1;\nvar ya;\nif (ya = xa()) {\n  var za = l.navigator;\n  x = 0 == ya.lastIndexOf(\"Opera\", 0);\n  ua = !x && (-1 != ya.indexOf(\"MSIE\") || -1 != ya.indexOf(\"Trident\"));\n  va = !x && -1 != ya.indexOf(\"WebKit\");\n  wa = !x && !va && !ua && \"Gecko\" == za.product;\n}\nvar Aa = x, y = ua, Ba = wa, z = va;\nfunction Ca() {\n  var a = l.document;\n  return a ? a.documentMode : void 0;\n}\nvar Da;\na: {\n  var Ea = \"\", Fa;\n  if (Aa && l.opera) {\n    var Ga = l.opera.version, Ea = \"function\" == typeof Ga ? Ga() : Ga\n  } else {\n    if (Ba ? Fa = /rv\\:([^\\);]+)(\\)|;)/ : y ? Fa = /\\b(?:MSIE|rv)[: ]([^\\);]+)(\\)|;)/ : z && (Fa = /WebKit\\/(\\S+)/), Fa) {\n      var Ha = Fa.exec(xa()), Ea = Ha ? Ha[1] : \"\"\n    }\n  }\n  if (y) {\n    var Ia = Ca();\n    if (Ia > parseFloat(Ea)) {\n      Da = String(Ia);\n      break a;\n    }\n  }\n  Da = Ea;\n}\nvar Ja = {};\nfunction A(a) {\n  var b;\n  if (!(b = Ja[a])) {\n    b = 0;\n    for (var c = String(Da).replace(/^[\\s\\xa0]+|[\\s\\xa0]+$/g, \"\").split(\".\"), d = String(a).replace(/^[\\s\\xa0]+|[\\s\\xa0]+$/g, \"\").split(\".\"), e = Math.max(c.length, d.length), g = 0;0 == b && g < e;g++) {\n      var h = c[g] || \"\", k = d[g] || \"\", u = RegExp(\"(\\\\d*)(\\\\D*)\", \"g\"), K = RegExp(\"(\\\\d*)(\\\\D*)\", \"g\");\n      do {\n        var v = u.exec(h) || [\"\", \"\", \"\"], r = K.exec(k) || [\"\", \"\", \"\"];\n        if (0 == v[0].length && 0 == r[0].length) {\n          break;\n        }\n        b = ta(0 == v[1].length ? 0 : parseInt(v[1], 10), 0 == r[1].length ? 0 : parseInt(r[1], 10)) || ta(0 == v[2].length, 0 == r[2].length) || ta(v[2], r[2]);\n      } while (0 == b);\n    }\n    b = Ja[a] = 0 <= b;\n  }\n  return b;\n}\nvar La = l.document, Ma = La && y ? Ca() || (\"CSS1Compat\" == La.compatMode ? parseInt(Da, 10) : 5) : void 0;\nfunction Na(a) {\n  Error.captureStackTrace ? Error.captureStackTrace(this, Na) : this.stack = Error().stack || \"\";\n  a && (this.message = String(a));\n}\ns(Na, Error);\nNa.prototype.name = \"CustomError\";\nfunction Oa(a, b) {\n  b.unshift(a);\n  Na.call(this, ka.apply(null, b));\n  b.shift();\n}\ns(Oa, Na);\nOa.prototype.name = \"AssertionError\";\nfunction Pa(a, b) {\n  throw new Oa(\"Failure\" + (a ? \": \" + a : \"\"), Array.prototype.slice.call(arguments, 1));\n}\n;var Qa = RegExp(\"^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\\\?([^#]*))?(?:#(.*))?$\");\nfunction Ra(a) {\n  if (Sa) {\n    Sa = !1;\n    var b = l.location;\n    if (b) {\n      var c = b.href;\n      if (c && (c = (c = Ra(c)[3] || null) && decodeURIComponent(c)) && c != b.hostname) {\n        throw Sa = !0, Error();\n      }\n    }\n  }\n  return a.match(Qa);\n}\nvar Sa = z;\nfunction Ta(a) {\n  var b = [], c = 0, d;\n  for (d in a) {\n    b[c++] = a[d];\n  }\n  return b;\n}\nfunction Ua(a) {\n  var b = [], c = 0, d;\n  for (d in a) {\n    b[c++] = d;\n  }\n  return b;\n}\nvar Va = \"constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf\".split(\" \");\nfunction Wa(a, b) {\n  for (var c, d, e = 1;e < arguments.length;e++) {\n    d = arguments[e];\n    for (c in d) {\n      a[c] = d[c];\n    }\n    for (var g = 0;g < Va.length;g++) {\n      c = Va[g], Object.prototype.hasOwnProperty.call(d, c) && (a[c] = d[c]);\n    }\n  }\n}\n;var B = Array.prototype, Xa = B.indexOf ? function(a, b, c) {\n  return B.indexOf.call(a, b, c);\n} : function(a, b, c) {\n  c = null == c ? 0 : 0 > c ? Math.max(0, a.length + c) : c;\n  if (n(a)) {\n    return n(b) && 1 == b.length ? a.indexOf(b, c) : -1;\n  }\n  for (;c < a.length;c++) {\n    if (c in a && a[c] === b) {\n      return c;\n    }\n  }\n  return-1;\n}, Ya = B.forEach ? function(a, b, c) {\n  B.forEach.call(a, b, c);\n} : function(a, b, c) {\n  for (var d = a.length, e = n(a) ? a.split(\"\") : a, g = 0;g < d;g++) {\n    g in e && b.call(c, e[g], g, a);\n  }\n};\nfunction Za(a) {\n  var b;\n  a: {\n    b = $a;\n    for (var c = a.length, d = n(a) ? a.split(\"\") : a, e = 0;e < c;e++) {\n      if (e in d && b.call(void 0, d[e], e, a)) {\n        b = e;\n        break a;\n      }\n    }\n    b = -1;\n  }\n  return 0 > b ? null : n(a) ? a.charAt(b) : a[b];\n}\nfunction ab(a) {\n  return B.concat.apply(B, arguments);\n}\nfunction bb(a) {\n  var b = a.length;\n  if (0 < b) {\n    for (var c = Array(b), d = 0;d < b;d++) {\n      c[d] = a[d];\n    }\n    return c;\n  }\n  return[];\n}\n;function cb(a, b) {\n  this.O = {};\n  this.j = [];\n  this.o = 0;\n  var c = arguments.length;\n  if (1 < c) {\n    if (c % 2) {\n      throw Error(\"Uneven number of arguments\");\n    }\n    for (var d = 0;d < c;d += 2) {\n      this.set(arguments[d], arguments[d + 1]);\n    }\n  } else {\n    if (a) {\n      a instanceof cb ? (c = a.ca(), d = a.N()) : (c = Ua(a), d = Ta(a));\n      for (var e = 0;e < c.length;e++) {\n        this.set(c[e], d[e]);\n      }\n    }\n  }\n}\nf = cb.prototype;\nf.N = function() {\n  db(this);\n  for (var a = [], b = 0;b < this.j.length;b++) {\n    a.push(this.O[this.j[b]]);\n  }\n  return a;\n};\nf.ca = function() {\n  db(this);\n  return this.j.concat();\n};\nf.wa = function(a) {\n  return C(this.O, a);\n};\nf.remove = function(a) {\n  return C(this.O, a) ? (delete this.O[a], this.o--, this.j.length > 2 * this.o && db(this), !0) : !1;\n};\nfunction db(a) {\n  if (a.o != a.j.length) {\n    for (var b = 0, c = 0;b < a.j.length;) {\n      var d = a.j[b];\n      C(a.O, d) && (a.j[c++] = d);\n      b++;\n    }\n    a.j.length = c;\n  }\n  if (a.o != a.j.length) {\n    for (var e = {}, c = b = 0;b < a.j.length;) {\n      d = a.j[b], C(e, d) || (a.j[c++] = d, e[d] = 1), b++;\n    }\n    a.j.length = c;\n  }\n}\nf.get = function(a, b) {\n  return C(this.O, a) ? this.O[a] : b;\n};\nf.set = function(a, b) {\n  C(this.O, a) || (this.o++, this.j.push(a));\n  this.O[a] = b;\n};\nf.n = function() {\n  return new cb(this);\n};\nfunction C(a, b) {\n  return Object.prototype.hasOwnProperty.call(a, b);\n}\n;function eb(a) {\n  if (\"function\" == typeof a.N) {\n    return a.N();\n  }\n  if (n(a)) {\n    return a.split(\"\");\n  }\n  if (ea(a)) {\n    for (var b = [], c = a.length, d = 0;d < c;d++) {\n      b.push(a[d]);\n    }\n    return b;\n  }\n  return Ta(a);\n}\nfunction D(a, b, c) {\n  if (\"function\" == typeof a.forEach) {\n    a.forEach(b, c);\n  } else {\n    if (ea(a) || n(a)) {\n      Ya(a, b, c);\n    } else {\n      var d;\n      if (\"function\" == typeof a.ca) {\n        d = a.ca();\n      } else {\n        if (\"function\" != typeof a.N) {\n          if (ea(a) || n(a)) {\n            d = [];\n            for (var e = a.length, g = 0;g < e;g++) {\n              d.push(g);\n            }\n          } else {\n            d = Ua(a);\n          }\n        } else {\n          d = void 0;\n        }\n      }\n      for (var e = eb(a), g = e.length, h = 0;h < g;h++) {\n        b.call(c, e[h], d && d[h], a);\n      }\n    }\n  }\n}\n;function E(a, b) {\n  var c;\n  if (a instanceof E) {\n    this.D = void 0 !== b ? b : a.D, fb(this, a.oa), c = a.eb, F(this), this.eb = c, gb(this, a.ja), hb(this, a.Ca), ib(this, a.I), jb(this, a.R.n()), c = a.Na, F(this), this.Na = c;\n  } else {\n    if (a && (c = Ra(String(a)))) {\n      this.D = !!b;\n      fb(this, c[1] || \"\", !0);\n      var d = c[2] || \"\";\n      F(this);\n      this.eb = d ? decodeURIComponent(d) : \"\";\n      gb(this, c[3] || \"\", !0);\n      hb(this, c[4]);\n      ib(this, c[5] || \"\", !0);\n      jb(this, c[6] || \"\", !0);\n      c = c[7] || \"\";\n      F(this);\n      this.Na = c ? decodeURIComponent(c) : \"\";\n    } else {\n      this.D = !!b, this.R = new kb(null, 0, this.D);\n    }\n  }\n}\nf = E.prototype;\nf.oa = \"\";\nf.eb = \"\";\nf.ja = \"\";\nf.Ca = null;\nf.I = \"\";\nf.Na = \"\";\nf.oc = !1;\nf.D = !1;\nf.toString = function() {\n  var a = [], b = this.oa;\n  b && a.push(lb(b, mb), \":\");\n  if (b = this.ja) {\n    a.push(\"//\");\n    var c = this.eb;\n    c && a.push(lb(c, mb), \"@\");\n    a.push(encodeURIComponent(String(b)));\n    b = this.Ca;\n    null != b && a.push(\":\", String(b));\n  }\n  if (b = this.I) {\n    this.ja && \"/\" != b.charAt(0) && a.push(\"/\"), a.push(lb(b, \"/\" == b.charAt(0) ? nb : ob));\n  }\n  (b = this.R.toString()) && a.push(\"?\", b);\n  (b = this.Na) && a.push(\"#\", lb(b, pb));\n  return a.join(\"\");\n};\nf.n = function() {\n  return new E(this);\n};\nfunction fb(a, b, c) {\n  F(a);\n  a.oa = c ? b ? decodeURIComponent(b) : \"\" : b;\n  a.oa && (a.oa = a.oa.replace(/:$/, \"\"));\n}\nfunction gb(a, b, c) {\n  F(a);\n  a.ja = c ? b ? decodeURIComponent(b) : \"\" : b;\n}\nfunction hb(a, b) {\n  F(a);\n  if (b) {\n    b = Number(b);\n    if (isNaN(b) || 0 > b) {\n      throw Error(\"Bad port number \" + b);\n    }\n    a.Ca = b;\n  } else {\n    a.Ca = null;\n  }\n}\nfunction ib(a, b, c) {\n  F(a);\n  a.I = c ? b ? decodeURIComponent(b) : \"\" : b;\n}\nfunction jb(a, b, c) {\n  F(a);\n  b instanceof kb ? (a.R = b, a.R.ub(a.D)) : (c || (b = lb(b, qb)), a.R = new kb(b, 0, a.D));\n}\nfunction G(a, b, c) {\n  F(a);\n  a.R.set(b, c);\n}\nfunction rb(a, b, c) {\n  F(a);\n  m(c) || (c = [String(c)]);\n  sb(a.R, b, c);\n}\nfunction H(a) {\n  F(a);\n  G(a, \"zx\", sa());\n  return a;\n}\nfunction F(a) {\n  if (a.oc) {\n    throw Error(\"Tried to modify a read-only Uri\");\n  }\n}\nf.ub = function(a) {\n  this.D = a;\n  this.R && this.R.ub(a);\n  return this;\n};\nfunction tb(a) {\n  return a instanceof E ? a.n() : new E(a, void 0);\n}\nfunction ub(a, b, c, d) {\n  var e = new E(null, void 0);\n  a && fb(e, a);\n  b && gb(e, b);\n  c && hb(e, c);\n  d && ib(e, d);\n  return e;\n}\nfunction lb(a, b) {\n  return n(a) ? encodeURI(a).replace(b, vb) : null;\n}\nfunction vb(a) {\n  a = a.charCodeAt(0);\n  return \"%\" + (a >> 4 & 15).toString(16) + (a & 15).toString(16);\n}\nvar mb = /[#\\/\\?@]/g, ob = /[\\#\\?:]/g, nb = /[\\#\\?]/g, qb = /[\\#\\?@]/g, pb = /#/g;\nfunction kb(a, b, c) {\n  this.C = a || null;\n  this.D = !!c;\n}\nfunction I(a) {\n  if (!a.h && (a.h = new cb, a.o = 0, a.C)) {\n    for (var b = a.C.split(\"&\"), c = 0;c < b.length;c++) {\n      var d = b[c].indexOf(\"=\"), e = null, g = null;\n      0 <= d ? (e = b[c].substring(0, d), g = b[c].substring(d + 1)) : e = b[c];\n      e = decodeURIComponent(e.replace(/\\+/g, \" \"));\n      e = J(a, e);\n      a.add(e, g ? decodeURIComponent(g.replace(/\\+/g, \" \")) : \"\");\n    }\n  }\n}\nf = kb.prototype;\nf.h = null;\nf.o = null;\nf.add = function(a, b) {\n  I(this);\n  this.C = null;\n  a = J(this, a);\n  var c = this.h.get(a);\n  c || this.h.set(a, c = []);\n  c.push(b);\n  this.o++;\n  return this;\n};\nf.remove = function(a) {\n  I(this);\n  a = J(this, a);\n  return this.h.wa(a) ? (this.C = null, this.o -= this.h.get(a).length, this.h.remove(a)) : !1;\n};\nf.wa = function(a) {\n  I(this);\n  a = J(this, a);\n  return this.h.wa(a);\n};\nf.ca = function() {\n  I(this);\n  for (var a = this.h.N(), b = this.h.ca(), c = [], d = 0;d < b.length;d++) {\n    for (var e = a[d], g = 0;g < e.length;g++) {\n      c.push(b[d]);\n    }\n  }\n  return c;\n};\nf.N = function(a) {\n  I(this);\n  var b = [];\n  if (n(a)) {\n    this.wa(a) && (b = ab(b, this.h.get(J(this, a))));\n  } else {\n    a = this.h.N();\n    for (var c = 0;c < a.length;c++) {\n      b = ab(b, a[c]);\n    }\n  }\n  return b;\n};\nf.set = function(a, b) {\n  I(this);\n  this.C = null;\n  a = J(this, a);\n  this.wa(a) && (this.o -= this.h.get(a).length);\n  this.h.set(a, [b]);\n  this.o++;\n  return this;\n};\nf.get = function(a, b) {\n  var c = a ? this.N(a) : [];\n  return 0 < c.length ? String(c[0]) : b;\n};\nfunction sb(a, b, c) {\n  a.remove(b);\n  0 < c.length && (a.C = null, a.h.set(J(a, b), bb(c)), a.o += c.length);\n}\nf.toString = function() {\n  if (this.C) {\n    return this.C;\n  }\n  if (!this.h) {\n    return \"\";\n  }\n  for (var a = [], b = this.h.ca(), c = 0;c < b.length;c++) {\n    for (var d = b[c], e = encodeURIComponent(String(d)), d = this.N(d), g = 0;g < d.length;g++) {\n      var h = e;\n      \"\" !== d[g] && (h += \"=\" + encodeURIComponent(String(d[g])));\n      a.push(h);\n    }\n  }\n  return this.C = a.join(\"&\");\n};\nf.n = function() {\n  var a = new kb;\n  a.C = this.C;\n  this.h && (a.h = this.h.n(), a.o = this.o);\n  return a;\n};\nfunction J(a, b) {\n  var c = String(b);\n  a.D && (c = c.toLowerCase());\n  return c;\n}\nf.ub = function(a) {\n  a && !this.D && (I(this), this.C = null, D(this.h, function(a, c) {\n    var d = c.toLowerCase();\n    c != d && (this.remove(c), sb(this, d, a));\n  }, this));\n  this.D = a;\n};\nfunction wb(a) {\n  a = String(a);\n  if (/^\\s*$/.test(a) ? 0 : /^[\\],:{}\\s\\u2028\\u2029]*$/.test(a.replace(/\\\\[\"\\\\\\/bfnrtu]/g, \"@\").replace(/\"[^\"\\\\\\n\\r\\u2028\\u2029\\x00-\\x08\\x0a-\\x1f]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g, \"]\").replace(/(?:^|:|,)(?:[\\s\\u2028\\u2029]*\\[)+/g, \"\"))) {\n    try {\n      return eval(\"(\" + a + \")\");\n    } catch (b) {\n    }\n  }\n  throw Error(\"Invalid JSON string: \" + a);\n}\nfunction xb(a) {\n  return eval(\"(\" + a + \")\");\n}\nfunction yb(a) {\n  var b = [];\n  zb(new Ab, a, b);\n  return b.join(\"\");\n}\nfunction Ab() {\n  this.Ya = void 0;\n}\nfunction zb(a, b, c) {\n  switch(typeof b) {\n    case \"string\":\n      Bb(b, c);\n      break;\n    case \"number\":\n      c.push(isFinite(b) && !isNaN(b) ? b : \"null\");\n      break;\n    case \"boolean\":\n      c.push(b);\n      break;\n    case \"undefined\":\n      c.push(\"null\");\n      break;\n    case \"object\":\n      if (null == b) {\n        c.push(\"null\");\n        break;\n      }\n      if (m(b)) {\n        var d = b.length;\n        c.push(\"[\");\n        for (var e = \"\", g = 0;g < d;g++) {\n          c.push(e), e = b[g], zb(a, a.Ya ? a.Ya.call(b, String(g), e) : e, c), e = \",\";\n        }\n        c.push(\"]\");\n        break;\n      }\n      c.push(\"{\");\n      d = \"\";\n      for (g in b) {\n        Object.prototype.hasOwnProperty.call(b, g) && (e = b[g], \"function\" != typeof e && (c.push(d), Bb(g, c), c.push(\":\"), zb(a, a.Ya ? a.Ya.call(b, g, e) : e, c), d = \",\"));\n      }\n      c.push(\"}\");\n      break;\n    case \"function\":\n      break;\n    default:\n      throw Error(\"Unknown type: \" + typeof b);;\n  }\n}\nvar Cb = {'\"':'\\\\\"', \"\\\\\":\"\\\\\\\\\", \"/\":\"\\\\/\", \"\\b\":\"\\\\b\", \"\\f\":\"\\\\f\", \"\\n\":\"\\\\n\", \"\\r\":\"\\\\r\", \"\\t\":\"\\\\t\", \"\\x0B\":\"\\\\u000b\"}, Db = /\\uffff/.test(\"\\uffff\") ? /[\\\\\\\"\\x00-\\x1f\\x7f-\\uffff]/g : /[\\\\\\\"\\x00-\\x1f\\x7f-\\xff]/g;\nfunction Bb(a, b) {\n  b.push('\"', a.replace(Db, function(a) {\n    if (a in Cb) {\n      return Cb[a];\n    }\n    var b = a.charCodeAt(0), e = \"\\\\u\";\n    16 > b ? e += \"000\" : 256 > b ? e += \"00\" : 4096 > b && (e += \"0\");\n    return Cb[a] = e + b.toString(16);\n  }), '\"');\n}\n;function Eb(a) {\n  return Fb(a || arguments.callee.caller, []);\n}\nfunction Fb(a, b) {\n  var c = [];\n  if (0 <= Xa(b, a)) {\n    c.push(\"[...circular reference...]\");\n  } else {\n    if (a && 50 > b.length) {\n      c.push(Gb(a) + \"(\");\n      for (var d = a.arguments, e = 0;e < d.length;e++) {\n        0 < e && c.push(\", \");\n        var g;\n        g = d[e];\n        switch(typeof g) {\n          case \"object\":\n            g = g ? \"object\" : \"null\";\n            break;\n          case \"string\":\n            break;\n          case \"number\":\n            g = String(g);\n            break;\n          case \"boolean\":\n            g = g ? \"true\" : \"false\";\n            break;\n          case \"function\":\n            g = (g = Gb(g)) ? g : \"[fn]\";\n            break;\n          default:\n            g = typeof g;\n        }\n        40 < g.length && (g = g.substr(0, 40) + \"...\");\n        c.push(g);\n      }\n      b.push(a);\n      c.push(\")\\n\");\n      try {\n        c.push(Fb(a.caller, b));\n      } catch (h) {\n        c.push(\"[exception trying to get caller]\\n\");\n      }\n    } else {\n      a ? c.push(\"[...long stack...]\") : c.push(\"[end]\");\n    }\n  }\n  return c.join(\"\");\n}\nfunction Gb(a) {\n  if (Hb[a]) {\n    return Hb[a];\n  }\n  a = String(a);\n  if (!Hb[a]) {\n    var b = /function ([^\\(]+)/.exec(a);\n    Hb[a] = b ? b[1] : \"[Anonymous]\";\n  }\n  return Hb[a];\n}\nvar Hb = {};\nfunction Ib(a, b, c, d, e) {\n  this.reset(a, b, c, d, e);\n}\nIb.prototype.Fb = null;\nIb.prototype.Eb = null;\nvar Jb = 0;\nIb.prototype.reset = function(a, b, c, d, e) {\n  \"number\" == typeof e || Jb++;\n  d || q();\n  this.Aa = a;\n  this.qc = b;\n  delete this.Fb;\n  delete this.Eb;\n};\nIb.prototype.$b = function(a) {\n  this.Aa = a;\n};\nfunction L(a) {\n  this.rc = a;\n}\nL.prototype.Sa = null;\nL.prototype.Aa = null;\nL.prototype.jb = null;\nL.prototype.Jb = null;\nfunction Kb(a, b) {\n  this.name = a;\n  this.value = b;\n}\nKb.prototype.toString = function() {\n  return this.name;\n};\nvar Lb = new Kb(\"SEVERE\", 1E3), Mb = new Kb(\"WARNING\", 900), Nb = new Kb(\"INFO\", 800), Ob = new Kb(\"CONFIG\", 700), Pb = new Kb(\"FINE\", 500);\nf = L.prototype;\nf.getParent = function() {\n  return this.Sa;\n};\nf.$b = function(a) {\n  this.Aa = a;\n};\nfunction Qb(a) {\n  if (a.Aa) {\n    return a.Aa;\n  }\n  if (a.Sa) {\n    return Qb(a.Sa);\n  }\n  Pa(\"Root logger has no level set.\");\n  return null;\n}\nf.log = function(a, b, c) {\n  if (a.value >= Qb(this).value) {\n    for (fa(b) && (b = b()), a = this.mc(a, b, c), b = \"log:\" + a.qc, l.console && (l.console.timeStamp ? l.console.timeStamp(b) : l.console.markTimeline && l.console.markTimeline(b)), l.msWriteProfilerMark && l.msWriteProfilerMark(b), b = this;b;) {\n      c = b;\n      var d = a;\n      if (c.Jb) {\n        for (var e = 0, g = void 0;g = c.Jb[e];e++) {\n          g(d);\n        }\n      }\n      b = b.getParent();\n    }\n  }\n};\nf.mc = function(a, b, c) {\n  var d = new Ib(a, String(b), this.rc);\n  if (c) {\n    d.Fb = c;\n    var e;\n    var g = arguments.callee.caller;\n    try {\n      var h;\n      var k = ba(\"window.location.href\");\n      if (n(c)) {\n        h = {message:c, name:\"Unknown error\", lineNumber:\"Not available\", fileName:k, stack:\"Not available\"};\n      } else {\n        var u, K, v = !1;\n        try {\n          u = c.lineNumber || c.Ic || \"Not available\";\n        } catch (r) {\n          u = \"Not available\", v = !0;\n        }\n        try {\n          K = c.fileName || c.filename || c.sourceURL || l.$googDebugFname || k;\n        } catch (Ka) {\n          K = \"Not available\", v = !0;\n        }\n        h = !v && c.lineNumber && c.fileName && c.stack && c.message && c.name ? c : {message:c.message || \"Not available\", name:c.name || \"UnknownError\", lineNumber:u, fileName:K, stack:c.stack || \"Not available\"};\n      }\n      e = \"Message: \" + la(h.message) + '\\nUrl: <a href=\"view-source:' + h.fileName + '\" target=\"_new\">' + h.fileName + \"</a>\\nLine: \" + h.lineNumber + \"\\n\\nBrowser stack:\\n\" + la(h.stack + \"-> \") + \"[end]\\n\\nJS stack traversal:\\n\" + la(Eb(g) + \"-> \");\n    } catch (w) {\n      e = \"Exception trying to expose exception! You win, we lose. \" + w;\n    }\n    d.Eb = e;\n  }\n  return d;\n};\nf.J = function(a, b) {\n  this.log(Lb, a, b);\n};\nf.Z = function(a, b) {\n  this.log(Mb, a, b);\n};\nf.info = function(a, b) {\n  this.log(Nb, a, b);\n};\nvar Rb = {}, Sb = null;\nfunction Tb(a) {\n  Sb || (Sb = new L(\"\"), Rb[\"\"] = Sb, Sb.$b(Ob));\n  var b;\n  if (!(b = Rb[a])) {\n    b = new L(a);\n    var c = a.lastIndexOf(\".\"), d = a.substr(c + 1), c = Tb(a.substr(0, c));\n    c.jb || (c.jb = {});\n    c.jb[d] = b;\n    b.Sa = c;\n    Rb[a] = b;\n  }\n  return b;\n}\n;function M(a, b) {\n  a && a.log(Pb, b, void 0);\n}\n;function N() {\n  this.r = Tb(\"goog.net.BrowserChannel\");\n}\nfunction Ub(a, b, c, d) {\n  a.info(\"XMLHTTP TEXT (\" + b + \"): \" + Vb(a, c) + (d ? \" \" + d : \"\"));\n}\nN.prototype.debug = function(a) {\n  this.info(a);\n};\nfunction Wb(a, b, c) {\n  a.J((c || \"Exception\") + b);\n}\nN.prototype.info = function(a) {\n  var b = this.r;\n  b && b.info(a, void 0);\n};\nN.prototype.Z = function(a) {\n  var b = this.r;\n  b && b.Z(a, void 0);\n};\nN.prototype.J = function(a) {\n  var b = this.r;\n  b && b.J(a, void 0);\n};\nfunction Vb(a, b) {\n  if (!b || b == Xb) {\n    return b;\n  }\n  try {\n    var c = xb(b);\n    if (c) {\n      for (var d = 0;d < c.length;d++) {\n        if (m(c[d])) {\n          var e = c[d];\n          if (!(2 > e.length)) {\n            var g = e[1];\n            if (m(g) && !(1 > g.length)) {\n              var h = g[0];\n              if (\"noop\" != h && \"stop\" != h) {\n                for (var k = 1;k < g.length;k++) {\n                  g[k] = \"\";\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n    return yb(c);\n  } catch (u) {\n    return a.debug(\"Exception parsing expected JS array - probably was not JS\"), b;\n  }\n}\n;function Yb(a, b) {\n  this.P = b ? xb : wb;\n}\nYb.prototype.parse = function(a) {\n  return this.P(a);\n};\nfunction O() {\n  0 != Zb && ($b[this[ga] || (this[ga] = ++ha)] = this);\n}\nvar Zb = 0, $b = {};\nO.prototype.mb = !1;\nO.prototype.Ja = function() {\n  if (!this.mb && (this.mb = !0, this.u(), 0 != Zb)) {\n    var a = this[ga] || (this[ga] = ++ha);\n    delete $b[a];\n  }\n};\nO.prototype.u = function() {\n  if (this.Pb) {\n    for (;this.Pb.length;) {\n      this.Pb.shift()();\n    }\n  }\n};\nvar ac = \"closure_listenable_\" + (1E6 * Math.random() | 0);\nfunction bc(a) {\n  try {\n    return!(!a || !a[ac]);\n  } catch (b) {\n    return!1;\n  }\n}\nvar cc = 0;\nfunction dc(a, b, c, d, e) {\n  this.fa = a;\n  this.Ua = null;\n  this.src = b;\n  this.type = c;\n  this.capture = !!d;\n  this.Oa = e;\n  this.key = ++cc;\n  this.na = this.Ia = !1;\n}\nfunction ec(a) {\n  a.na = !0;\n  a.fa = null;\n  a.Ua = null;\n  a.src = null;\n  a.Oa = null;\n}\n;function P(a) {\n  this.src = a;\n  this.s = {};\n  this.Ga = 0;\n}\nP.prototype.add = function(a, b, c, d, e) {\n  var g = this.s[a];\n  g || (g = this.s[a] = [], this.Ga++);\n  var h = fc(g, b, d, e);\n  -1 < h ? (a = g[h], c || (a.Ia = !1)) : (a = new dc(b, this.src, a, !!d, e), a.Ia = c, g.push(a));\n  return a;\n};\nP.prototype.remove = function(a, b, c, d) {\n  if (!(a in this.s)) {\n    return!1;\n  }\n  var e = this.s[a];\n  b = fc(e, b, c, d);\n  return-1 < b ? (ec(e[b]), B.splice.call(e, b, 1), 0 == e.length && (delete this.s[a], this.Ga--), !0) : !1;\n};\nfunction gc(a, b) {\n  var c = b.type;\n  if (!(c in a.s)) {\n    return!1;\n  }\n  var d = a.s[c], e = Xa(d, b), g;\n  (g = 0 <= e) && B.splice.call(d, e, 1);\n  g && (ec(b), 0 == a.s[c].length && (delete a.s[c], a.Ga--));\n  return g;\n}\nP.prototype.Xa = function(a) {\n  var b = 0, c;\n  for (c in this.s) {\n    if (!a || c == a) {\n      for (var d = this.s[c], e = 0;e < d.length;e++) {\n        ++b, ec(d[e]);\n      }\n      delete this.s[c];\n      this.Ga--;\n    }\n  }\n  return b;\n};\nP.prototype.ya = function(a, b, c, d) {\n  a = this.s[a];\n  var e = -1;\n  a && (e = fc(a, b, c, d));\n  return-1 < e ? a[e] : null;\n};\nfunction fc(a, b, c, d) {\n  for (var e = 0;e < a.length;++e) {\n    var g = a[e];\n    if (!g.na && g.fa == b && g.capture == !!c && g.Oa == d) {\n      return e;\n    }\n  }\n  return-1;\n}\n;var hc = !y || y && 9 <= Ma, ic = y && !A(\"9\");\n!z || A(\"528\");\nBa && A(\"1.9b\") || y && A(\"8\") || Aa && A(\"9.5\") || z && A(\"528\");\nBa && !A(\"8\") || y && A(\"9\");\nfunction Q(a, b) {\n  this.type = a;\n  this.currentTarget = this.target = b;\n}\nf = Q.prototype;\nf.u = function() {\n};\nf.Ja = function() {\n};\nf.ga = !1;\nf.defaultPrevented = !1;\nf.Yb = !0;\nf.preventDefault = function() {\n  this.defaultPrevented = !0;\n  this.Yb = !1;\n};\nfunction jc(a) {\n  jc[\" \"](a);\n  return a;\n}\njc[\" \"] = ca;\nfunction kc(a, b) {\n  Q.call(this, a ? a.type : \"\");\n  this.relatedTarget = this.currentTarget = this.target = null;\n  this.charCode = this.keyCode = this.button = this.screenY = this.screenX = this.clientY = this.clientX = this.offsetY = this.offsetX = 0;\n  this.metaKey = this.shiftKey = this.altKey = this.ctrlKey = !1;\n  this.Db = this.state = null;\n  if (a) {\n    var c = this.type = a.type;\n    this.target = a.target || a.srcElement;\n    this.currentTarget = b;\n    var d = a.relatedTarget;\n    if (d) {\n      if (Ba) {\n        var e;\n        a: {\n          try {\n            jc(d.nodeName);\n            e = !0;\n            break a;\n          } catch (g) {\n          }\n          e = !1;\n        }\n        e || (d = null);\n      }\n    } else {\n      \"mouseover\" == c ? d = a.fromElement : \"mouseout\" == c && (d = a.toElement);\n    }\n    this.relatedTarget = d;\n    this.offsetX = z || void 0 !== a.offsetX ? a.offsetX : a.layerX;\n    this.offsetY = z || void 0 !== a.offsetY ? a.offsetY : a.layerY;\n    this.clientX = void 0 !== a.clientX ? a.clientX : a.pageX;\n    this.clientY = void 0 !== a.clientY ? a.clientY : a.pageY;\n    this.screenX = a.screenX || 0;\n    this.screenY = a.screenY || 0;\n    this.button = a.button;\n    this.keyCode = a.keyCode || 0;\n    this.charCode = a.charCode || (\"keypress\" == c ? a.keyCode : 0);\n    this.ctrlKey = a.ctrlKey;\n    this.altKey = a.altKey;\n    this.shiftKey = a.shiftKey;\n    this.metaKey = a.metaKey;\n    this.state = a.state;\n    this.Db = a;\n    a.defaultPrevented && this.preventDefault();\n    delete this.ga;\n  }\n}\ns(kc, Q);\nkc.prototype.preventDefault = function() {\n  kc.pa.preventDefault.call(this);\n  var a = this.Db;\n  if (a.preventDefault) {\n    a.preventDefault();\n  } else {\n    if (a.returnValue = !1, ic) {\n      try {\n        if (a.ctrlKey || 112 <= a.keyCode && 123 >= a.keyCode) {\n          a.keyCode = -1;\n        }\n      } catch (b) {\n      }\n    }\n  }\n};\nkc.prototype.u = function() {\n};\nvar lc = \"closure_lm_\" + (1E6 * Math.random() | 0), mc = {}, nc = 0;\nfunction oc(a, b, c, d, e) {\n  if (m(b)) {\n    for (var g = 0;g < b.length;g++) {\n      oc(a, b[g], c, d, e);\n    }\n    return null;\n  }\n  c = pc(c);\n  if (bc(a)) {\n    a = a.Ra(b, c, d, e);\n  } else {\n    if (!b) {\n      throw Error(\"Invalid event type\");\n    }\n    var g = !!d, h = qc(a);\n    h || (a[lc] = h = new P(a));\n    c = h.add(b, c, !1, d, e);\n    c.Ua || (d = rc(), c.Ua = d, d.src = a, d.fa = c, a.addEventListener ? a.addEventListener(b, d, g) : a.attachEvent(b in mc ? mc[b] : mc[b] = \"on\" + b, d), nc++);\n    a = c;\n  }\n  return a;\n}\nfunction rc() {\n  var a = sc, b = hc ? function(c) {\n    return a.call(b.src, b.fa, c);\n  } : function(c) {\n    c = a.call(b.src, b.fa, c);\n    if (!c) {\n      return c;\n    }\n  };\n  return b;\n}\nfunction tc(a, b, c, d, e) {\n  if (m(b)) {\n    for (var g = 0;g < b.length;g++) {\n      tc(a, b[g], c, d, e);\n    }\n  } else {\n    c = pc(c), bc(a) ? a.vb(b, c, d, e) : a && (a = qc(a)) && (b = a.ya(b, c, !!d, e)) && uc(b);\n  }\n}\nfunction uc(a) {\n  if (\"number\" == typeof a || !a || a.na) {\n    return!1;\n  }\n  var b = a.src;\n  if (bc(b)) {\n    return gc(b.W, a);\n  }\n  var c = a.type, d = a.Ua;\n  b.removeEventListener ? b.removeEventListener(c, d, a.capture) : b.detachEvent && b.detachEvent(c in mc ? mc[c] : mc[c] = \"on\" + c, d);\n  nc--;\n  (c = qc(b)) ? (gc(c, a), 0 == c.Ga && (c.src = null, b[lc] = null)) : ec(a);\n  return!0;\n}\nfunction vc(a, b, c, d) {\n  var e = 1;\n  if (a = qc(a)) {\n    if (b = a.s[b]) {\n      for (b = bb(b), a = 0;a < b.length;a++) {\n        var g = b[a];\n        g && g.capture == c && !g.na && (e &= !1 !== wc(g, d));\n      }\n    }\n  }\n  return Boolean(e);\n}\nfunction wc(a, b) {\n  var c = a.fa, d = a.Oa || a.src;\n  a.Ia && uc(a);\n  return c.call(d, b);\n}\nfunction sc(a, b) {\n  if (a.na) {\n    return!0;\n  }\n  if (!hc) {\n    var c = b || ba(\"window.event\"), d = new kc(c, this), e = !0;\n    if (!(0 > c.keyCode || void 0 != c.returnValue)) {\n      a: {\n        var g = !1;\n        if (0 == c.keyCode) {\n          try {\n            c.keyCode = -1;\n            break a;\n          } catch (h) {\n            g = !0;\n          }\n        }\n        if (g || void 0 == c.returnValue) {\n          c.returnValue = !0;\n        }\n      }\n      c = [];\n      for (g = d.currentTarget;g;g = g.parentNode) {\n        c.push(g);\n      }\n      for (var g = a.type, k = c.length - 1;!d.ga && 0 <= k;k--) {\n        d.currentTarget = c[k], e &= vc(c[k], g, !0, d);\n      }\n      for (k = 0;!d.ga && k < c.length;k++) {\n        d.currentTarget = c[k], e &= vc(c[k], g, !1, d);\n      }\n    }\n    return e;\n  }\n  return wc(a, new kc(b, this));\n}\nfunction qc(a) {\n  a = a[lc];\n  return a instanceof P ? a : null;\n}\nvar xc = \"__closure_events_fn_\" + (1E9 * Math.random() >>> 0);\nfunction pc(a) {\n  return fa(a) ? a : a[xc] || (a[xc] = function(b) {\n    return a.handleEvent(b);\n  });\n}\n;function R() {\n  O.call(this);\n  this.W = new P(this);\n  this.fc = this;\n}\ns(R, O);\nR.prototype[ac] = !0;\nf = R.prototype;\nf.tb = null;\nf.addEventListener = function(a, b, c, d) {\n  oc(this, a, b, c, d);\n};\nf.removeEventListener = function(a, b, c, d) {\n  tc(this, a, b, c, d);\n};\nf.dispatchEvent = function(a) {\n  var b, c = this.tb;\n  if (c) {\n    for (b = [];c;c = c.tb) {\n      b.push(c);\n    }\n  }\n  var c = this.fc, d = a.type || a;\n  if (n(a)) {\n    a = new Q(a, c);\n  } else {\n    if (a instanceof Q) {\n      a.target = a.target || c;\n    } else {\n      var e = a;\n      a = new Q(d, c);\n      Wa(a, e);\n    }\n  }\n  var e = !0, g;\n  if (b) {\n    for (var h = b.length - 1;!a.ga && 0 <= h;h--) {\n      g = a.currentTarget = b[h], e = yc(g, d, !0, a) && e;\n    }\n  }\n  a.ga || (g = a.currentTarget = c, e = yc(g, d, !0, a) && e, a.ga || (e = yc(g, d, !1, a) && e));\n  if (b) {\n    for (h = 0;!a.ga && h < b.length;h++) {\n      g = a.currentTarget = b[h], e = yc(g, d, !1, a) && e;\n    }\n  }\n  return e;\n};\nf.u = function() {\n  R.pa.u.call(this);\n  this.W && this.W.Xa(void 0);\n  this.tb = null;\n};\nf.Ra = function(a, b, c, d) {\n  return this.W.add(String(a), b, !1, c, d);\n};\nf.vb = function(a, b, c, d) {\n  return this.W.remove(String(a), b, c, d);\n};\nfunction yc(a, b, c, d) {\n  b = a.W.s[String(b)];\n  if (!b) {\n    return!0;\n  }\n  b = bb(b);\n  for (var e = !0, g = 0;g < b.length;++g) {\n    var h = b[g];\n    if (h && !h.na && h.capture == c) {\n      var k = h.fa, u = h.Oa || h.src;\n      h.Ia && gc(a.W, h);\n      e = !1 !== k.call(u, d) && e;\n    }\n  }\n  return e && !1 != d.Yb;\n}\nf.ya = function(a, b, c, d) {\n  return this.W.ya(String(a), b, c, d);\n};\nfunction zc(a, b) {\n  R.call(this);\n  this.ea = a || 1;\n  this.ra = b || l;\n  this.ib = p(this.Gc, this);\n  this.sb = q();\n}\ns(zc, R);\nf = zc.prototype;\nf.enabled = !1;\nf.l = null;\nf.setInterval = function(a) {\n  this.ea = a;\n  this.l && this.enabled ? (this.stop(), this.start()) : this.l && this.stop();\n};\nf.Gc = function() {\n  if (this.enabled) {\n    var a = q() - this.sb;\n    0 < a && a < 0.8 * this.ea ? this.l = this.ra.setTimeout(this.ib, this.ea - a) : (this.l && (this.ra.clearTimeout(this.l), this.l = null), this.dispatchEvent(Ac), this.enabled && (this.l = this.ra.setTimeout(this.ib, this.ea), this.sb = q()));\n  }\n};\nf.start = function() {\n  this.enabled = !0;\n  this.l || (this.l = this.ra.setTimeout(this.ib, this.ea), this.sb = q());\n};\nf.stop = function() {\n  this.enabled = !1;\n  this.l && (this.ra.clearTimeout(this.l), this.l = null);\n};\nf.u = function() {\n  zc.pa.u.call(this);\n  this.stop();\n  delete this.ra;\n};\nvar Ac = \"tick\";\nfunction Bc(a, b, c) {\n  if (fa(a)) {\n    c && (a = p(a, c));\n  } else {\n    if (a && \"function\" == typeof a.handleEvent) {\n      a = p(a.handleEvent, a);\n    } else {\n      throw Error(\"Invalid listener argument\");\n    }\n  }\n  return 2147483647 < b ? -1 : l.setTimeout(a, b || 0);\n}\n;function Cc() {\n}\nCc.prototype.Ab = null;\nfunction Dc(a) {\n  var b;\n  (b = a.Ab) || (b = {}, Ec(a) && (b[0] = !0, b[1] = !0), b = a.Ab = b);\n  return b;\n}\n;var Fc;\nfunction Gc() {\n}\ns(Gc, Cc);\nfunction Hc(a) {\n  return(a = Ec(a)) ? new ActiveXObject(a) : new XMLHttpRequest;\n}\nfunction Ec(a) {\n  if (!a.Kb && \"undefined\" == typeof XMLHttpRequest && \"undefined\" != typeof ActiveXObject) {\n    for (var b = [\"MSXML2.XMLHTTP.6.0\", \"MSXML2.XMLHTTP.3.0\", \"MSXML2.XMLHTTP\", \"Microsoft.XMLHTTP\"], c = 0;c < b.length;c++) {\n      var d = b[c];\n      try {\n        return new ActiveXObject(d), a.Kb = d;\n      } catch (e) {\n      }\n    }\n    throw Error(\"Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed\");\n  }\n  return a.Kb;\n}\nFc = new Gc;\nfunction Ic(a) {\n  R.call(this);\n  this.headers = new cb;\n  this.gb = a || null;\n  this.T = !1;\n  this.fb = this.f = null;\n  this.Mb = this.Qa = \"\";\n  this.ka = 0;\n  this.q = \"\";\n  this.da = this.qb = this.Pa = this.nb = !1;\n  this.Fa = 0;\n  this.bb = null;\n  this.Xb = Jc;\n  this.cb = this.dc = !1;\n}\ns(Ic, R);\nvar Jc = \"\";\nIc.prototype.r = Tb(\"goog.net.XhrIo\");\nvar Kc = /^https?$/i, Lc = [\"POST\", \"PUT\"];\nf = Ic.prototype;\nf.send = function(a, b, c, d) {\n  if (this.f) {\n    throw Error(\"[goog.net.XhrIo] Object is active with another request=\" + this.Qa + \"; newUri=\" + a);\n  }\n  b = b ? b.toUpperCase() : \"GET\";\n  this.Qa = a;\n  this.q = \"\";\n  this.ka = 0;\n  this.Mb = b;\n  this.nb = !1;\n  this.T = !0;\n  this.f = this.gb ? Hc(this.gb) : Hc(Fc);\n  this.fb = this.gb ? Dc(this.gb) : Dc(Fc);\n  this.f.onreadystatechange = p(this.Qb, this);\n  try {\n    M(this.r, S(this, \"Opening Xhr\")), this.qb = !0, this.f.open(b, a, !0), this.qb = !1;\n  } catch (e) {\n    M(this.r, S(this, \"Error opening Xhr: \" + e.message));\n    Mc(this, e);\n    return;\n  }\n  a = c || \"\";\n  var g = this.headers.n();\n  d && D(d, function(a, b) {\n    g.set(b, a);\n  });\n  d = Za(g.ca());\n  c = l.FormData && a instanceof l.FormData;\n  !(0 <= Xa(Lc, b)) || d || c || g.set(\"Content-Type\", \"application/x-www-form-urlencoded;charset=utf-8\");\n  D(g, function(a, b) {\n    this.f.setRequestHeader(b, a);\n  }, this);\n  this.Xb && (this.f.responseType = this.Xb);\n  \"withCredentials\" in this.f && (this.f.withCredentials = this.dc);\n  try {\n    Nc(this), 0 < this.Fa && (this.cb = Oc(this.f), M(this.r, S(this, \"Will abort after \" + this.Fa + \"ms if incomplete, xhr2 \" + this.cb)), this.cb ? (this.f.timeout = this.Fa, this.f.ontimeout = p(this.qa, this)) : this.bb = Bc(this.qa, this.Fa, this)), M(this.r, S(this, \"Sending request\")), this.Pa = !0, this.f.send(a), this.Pa = !1;\n  } catch (h) {\n    M(this.r, S(this, \"Send error: \" + h.message)), Mc(this, h);\n  }\n};\nfunction Oc(a) {\n  return y && A(9) && \"number\" == typeof a.timeout && void 0 !== a.ontimeout;\n}\nfunction $a(a) {\n  return \"content-type\" == a.toLowerCase();\n}\nf.qa = function() {\n  \"undefined\" != typeof aa && this.f && (this.q = \"Timed out after \" + this.Fa + \"ms, aborting\", this.ka = 8, M(this.r, S(this, this.q)), this.dispatchEvent(\"timeout\"), this.abort(8));\n};\nfunction Mc(a, b) {\n  a.T = !1;\n  a.f && (a.da = !0, a.f.abort(), a.da = !1);\n  a.q = b;\n  a.ka = 5;\n  Pc(a);\n  Qc(a);\n}\nfunction Pc(a) {\n  a.nb || (a.nb = !0, a.dispatchEvent(\"complete\"), a.dispatchEvent(\"error\"));\n}\nf.abort = function(a) {\n  this.f && this.T && (M(this.r, S(this, \"Aborting\")), this.T = !1, this.da = !0, this.f.abort(), this.da = !1, this.ka = a || 7, this.dispatchEvent(\"complete\"), this.dispatchEvent(\"abort\"), Qc(this));\n};\nf.u = function() {\n  this.f && (this.T && (this.T = !1, this.da = !0, this.f.abort(), this.da = !1), Qc(this, !0));\n  Ic.pa.u.call(this);\n};\nf.Qb = function() {\n  this.mb || (this.qb || this.Pa || this.da ? Rc(this) : this.uc());\n};\nf.uc = function() {\n  Rc(this);\n};\nfunction Rc(a) {\n  if (a.T && \"undefined\" != typeof aa) {\n    if (a.fb[1] && 4 == T(a) && 2 == Sc(a)) {\n      M(a.r, S(a, \"Local request error detected and ignored\"));\n    } else {\n      if (a.Pa && 4 == T(a)) {\n        Bc(a.Qb, 0, a);\n      } else {\n        if (a.dispatchEvent(\"readystatechange\"), 4 == T(a)) {\n          M(a.r, S(a, \"Request complete\"));\n          a.T = !1;\n          try {\n            var b = Sc(a), c, d;\n            a: {\n              switch(b) {\n                case 200:\n                ;\n                case 201:\n                ;\n                case 202:\n                ;\n                case 204:\n                ;\n                case 206:\n                ;\n                case 304:\n                ;\n                case 1223:\n                  d = !0;\n                  break a;\n                default:\n                  d = !1;\n              }\n            }\n            if (!(c = d)) {\n              var e;\n              if (e = 0 === b) {\n                var g = Ra(String(a.Qa))[1] || null;\n                if (!g && self.location) {\n                  var h = self.location.protocol, g = h.substr(0, h.length - 1)\n                }\n                e = !Kc.test(g ? g.toLowerCase() : \"\");\n              }\n              c = e;\n            }\n            if (c) {\n              a.dispatchEvent(\"complete\"), a.dispatchEvent(\"success\");\n            } else {\n              a.ka = 6;\n              var k;\n              try {\n                k = 2 < T(a) ? a.f.statusText : \"\";\n              } catch (u) {\n                M(a.r, \"Can not get status: \" + u.message), k = \"\";\n              }\n              a.q = k + \" [\" + Sc(a) + \"]\";\n              Pc(a);\n            }\n          } finally {\n            Qc(a);\n          }\n        }\n      }\n    }\n  }\n}\nfunction Qc(a, b) {\n  if (a.f) {\n    Nc(a);\n    var c = a.f, d = a.fb[0] ? ca : null;\n    a.f = null;\n    a.fb = null;\n    b || a.dispatchEvent(\"ready\");\n    try {\n      c.onreadystatechange = d;\n    } catch (e) {\n      (c = a.r) && c.J(\"Problem encountered resetting onreadystatechange: \" + e.message, void 0);\n    }\n  }\n}\nfunction Nc(a) {\n  a.f && a.cb && (a.f.ontimeout = null);\n  \"number\" == typeof a.bb && (l.clearTimeout(a.bb), a.bb = null);\n}\nf.isActive = function() {\n  return!!this.f;\n};\nfunction T(a) {\n  return a.f ? a.f.readyState : 0;\n}\nfunction Sc(a) {\n  try {\n    return 2 < T(a) ? a.f.status : -1;\n  } catch (b) {\n    return(a = a.r) && a.Z(\"Can not get status: \" + b.message, void 0), -1;\n  }\n}\nfunction Tc(a) {\n  try {\n    return a.f ? a.f.responseText : \"\";\n  } catch (b) {\n    return M(a.r, \"Can not get responseText: \" + b.message), \"\";\n  }\n}\nf.Ib = function() {\n  return n(this.q) ? this.q : String(this.q);\n};\nfunction S(a, b) {\n  return b + \" [\" + a.Mb + \" \" + a.Qa + \" \" + Sc(a) + \"]\";\n}\n;function Uc() {\n  this.Wb = q();\n}\nnew Uc;\nUc.prototype.set = function(a) {\n  this.Wb = a;\n};\nUc.prototype.reset = function() {\n  this.set(q());\n};\nUc.prototype.get = function() {\n  return this.Wb;\n};\nfunction Vc(a) {\n  O.call(this);\n  this.e = a;\n  this.j = {};\n}\ns(Vc, O);\nvar Wc = [];\nf = Vc.prototype;\nf.Ra = function(a, b, c, d) {\n  m(b) || (Wc[0] = b, b = Wc);\n  for (var e = 0;e < b.length;e++) {\n    var g = oc(a, b[e], c || this.handleEvent, d || !1, this.e || this);\n    if (!g) {\n      break;\n    }\n    this.j[g.key] = g;\n  }\n  return this;\n};\nf.vb = function(a, b, c, d, e) {\n  if (m(b)) {\n    for (var g = 0;g < b.length;g++) {\n      this.vb(a, b[g], c, d, e);\n    }\n  } else {\n    c = c || this.handleEvent, e = e || this.e || this, c = pc(c), d = !!d, b = bc(a) ? a.ya(b, c, d, e) : a ? (a = qc(a)) ? a.ya(b, c, d, e) : null : null, b && (uc(b), delete this.j[b.key]);\n  }\n  return this;\n};\nf.Xa = function() {\n  var a = this.j, b = uc, c;\n  for (c in a) {\n    b.call(void 0, a[c], c, a);\n  }\n  this.j = {};\n};\nf.u = function() {\n  Vc.pa.u.call(this);\n  this.Xa();\n};\nf.handleEvent = function() {\n  throw Error(\"EventHandler.handleEvent not implemented\");\n};\nfunction Xc(a, b, c) {\n  O.call(this);\n  this.pc = a;\n  this.ea = b;\n  this.e = c;\n  this.jc = p(this.vc, this);\n}\ns(Xc, O);\nf = Xc.prototype;\nf.Za = !1;\nf.Vb = 0;\nf.l = null;\nf.stop = function() {\n  this.l && (l.clearTimeout(this.l), this.l = null, this.Za = !1);\n};\nf.u = function() {\n  Xc.pa.u.call(this);\n  this.stop();\n};\nf.vc = function() {\n  this.l = null;\n  this.Za && !this.Vb && (this.Za = !1, Yc(this));\n};\nfunction Yc(a) {\n  a.l = Bc(a.jc, a.ea);\n  a.pc.call(a.e);\n}\n;function U(a, b, c, d, e) {\n  this.b = a;\n  this.a = b;\n  this.Y = c;\n  this.B = d;\n  this.Ea = e || 1;\n  this.qa = Zc;\n  this.ob = new Vc(this);\n  this.Ta = new zc;\n  this.Ta.setInterval($c);\n}\nf = U.prototype;\nf.v = null;\nf.F = !1;\nf.ua = null;\nf.xb = null;\nf.Da = null;\nf.sa = null;\nf.U = null;\nf.w = null;\nf.X = null;\nf.k = null;\nf.Ha = 0;\nf.K = null;\nf.ta = null;\nf.q = null;\nf.g = -1;\nf.Zb = !0;\nf.$ = !1;\nf.ma = 0;\nf.Va = null;\nvar Zc = 45E3, $c = 250;\nfunction ad(a, b) {\n  switch(a) {\n    case 0:\n      return \"Non-200 return code (\" + b + \")\";\n    case 1:\n      return \"XMLHTTP failure (no data)\";\n    case 2:\n      return \"HttpConnection timeout\";\n    default:\n      return \"Unknown error\";\n  }\n}\nvar bd = {}, dd = {};\nfunction ed() {\n  return!y || y && 10 <= Ma;\n}\nf = U.prototype;\nf.S = function(a) {\n  this.v = a;\n};\nf.setTimeout = function(a) {\n  this.qa = a;\n};\nf.bc = function(a) {\n  this.ma = a;\n};\nfunction fd(a, b, c) {\n  a.sa = 1;\n  a.U = H(b.n());\n  a.X = c;\n  a.Cb = !0;\n  gd(a, null);\n}\nfunction hd(a, b, c, d, e) {\n  a.sa = 1;\n  a.U = H(b.n());\n  a.X = null;\n  a.Cb = c;\n  e && (a.Zb = !1);\n  gd(a, d);\n}\nfunction gd(a, b) {\n  a.Da = q();\n  id(a);\n  a.w = a.U.n();\n  rb(a.w, \"t\", a.Ea);\n  a.Ha = 0;\n  a.k = a.b.lb(a.b.$a() ? b : null);\n  0 < a.ma && (a.Va = new Xc(p(a.ec, a, a.k), a.ma));\n  a.ob.Ra(a.k, \"readystatechange\", a.Bc);\n  var c;\n  if (a.v) {\n    c = a.v;\n    var d = {}, e;\n    for (e in c) {\n      d[e] = c[e];\n    }\n    c = d;\n  } else {\n    c = {};\n  }\n  a.X ? (a.ta = \"POST\", c[\"Content-Type\"] = \"application/x-www-form-urlencoded\", a.k.send(a.w, a.ta, a.X, c)) : (a.ta = \"GET\", a.Zb && !z && (c.Connection = \"close\"), a.k.send(a.w, a.ta, null, c));\n  a.b.H(jd);\n  if (d = a.X) {\n    for (c = \"\", d = d.split(\"&\"), e = 0;e < d.length;e++) {\n      var g = d[e].split(\"=\");\n      if (1 < g.length) {\n        var h = g[0], g = g[1], k = h.split(\"_\");\n        c = 2 <= k.length && \"type\" == k[1] ? c + (h + \"=\" + g + \"&\") : c + (h + \"=redacted&\");\n      }\n    }\n  } else {\n    c = null;\n  }\n  a.a.info(\"XMLHTTP REQ (\" + a.B + \") [attempt \" + a.Ea + \"]: \" + a.ta + \"\\n\" + a.w + \"\\n\" + c);\n}\nf.Bc = function(a) {\n  a = a.target;\n  var b = this.Va;\n  b && 3 == T(a) ? (this.a.debug(\"Throttling readystatechange.\"), b.l || b.Vb ? b.Za = !0 : Yc(b)) : this.ec(a);\n};\nf.ec = function(a) {\n  try {\n    if (a == this.k) {\n      a: {\n        var b = T(this.k), c = this.k.ka, d = Sc(this.k);\n        if (!ed() || z && !A(\"420+\")) {\n          if (4 > b) {\n            break a;\n          }\n        } else {\n          if (3 > b || 3 == b && !Aa && !Tc(this.k)) {\n            break a;\n          }\n        }\n        this.$ || 4 != b || 7 == c || (8 == c || 0 >= d ? this.b.H(kd) : this.b.H(ld));\n        md(this);\n        var e = Sc(this.k);\n        this.g = e;\n        var g = Tc(this.k);\n        g || this.a.debug(\"No response text for uri \" + this.w + \" status \" + e);\n        this.F = 200 == e;\n        this.a.info(\"XMLHTTP RESP (\" + this.B + \") [ attempt \" + this.Ea + \"]: \" + this.ta + \"\\n\" + this.w + \"\\n\" + b + \" \" + e);\n        this.F ? (4 == b && V(this), this.Cb ? (nd(this, b, g), Aa && this.F && 3 == b && (this.ob.Ra(this.Ta, Ac, this.Ac), this.Ta.start())) : (Ub(this.a, this.B, g, null), od(this, g)), this.F && !this.$ && (4 == b ? this.b.la(this) : (this.F = !1, id(this)))) : (400 == e && 0 < g.indexOf(\"Unknown SID\") ? (this.q = 3, W(), this.a.Z(\"XMLHTTP Unknown SID (\" + this.B + \")\")) : (this.q = 0, W(), this.a.Z(\"XMLHTTP Bad status \" + e + \" (\" + this.B + \")\")), V(this), pd(this));\n      }\n    } else {\n      this.a.Z(\"Called back with an unexpected xmlhttp\");\n    }\n  } catch (h) {\n    this.a.debug(\"Failed call to OnXmlHttpReadyStateChanged_\"), this.k && Tc(this.k) ? Wb(this.a, h, \"ResponseText: \" + Tc(this.k)) : Wb(this.a, h, \"No response text\");\n  } finally {\n  }\n};\nfunction nd(a, b, c) {\n  for (var d = !0;!a.$ && a.Ha < c.length;) {\n    var e = qd(a, c);\n    if (e == dd) {\n      4 == b && (a.q = 4, W(), d = !1);\n      Ub(a.a, a.B, null, \"[Incomplete Response]\");\n      break;\n    } else {\n      if (e == bd) {\n        a.q = 4;\n        W();\n        Ub(a.a, a.B, c, \"[Invalid Chunk]\");\n        d = !1;\n        break;\n      } else {\n        Ub(a.a, a.B, e, null), od(a, e);\n      }\n    }\n  }\n  4 == b && 0 == c.length && (a.q = 1, W(), d = !1);\n  a.F = a.F && d;\n  d || (Ub(a.a, a.B, c, \"[Invalid Chunked Response]\"), V(a), pd(a));\n}\nf.Ac = function() {\n  var a = T(this.k), b = Tc(this.k);\n  this.Ha < b.length && (md(this), nd(this, a, b), this.F && 4 != a && id(this));\n};\nfunction qd(a, b) {\n  var c = a.Ha, d = b.indexOf(\"\\n\", c);\n  if (-1 == d) {\n    return dd;\n  }\n  c = Number(b.substring(c, d));\n  if (isNaN(c)) {\n    return bd;\n  }\n  d += 1;\n  if (d + c > b.length) {\n    return dd;\n  }\n  var e = b.substr(d, c);\n  a.Ha = d + c;\n  return e;\n}\nfunction rd(a, b) {\n  a.Da = q();\n  id(a);\n  var c = b ? window.location.hostname : \"\";\n  a.w = a.U.n();\n  G(a.w, \"DOMAIN\", c);\n  G(a.w, \"t\", a.Ea);\n  try {\n    a.K = new ActiveXObject(\"htmlfile\");\n  } catch (d) {\n    a.a.J(\"ActiveX blocked\");\n    V(a);\n    a.q = 7;\n    W();\n    pd(a);\n    return;\n  }\n  var e = \"<html><body>\";\n  b && (e += '<script>document.domain=\"' + c + '\"\\x3c/script>');\n  e += \"</body></html>\";\n  a.K.open();\n  a.K.write(e);\n  a.K.close();\n  a.K.parentWindow.m = p(a.yc, a);\n  a.K.parentWindow.d = p(a.Ub, a, !0);\n  a.K.parentWindow.rpcClose = p(a.Ub, a, !1);\n  c = a.K.createElement(\"div\");\n  a.K.parentWindow.document.body.appendChild(c);\n  c.innerHTML = '<iframe src=\"' + a.w + '\"></iframe>';\n  a.a.info(\"TRIDENT REQ (\" + a.B + \") [ attempt \" + a.Ea + \"]: GET\\n\" + a.w);\n  a.b.H(jd);\n}\nf.yc = function(a) {\n  Y(p(this.xc, this, a), 0);\n};\nf.xc = function(a) {\n  if (!this.$) {\n    var b = this.a;\n    b.info(\"TRIDENT TEXT (\" + this.B + \"): \" + Vb(b, a));\n    md(this);\n    od(this, a);\n    id(this);\n  }\n};\nf.Ub = function(a) {\n  Y(p(this.wc, this, a), 0);\n};\nf.wc = function(a) {\n  this.$ || (this.a.info(\"TRIDENT TEXT (\" + this.B + \"): \" + a ? \"success\" : \"failure\"), V(this), this.F = a, this.b.la(this), this.b.H(sd));\n};\nf.nc = function() {\n  md(this);\n  this.b.la(this);\n};\nf.cancel = function() {\n  this.$ = !0;\n  V(this);\n};\nfunction id(a) {\n  a.xb = q() + a.qa;\n  td(a, a.qa);\n}\nfunction td(a, b) {\n  if (null != a.ua) {\n    throw Error(\"WatchDog timer not null\");\n  }\n  a.ua = Y(p(a.zc, a), b);\n}\nfunction md(a) {\n  a.ua && (l.clearTimeout(a.ua), a.ua = null);\n}\nf.zc = function() {\n  this.ua = null;\n  var a = q();\n  0 <= a - this.xb ? (this.F && this.a.J(\"Received watchdog timeout even though request loaded successfully\"), this.a.info(\"TIMEOUT: \" + this.w), 2 != this.sa && this.b.H(kd), V(this), this.q = 2, W(), pd(this)) : (this.a.Z(\"WatchDog timer called too early\"), td(this, this.xb - a));\n};\nfunction pd(a) {\n  a.b.Lb() || a.$ || a.b.la(a);\n}\nfunction V(a) {\n  md(a);\n  var b = a.Va;\n  b && \"function\" == typeof b.Ja && b.Ja();\n  a.Va = null;\n  a.Ta.stop();\n  a.ob.Xa();\n  a.k && (b = a.k, a.k = null, b.abort(), b.Ja());\n  a.K && (a.K = null);\n}\nf.Ib = function() {\n  return this.q;\n};\nfunction od(a, b) {\n  try {\n    a.b.Rb(a, b), a.b.H(sd);\n  } catch (c) {\n    Wb(a.a, c, \"Error in httprequest callback\");\n  }\n}\n;function ud(a, b, c, d, e) {\n  (new N).debug(\"TestLoadImageWithRetries: \" + e);\n  if (0 == d) {\n    c(!1);\n  } else {\n    var g = e || 0;\n    d--;\n    vd(a, b, function(e) {\n      e ? c(!0) : l.setTimeout(function() {\n        ud(a, b, c, d, g);\n      }, g);\n    });\n  }\n}\nfunction vd(a, b, c) {\n  function d(a, b) {\n    return function() {\n      try {\n        e.debug(\"TestLoadImage: \" + b), g.onload = null, g.onerror = null, g.onabort = null, g.ontimeout = null, l.clearTimeout(h), c(a);\n      } catch (d) {\n        Wb(e, d);\n      }\n    };\n  }\n  var e = new N;\n  e.debug(\"TestLoadImage: loading \" + a);\n  var g = new Image, h = null;\n  g.onload = d(!0, \"loaded\");\n  g.onerror = d(!1, \"error\");\n  g.onabort = d(!1, \"abort\");\n  g.ontimeout = d(!1, \"timeout\");\n  h = l.setTimeout(function() {\n    if (g.ontimeout) {\n      g.ontimeout();\n    }\n  }, b);\n  g.src = a;\n}\n;function wd(a, b) {\n  this.b = a;\n  this.a = b;\n  this.P = new Yb(0, !0);\n}\nf = wd.prototype;\nf.v = null;\nf.A = null;\nf.Wa = !1;\nf.cc = null;\nf.La = null;\nf.rb = null;\nf.I = null;\nf.c = null;\nf.g = -1;\nf.L = null;\nf.va = null;\nf.S = function(a) {\n  this.v = a;\n};\nf.ac = function(a) {\n  this.P = a;\n};\nf.kb = function(a) {\n  this.I = a;\n  a = xd(this.b, this.I);\n  W();\n  this.cc = q();\n  var b = this.b.Gb;\n  null != b ? (this.L = this.b.correctHostPrefix(b[0]), (this.va = b[1]) ? (this.c = 1, yd(this)) : (this.c = 2, zd(this))) : (rb(a, \"MODE\", \"init\"), this.A = new U(this, this.a, void 0, void 0, void 0), this.A.S(this.v), hd(this.A, a, !1, null, !0), this.c = 0);\n};\nfunction yd(a) {\n  var b = Ad(a.b, a.va, \"/mail/images/cleardot.gif\");\n  H(b);\n  ud(b.toString(), 5E3, p(a.kc, a), 3, 2E3);\n  a.H(jd);\n}\nf.kc = function(a) {\n  if (a) {\n    this.c = 2, zd(this);\n  } else {\n    W();\n    var b = this.b;\n    b.a.debug(\"Test Connection Blocked\");\n    b.g = b.V.g;\n    Z(b, 9);\n  }\n  a && this.H(ld);\n};\nfunction zd(a) {\n  a.a.debug(\"TestConnection: starting stage 2\");\n  var b = a.b.Dc;\n  if (null != b) {\n    a.a.debug(\"TestConnection: skipping stage 2, precomputed result is \" + b ? \"Buffered\" : \"Unbuffered\"), W(), b ? (W(), Bd(a.b, a, !1)) : (W(), Bd(a.b, a, !0));\n  } else {\n    if (a.A = new U(a, a.a, void 0, void 0, void 0), a.A.S(a.v), b = Cd(a.b, a.L, a.I), W(), ed()) {\n      rb(b, \"TYPE\", \"xmlhttp\"), hd(a.A, b, !1, a.L, !1);\n    } else {\n      rb(b, \"TYPE\", \"html\");\n      var c = a.A;\n      a = Boolean(a.L);\n      c.sa = 3;\n      c.U = H(b.n());\n      rd(c, a);\n    }\n  }\n}\nf.lb = function(a) {\n  return this.b.lb(a);\n};\nf.abort = function() {\n  this.A && (this.A.cancel(), this.A = null);\n  this.g = -1;\n};\nf.Lb = function() {\n  return!1;\n};\nf.Rb = function(a, b) {\n  this.g = a.g;\n  if (0 == this.c) {\n    if (this.a.debug(\"TestConnection: Got data for stage 1\"), b) {\n      try {\n        var c = this.P.parse(b);\n      } catch (d) {\n        Wb(this.a, d);\n        Dd(this.b, this);\n        return;\n      }\n      this.L = this.b.correctHostPrefix(c[0]);\n      this.va = c[1];\n    } else {\n      this.a.debug(\"TestConnection: Null responseText\"), Dd(this.b, this);\n    }\n  } else {\n    if (2 == this.c) {\n      if (this.Wa) {\n        W(), this.rb = q();\n      } else {\n        if (\"11111\" == b) {\n          if (W(), this.Wa = !0, this.La = q(), c = this.La - this.cc, ed() || 500 > c) {\n            this.g = 200, this.A.cancel(), this.a.debug(\"Test connection succeeded; using streaming connection\"), W(), Bd(this.b, this, !0);\n          }\n        } else {\n          W(), this.La = this.rb = q(), this.Wa = !1;\n        }\n      }\n    }\n  }\n};\nf.la = function() {\n  this.g = this.A.g;\n  if (!this.A.F) {\n    this.a.debug(\"TestConnection: request failed, in state \" + this.c), 0 == this.c ? W() : 2 == this.c && W(), Dd(this.b, this);\n  } else {\n    if (0 == this.c) {\n      this.a.debug(\"TestConnection: request complete for initial check\"), this.va ? (this.c = 1, yd(this)) : (this.c = 2, zd(this));\n    } else {\n      if (2 == this.c) {\n        this.a.debug(\"TestConnection: request complete for stage 2\");\n        var a = !1;\n        (a = ed() ? this.Wa : 200 > this.rb - this.La ? !1 : !0) ? (this.a.debug(\"Test connection succeeded; using streaming connection\"), W(), Bd(this.b, this, !0)) : (this.a.debug(\"Test connection failed; not using streaming\"), W(), Bd(this.b, this, !1));\n      }\n    }\n  }\n};\nf.$a = function() {\n  return this.b.$a();\n};\nf.isActive = function() {\n  return this.b.isActive();\n};\nf.H = function(a) {\n  this.b.H(a);\n};\nfunction Ed(a, b, c) {\n  this.Bb = a || null;\n  this.c = Fd;\n  this.t = [];\n  this.Q = [];\n  this.a = new N;\n  this.P = new Yb(0, !0);\n  this.Gb = b || null;\n  this.Dc = null != c ? c : null;\n}\nfunction Gd(a, b) {\n  this.Ob = a;\n  this.map = b;\n}\nf = Ed.prototype;\nf.v = null;\nf.xa = null;\nf.p = null;\nf.i = null;\nf.I = null;\nf.Ma = null;\nf.zb = null;\nf.L = null;\nf.hc = !0;\nf.Ba = 0;\nf.sc = 0;\nf.Ka = !1;\nf.e = null;\nf.G = null;\nf.M = null;\nf.aa = null;\nf.V = null;\nf.wb = null;\nf.gc = !0;\nf.za = -1;\nf.Nb = -1;\nf.g = -1;\nf.ba = 0;\nf.ha = 0;\nf.ic = 5E3;\nf.Cc = 1E4;\nf.pb = 2;\nf.Hb = 2E4;\nf.ma = 0;\nf.ab = !1;\nf.ia = 8;\nvar Fd = 1, Hd = new R;\nfunction Id(a) {\n  Q.call(this, \"statevent\", a);\n}\ns(Id, Q);\nfunction Jd(a, b) {\n  Q.call(this, \"timingevent\", a);\n  this.size = b;\n}\ns(Jd, Q);\nvar jd = 1, ld = 2, kd = 3, sd = 4;\nfunction Kd(a) {\n  Q.call(this, \"serverreachability\", a);\n}\ns(Kd, Q);\nvar Xb = \"y2f%\";\nf = Ed.prototype;\nf.kb = function(a, b, c, d, e) {\n  this.a.debug(\"connect()\");\n  W();\n  this.I = b;\n  this.xa = c || {};\n  d && void 0 !== e && (this.xa.OSID = d, this.xa.OAID = e);\n  this.a.debug(\"connectTest_()\");\n  Ld(this) && (this.V = new wd(this, this.a), this.V.S(this.v), this.V.ac(this.P), this.V.kb(a));\n};\nf.disconnect = function() {\n  this.a.debug(\"disconnect()\");\n  Md(this);\n  if (3 == this.c) {\n    var a = this.Ba++, b = this.Ma.n();\n    G(b, \"SID\", this.Y);\n    G(b, \"RID\", a);\n    G(b, \"TYPE\", \"terminate\");\n    Nd(this, b);\n    a = new U(this, this.a, this.Y, a, void 0);\n    a.sa = 2;\n    a.U = H(b.n());\n    b = new Image;\n    b.src = a.U;\n    b.onload = b.onerror = p(a.nc, a);\n    a.Da = q();\n    id(a);\n  }\n  Od(this);\n};\nfunction Md(a) {\n  a.V && (a.V.abort(), a.V = null);\n  a.i && (a.i.cancel(), a.i = null);\n  a.M && (l.clearTimeout(a.M), a.M = null);\n  Pd(a);\n  a.p && (a.p.cancel(), a.p = null);\n  a.G && (l.clearTimeout(a.G), a.G = null);\n}\nf.S = function(a) {\n  this.v = a;\n};\nf.bc = function(a) {\n  this.ma = a;\n};\nf.Lb = function() {\n  return 0 == this.c;\n};\nf.ac = function(a) {\n  this.P = a;\n};\nfunction Qd(a) {\n  a.p || a.G || (a.G = Y(p(a.Tb, a), 0), a.ba = 0);\n}\nf.Tb = function(a) {\n  this.G = null;\n  this.a.debug(\"startForwardChannel_\");\n  if (Ld(this)) {\n    if (this.c == Fd) {\n      if (a) {\n        this.a.J(\"Not supposed to retry the open\");\n      } else {\n        this.a.debug(\"open_()\");\n        this.Ba = Math.floor(1E5 * Math.random());\n        a = this.Ba++;\n        var b = new U(this, this.a, \"\", a, void 0);\n        b.S(this.v);\n        var c = Rd(this), d = this.Ma.n();\n        G(d, \"RID\", a);\n        this.Bb && G(d, \"CVER\", this.Bb);\n        Nd(this, d);\n        fd(b, d, c);\n        this.p = b;\n        this.c = 2;\n      }\n    } else {\n      3 == this.c && (a ? Sd(this, a) : 0 == this.t.length ? this.a.debug(\"startForwardChannel_ returned: nothing to send\") : this.p ? this.a.J(\"startForwardChannel_ returned: connection already in progress\") : (Sd(this), this.a.debug(\"startForwardChannel_ finished, sent request\")));\n    }\n  }\n};\nfunction Sd(a, b) {\n  var c, d;\n  b ? 6 < a.ia ? (a.t = a.Q.concat(a.t), a.Q.length = 0, c = a.Ba - 1, d = Rd(a)) : (c = b.B, d = b.X) : (c = a.Ba++, d = Rd(a));\n  var e = a.Ma.n();\n  G(e, \"SID\", a.Y);\n  G(e, \"RID\", c);\n  G(e, \"AID\", a.za);\n  Nd(a, e);\n  c = new U(a, a.a, a.Y, c, a.ba + 1);\n  c.S(a.v);\n  c.setTimeout(Math.round(0.5 * a.Hb) + Math.round(0.5 * a.Hb * Math.random()));\n  a.p = c;\n  fd(c, e, d);\n}\nfunction Nd(a, b) {\n  if (a.e) {\n    var c = a.e.getAdditionalParams(a);\n    c && D(c, function(a, c) {\n      G(b, c, a);\n    });\n  }\n}\nfunction Rd(a) {\n  var b = Math.min(a.t.length, 1E3), c = [\"count=\" + b], d;\n  6 < a.ia && 0 < b ? (d = a.t[0].Ob, c.push(\"ofs=\" + d)) : d = 0;\n  for (var e = 0;e < b;e++) {\n    var g = a.t[e].Ob, h = a.t[e].map, g = 6 >= a.ia ? e : g - d;\n    try {\n      D(h, function(a, b) {\n        c.push(\"req\" + g + \"_\" + b + \"=\" + encodeURIComponent(a));\n      });\n    } catch (k) {\n      c.push(\"req\" + g + \"_type=\" + encodeURIComponent(\"_badmap\")), a.e && a.e.badMapError(a, h);\n    }\n  }\n  a.Q = a.Q.concat(a.t.splice(0, b));\n  return c.join(\"&\");\n}\nfunction Td(a) {\n  a.i || a.M || (a.yb = 1, a.M = Y(p(a.Sb, a), 0), a.ha = 0);\n}\nfunction Ud(a) {\n  if (a.i || a.M) {\n    return a.a.J(\"Request already in progress\"), !1;\n  }\n  if (3 <= a.ha) {\n    return!1;\n  }\n  a.a.debug(\"Going to retry GET\");\n  a.yb++;\n  a.M = Y(p(a.Sb, a), Vd(a, a.ha));\n  a.ha++;\n  return!0;\n}\nf.Sb = function() {\n  this.M = null;\n  if (Ld(this)) {\n    this.a.debug(\"Creating new HttpRequest\");\n    this.i = new U(this, this.a, this.Y, \"rpc\", this.yb);\n    this.i.S(this.v);\n    this.i.bc(this.ma);\n    var a = this.zb.n();\n    G(a, \"RID\", \"rpc\");\n    G(a, \"SID\", this.Y);\n    G(a, \"CI\", this.wb ? \"0\" : \"1\");\n    G(a, \"AID\", this.za);\n    Nd(this, a);\n    if (ed()) {\n      G(a, \"TYPE\", \"xmlhttp\"), hd(this.i, a, !0, this.L, !1);\n    } else {\n      G(a, \"TYPE\", \"html\");\n      var b = this.i, c = Boolean(this.L);\n      b.sa = 3;\n      b.U = H(a.n());\n      rd(b, c);\n    }\n    this.a.debug(\"New Request created\");\n  }\n};\nfunction Ld(a) {\n  if (a.e) {\n    var b = a.e.okToMakeRequest(a);\n    if (0 != b) {\n      return a.a.debug(\"Handler returned error code from okToMakeRequest\"), Z(a, b), !1;\n    }\n  }\n  return!0;\n}\nfunction Bd(a, b, c) {\n  a.a.debug(\"Test Connection Finished\");\n  a.wb = a.gc && c;\n  a.g = b.g;\n  a.a.debug(\"connectChannel_()\");\n  a.lc(Fd, 0);\n  a.Ma = xd(a, a.I);\n  Qd(a);\n}\nfunction Dd(a, b) {\n  a.a.debug(\"Test Connection Failed\");\n  a.g = b.g;\n  Z(a, 2);\n}\nf.Rb = function(a, b) {\n  if (0 != this.c && (this.i == a || this.p == a)) {\n    if (this.g = a.g, this.p == a && 3 == this.c) {\n      if (7 < this.ia) {\n        var c;\n        try {\n          c = this.P.parse(b);\n        } catch (d) {\n          c = null;\n        }\n        if (m(c) && 3 == c.length) {\n          var e = c;\n          if (0 == e[0]) {\n            a: {\n              if (this.a.debug(\"Server claims our backchannel is missing.\"), this.M) {\n                this.a.debug(\"But we are currently starting the request.\");\n              } else {\n                if (this.i) {\n                  if (this.i.Da + 3E3 < this.p.Da) {\n                    Pd(this), this.i.cancel(), this.i = null;\n                  } else {\n                    break a;\n                  }\n                } else {\n                  this.a.Z(\"We do not have a BackChannel established\");\n                }\n                Ud(this);\n                W();\n              }\n            }\n          } else {\n            this.Nb = e[1], c = this.Nb - this.za, 0 < c && (e = e[2], this.a.debug(e + \" bytes (in \" + c + \" arrays) are outstanding on the BackChannel\"), 37500 > e && this.wb && 0 == this.ha && !this.aa && (this.aa = Y(p(this.tc, this), 6E3)));\n          }\n        } else {\n          this.a.debug(\"Bad POST response data returned\"), Z(this, 11);\n        }\n      } else {\n        b != Xb && (this.a.debug(\"Bad data returned - missing/invald magic cookie\"), Z(this, 11));\n      }\n    } else {\n      if (this.i == a && Pd(this), !/^[\\s\\xa0]*$/.test(b)) {\n        c = this.P.parse(b);\n        for (var e = this.e && this.e.channelHandleMultipleArrays ? [] : null, g = 0;g < c.length;g++) {\n          var h = c[g];\n          this.za = h[0];\n          h = h[1];\n          2 == this.c ? \"c\" == h[0] ? (this.Y = h[1], this.L = this.correctHostPrefix(h[2]), h = h[3], this.ia = null != h ? h : 6, this.c = 3, this.e && this.e.channelOpened(this), this.zb = Cd(this, this.L, this.I), Td(this)) : \"stop\" == h[0] && Z(this, 7) : 3 == this.c && (\"stop\" == h[0] ? (e && 0 != e.length && (this.e.channelHandleMultipleArrays(this, e), e.length = 0), Z(this, 7)) : \"noop\" != h[0] && (e ? e.push(h) : this.e && this.e.channelHandleArray(this, h)), this.ha = 0);\n        }\n        e && 0 != e.length && this.e.channelHandleMultipleArrays(this, e);\n      }\n    }\n  }\n};\nf.correctHostPrefix = function(a) {\n  return this.hc ? this.e ? this.e.correctHostPrefix(a) : a : null;\n};\nf.tc = function() {\n  null != this.aa && (this.aa = null, this.i.cancel(), this.i = null, Ud(this), W());\n};\nfunction Pd(a) {\n  null != a.aa && (l.clearTimeout(a.aa), a.aa = null);\n}\nf.la = function(a) {\n  this.a.debug(\"Request complete\");\n  var b;\n  if (this.i == a) {\n    Pd(this), this.i = null, b = 2;\n  } else {\n    if (this.p == a) {\n      this.p = null, b = 1;\n    } else {\n      return;\n    }\n  }\n  this.g = a.g;\n  if (0 != this.c) {\n    if (a.F) {\n      1 == b ? (q(), Hd.dispatchEvent(new Jd(Hd, a.X ? a.X.length : 0)), Qd(this), this.Q.length = 0) : Td(this);\n    } else {\n      var c = a.Ib();\n      if (3 == c || 7 == c || 0 == c && 0 < this.g) {\n        this.a.debug(\"Not retrying due to error type\");\n      } else {\n        this.a.debug(\"Maybe retrying, last error: \" + ad(c, this.g));\n        var d;\n        if (d = 1 == b) {\n          this.p || this.G ? (this.a.J(\"Request already in progress\"), d = !1) : this.c == Fd || this.ba >= (this.Ka ? 0 : this.pb) ? d = !1 : (this.a.debug(\"Going to retry POST\"), this.G = Y(p(this.Tb, this, a), Vd(this, this.ba)), this.ba++, d = !0);\n        }\n        if (d || 2 == b && Ud(this)) {\n          return;\n        }\n        this.a.debug(\"Exceeded max number of retries\");\n      }\n      this.a.debug(\"Error: HTTP request failed\");\n      switch(c) {\n        case 1:\n          Z(this, 5);\n          break;\n        case 4:\n          Z(this, 10);\n          break;\n        case 3:\n          Z(this, 6);\n          break;\n        case 7:\n          Z(this, 12);\n          break;\n        default:\n          Z(this, 2);\n      }\n    }\n  }\n};\nfunction Vd(a, b) {\n  var c = a.ic + Math.floor(Math.random() * a.Cc);\n  a.isActive() || (a.a.debug(\"Inactive channel\"), c *= 2);\n  return c * b;\n}\nf.lc = function(a) {\n  if (!(0 <= Xa(arguments, this.c))) {\n    throw Error(\"Unexpected channel state: \" + this.c);\n  }\n};\nfunction Z(a, b) {\n  a.a.info(\"Error code \" + b);\n  if (2 == b || 9 == b) {\n    var c = null;\n    a.e && (c = a.e.getNetworkTestImageUri(a));\n    var d = p(a.Fc, a);\n    c || (c = new E(\"//www.google.com/images/cleardot.gif\"), H(c));\n    vd(c.toString(), 1E4, d);\n  } else {\n    W();\n  }\n  Wd(a, b);\n}\nf.Fc = function(a) {\n  a ? (this.a.info(\"Successfully pinged google.com\"), W()) : (this.a.info(\"Failed to ping google.com\"), W(), Wd(this, 8));\n};\nfunction Wd(a, b) {\n  a.a.debug(\"HttpChannel: error - \" + b);\n  a.c = 0;\n  a.e && a.e.channelError(a, b);\n  Od(a);\n  Md(a);\n}\nfunction Od(a) {\n  a.c = 0;\n  a.g = -1;\n  if (a.e) {\n    if (0 == a.Q.length && 0 == a.t.length) {\n      a.e.channelClosed(a);\n    } else {\n      a.a.debug(\"Number of undelivered maps, pending: \" + a.Q.length + \", outgoing: \" + a.t.length);\n      var b = bb(a.Q), c = bb(a.t);\n      a.Q.length = 0;\n      a.t.length = 0;\n      a.e.channelClosed(a, b, c);\n    }\n  }\n}\nfunction xd(a, b) {\n  var c = Ad(a, null, b);\n  a.a.debug(\"GetForwardChannelUri: \" + c);\n  return c;\n}\nfunction Cd(a, b, c) {\n  b = Ad(a, a.$a() ? b : null, c);\n  a.a.debug(\"GetBackChannelUri: \" + b);\n  return b;\n}\nfunction Ad(a, b, c) {\n  var d = tb(c);\n  if (\"\" != d.ja) {\n    b && gb(d, b + \".\" + d.ja), hb(d, d.Ca);\n  } else {\n    var e = window.location, d = ub(e.protocol, b ? b + \".\" + e.hostname : e.hostname, e.port, c)\n  }\n  a.xa && D(a.xa, function(a, b) {\n    G(d, b, a);\n  });\n  G(d, \"VER\", a.ia);\n  Nd(a, d);\n  return d;\n}\nf.lb = function(a) {\n  if (a && !this.ab) {\n    throw Error(\"Can't create secondary domain capable XhrIo object.\");\n  }\n  a = new Ic;\n  a.dc = this.ab;\n  return a;\n};\nf.isActive = function() {\n  return!!this.e && this.e.isActive(this);\n};\nfunction Y(a, b) {\n  if (!fa(a)) {\n    throw Error(\"Fn must not be null and must be a function\");\n  }\n  return l.setTimeout(function() {\n    a();\n  }, b);\n}\nf.H = function() {\n  Hd.dispatchEvent(new Kd(Hd));\n};\nfunction W() {\n  Hd.dispatchEvent(new Id(Hd));\n}\nf.$a = function() {\n  return this.ab || !ed();\n};\nfunction Xd() {\n}\nf = Xd.prototype;\nf.channelHandleMultipleArrays = null;\nf.okToMakeRequest = function() {\n  return 0;\n};\nf.channelOpened = function() {\n};\nf.channelHandleArray = function() {\n};\nf.channelError = function() {\n};\nf.channelClosed = function() {\n};\nf.getAdditionalParams = function() {\n  return{};\n};\nf.getNetworkTestImageUri = function() {\n  return null;\n};\nf.isActive = function() {\n  return!0;\n};\nf.badMapError = function() {\n};\nf.correctHostPrefix = function(a) {\n  return a;\n};\nvar $, Yd;\nYd = {0:\"Ok\", 4:\"User is logging out\", 6:\"Unknown session ID\", 7:\"Stopped by server\", 8:\"General network error\", 2:\"Request failed\", 9:\"Blocked by a network administrator\", 5:\"No data from server\", 10:\"Got bad data from the server\", 11:\"Got a bad response from the server\"};\n$ = function(a, b) {\n  var c, d, e, g, h, k, u, K, v, r, Ka, w, X, cd;\n  if (!(this instanceof $)) {\n    return new $(a, b);\n  }\n  r = this;\n  a || (a = \"channel\");\n  a.match(/:\\/\\//) && a.replace(/^ws/, \"http\");\n  b || (b = {});\n  m(b || \"string\" === typeof b) && (b = {});\n  K = b.reconnectTime || 3E3;\n  c = b.extraHeaders || null;\n  d = b.extraParams || null;\n  null !== b.affinity && (d || (d = {}), b.affinityParam || (b.affinityParam = \"a\"), this.affinity = b.affinity || sa(), d[b.affinityParam] = this.affinity);\n  X = function(a) {\n    r.readyState = r.readyState = a;\n  };\n  X(this.CLOSED);\n  w = null;\n  k = null != (cd = b.prev) ? cd.Ec : void 0;\n  e = function(a, b, c, d, e) {\n    try {\n      return \"function\" === typeof r[a] ? r[a](c, d, e) : void 0;\n    } catch (g) {\n      throw \"undefined\" !== typeof console && null !== console && console.error(g.stack), g;\n    }\n  };\n  g = new Xd;\n  g.channelOpened = function() {\n    k = w;\n    X($.OPEN);\n    return e(\"onopen\");\n  };\n  h = null;\n  g.channelError = function(a, b) {\n    var c;\n    c = Yd[b];\n    h = b;\n    r.readyState !== $.CLOSED && X($.hb);\n    return e(\"onerror\", 0, c, b);\n  };\n  v = null;\n  g.channelClosed = function(a, c, d) {\n    var g;\n    if (r.readyState !== $.CLOSED) {\n      return w = null, a = h ? Yd[h] : \"Closed\", X($.CLOSED), b.reconnect && 7 !== h && 0 !== h && (g = 6 === h ? 0 : K, clearTimeout(v), v = setTimeout(u, g)), e(\"onclose\", 0, a, c, d), h = null;\n    }\n  };\n  g.channelHandleArray = function(a, b) {\n    return e(\"onmessage\", 0, {type:\"message\", data:b});\n  };\n  u = function() {\n    if (w) {\n      throw Error(\"Reconnect() called from invalid state\");\n    }\n    X($.CONNECTING);\n    e(\"onconnecting\");\n    clearTimeout(v);\n    r.Ec = w = new Ed(b.appVersion, null != k ? k.Gb : void 0);\n    b.crossDomainXhr && (w.ab = !0);\n    w.e = g;\n    c && w.S(c);\n    h = null;\n    if (b.failFast) {\n      var t = w;\n      t.Ka = !0;\n      t.a.info(\"setFailFast: true\");\n      (t.p || t.G) && t.ba > (t.Ka ? 0 : t.pb) && (t.a.info(\"Retry count \" + t.ba + \" > new maxRetries \" + (t.Ka ? 0 : t.pb) + \". Fail immediately!\"), t.p ? (t.p.cancel(), t.la(t.p)) : (l.clearTimeout(t.G), t.G = null, Z(t, 2)));\n    }\n    return w.kb(\"\" + a + \"/test\", \"\" + a + \"/bind\", d, null != k ? k.Y : void 0, null != k ? k.za : void 0);\n  };\n  this.open = function() {\n    if (r.readyState !== r.CLOSED) {\n      throw Error(\"Already open\");\n    }\n    return u();\n  };\n  this.close = function() {\n    clearTimeout(v);\n    h = 0;\n    if (r.readyState !== $.CLOSED) {\n      return X($.hb), w.disconnect();\n    }\n  };\n  this.sendMap = Ka = function(a) {\n    var b;\n    if ((b = r.readyState) !== $.hb && b !== $.CLOSED) {\n      b = w;\n      if (0 == b.c) {\n        throw Error(\"Invalid operation: sending map when state is closed\");\n      }\n      1E3 == b.t.length && b.a.J(\"Already have 1000 queued maps upon queueing \" + yb(a));\n      b.t.push(new Gd(b.sc++, a));\n      2 != b.c && 3 != b.c || Qd(b);\n    }\n  };\n  this.send = function(a) {\n    return \"string\" === typeof a ? Ka({_S:a}) : Ka({JSON:yb(a)});\n  };\n  u();\n};\n$.prototype.canSendWhileConnecting = $.canSendWhileConnecting = !0;\n$.prototype.canSendJSON = $.canSendJSON = !0;\n$.prototype.CONNECTING = $.CONNECTING = $.CONNECTING = 0;\n$.prototype.OPEN = $.OPEN = $.OPEN = 1;\n$.prototype.CLOSING = $.CLOSING = $.hb = 2;\n$.prototype.CLOSED = $.CLOSED = $.CLOSED = 3;\n(\"undefined\" !== typeof exports && null !== exports ? exports : window).BCSocket = $;\n\n})();\n",
    "module.exports = Socket;\n\nvar BCSocket = require('browserchannel/dist/bcsocket-uncompressed').BCSocket;\n\nfunction Socket(options) {\n  this._options = options;\n  this._messageQueue = [];\n  this._connectedOnce = false;\n  this._attemptNum = 0;\n  this._url = getWebSocketURL(options);\n\n  if (supportWebSockets() && !options.browserChannelOnly) {\n    this._createWebSocket();\n  } else {\n    this._createBrowserChannel();\n  }\n}\n\nSocket.prototype._createWebSocket = function() {\n\n  this._type = 'websocket';\n  this._socket = new WebSocket(this._url);\n\n  this.open = this._createWebSocket.bind(this);\n  this._syncState();\n\n  this._socket.onmessage = this._ws_onmessage.bind(this);\n  this._socket.onopen = this._ws_onopen.bind(this);\n  this._socket.onclose = this._ws_onclose.bind(this);\n\n};\n\nSocket.prototype._createBrowserChannel = function() {\n  this._type = 'browserchannel';\n  this._socket = BCSocket(this._options.base, this._options);\n\n  this.open = this._createBrowserChannel.bind(this);\n  this._syncState();\n\n  this._socket.onmessage = this._bc_onmessage.bind(this);\n  this._socket.onopen = this._bc_onopen.bind(this);\n  this._socket.onclose = this._bc_onclose.bind(this);\n};\n\nSocket.prototype._ws_onmessage = function(message) {\n  this._syncState();\n  message.data = JSON.parse(message.data);\n  this.onmessage && this.onmessage(message);\n};\n\nSocket.prototype._ws_onopen = function(event) {\n  this._attemptNum = 0;\n  this._connectedOnce = true;\n\n  this._syncState();\n  this._flushQueue();\n\n  this.onopen && this.onopen(event);\n};\n\nSocket.prototype._ws_onclose = function(event) {\n  this._syncState();\n  console.log('WebSocket: connection is broken', event);\n\n  this.onclose && this.onclose(event);\n\n  if (!this._connectedOnce) {\n    return this._createBrowserChannel();\n  }\n\n  var socket = this;\n\n  if (this._options.reconnect && !event.wasClean) {\n    setTimeout(function(){\n      if (socket.readyState === socket.CLOSED) {\n        socket._createWebSocket();\n      }\n    }, this._getTimeout());\n  }\n  this._attemptNum++;\n};\n\nSocket.prototype._getTimeout = function(){\n  var base = this._options.timeout;\n  var increment = this._options.timeoutIncrement * this._attemptNum;\n  var maxTimeout = base + increment;\n  return getRandom(maxTimeout / 3, maxTimeout);\n};\n\nSocket.prototype._bc_onmessage = function(data) {\n  this._syncState();\n  this.onmessage && this.onmessage(data);\n};\n\nSocket.prototype._bc_onopen = function(event) {\n  this._syncState();\n  this.onopen && this.onopen(event);\n};\n\nSocket.prototype._bc_onclose = function(event) {\n  this._syncState();\n  this.onclose && this.onclose(event);\n};\n\nSocket.prototype._flushQueue = function(){\n  while (this._messageQueue.length !== 0) {\n    var data = this._messageQueue.shift();\n    this._send(data);\n  }\n};\n\nSocket.prototype._send = function(data){\n  if (this._type === 'websocket' && (typeof data !== 'string')) data = JSON.stringify(data);\n\n  this._socket.send(data);\n};\n\nSocket.prototype.send = function(data){\n  if (this._type === 'websocket') {\n    if (this._socket.readyState === WebSocket.OPEN && this._messageQueue.length === 0) {\n      this._send(data);\n    } else {\n      this._messageQueue.push(data);\n    }\n  } else {\n    this._send(data);\n  }\n};\n\nSocket.prototype.close = function(){\n  this._socket.close();\n};\n\nSocket.prototype._syncState = function(){\n  this.readyState = this._socket.readyState;\n};\n\nSocket.prototype.reconnect = function(){\n  if (this._type === 'websocket' && this.readyState === this.CLOSED){\n    this._createWebSocket();\n  }\n};\n\n// ShareJS constants\nSocket.prototype.canSendWhileConnecting = true;\nSocket.prototype.canSendJSON = true;\n\n// WebSocket constants\nSocket.prototype.CONNECTING = 0;\nSocket.prototype.OPEN = 1;\nSocket.prototype.CLOSING = 2;\nSocket.prototype.CLOSED = 3;\n\nfunction getRandom(min, max){\n  return Math.random() * (max - min) + min;\n}\n\nfunction supportWebSockets(){\n  // The condition is from Modernizr\n  // https://github.com/Modernizr/Modernizr/blob/master/feature-detects/websockets.js#L28\n  return 'WebSocket' in window && window.WebSocket.CLOSING === 2;\n}\n\nfunction getWebSocketURL(options){\n  var port;\n\n  if (window.location && window.location.port) {\n    port = \":\" + window.location.port;\n  }\n\n  var srvPort = options.srvPort;\n  var srvSecurePort = options.srvSecurePort;\n\n  var srvHost = options.srvHost || window.location.hostname;\n  var srvProtocol = options.srvProtocol || window.location.protocol;\n\n  var protocol = (srvProtocol === 'https:' ? 'wss:' : 'ws:');\n\n  if (protocol === 'ws:' && srvPort) {\n    port = \":\" + srvPort;\n  } else if (protocol === 'wss:' && srvSecurePort) {\n    port = \":\" + srvSecurePort;\n  }\n  return protocol + '//' + srvHost + (port || \"\") + options.base;\n}\n\n// Maybe need to use reconnection timing algorithm from\n// http://blog.johnryding.com/post/78544969349/how-to-reconnect-web-sockets-in-a-realtime-web-app\n",
    "var racer = require('racer');\nvar Socket = require('./socket');\nvar CLIENT_OPTIONS = JSON.parse('{\"base\":\"/channel\",\"reconnect\":true,\"browserChannelOnly\":false,\"timeout\":10000,\"timeoutIncrement\":10000}');\n\nracer.Model.prototype._createSocket = function(bundle) {\n  return new Socket(CLIENT_OPTIONS);\n};\n\n",
    "var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line no-undef\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func\n  Function('return this')();\n",
    "module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n",
    "var fails = require('../internals/fails');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !fails(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n",
    "'use strict';\nvar nativePropertyIsEnumerable = {}.propertyIsEnumerable;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !nativePropertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.github.io/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : nativePropertyIsEnumerable;\n",
    "module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n",
    "var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n",
    "var fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n",
    "// `RequireObjectCoercible` abstract operation\n// https://tc39.github.io/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n",
    "// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n",
    "module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n",
    "var isObject = require('../internals/is-object');\n\n// `ToPrimitive` abstract operation\n// https://tc39.github.io/ecma262/#sec-toprimitive\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (input, PREFERRED_STRING) {\n  if (!isObject(input)) return input;\n  var fn, val;\n  if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n",
    "var hasOwnProperty = {}.hasOwnProperty;\n\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n",
    "var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n",
    "var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n",
    "var DESCRIPTORS = require('../internals/descriptors');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar has = require('../internals/has');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\nvar nativeGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? nativeGetOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return nativeGetOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n};\n",
    "var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it)) {\n    throw TypeError(String(it) + ' is not an object');\n  } return it;\n};\n",
    "var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar anObject = require('../internals/an-object');\nvar toPrimitive = require('../internals/to-primitive');\n\nvar nativeDefineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? nativeDefineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return nativeDefineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n",
    "var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n",
    "module.exports = false;\n",
    "var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nmodule.exports = function (key, value) {\n  try {\n    createNonEnumerableProperty(global, key, value);\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n",
    "var global = require('../internals/global');\nvar setGlobal = require('../internals/set-global');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n",
    "var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.4.1',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: '© 2019 Denis Pushkarev (zloirock.ru)'\n});\n",
    "var shared = require('../internals/shared');\n\nmodule.exports = shared('native-function-to-string', Function.toString);\n",
    "var global = require('../internals/global');\nvar nativeFunctionToString = require('../internals/function-to-string');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = typeof WeakMap === 'function' && /native code/.test(nativeFunctionToString.call(WeakMap));\n",
    "var id = 0;\nvar postfix = Math.random();\n\nmodule.exports = function (key) {\n  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n};\n",
    "var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n",
    "module.exports = {};\n",
    "var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar objectHas = require('../internals/has');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP) {\n  var store = new WeakMap();\n  var wmget = store.get;\n  var wmhas = store.has;\n  var wmset = store.set;\n  set = function (it, metadata) {\n    wmset.call(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget.call(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas.call(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return objectHas(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return objectHas(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n",
    "var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar setGlobal = require('../internals/set-global');\nvar nativeFunctionToString = require('../internals/function-to-string');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar getInternalState = InternalStateModule.get;\nvar enforceInternalState = InternalStateModule.enforce;\nvar TEMPLATE = String(nativeFunctionToString).split('toString');\n\nshared('inspectSource', function (it) {\n  return nativeFunctionToString.call(it);\n});\n\n(module.exports = function (O, key, value, options) {\n  var unsafe = options ? !!options.unsafe : false;\n  var simple = options ? !!options.enumerable : false;\n  var noTargetGet = options ? !!options.noTargetGet : false;\n  if (typeof value == 'function') {\n    if (typeof key == 'string' && !has(value, 'name')) createNonEnumerableProperty(value, 'name', key);\n    enforceInternalState(value).source = TEMPLATE.join(typeof key == 'string' ? key : '');\n  }\n  if (O === global) {\n    if (simple) O[key] = value;\n    else setGlobal(key, value);\n    return;\n  } else if (!unsafe) {\n    delete O[key];\n  } else if (!noTargetGet && O[key]) {\n    simple = true;\n  }\n  if (simple) O[key] = value;\n  else createNonEnumerableProperty(O, key, value);\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, 'toString', function toString() {\n  return typeof this == 'function' && getInternalState(this).source || nativeFunctionToString.call(this);\n});\n",
    "module.exports = require('../internals/global');\n",
    "var path = require('../internals/path');\nvar global = require('../internals/global');\n\nvar aFunction = function (variable) {\n  return typeof variable == 'function' ? variable : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global[namespace])\n    : path[namespace] && path[namespace][method] || global[namespace] && global[namespace][method];\n};\n",
    "var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToInteger` abstract operation\n// https://tc39.github.io/ecma262/#sec-tointeger\nmodule.exports = function (argument) {\n  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n};\n",
    "var toInteger = require('../internals/to-integer');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.github.io/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n",
    "var toInteger = require('../internals/to-integer');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(length, length).\nmodule.exports = function (index, length) {\n  var integer = toInteger(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n",
    "var toIndexedObject = require('../internals/to-indexed-object');\nvar toLength = require('../internals/to-length');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n",
    "var has = require('../internals/has');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~indexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n",
    "// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n",
    "var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertynames\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n",
    "exports.f = Object.getOwnPropertySymbols;\n",
    "var getBuiltIn = require('../internals/get-built-in');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n};\n",
    "var has = require('../internals/has');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n  }\n};\n",
    "var fails = require('../internals/fails');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : typeof detection == 'function' ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n",
    "var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar setGlobal = require('../internals/set-global');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || setGlobal(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty === typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    // extend global\n    redefine(target, key, sourceProperty, options);\n  }\n};\n",
    "var $ = require('../internals/export');\n\n// `Date.now` method\n// https://tc39.github.io/ecma262/#sec-date.now\n$({ target: 'Date', stat: true }, {\n  now: function now() {\n    return new Date().getTime();\n  }\n});\n",
    "var redefine = require('../internals/redefine');\n\nvar DatePrototype = Date.prototype;\nvar INVALID_DATE = 'Invalid Date';\nvar TO_STRING = 'toString';\nvar nativeDateToString = DatePrototype[TO_STRING];\nvar getTime = DatePrototype.getTime;\n\n// `Date.prototype.toString` method\n// https://tc39.github.io/ecma262/#sec-date.prototype.tostring\nif (new Date(NaN) + '' != INVALID_DATE) {\n  redefine(DatePrototype, TO_STRING, function toString() {\n    var value = getTime.call(this);\n    // eslint-disable-next-line no-self-compare\n    return value === value ? nativeDateToString.call(this) : INVALID_DATE;\n  });\n}\n",
    "// .dirname, .basename, and .extname methods are extracted from Node.js v8.11.1,\n// backported and transplited with Babel, with backwards-compat fixes\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  if (path.length === 0) return '.';\n  var code = path.charCodeAt(0);\n  var hasRoot = code === 47 /*/*/;\n  var end = -1;\n  var matchedSlash = true;\n  for (var i = path.length - 1; i >= 1; --i) {\n    code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        if (!matchedSlash) {\n          end = i;\n          break;\n        }\n      } else {\n      // We saw the first non-path separator\n      matchedSlash = false;\n    }\n  }\n\n  if (end === -1) return hasRoot ? '/' : '.';\n  if (hasRoot && end === 1) {\n    // return '//';\n    // Backwards-compat fix:\n    return '/';\n  }\n  return path.slice(0, end);\n};\n\nfunction basename(path) {\n  if (typeof path !== 'string') path = path + '';\n\n  var start = 0;\n  var end = -1;\n  var matchedSlash = true;\n  var i;\n\n  for (i = path.length - 1; i >= 0; --i) {\n    if (path.charCodeAt(i) === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          start = i + 1;\n          break;\n        }\n      } else if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // path component\n      matchedSlash = false;\n      end = i + 1;\n    }\n  }\n\n  if (end === -1) return '';\n  return path.slice(start, end);\n}\n\n// Uses a mixed approach for backwards-compatibility, as ext behavior changed\n// in new Node.js versions, so only basename() above is backported here\nexports.basename = function (path, ext) {\n  var f = basename(path);\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\nexports.extname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  var startDot = -1;\n  var startPart = 0;\n  var end = -1;\n  var matchedSlash = true;\n  // Track the state of characters (if any) we see before our first dot and\n  // after any path separator we find\n  var preDotState = 0;\n  for (var i = path.length - 1; i >= 0; --i) {\n    var code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          startPart = i + 1;\n          break;\n        }\n        continue;\n      }\n    if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // extension\n      matchedSlash = false;\n      end = i + 1;\n    }\n    if (code === 46 /*.*/) {\n        // If this is our first dot, mark it as the start of our extension\n        if (startDot === -1)\n          startDot = i;\n        else if (preDotState !== 1)\n          preDotState = 1;\n    } else if (startDot !== -1) {\n      // We saw a non-dot and non-path separator before our dot, so we should\n      // have a good chance at having a non-empty extension\n      preDotState = -1;\n    }\n  }\n\n  if (startDot === -1 || end === -1 ||\n      // We saw a non-dot character immediately before the dot\n      preDotState === 0 ||\n      // The (right-most) trimmed path component is exactly '..'\n      preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n    return '';\n  }\n  return path.slice(startDot, end);\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n",
    "\n/**\n * Module dependencies.\n */\n\n/**\n * toString ref.\n */\n\nvar toString = {}.toString;\n\n/**\n * Return ETag for `body`.\n *\n * @param {String|Buffer} body\n * @return {String}\n * @api private\n */\n\nexports.etag = function(body){\n  return '\"' + crc32.signed(body) + '\"';\n};\n\n/**\n * Make `locals()` bound to the given `obj`.\n *\n * This is used for `app.locals` and `res.locals`.\n *\n * @param {Object} obj\n * @return {Function}\n * @api private\n */\n\nexports.locals = function(obj){\n  function locals(obj){\n    for (var key in obj) locals[key] = obj[key];\n    return obj;\n  };\n\n  return locals;\n};\n\n/**\n * Check if `path` looks absolute.\n *\n * @param {String} path\n * @return {Boolean}\n * @api private\n */\n\nexports.isAbsolute = function(path){\n  if ('/' == path[0]) return true;\n  if (':' == path[1] && '\\\\' == path[2]) return true;\n};\n\n/**\n * Flatten the given `arr`.\n *\n * @param {Array} arr\n * @return {Array}\n * @api private\n */\n\nexports.flatten = function(arr, ret){\n  var ret = ret || []\n    , len = arr.length;\n  for (var i = 0; i < len; ++i) {\n    if (Array.isArray(arr[i])) {\n      exports.flatten(arr[i], ret);\n    } else {\n      ret.push(arr[i]);\n    }\n  }\n  return ret;\n};\n\n/**\n * Normalize the given `type`, for example \"html\" becomes \"text/html\".\n *\n * @param {String} type\n * @return {Object}\n * @api private\n */\n\nexports.normalizeType = function(type){\n  return ~type.indexOf('/')\n    ? acceptParams(type)\n    : { value: mime.lookup(type), params: {} };\n};\n\n/**\n * Normalize `types`, for example \"html\" becomes \"text/html\".\n *\n * @param {Array} types\n * @return {Array}\n * @api private\n */\n\nexports.normalizeTypes = function(types){\n  var ret = [];\n\n  for (var i = 0; i < types.length; ++i) {\n    ret.push(exports.normalizeType(types[i]));\n  }\n\n  return ret;\n};\n\n/**\n * Return the acceptable type in `types`, if any.\n *\n * @param {Array} types\n * @param {String} str\n * @return {String}\n * @api private\n */\n\nexports.acceptsArray = function(types, str){\n  // accept anything when Accept is not present\n  if (!str) return types[0];\n\n  // parse\n  var accepted = exports.parseAccept(str)\n    , normalized = exports.normalizeTypes(types)\n    , len = accepted.length;\n\n  for (var i = 0; i < len; ++i) {\n    for (var j = 0, jlen = types.length; j < jlen; ++j) {\n      if (exports.accept(normalized[j], accepted[i])) {\n        return types[j];\n      }\n    }\n  }\n};\n\n/**\n * Check if `type(s)` are acceptable based on\n * the given `str`.\n *\n * @param {String|Array} type(s)\n * @param {String} str\n * @return {Boolean|String}\n * @api private\n */\n\nexports.accepts = function(type, str){\n  if ('string' == typeof type) type = type.split(/ *, */);\n  return exports.acceptsArray(type, str);\n};\n\n/**\n * Check if `type` array is acceptable for `other`.\n *\n * @param {Object} type\n * @param {Object} other\n * @return {Boolean}\n * @api private\n */\n\nexports.accept = function(type, other){\n  var t = type.value.split('/');\n  return (t[0] == other.type || '*' == other.type)\n    && (t[1] == other.subtype || '*' == other.subtype)\n    && paramsEqual(type.params, other.params);\n};\n\n/**\n * Check if accept params are equal.\n *\n * @param {Object} a\n * @param {Object} b\n * @return {Boolean}\n * @api private\n */\n\nfunction paramsEqual(a, b){\n  return !Object.keys(a).some(function(k) {\n    return a[k] != b[k];\n  });\n}\n\n/**\n * Parse accept `str`, returning\n * an array objects containing\n * `.type` and `.subtype` along\n * with the values provided by\n * `parseQuality()`.\n *\n * @param {Type} name\n * @return {Type}\n * @api private\n */\n\nexports.parseAccept = function(str){\n  return exports\n    .parseParams(str)\n    .map(function(obj){\n      var parts = obj.value.split('/');\n      obj.type = parts[0];\n      obj.subtype = parts[1];\n      return obj;\n    });\n};\n\n/**\n * Parse quality `str`, returning an\n * array of objects with `.value`,\n * `.quality` and optional `.params`\n *\n * @param {String} str\n * @return {Array}\n * @api private\n */\n\nexports.parseParams = function(str){\n  return str\n    .split(/ *, */)\n    .map(acceptParams)\n    .filter(function(obj){\n      return obj.quality;\n    })\n    .sort(function(a, b){\n      if (a.quality === b.quality) {\n        return a.originalIndex - b.originalIndex;\n      } else {\n        return b.quality - a.quality;\n      }\n    });\n};\n\n/**\n * Parse accept params `str` returning an\n * object with `.value`, `.quality` and `.params`.\n * also includes `.originalIndex` for stable sorting\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nfunction acceptParams(str, index) {\n  var parts = str.split(/ *; */);\n  var ret = { value: parts[0], quality: 1, params: {}, originalIndex: index };\n\n  for (var i = 1; i < parts.length; ++i) {\n    var pms = parts[i].split(/ *= */);\n    if ('q' == pms[0]) {\n      ret.quality = parseFloat(pms[1]);\n    } else {\n      ret.params[pms[0]] = pms[1];\n    }\n  }\n\n  return ret;\n}\n\n/**\n * Escape special characters in the given string of html.\n *\n * @param  {String} html\n * @return {String}\n * @api private\n */\n\nexports.escape = function(html) {\n  return String(html)\n    .replace(/&/g, '&amp;')\n    .replace(/\"/g, '&quot;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;');\n};\n\n/**\n * Normalize the given path string,\n * returning a regular expression.\n *\n * An empty array should be passed,\n * which will contain the placeholder\n * key names. For example \"/user/:id\" will\n * then contain [\"id\"].\n *\n * @param  {String|RegExp|Array} path\n * @param  {Array} keys\n * @param  {Boolean} sensitive\n * @param  {Boolean} strict\n * @return {RegExp}\n * @api private\n */\n\nexports.pathRegexp = function(path, keys, sensitive, strict) {\n  if (toString.call(path) == '[object RegExp]') return path;\n  if (Array.isArray(path)) path = '(' + path.join('|') + ')';\n  path = path\n    .concat(strict ? '' : '/?')\n    .replace(/\\/\\(/g, '(?:/')\n    .replace(/(\\/)?(\\.)?:(\\w+)(?:(\\(.*?\\)))?(\\?)?(\\*)?/g, function(_, slash, format, key, capture, optional, star){\n      keys.push({ name: key, optional: !! optional });\n      slash = slash || '';\n      return ''\n        + (optional ? '' : slash)\n        + '(?:'\n        + (optional ? slash : '')\n        + (format || '') + (capture || (format && '([^/.]+?)' || '([^/]+?)')) + ')'\n        + (optional || '')\n        + (star ? '(/*)?' : '');\n    })\n    .replace(/([\\/.])/g, '\\\\$1')\n    .replace(/\\*/g, '(.*)');\n  return new RegExp('^' + path + '$', sensitive ? '' : 'i');\n}\n",
    "\n/**\n * Module dependencies.\n */\n\nvar utils = require('../utils');\n\n/**\n * Expose `Route`.\n */\n\nmodule.exports = Route;\n\n/**\n * Initialize `Route` with the given HTTP `method`, `path`,\n * and an array of `callbacks` and `options`.\n *\n * Options:\n *\n *   - `sensitive`    enable case-sensitive routes\n *   - `strict`       enable strict matching for trailing slashes\n *\n * @param {String} method\n * @param {String} path\n * @param {Array} callbacks\n * @param {Object} options.\n * @api private\n */\n\nfunction Route(method, path, callbacks, options) {\n  options = options || {};\n  this.path = path;\n  this.method = method;\n  this.callbacks = callbacks;\n  this.regexp = utils.pathRegexp(path\n    , this.keys = []\n    , options.sensitive\n    , options.strict);\n}\n\n/**\n * Check if this route matches `path`, if so\n * populate `.params`.\n *\n * @param {String} path\n * @return {Boolean}\n * @api private\n */\n\nRoute.prototype.match = function(path){\n  var keys = this.keys\n    , params = this.params = []\n    , m = this.regexp.exec(path);\n\n  if (!m) return false;\n\n  for (var i = 1, len = m.length; i < len; ++i) {\n    var key = keys[i - 1];\n\n    var val = 'string' == typeof m[i]\n      ? decodeURIComponent(m[i])\n      : m[i];\n\n    if (key) {\n      params[key.name] = val;\n    } else {\n      params.push(val);\n    }\n  }\n\n  return true;\n};\n",
    "'use strict';\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar hexTable = (function () {\n    var array = [];\n    for (var i = 0; i < 256; ++i) {\n        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());\n    }\n\n    return array;\n}());\n\nvar compactQueue = function compactQueue(queue) {\n    while (queue.length > 1) {\n        var item = queue.pop();\n        var obj = item.obj[item.prop];\n\n        if (isArray(obj)) {\n            var compacted = [];\n\n            for (var j = 0; j < obj.length; ++j) {\n                if (typeof obj[j] !== 'undefined') {\n                    compacted.push(obj[j]);\n                }\n            }\n\n            item.obj[item.prop] = compacted;\n        }\n    }\n};\n\nvar arrayToObject = function arrayToObject(source, options) {\n    var obj = options && options.plainObjects ? Object.create(null) : {};\n    for (var i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n            obj[i] = source[i];\n        }\n    }\n\n    return obj;\n};\n\nvar merge = function merge(target, source, options) {\n    /* eslint no-param-reassign: 0 */\n    if (!source) {\n        return target;\n    }\n\n    if (typeof source !== 'object') {\n        if (isArray(target)) {\n            target.push(source);\n        } else if (target && typeof target === 'object') {\n            if ((options && (options.plainObjects || options.allowPrototypes)) || !has.call(Object.prototype, source)) {\n                target[source] = true;\n            }\n        } else {\n            return [target, source];\n        }\n\n        return target;\n    }\n\n    if (!target || typeof target !== 'object') {\n        return [target].concat(source);\n    }\n\n    var mergeTarget = target;\n    if (isArray(target) && !isArray(source)) {\n        mergeTarget = arrayToObject(target, options);\n    }\n\n    if (isArray(target) && isArray(source)) {\n        source.forEach(function (item, i) {\n            if (has.call(target, i)) {\n                var targetItem = target[i];\n                if (targetItem && typeof targetItem === 'object' && item && typeof item === 'object') {\n                    target[i] = merge(targetItem, item, options);\n                } else {\n                    target.push(item);\n                }\n            } else {\n                target[i] = item;\n            }\n        });\n        return target;\n    }\n\n    return Object.keys(source).reduce(function (acc, key) {\n        var value = source[key];\n\n        if (has.call(acc, key)) {\n            acc[key] = merge(acc[key], value, options);\n        } else {\n            acc[key] = value;\n        }\n        return acc;\n    }, mergeTarget);\n};\n\nvar assign = function assignSingleSource(target, source) {\n    return Object.keys(source).reduce(function (acc, key) {\n        acc[key] = source[key];\n        return acc;\n    }, target);\n};\n\nvar decode = function (str, decoder, charset) {\n    var strWithoutPlus = str.replace(/\\+/g, ' ');\n    if (charset === 'iso-8859-1') {\n        // unescape never throws, no try...catch needed:\n        return strWithoutPlus.replace(/%[0-9a-f]{2}/gi, unescape);\n    }\n    // utf-8\n    try {\n        return decodeURIComponent(strWithoutPlus);\n    } catch (e) {\n        return strWithoutPlus;\n    }\n};\n\nvar encode = function encode(str, defaultEncoder, charset) {\n    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n\n    var string = str;\n    if (typeof str === 'symbol') {\n        string = Symbol.prototype.toString.call(str);\n    } else if (typeof str !== 'string') {\n        string = String(str);\n    }\n\n    if (charset === 'iso-8859-1') {\n        return escape(string).replace(/%u[0-9a-f]{4}/gi, function ($0) {\n            return '%26%23' + parseInt($0.slice(2), 16) + '%3B';\n        });\n    }\n\n    var out = '';\n    for (var i = 0; i < string.length; ++i) {\n        var c = string.charCodeAt(i);\n\n        if (\n            c === 0x2D // -\n            || c === 0x2E // .\n            || c === 0x5F // _\n            || c === 0x7E // ~\n            || (c >= 0x30 && c <= 0x39) // 0-9\n            || (c >= 0x41 && c <= 0x5A) // a-z\n            || (c >= 0x61 && c <= 0x7A) // A-Z\n        ) {\n            out += string.charAt(i);\n            continue;\n        }\n\n        if (c < 0x80) {\n            out = out + hexTable[c];\n            continue;\n        }\n\n        if (c < 0x800) {\n            out = out + (hexTable[0xC0 | (c >> 6)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        if (c < 0xD800 || c >= 0xE000) {\n            out = out + (hexTable[0xE0 | (c >> 12)] + hexTable[0x80 | ((c >> 6) & 0x3F)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        i += 1;\n        c = 0x10000 + (((c & 0x3FF) << 10) | (string.charCodeAt(i) & 0x3FF));\n        out += hexTable[0xF0 | (c >> 18)]\n            + hexTable[0x80 | ((c >> 12) & 0x3F)]\n            + hexTable[0x80 | ((c >> 6) & 0x3F)]\n            + hexTable[0x80 | (c & 0x3F)];\n    }\n\n    return out;\n};\n\nvar compact = function compact(value) {\n    var queue = [{ obj: { o: value }, prop: 'o' }];\n    var refs = [];\n\n    for (var i = 0; i < queue.length; ++i) {\n        var item = queue[i];\n        var obj = item.obj[item.prop];\n\n        var keys = Object.keys(obj);\n        for (var j = 0; j < keys.length; ++j) {\n            var key = keys[j];\n            var val = obj[key];\n            if (typeof val === 'object' && val !== null && refs.indexOf(val) === -1) {\n                queue.push({ obj: obj, prop: key });\n                refs.push(val);\n            }\n        }\n    }\n\n    compactQueue(queue);\n\n    return value;\n};\n\nvar isRegExp = function isRegExp(obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\nvar isBuffer = function isBuffer(obj) {\n    if (!obj || typeof obj !== 'object') {\n        return false;\n    }\n\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n};\n\nvar combine = function combine(a, b) {\n    return [].concat(a, b);\n};\n\nmodule.exports = {\n    arrayToObject: arrayToObject,\n    assign: assign,\n    combine: combine,\n    compact: compact,\n    decode: decode,\n    encode: encode,\n    isBuffer: isBuffer,\n    isRegExp: isRegExp,\n    merge: merge\n};\n",
    "'use strict';\n\nvar replace = String.prototype.replace;\nvar percentTwenties = /%20/g;\n\nvar util = require('./utils');\n\nvar Format = {\n    RFC1738: 'RFC1738',\n    RFC3986: 'RFC3986'\n};\n\nmodule.exports = util.assign(\n    {\n        'default': Format.RFC3986,\n        formatters: {\n            RFC1738: function (value) {\n                return replace.call(value, percentTwenties, '+');\n            },\n            RFC3986: function (value) {\n                return String(value);\n            }\n        }\n    },\n    Format\n);\n",
    "'use strict';\n\nvar utils = require('./utils');\nvar formats = require('./formats');\nvar has = Object.prototype.hasOwnProperty;\n\nvar arrayPrefixGenerators = {\n    brackets: function brackets(prefix) {\n        return prefix + '[]';\n    },\n    comma: 'comma',\n    indices: function indices(prefix, key) {\n        return prefix + '[' + key + ']';\n    },\n    repeat: function repeat(prefix) {\n        return prefix;\n    }\n};\n\nvar isArray = Array.isArray;\nvar push = Array.prototype.push;\nvar pushToArray = function (arr, valueOrArray) {\n    push.apply(arr, isArray(valueOrArray) ? valueOrArray : [valueOrArray]);\n};\n\nvar toISO = Date.prototype.toISOString;\n\nvar defaultFormat = formats['default'];\nvar defaults = {\n    addQueryPrefix: false,\n    allowDots: false,\n    charset: 'utf-8',\n    charsetSentinel: false,\n    delimiter: '&',\n    encode: true,\n    encoder: utils.encode,\n    encodeValuesOnly: false,\n    format: defaultFormat,\n    formatter: formats.formatters[defaultFormat],\n    // deprecated\n    indices: false,\n    serializeDate: function serializeDate(date) {\n        return toISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false\n};\n\nvar isNonNullishPrimitive = function isNonNullishPrimitive(v) {\n    return typeof v === 'string'\n        || typeof v === 'number'\n        || typeof v === 'boolean'\n        || typeof v === 'symbol'\n        || typeof v === 'bigint';\n};\n\nvar stringify = function stringify(\n    object,\n    prefix,\n    generateArrayPrefix,\n    strictNullHandling,\n    skipNulls,\n    encoder,\n    filter,\n    sort,\n    allowDots,\n    serializeDate,\n    formatter,\n    encodeValuesOnly,\n    charset\n) {\n    var obj = object;\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = serializeDate(obj);\n    } else if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        obj = obj.join(',');\n    }\n\n    if (obj === null) {\n        if (strictNullHandling) {\n            return encoder && !encodeValuesOnly ? encoder(prefix, defaults.encoder, charset, 'key') : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (isNonNullishPrimitive(obj) || utils.isBuffer(obj)) {\n        if (encoder) {\n            var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder, charset, 'key');\n            return [formatter(keyValue) + '=' + formatter(encoder(obj, defaults.encoder, charset, 'value'))];\n        }\n        return [formatter(prefix) + '=' + formatter(String(obj))];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n            continue;\n        }\n\n        if (isArray(obj)) {\n            pushToArray(values, stringify(\n                obj[key],\n                typeof generateArrayPrefix === 'function' ? generateArrayPrefix(prefix, key) : prefix,\n                generateArrayPrefix,\n                strictNullHandling,\n                skipNulls,\n                encoder,\n                filter,\n                sort,\n                allowDots,\n                serializeDate,\n                formatter,\n                encodeValuesOnly,\n                charset\n            ));\n        } else {\n            pushToArray(values, stringify(\n                obj[key],\n                prefix + (allowDots ? '.' + key : '[' + key + ']'),\n                generateArrayPrefix,\n                strictNullHandling,\n                skipNulls,\n                encoder,\n                filter,\n                sort,\n                allowDots,\n                serializeDate,\n                formatter,\n                encodeValuesOnly,\n                charset\n            ));\n        }\n    }\n\n    return values;\n};\n\nvar normalizeStringifyOptions = function normalizeStringifyOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (opts.encoder !== null && opts.encoder !== undefined && typeof opts.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n\n    var charset = opts.charset || defaults.charset;\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n\n    var format = formats['default'];\n    if (typeof opts.format !== 'undefined') {\n        if (!has.call(formats.formatters, opts.format)) {\n            throw new TypeError('Unknown format option provided.');\n        }\n        format = opts.format;\n    }\n    var formatter = formats.formatters[format];\n\n    var filter = defaults.filter;\n    if (typeof opts.filter === 'function' || isArray(opts.filter)) {\n        filter = opts.filter;\n    }\n\n    return {\n        addQueryPrefix: typeof opts.addQueryPrefix === 'boolean' ? opts.addQueryPrefix : defaults.addQueryPrefix,\n        allowDots: typeof opts.allowDots === 'undefined' ? defaults.allowDots : !!opts.allowDots,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        delimiter: typeof opts.delimiter === 'undefined' ? defaults.delimiter : opts.delimiter,\n        encode: typeof opts.encode === 'boolean' ? opts.encode : defaults.encode,\n        encoder: typeof opts.encoder === 'function' ? opts.encoder : defaults.encoder,\n        encodeValuesOnly: typeof opts.encodeValuesOnly === 'boolean' ? opts.encodeValuesOnly : defaults.encodeValuesOnly,\n        filter: filter,\n        formatter: formatter,\n        serializeDate: typeof opts.serializeDate === 'function' ? opts.serializeDate : defaults.serializeDate,\n        skipNulls: typeof opts.skipNulls === 'boolean' ? opts.skipNulls : defaults.skipNulls,\n        sort: typeof opts.sort === 'function' ? opts.sort : null,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = normalizeStringifyOptions(opts);\n\n    var objKeys;\n    var filter;\n\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (isArray(options.filter)) {\n        filter = options.filter;\n        objKeys = filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var arrayFormat;\n    if (opts && opts.arrayFormat in arrayPrefixGenerators) {\n        arrayFormat = opts.arrayFormat;\n    } else if (opts && 'indices' in opts) {\n        arrayFormat = opts.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = 'indices';\n    }\n\n    var generateArrayPrefix = arrayPrefixGenerators[arrayFormat];\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (options.sort) {\n        objKeys.sort(options.sort);\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (options.skipNulls && obj[key] === null) {\n            continue;\n        }\n        pushToArray(keys, stringify(\n            obj[key],\n            key,\n            generateArrayPrefix,\n            options.strictNullHandling,\n            options.skipNulls,\n            options.encode ? options.encoder : null,\n            options.filter,\n            options.sort,\n            options.allowDots,\n            options.serializeDate,\n            options.formatter,\n            options.encodeValuesOnly,\n            options.charset\n        ));\n    }\n\n    var joined = keys.join(options.delimiter);\n    var prefix = options.addQueryPrefix === true ? '?' : '';\n\n    if (options.charsetSentinel) {\n        if (options.charset === 'iso-8859-1') {\n            // encodeURIComponent('&#10003;'), the \"numeric entity\" representation of a checkmark\n            prefix += 'utf8=%26%2310003%3B&';\n        } else {\n            // encodeURIComponent('✓')\n            prefix += 'utf8=%E2%9C%93&';\n        }\n    }\n\n    return joined.length > 0 ? prefix + joined : '';\n};\n",
    "'use strict';\n\nvar utils = require('./utils');\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar defaults = {\n    allowDots: false,\n    allowPrototypes: false,\n    arrayLimit: 20,\n    charset: 'utf-8',\n    charsetSentinel: false,\n    comma: false,\n    decoder: utils.decode,\n    delimiter: '&',\n    depth: 5,\n    ignoreQueryPrefix: false,\n    interpretNumericEntities: false,\n    parameterLimit: 1000,\n    parseArrays: true,\n    plainObjects: false,\n    strictNullHandling: false\n};\n\nvar interpretNumericEntities = function (str) {\n    return str.replace(/&#(\\d+);/g, function ($0, numberStr) {\n        return String.fromCharCode(parseInt(numberStr, 10));\n    });\n};\n\n// This is what browsers will submit when the ✓ character occurs in an\n// application/x-www-form-urlencoded body and the encoding of the page containing\n// the form is iso-8859-1, or when the submitted form has an accept-charset\n// attribute of iso-8859-1. Presumably also with other charsets that do not contain\n// the ✓ character, such as us-ascii.\nvar isoSentinel = 'utf8=%26%2310003%3B'; // encodeURIComponent('&#10003;')\n\n// These are the percent-encoded utf-8 octets representing a checkmark, indicating that the request actually is utf-8 encoded.\nvar charsetSentinel = 'utf8=%E2%9C%93'; // encodeURIComponent('✓')\n\nvar parseValues = function parseQueryStringValues(str, options) {\n    var obj = {};\n    var cleanStr = options.ignoreQueryPrefix ? str.replace(/^\\?/, '') : str;\n    var limit = options.parameterLimit === Infinity ? undefined : options.parameterLimit;\n    var parts = cleanStr.split(options.delimiter, limit);\n    var skipIndex = -1; // Keep track of where the utf8 sentinel was found\n    var i;\n\n    var charset = options.charset;\n    if (options.charsetSentinel) {\n        for (i = 0; i < parts.length; ++i) {\n            if (parts[i].indexOf('utf8=') === 0) {\n                if (parts[i] === charsetSentinel) {\n                    charset = 'utf-8';\n                } else if (parts[i] === isoSentinel) {\n                    charset = 'iso-8859-1';\n                }\n                skipIndex = i;\n                i = parts.length; // The eslint settings do not allow break;\n            }\n        }\n    }\n\n    for (i = 0; i < parts.length; ++i) {\n        if (i === skipIndex) {\n            continue;\n        }\n        var part = parts[i];\n\n        var bracketEqualsPos = part.indexOf(']=');\n        var pos = bracketEqualsPos === -1 ? part.indexOf('=') : bracketEqualsPos + 1;\n\n        var key, val;\n        if (pos === -1) {\n            key = options.decoder(part, defaults.decoder, charset, 'key');\n            val = options.strictNullHandling ? null : '';\n        } else {\n            key = options.decoder(part.slice(0, pos), defaults.decoder, charset, 'key');\n            val = options.decoder(part.slice(pos + 1), defaults.decoder, charset, 'value');\n        }\n\n        if (val && options.interpretNumericEntities && charset === 'iso-8859-1') {\n            val = interpretNumericEntities(val);\n        }\n\n        if (val && typeof val === 'string' && options.comma && val.indexOf(',') > -1) {\n            val = val.split(',');\n        }\n\n        if (part.indexOf('[]=') > -1) {\n            val = isArray(val) ? [val] : val;\n        }\n\n        if (has.call(obj, key)) {\n            obj[key] = utils.combine(obj[key], val);\n        } else {\n            obj[key] = val;\n        }\n    }\n\n    return obj;\n};\n\nvar parseObject = function (chain, val, options) {\n    var leaf = val;\n\n    for (var i = chain.length - 1; i >= 0; --i) {\n        var obj;\n        var root = chain[i];\n\n        if (root === '[]' && options.parseArrays) {\n            obj = [].concat(leaf);\n        } else {\n            obj = options.plainObjects ? Object.create(null) : {};\n            var cleanRoot = root.charAt(0) === '[' && root.charAt(root.length - 1) === ']' ? root.slice(1, -1) : root;\n            var index = parseInt(cleanRoot, 10);\n            if (!options.parseArrays && cleanRoot === '') {\n                obj = { 0: leaf };\n            } else if (\n                !isNaN(index)\n                && root !== cleanRoot\n                && String(index) === cleanRoot\n                && index >= 0\n                && (options.parseArrays && index <= options.arrayLimit)\n            ) {\n                obj = [];\n                obj[index] = leaf;\n            } else {\n                obj[cleanRoot] = leaf;\n            }\n        }\n\n        leaf = obj;\n    }\n\n    return leaf;\n};\n\nvar parseKeys = function parseQueryStringKeys(givenKey, val, options) {\n    if (!givenKey) {\n        return;\n    }\n\n    // Transform dot notation to bracket notation\n    var key = options.allowDots ? givenKey.replace(/\\.([^.[]+)/g, '[$1]') : givenKey;\n\n    // The regex chunks\n\n    var brackets = /(\\[[^[\\]]*])/;\n    var child = /(\\[[^[\\]]*])/g;\n\n    // Get the parent\n\n    var segment = options.depth > 0 && brackets.exec(key);\n    var parent = segment ? key.slice(0, segment.index) : key;\n\n    // Stash the parent if it exists\n\n    var keys = [];\n    if (parent) {\n        // If we aren't using plain objects, optionally prefix keys that would overwrite object prototype properties\n        if (!options.plainObjects && has.call(Object.prototype, parent)) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(parent);\n    }\n\n    // Loop through children appending to the array until we hit depth\n\n    var i = 0;\n    while (options.depth > 0 && (segment = child.exec(key)) !== null && i < options.depth) {\n        i += 1;\n        if (!options.plainObjects && has.call(Object.prototype, segment[1].slice(1, -1))) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n        keys.push(segment[1]);\n    }\n\n    // If there's a remainder, just add whatever is left\n\n    if (segment) {\n        keys.push('[' + key.slice(segment.index) + ']');\n    }\n\n    return parseObject(keys, val, options);\n};\n\nvar normalizeParseOptions = function normalizeParseOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (opts.decoder !== null && opts.decoder !== undefined && typeof opts.decoder !== 'function') {\n        throw new TypeError('Decoder has to be a function.');\n    }\n\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new Error('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n    var charset = typeof opts.charset === 'undefined' ? defaults.charset : opts.charset;\n\n    return {\n        allowDots: typeof opts.allowDots === 'undefined' ? defaults.allowDots : !!opts.allowDots,\n        allowPrototypes: typeof opts.allowPrototypes === 'boolean' ? opts.allowPrototypes : defaults.allowPrototypes,\n        arrayLimit: typeof opts.arrayLimit === 'number' ? opts.arrayLimit : defaults.arrayLimit,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        comma: typeof opts.comma === 'boolean' ? opts.comma : defaults.comma,\n        decoder: typeof opts.decoder === 'function' ? opts.decoder : defaults.decoder,\n        delimiter: typeof opts.delimiter === 'string' || utils.isRegExp(opts.delimiter) ? opts.delimiter : defaults.delimiter,\n        // eslint-disable-next-line no-implicit-coercion, no-extra-parens\n        depth: (typeof opts.depth === 'number' || opts.depth === false) ? +opts.depth : defaults.depth,\n        ignoreQueryPrefix: opts.ignoreQueryPrefix === true,\n        interpretNumericEntities: typeof opts.interpretNumericEntities === 'boolean' ? opts.interpretNumericEntities : defaults.interpretNumericEntities,\n        parameterLimit: typeof opts.parameterLimit === 'number' ? opts.parameterLimit : defaults.parameterLimit,\n        parseArrays: opts.parseArrays !== false,\n        plainObjects: typeof opts.plainObjects === 'boolean' ? opts.plainObjects : defaults.plainObjects,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (str, opts) {\n    var options = normalizeParseOptions(opts);\n\n    if (str === '' || str === null || typeof str === 'undefined') {\n        return options.plainObjects ? Object.create(null) : {};\n    }\n\n    var tempObj = typeof str === 'string' ? parseValues(str, options) : str;\n    var obj = options.plainObjects ? Object.create(null) : {};\n\n    // Iterate over the keys and setup the new object\n\n    var keys = Object.keys(tempObj);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var newObj = parseKeys(key, tempObj[key], options);\n        obj = utils.merge(obj, newObj, options);\n    }\n\n    return utils.compact(obj);\n};\n",
    "'use strict';\n\nvar stringify = require('./stringify');\nvar parse = require('./parse');\nvar formats = require('./formats');\n\nmodule.exports = {\n    formats: formats,\n    parse: parse,\n    stringify: stringify\n};\n",
    "/*! https://mths.be/punycode v1.4.1 by @mathias */\n;(function(root) {\n\n\t/** Detect free variables */\n\tvar freeExports = typeof exports == 'object' && exports &&\n\t\t!exports.nodeType && exports;\n\tvar freeModule = typeof module == 'object' && module &&\n\t\t!module.nodeType && module;\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (\n\t\tfreeGlobal.global === freeGlobal ||\n\t\tfreeGlobal.window === freeGlobal ||\n\t\tfreeGlobal.self === freeGlobal\n\t) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n\t * The `punycode` object.\n\t * @name punycode\n\t * @type Object\n\t */\n\tvar punycode,\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\ttMin = 1,\n\ttMax = 26,\n\tskew = 38,\n\tdamp = 700,\n\tinitialBias = 72,\n\tinitialN = 128, // 0x80\n\tdelimiter = '-', // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\tfloor = Math.floor,\n\tstringFromCharCode = String.fromCharCode,\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type) {\n\t\tthrow new RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t * addresses.\n\t * @private\n\t * @param {String} domain The domain name or email address.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split('@');\n\t\tvar result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tstring = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\tvar labels = string.split('.');\n\t\tvar encoded = map(labels, fn).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} string The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function(value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {Number} codePoint The basic numeric code point value.\n\t * @returns {Number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {Number} digit The numeric value of a basic code point.\n\t * @returns {Number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * https://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\t\t    /** Cached calculation results */\n\t\t    baseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t * Punycode string of ASCII-only symbols.\n\t * @memberOf punycode\n\t * @param {String} input The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t    inputLength,\n\t\t    /** Cached calculation results */\n\t\t    handledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name or an email address\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t * it doesn't matter if you call it on a string that has already been\n\t * converted to Unicode.\n\t * @memberOf punycode\n\t * @param {String} input The Punycoded domain name or email address to\n\t * convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexPunycode.test(string)\n\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name or an email address to\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t * ASCII.\n\t * @memberOf punycode\n\t * @param {String} input The domain name or email address to convert, as a\n\t * Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name or\n\t * email address.\n\t */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n\t\t * A string representing the current Punycode.js version number.\n\t\t * @memberOf punycode\n\t\t * @type String\n\t\t */\n\t\t'version': '1.4.1',\n\t\t/**\n\t\t * An object of methods to convert from JavaScript's internal character\n\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode\n\t\t * @type Object\n\t\t */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine('punycode', function() {\n\t\t\treturn punycode;\n\t\t});\n\t} else if (freeExports && freeModule) {\n\t\tif (module.exports == freeExports) {\n\t\t\t// in Node.js, io.js, or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = punycode;\n\t\t} else {\n\t\t\t// in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (key in punycode) {\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t}\n\t\t}\n\t} else {\n\t\t// in Rhino or a web browser\n\t\troot.punycode = punycode;\n\t}\n\n}(this));\n",
    "'use strict';\n\nmodule.exports = {\n  isString: function(arg) {\n    return typeof(arg) === 'string';\n  },\n  isObject: function(arg) {\n    return typeof(arg) === 'object' && arg !== null;\n  },\n  isNull: function(arg) {\n    return arg === null;\n  },\n  isNullOrUndefined: function(arg) {\n    return arg == null;\n  }\n};\n",
    "// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n",
    "// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n",
    "'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n",
    "// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar punycode = require('punycode');\nvar util = require('./util');\n\nexports.parse = urlParse;\nexports.resolve = urlResolve;\nexports.resolveObject = urlResolveObject;\nexports.format = urlFormat;\n\nexports.Url = Url;\n\nfunction Url() {\n  this.protocol = null;\n  this.slashes = null;\n  this.auth = null;\n  this.host = null;\n  this.port = null;\n  this.hostname = null;\n  this.hash = null;\n  this.search = null;\n  this.query = null;\n  this.pathname = null;\n  this.path = null;\n  this.href = null;\n}\n\n// Reference: RFC 3986, RFC 1808, RFC 2396\n\n// define these here so at least they only have to be\n// compiled once on the first module load.\nvar protocolPattern = /^([a-z0-9.+-]+:)/i,\n    portPattern = /:[0-9]*$/,\n\n    // Special case for a simple path URL\n    simplePathPattern = /^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,\n\n    // RFC 2396: characters reserved for delimiting URLs.\n    // We actually just auto-escape these.\n    delims = ['<', '>', '\"', '`', ' ', '\\r', '\\n', '\\t'],\n\n    // RFC 2396: characters not allowed for various reasons.\n    unwise = ['{', '}', '|', '\\\\', '^', '`'].concat(delims),\n\n    // Allowed by RFCs, but cause of XSS attacks.  Always escape these.\n    autoEscape = ['\\''].concat(unwise),\n    // Characters that are never ever allowed in a hostname.\n    // Note that any invalid chars are also handled, but these\n    // are the ones that are *expected* to be seen, so we fast-path\n    // them.\n    nonHostChars = ['%', '/', '?', ';', '#'].concat(autoEscape),\n    hostEndingChars = ['/', '?', '#'],\n    hostnameMaxLen = 255,\n    hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,\n    hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,\n    // protocols that can allow \"unsafe\" and \"unwise\" chars.\n    unsafeProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that never have a hostname.\n    hostlessProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that always contain a // bit.\n    slashedProtocol = {\n      'http': true,\n      'https': true,\n      'ftp': true,\n      'gopher': true,\n      'file': true,\n      'http:': true,\n      'https:': true,\n      'ftp:': true,\n      'gopher:': true,\n      'file:': true\n    },\n    querystring = require('querystring');\n\nfunction urlParse(url, parseQueryString, slashesDenoteHost) {\n  if (url && util.isObject(url) && url instanceof Url) return url;\n\n  var u = new Url;\n  u.parse(url, parseQueryString, slashesDenoteHost);\n  return u;\n}\n\nUrl.prototype.parse = function(url, parseQueryString, slashesDenoteHost) {\n  if (!util.isString(url)) {\n    throw new TypeError(\"Parameter 'url' must be a string, not \" + typeof url);\n  }\n\n  // Copy chrome, IE, opera backslash-handling behavior.\n  // Back slashes before the query string get converted to forward slashes\n  // See: https://code.google.com/p/chromium/issues/detail?id=25916\n  var queryIndex = url.indexOf('?'),\n      splitter =\n          (queryIndex !== -1 && queryIndex < url.indexOf('#')) ? '?' : '#',\n      uSplit = url.split(splitter),\n      slashRegex = /\\\\/g;\n  uSplit[0] = uSplit[0].replace(slashRegex, '/');\n  url = uSplit.join(splitter);\n\n  var rest = url;\n\n  // trim before proceeding.\n  // This is to support parse stuff like \"  http://foo.com  \\n\"\n  rest = rest.trim();\n\n  if (!slashesDenoteHost && url.split('#').length === 1) {\n    // Try fast path regexp\n    var simplePath = simplePathPattern.exec(rest);\n    if (simplePath) {\n      this.path = rest;\n      this.href = rest;\n      this.pathname = simplePath[1];\n      if (simplePath[2]) {\n        this.search = simplePath[2];\n        if (parseQueryString) {\n          this.query = querystring.parse(this.search.substr(1));\n        } else {\n          this.query = this.search.substr(1);\n        }\n      } else if (parseQueryString) {\n        this.search = '';\n        this.query = {};\n      }\n      return this;\n    }\n  }\n\n  var proto = protocolPattern.exec(rest);\n  if (proto) {\n    proto = proto[0];\n    var lowerProto = proto.toLowerCase();\n    this.protocol = lowerProto;\n    rest = rest.substr(proto.length);\n  }\n\n  // figure out if it's got a host\n  // user@server is *always* interpreted as a hostname, and url\n  // resolution will treat //foo/bar as host=foo,path=bar because that's\n  // how the browser resolves relative URLs.\n  if (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)) {\n    var slashes = rest.substr(0, 2) === '//';\n    if (slashes && !(proto && hostlessProtocol[proto])) {\n      rest = rest.substr(2);\n      this.slashes = true;\n    }\n  }\n\n  if (!hostlessProtocol[proto] &&\n      (slashes || (proto && !slashedProtocol[proto]))) {\n\n    // there's a hostname.\n    // the first instance of /, ?, ;, or # ends the host.\n    //\n    // If there is an @ in the hostname, then non-host chars *are* allowed\n    // to the left of the last @ sign, unless some host-ending character\n    // comes *before* the @-sign.\n    // URLs are obnoxious.\n    //\n    // ex:\n    // http://a@b@c/ => user:a@b host:c\n    // http://a@b?@c => user:a host:c path:/?@c\n\n    // v0.12 TODO(isaacs): This is not quite how Chrome does things.\n    // Review our test case against browsers more comprehensively.\n\n    // find the first instance of any hostEndingChars\n    var hostEnd = -1;\n    for (var i = 0; i < hostEndingChars.length; i++) {\n      var hec = rest.indexOf(hostEndingChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n\n    // at this point, either we have an explicit point where the\n    // auth portion cannot go past, or the last @ char is the decider.\n    var auth, atSign;\n    if (hostEnd === -1) {\n      // atSign can be anywhere.\n      atSign = rest.lastIndexOf('@');\n    } else {\n      // atSign must be in auth portion.\n      // http://a@b/c@d => host:b auth:a path:/c@d\n      atSign = rest.lastIndexOf('@', hostEnd);\n    }\n\n    // Now we have a portion which is definitely the auth.\n    // Pull that off.\n    if (atSign !== -1) {\n      auth = rest.slice(0, atSign);\n      rest = rest.slice(atSign + 1);\n      this.auth = decodeURIComponent(auth);\n    }\n\n    // the host is the remaining to the left of the first non-host char\n    hostEnd = -1;\n    for (var i = 0; i < nonHostChars.length; i++) {\n      var hec = rest.indexOf(nonHostChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n    // if we still have not hit it, then the entire thing is a host.\n    if (hostEnd === -1)\n      hostEnd = rest.length;\n\n    this.host = rest.slice(0, hostEnd);\n    rest = rest.slice(hostEnd);\n\n    // pull out port.\n    this.parseHost();\n\n    // we've indicated that there is a hostname,\n    // so even if it's empty, it has to be present.\n    this.hostname = this.hostname || '';\n\n    // if hostname begins with [ and ends with ]\n    // assume that it's an IPv6 address.\n    var ipv6Hostname = this.hostname[0] === '[' &&\n        this.hostname[this.hostname.length - 1] === ']';\n\n    // validate a little.\n    if (!ipv6Hostname) {\n      var hostparts = this.hostname.split(/\\./);\n      for (var i = 0, l = hostparts.length; i < l; i++) {\n        var part = hostparts[i];\n        if (!part) continue;\n        if (!part.match(hostnamePartPattern)) {\n          var newpart = '';\n          for (var j = 0, k = part.length; j < k; j++) {\n            if (part.charCodeAt(j) > 127) {\n              // we replace non-ASCII char with a temporary placeholder\n              // we need this to make sure size of hostname is not\n              // broken by replacing non-ASCII by nothing\n              newpart += 'x';\n            } else {\n              newpart += part[j];\n            }\n          }\n          // we test again with ASCII char only\n          if (!newpart.match(hostnamePartPattern)) {\n            var validParts = hostparts.slice(0, i);\n            var notHost = hostparts.slice(i + 1);\n            var bit = part.match(hostnamePartStart);\n            if (bit) {\n              validParts.push(bit[1]);\n              notHost.unshift(bit[2]);\n            }\n            if (notHost.length) {\n              rest = '/' + notHost.join('.') + rest;\n            }\n            this.hostname = validParts.join('.');\n            break;\n          }\n        }\n      }\n    }\n\n    if (this.hostname.length > hostnameMaxLen) {\n      this.hostname = '';\n    } else {\n      // hostnames are always lower case.\n      this.hostname = this.hostname.toLowerCase();\n    }\n\n    if (!ipv6Hostname) {\n      // IDNA Support: Returns a punycoded representation of \"domain\".\n      // It only converts parts of the domain name that\n      // have non-ASCII characters, i.e. it doesn't matter if\n      // you call it with a domain that already is ASCII-only.\n      this.hostname = punycode.toASCII(this.hostname);\n    }\n\n    var p = this.port ? ':' + this.port : '';\n    var h = this.hostname || '';\n    this.host = h + p;\n    this.href += this.host;\n\n    // strip [ and ] from the hostname\n    // the host field still retains them, though\n    if (ipv6Hostname) {\n      this.hostname = this.hostname.substr(1, this.hostname.length - 2);\n      if (rest[0] !== '/') {\n        rest = '/' + rest;\n      }\n    }\n  }\n\n  // now rest is set to the post-host stuff.\n  // chop off any delim chars.\n  if (!unsafeProtocol[lowerProto]) {\n\n    // First, make 100% sure that any \"autoEscape\" chars get\n    // escaped, even if encodeURIComponent doesn't think they\n    // need to be.\n    for (var i = 0, l = autoEscape.length; i < l; i++) {\n      var ae = autoEscape[i];\n      if (rest.indexOf(ae) === -1)\n        continue;\n      var esc = encodeURIComponent(ae);\n      if (esc === ae) {\n        esc = escape(ae);\n      }\n      rest = rest.split(ae).join(esc);\n    }\n  }\n\n\n  // chop off from the tail first.\n  var hash = rest.indexOf('#');\n  if (hash !== -1) {\n    // got a fragment string.\n    this.hash = rest.substr(hash);\n    rest = rest.slice(0, hash);\n  }\n  var qm = rest.indexOf('?');\n  if (qm !== -1) {\n    this.search = rest.substr(qm);\n    this.query = rest.substr(qm + 1);\n    if (parseQueryString) {\n      this.query = querystring.parse(this.query);\n    }\n    rest = rest.slice(0, qm);\n  } else if (parseQueryString) {\n    // no query string, but parseQueryString still requested\n    this.search = '';\n    this.query = {};\n  }\n  if (rest) this.pathname = rest;\n  if (slashedProtocol[lowerProto] &&\n      this.hostname && !this.pathname) {\n    this.pathname = '/';\n  }\n\n  //to support http.request\n  if (this.pathname || this.search) {\n    var p = this.pathname || '';\n    var s = this.search || '';\n    this.path = p + s;\n  }\n\n  // finally, reconstruct the href based on what has been validated.\n  this.href = this.format();\n  return this;\n};\n\n// format a parsed object into a url string\nfunction urlFormat(obj) {\n  // ensure it's an object, and not a string url.\n  // If it's an obj, this is a no-op.\n  // this way, you can call url_format() on strings\n  // to clean up potentially wonky urls.\n  if (util.isString(obj)) obj = urlParse(obj);\n  if (!(obj instanceof Url)) return Url.prototype.format.call(obj);\n  return obj.format();\n}\n\nUrl.prototype.format = function() {\n  var auth = this.auth || '';\n  if (auth) {\n    auth = encodeURIComponent(auth);\n    auth = auth.replace(/%3A/i, ':');\n    auth += '@';\n  }\n\n  var protocol = this.protocol || '',\n      pathname = this.pathname || '',\n      hash = this.hash || '',\n      host = false,\n      query = '';\n\n  if (this.host) {\n    host = auth + this.host;\n  } else if (this.hostname) {\n    host = auth + (this.hostname.indexOf(':') === -1 ?\n        this.hostname :\n        '[' + this.hostname + ']');\n    if (this.port) {\n      host += ':' + this.port;\n    }\n  }\n\n  if (this.query &&\n      util.isObject(this.query) &&\n      Object.keys(this.query).length) {\n    query = querystring.stringify(this.query);\n  }\n\n  var search = this.search || (query && ('?' + query)) || '';\n\n  if (protocol && protocol.substr(-1) !== ':') protocol += ':';\n\n  // only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.\n  // unless they had them to begin with.\n  if (this.slashes ||\n      (!protocol || slashedProtocol[protocol]) && host !== false) {\n    host = '//' + (host || '');\n    if (pathname && pathname.charAt(0) !== '/') pathname = '/' + pathname;\n  } else if (!host) {\n    host = '';\n  }\n\n  if (hash && hash.charAt(0) !== '#') hash = '#' + hash;\n  if (search && search.charAt(0) !== '?') search = '?' + search;\n\n  pathname = pathname.replace(/[?#]/g, function(match) {\n    return encodeURIComponent(match);\n  });\n  search = search.replace('#', '%23');\n\n  return protocol + host + pathname + search + hash;\n};\n\nfunction urlResolve(source, relative) {\n  return urlParse(source, false, true).resolve(relative);\n}\n\nUrl.prototype.resolve = function(relative) {\n  return this.resolveObject(urlParse(relative, false, true)).format();\n};\n\nfunction urlResolveObject(source, relative) {\n  if (!source) return relative;\n  return urlParse(source, false, true).resolveObject(relative);\n}\n\nUrl.prototype.resolveObject = function(relative) {\n  if (util.isString(relative)) {\n    var rel = new Url();\n    rel.parse(relative, false, true);\n    relative = rel;\n  }\n\n  var result = new Url();\n  var tkeys = Object.keys(this);\n  for (var tk = 0; tk < tkeys.length; tk++) {\n    var tkey = tkeys[tk];\n    result[tkey] = this[tkey];\n  }\n\n  // hash is always overridden, no matter what.\n  // even href=\"\" will remove it.\n  result.hash = relative.hash;\n\n  // if the relative url is empty, then there's nothing left to do here.\n  if (relative.href === '') {\n    result.href = result.format();\n    return result;\n  }\n\n  // hrefs like //foo/bar always cut to the protocol.\n  if (relative.slashes && !relative.protocol) {\n    // take everything except the protocol from relative\n    var rkeys = Object.keys(relative);\n    for (var rk = 0; rk < rkeys.length; rk++) {\n      var rkey = rkeys[rk];\n      if (rkey !== 'protocol')\n        result[rkey] = relative[rkey];\n    }\n\n    //urlParse appends trailing / to urls like http://www.example.com\n    if (slashedProtocol[result.protocol] &&\n        result.hostname && !result.pathname) {\n      result.path = result.pathname = '/';\n    }\n\n    result.href = result.format();\n    return result;\n  }\n\n  if (relative.protocol && relative.protocol !== result.protocol) {\n    // if it's a known url protocol, then changing\n    // the protocol does weird things\n    // first, if it's not file:, then we MUST have a host,\n    // and if there was a path\n    // to begin with, then we MUST have a path.\n    // if it is file:, then the host is dropped,\n    // because that's known to be hostless.\n    // anything else is assumed to be absolute.\n    if (!slashedProtocol[relative.protocol]) {\n      var keys = Object.keys(relative);\n      for (var v = 0; v < keys.length; v++) {\n        var k = keys[v];\n        result[k] = relative[k];\n      }\n      result.href = result.format();\n      return result;\n    }\n\n    result.protocol = relative.protocol;\n    if (!relative.host && !hostlessProtocol[relative.protocol]) {\n      var relPath = (relative.pathname || '').split('/');\n      while (relPath.length && !(relative.host = relPath.shift()));\n      if (!relative.host) relative.host = '';\n      if (!relative.hostname) relative.hostname = '';\n      if (relPath[0] !== '') relPath.unshift('');\n      if (relPath.length < 2) relPath.unshift('');\n      result.pathname = relPath.join('/');\n    } else {\n      result.pathname = relative.pathname;\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    result.host = relative.host || '';\n    result.auth = relative.auth;\n    result.hostname = relative.hostname || relative.host;\n    result.port = relative.port;\n    // to support http.request\n    if (result.pathname || result.search) {\n      var p = result.pathname || '';\n      var s = result.search || '';\n      result.path = p + s;\n    }\n    result.slashes = result.slashes || relative.slashes;\n    result.href = result.format();\n    return result;\n  }\n\n  var isSourceAbs = (result.pathname && result.pathname.charAt(0) === '/'),\n      isRelAbs = (\n          relative.host ||\n          relative.pathname && relative.pathname.charAt(0) === '/'\n      ),\n      mustEndAbs = (isRelAbs || isSourceAbs ||\n                    (result.host && relative.pathname)),\n      removeAllDots = mustEndAbs,\n      srcPath = result.pathname && result.pathname.split('/') || [],\n      relPath = relative.pathname && relative.pathname.split('/') || [],\n      psychotic = result.protocol && !slashedProtocol[result.protocol];\n\n  // if the url is a non-slashed url, then relative\n  // links like ../.. should be able\n  // to crawl up to the hostname, as well.  This is strange.\n  // result.protocol has already been set by now.\n  // Later on, put the first path part into the host field.\n  if (psychotic) {\n    result.hostname = '';\n    result.port = null;\n    if (result.host) {\n      if (srcPath[0] === '') srcPath[0] = result.host;\n      else srcPath.unshift(result.host);\n    }\n    result.host = '';\n    if (relative.protocol) {\n      relative.hostname = null;\n      relative.port = null;\n      if (relative.host) {\n        if (relPath[0] === '') relPath[0] = relative.host;\n        else relPath.unshift(relative.host);\n      }\n      relative.host = null;\n    }\n    mustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');\n  }\n\n  if (isRelAbs) {\n    // it's absolute.\n    result.host = (relative.host || relative.host === '') ?\n                  relative.host : result.host;\n    result.hostname = (relative.hostname || relative.hostname === '') ?\n                      relative.hostname : result.hostname;\n    result.search = relative.search;\n    result.query = relative.query;\n    srcPath = relPath;\n    // fall through to the dot-handling below.\n  } else if (relPath.length) {\n    // it's relative\n    // throw away the existing file, and take the new path instead.\n    if (!srcPath) srcPath = [];\n    srcPath.pop();\n    srcPath = srcPath.concat(relPath);\n    result.search = relative.search;\n    result.query = relative.query;\n  } else if (!util.isNullOrUndefined(relative.search)) {\n    // just pull out the search.\n    // like href='?foo'.\n    // Put this after the other two cases because it simplifies the booleans\n    if (psychotic) {\n      result.hostname = result.host = srcPath.shift();\n      //occationaly the auth can get stuck only in host\n      //this especially happens in cases like\n      //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n      var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                       result.host.split('@') : false;\n      if (authInHost) {\n        result.auth = authInHost.shift();\n        result.host = result.hostname = authInHost.shift();\n      }\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    //to support http.request\n    if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n      result.path = (result.pathname ? result.pathname : '') +\n                    (result.search ? result.search : '');\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  if (!srcPath.length) {\n    // no path at all.  easy.\n    // we've already handled the other stuff above.\n    result.pathname = null;\n    //to support http.request\n    if (result.search) {\n      result.path = '/' + result.search;\n    } else {\n      result.path = null;\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  // if a url ENDs in . or .., then it must get a trailing slash.\n  // however, if it ends in anything else non-slashy,\n  // then it must NOT get a trailing slash.\n  var last = srcPath.slice(-1)[0];\n  var hasTrailingSlash = (\n      (result.host || relative.host || srcPath.length > 1) &&\n      (last === '.' || last === '..') || last === '');\n\n  // strip single dots, resolve double dots to parent dir\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = srcPath.length; i >= 0; i--) {\n    last = srcPath[i];\n    if (last === '.') {\n      srcPath.splice(i, 1);\n    } else if (last === '..') {\n      srcPath.splice(i, 1);\n      up++;\n    } else if (up) {\n      srcPath.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (!mustEndAbs && !removeAllDots) {\n    for (; up--; up) {\n      srcPath.unshift('..');\n    }\n  }\n\n  if (mustEndAbs && srcPath[0] !== '' &&\n      (!srcPath[0] || srcPath[0].charAt(0) !== '/')) {\n    srcPath.unshift('');\n  }\n\n  if (hasTrailingSlash && (srcPath.join('/').substr(-1) !== '/')) {\n    srcPath.push('');\n  }\n\n  var isAbsolute = srcPath[0] === '' ||\n      (srcPath[0] && srcPath[0].charAt(0) === '/');\n\n  // put the host back\n  if (psychotic) {\n    result.hostname = result.host = isAbsolute ? '' :\n                                    srcPath.length ? srcPath.shift() : '';\n    //occationaly the auth can get stuck only in host\n    //this especially happens in cases like\n    //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n    var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                     result.host.split('@') : false;\n    if (authInHost) {\n      result.auth = authInHost.shift();\n      result.host = result.hostname = authInHost.shift();\n    }\n  }\n\n  mustEndAbs = mustEndAbs || (result.host && srcPath.length);\n\n  if (mustEndAbs && !isAbsolute) {\n    srcPath.unshift('');\n  }\n\n  if (!srcPath.length) {\n    result.pathname = null;\n    result.path = null;\n  } else {\n    result.pathname = srcPath.join('/');\n  }\n\n  //to support request.http\n  if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n    result.path = (result.pathname ? result.pathname : '') +\n                  (result.search ? result.search : '');\n  }\n  result.auth = relative.auth || result.auth;\n  result.slashes = result.slashes || relative.slashes;\n  result.href = result.format();\n  return result;\n};\n\nUrl.prototype.parseHost = function() {\n  var host = this.host;\n  var port = portPattern.exec(host);\n  if (port) {\n    port = port[0];\n    if (port !== ':') {\n      this.port = port.substr(1);\n    }\n    host = host.substr(0, host.length - port.length);\n  }\n  if (host) this.hostname = host;\n};\n",
    "var qs = require('qs')\nvar nodeUrl = require('url');\n\nmodule.exports = {\n  render: render\n, isTransitional: isTransitional\n, mapRoute: mapRoute\n}\n\nfunction isTransitional(pattern) {\n  return pattern.hasOwnProperty('from') && pattern.hasOwnProperty('to')\n}\n\nfunction mapRoute(from, params) {\n  var i = params.url.indexOf('?')\n  var queryString = (~i) ? params.url.slice(i) : ''\n  // If the route looks like /:a/:b?/:c/:d?\n  // and :b and :d are missing, return /a/c\n  // Thus, skip the / if the value is missing\n  var i = 0\n  var path = from.replace(/\\/(?:(?:\\:([^?\\/:*(]+)(?:\\([^)]+\\))?)|\\*)(\\?)?/g, onMatch)\n  function onMatch(match, key, optional) {\n    var value = key ? params[key] : params[i++]\n    return (optional && value == null) ? '' : '/' + encodeURIComponent(value)\n  }\n  return path + queryString\n}\n\nfunction render(history, options, e) {\n  var req = new RenderReq(history.app.page, history.routes, options, e)\n  req.routeTransitional(0, function() {\n    req.page = history.page()\n    req.routeQueue(0, function() {\n      // Cancel rendering by this app if no routes match\n      req.cancel()\n    })\n  })\n}\n\nfunction RenderReq(page, routes, options, e) {\n  this.page = page\n  this.options = options\n  this.e = e\n  this.setUrl(options.url.replace(/#.*/, ''))\n  var queryString = nodeUrl.parse(this.url).query;\n  this.query = queryString ? qs.parse(queryString) : {}\n  this.method = options.method\n  this.body = options.body || {}\n  this.setPrevious(options.previous)\n  this.transitional = routes.transitional[this.method]\n  this.queue = routes.queue[this.method]\n  this.app = routes.app\n}\n\nRenderReq.prototype.cancel = function() {\n  var options = this.options\n  // Don't do anything if this is the result of an event, since the\n  // appropriate action will happen by default\n  if (this.e || options.noNavigate) return\n  // Otherwise, manually perform appropriate action\n  if (options.form) {\n    options.form.setAttribute('data-router-ignore', '')\n    options.form.submit()\n  } else {\n    window.location.assign(options.url)\n  }\n}\n\nRenderReq.prototype.setUrl = function(url) {\n  this.url = url\n  this.path = url.replace(/\\?.*/, '')\n}\nRenderReq.prototype.setPrevious = function(previous) {\n  this.previous = previous\n  this.previousPath = previous && previous.replace(/\\?.*/, '')\n}\n\nRenderReq.prototype.routeTransitional = function(i, next) {\n  i || (i = 0)\n  var item\n  while (item = this.transitional[i++]) {\n    if (!item.to.match(this.path) || !item.from.match(this.previousPath)) continue\n    var req = this\n    var params = this.routeParams(item.to)\n    // Even though we don't need to do anything after a done, pass a\n    // no op function, so that routes can expect it to be defined\n    function done() {}\n    this.onMatch(item.to, params, function(err) {\n      if (err) return req.cancel()\n      req.routeTransitional(i, next)\n    }, done)\n    return\n  }\n  next()\n}\n\nRenderReq.prototype.routeQueue = function(i, next) {\n  i || (i = 0)\n  var route\n  while (route = this.queue[i++]) {\n    if (!route.match(this.path)) continue\n    var req = this\n    var params = this.routeParams(route)\n    this.onMatch(route, params, function(err) {\n      if (err) return req.cancel()\n      req.routeQueue(i, next)\n    })\n    return\n  }\n  next()\n}\n\nRenderReq.prototype.onMatch = function(route, params, next, done) {\n  if (!this.page) return next()\n  // Stop the default browser action, such as clicking a link or submitting a form\n  if (this.e) {\n    this.e.preventDefault()\n    this.e = null\n  }\n  this.page.params = params\n  if (route.isTransitional) {\n    this.app.onRoute(route.callbacks, this.page, next, done)\n  } else {\n    this.app.onRoute(route.callbacks, this.page, next)\n  }\n}\n\nRenderReq.prototype.routeParams = function(route) {\n  var routeParams = route.params\n  var params = routeParams.slice()\n\n  for (var key in routeParams) {\n    params[key] = routeParams[key]\n  }\n  params.previous = this.previous\n  params.url = this.url\n  params.body = this.body\n  params.query = this.query\n  params.method = this.method\n  return params\n}\n",
    "var qs = require('qs')\nvar parseUrl = require('url').parse\nvar resolveUrl = require('url').resolve\nvar router = require('./router')\nvar currentPath = window.location.pathname + window.location.search\n\n// Replace the initial state with the current URL immediately,\n// so that it will be rendered if the state is later popped\nif (window.history.replaceState) {\n  window.history.replaceState({\n    $render: true,\n    $method: 'get'\n  }, null, window.location.href)\n}\n\nmodule.exports = History\n\nfunction History(app, routes) {\n  this.app = app\n  this.routes = routes\n\n  if (window.history.pushState) {\n    addListeners(this)\n    return\n  }\n  this.push = function(url) {\n    window.location.assign(url)\n  }\n  this.replace = function(url) {\n    window.location.replace(url)\n  }\n}\n\nHistory.prototype.push = function(url, render, state, e) {\n  this._update('pushState', url, render, state, e)\n}\n\nHistory.prototype.replace = function(url, render, state, e) {\n  this._update('replaceState', url, render, state, e)\n}\n\n// Rerender the current url locally\nHistory.prototype.refresh = function() {\n  var path = routePath(window.location.href)\n  // Note that we don't pass previous to avoid triggering transitions\n  router.render(this, {url: path, method: 'get'})\n}\n\nHistory.prototype.back = function() {\n  window.history.back()\n}\n\nHistory.prototype.forward = function() {\n  window.history.forward()\n}\n\nHistory.prototype.go = function(i) {\n  window.history.go(i)\n}\n\nHistory.prototype._update = function(historyMethod, relativeUrl, render, state, e) {\n  var url = resolveUrl(window.location.href, relativeUrl)\n  var path = routePath(url)\n\n  // TODO: history.push should set the window.location with external urls\n  if (!path) return\n  if (render == null) render = true\n  if (state == null) state = {}\n\n  // Update the URL\n  var options = renderOptions(e, path)\n  state.$render = true\n  state.$method = options.method\n  window.history[historyMethod](state, null, options.url)\n  currentPath = window.location.pathname + window.location.search\n  if (render) router.render(this, options, e)\n}\n\nHistory.prototype.page = function() {\n  var page = this.app.createPage()\n  var history = this\n\n  function redirect(url) {\n    if (url === 'back') return history.back()\n    // TODO: Add support for `basepath` option like Express\n    if (url === 'home') url = '\\\\'\n    history.replace(url, true)\n  }\n\n  page.redirect = redirect\n  return page\n}\n\n// Get the pathname if it is on the same protocol and domain\nfunction routePath(url) {\n  var match = parseUrl(url)\n  return match &&\n    match.protocol === window.location.protocol &&\n    match.host === window.location.host &&\n    match.pathname + (match.search || '')\n}\n\nfunction renderOptions(e, path) {\n  // If this is a form submission, extract the form data and\n  // append it to the url for a get or params.body for a post\n  if (e && e.type === 'submit') {\n    var form = e.target\n    var elements = form.elements\n    var query = []\n    for (var i = 0, len = elements.length, el; i < len; i++) {\n      el = elements[i]\n      var name = el.name\n      if (!name) continue\n      var value = el.value\n      query.push(encodeURIComponent(name) + '=' + encodeURIComponent(value))\n      if (name === '_method') {\n        var override = value.toLowerCase()\n        if (override === 'delete') override = 'del'\n      }\n    }\n    query = query.join('&')\n    if (form.method.toLowerCase() === 'post') {\n      var method = override || 'post'\n      var body = qs.parse(query)\n    } else {\n      method = 'get'\n      path += '?' + query\n    }\n  } else {\n    method = 'get'\n  }\n  return {\n    method: method\n  , url: path\n  , previous: window.location.pathname + window.location.search\n  , body: body\n  , form: form\n  , link: e && e._tracksLink\n  }\n}\n\nfunction addListeners(history) {\n\n  // Detect clicks on links\n  function onClick(e) {\n    var el = e.target\n\n    // Ignore command click, control click, and non-left click\n    if (e.metaKey || e.which !== 1) return\n\n    // Ignore if already prevented\n    if (e.defaultPrevented) return\n\n    // Also look up for parent links (<a><img></a>)\n    while (el) {\n      var url = el.href\n      if (url) {\n\n        // Ignore if created by Tracks\n        if (el.hasAttribute && el.hasAttribute('data-router-ignore')) return\n\n        // Ignore links meant to open in a different window or frame\n        if (el.target && el.target !== '_self') return\n\n        // Ignore hash links to the same page\n        var hashIndex = url.indexOf('#')\n        if (~hashIndex && url.slice(0, hashIndex) === window.location.href.replace(/#.*/, '')) {\n          return\n        }\n\n        e._tracksLink = el\n        history.push(url, true, null, e)\n        return\n      }\n\n      el = el.parentNode\n    }\n  }\n\n  function onSubmit(e) {\n    var target = e.target\n\n    // Ignore if already prevented\n    if (e.defaultPrevented) return\n\n    // Only handle if emitted on a form element that isn't multipart\n    if (target.tagName.toLowerCase() !== 'form') return\n    if (target.enctype === 'multipart/form-data') return\n\n    // Ignore if created by Tracks\n    if (target.hasAttribute && target.hasAttribute('data-router-ignore')) return\n\n    // Use the url from the form action, defaulting to the current url\n    var url = target.action || window.location.href\n    history.push(url, true, null, e)\n  }\n\n  function onPopState(e) {\n    // HACK: Chrome sometimes does a pop state before the app is set up properly\n    if (!history.app.page) return\n\n    var previous = currentPath\n    var state = e.state\n    currentPath = window.location.pathname + window.location.search\n\n    var options = {\n      previous: previous\n    , url: currentPath\n    }\n\n    if (state) {\n      if (!state.$render) return\n      options.method = state.$method\n      // Note that the post body is only sent on the initial reqest\n      // and it is empty if the state is later popped\n      return router.render(history, options)\n    }\n\n    // The state object will be null for states created by jump links.\n    // window.location.hash cannot be used, because it returns nothing\n    // if the url ends in just a hash character\n    var url = window.location.href\n      , hashIndex = url.indexOf('#')\n      , el, id\n    if (~hashIndex && currentPath !== previous) {\n      options.method = 'get'\n      router.render(history, options)\n      id = url.slice(hashIndex + 1)\n      if (el = document.getElementById(id) || document.getElementsByName(id)[0]) {\n        el.scrollIntoView()\n      }\n    }\n  }\n\n  document.addEventListener('click', onClick, true)\n  document.addEventListener('submit', onSubmit, false)\n  window.addEventListener('popstate', onPopState, true)\n}\n",
    "var Route = require('../vendor/express/router/route')\nvar History = require('./History')\nvar router = module.exports = require('./router')\n\nrouter.setup = setup\n\nfunction setup(app) {\n  var routes = {\n    queue: {}\n  , transitional: {}\n  , app: app\n  }\n  app.history = new History(app, routes)\n\n  ;['get', 'post', 'put', 'del', 'enter', 'exit'].forEach(function(method) {\n    var queue = routes.queue[method] = []\n    var transitional = routes.transitional[method] = []\n\n    app[method] = function(pattern, callback) {\n      if (Array.isArray(pattern)) {\n        pattern.forEach(function(item) {\n          app[method](item, callback)\n        })\n        return app\n      }\n\n      if (router.isTransitional(pattern)) {\n        var from = pattern.from\n        var to = pattern.to\n        var forward = pattern.forward || (callback && callback.forward) || callback\n        var back = pattern.back || (callback && callback.back)\n\n        var fromRoute = new Route(method, from, back)\n        var toRoute = new Route(method, to, forward)\n        fromRoute.isTransitional = true\n        toRoute.isTransitional = true\n        transitional.push({\n          from: fromRoute\n        , to: toRoute\n        })\n        if (back) transitional.push({\n          from: toRoute\n        , to: fromRoute\n        })\n\n        return app\n      }\n\n      queue.push(new Route(method, pattern, callback))\n      return app\n    }\n  })\n}\n",
    "exports.ContextMeta = ContextMeta;\nexports.Context = Context;\n\nfunction noop() {}\n\n// TODO:\n// Implement removeItemContext\n\nfunction ContextMeta() {\n  this.addBinding = noop;\n  this.removeBinding = noop;\n  this.removeNode = noop;\n  this.addItemContext = noop;\n  this.removeItemContext = noop;\n  this.views = null;\n  this.idNamespace = '';\n  this.idCount = 0;\n  this.pending = [];\n  this.pauseCount = 0;\n}\n\nfunction Context(meta, controller, parent, unbound, expression) {\n  // Required properties //\n\n  // Properties which are globally inherited for the entire page\n  this.meta = meta;\n  // The page or component. Must have a `model` property with a `data` property\n  this.controller = controller;\n\n  // Optional properties //\n\n  // Containing context\n  this.parent = parent;\n  // Boolean set to true when bindings should be ignored\n  this.unbound = unbound;\n  // The expression for a block\n  this.expression = expression;\n  // Alias name for the given expression\n  this.alias = expression && expression.meta && expression.meta.as;\n  // Alias name for the index or iterated key\n  this.keyAlias = expression && expression.meta && expression.meta.keyAs;\n\n  // For Context::eachChild\n  // The context of the each at render time\n  this.item = null;\n\n  // For Context::viewChild\n  // Reference to the current view\n  this.view = null;\n  // Attribute values passed to the view instance\n  this.attributes = null;\n  // MarkupHooks to be called after insert into DOM of component\n  this.hooks = null;\n  // MarkupHooks to be called immediately before init of component\n  this.initHooks = null;\n\n  // For Context::closureChild\n  // Reference to another context established at render time by ContextClosure\n  this.closure = null;\n\n  // Used in EventModel\n  this._id = null;\n}\n\nContext.prototype.id = function() {\n  var count = ++this.meta.idCount;\n  return this.meta.idNamespace + '_' + count.toString(36);\n};\n\nContext.prototype.addBinding = function(binding) {\n  // Don't add bindings that wrap list items. Only their outer range is needed\n  if (binding.itemFor) return;\n  var expression = binding.template.expression;\n  // Don't rerender in unbound sections\n  if (expression ? expression.isUnbound(this) : this.unbound) return;\n  // Don't rerender to changes in a with expression\n  if (expression && expression.meta && expression.meta.blockType === 'with') return;\n  this.meta.addBinding(binding);\n};\nContext.prototype.removeBinding = function(binding) {\n  this.meta.removeBinding(binding);\n};\nContext.prototype.removeNode = function(node) {\n  this.meta.removeNode(node);\n};\n\nContext.prototype.child = function(expression) {\n  // Set or inherit the binding mode\n  var blockType = expression.meta && expression.meta.blockType;\n  var unbound = (blockType === 'unbound') ? true :\n    (blockType === 'bound') ? false :\n    this.unbound;\n  return new Context(this.meta, this.controller, this, unbound, expression);\n};\n\nContext.prototype.componentChild = function(component) {\n  return new Context(this.meta, component, this, this.unbound);\n};\n\n// Make a context for an item in an each block\nContext.prototype.eachChild = function(expression, item) {\n  var context = new Context(this.meta, this.controller, this, this.unbound, expression);\n  context.item = item;\n  this.meta.addItemContext(context);\n  return context;\n};\n\nContext.prototype.viewChild = function(view, attributes, hooks, initHooks) {\n  var context = new Context(this.meta, this.controller, this, this.unbound);\n  context.view = view;\n  context.attributes = attributes;\n  context.hooks = hooks;\n  context.initHooks = initHooks;\n  return context;\n};\n\nContext.prototype.closureChild = function(closure) {\n  var context = new Context(this.meta, this.controller, this, this.unbound);\n  context.closure = closure;\n  return context;\n};\n\nContext.prototype.forRelative = function(expression) {\n  var context = this;\n  while (context && context.expression === expression || context.view) {\n    context = context.parent;\n  }\n  return context;\n};\n\n// Returns the closest context which defined the named alias\nContext.prototype.forAlias = function(alias) {\n  var context = this;\n  while (context) {\n    if (context.alias === alias || context.keyAlias === alias) return context;\n    context = context.parent;\n  }\n};\n\n// Returns the closest containing context for a view attribute name or nothing\nContext.prototype.forAttribute = function(attribute) {\n  var context = this;\n  while (context) {\n    // Find the closest context associated with a view\n    if (context.view) {\n      var attributes = context.attributes;\n      if (!attributes) return;\n      if (attributes.hasOwnProperty(attribute)) return context;\n      // If the attribute isn't found, but the attributes inherit, continue\n      // looking in the next closest view context\n      if (!attributes.inherit && !attributes.extend) return;\n    }\n    context = context.parent;\n  }\n};\n\nContext.prototype.forViewParent = function() {\n  var context = this;\n  while (context) {\n    // When a context with a `closure` property is encountered, skip to its\n    // parent context rather than returning the nearest view's. This reference\n    // is created by wrapping a template in a ContextClosure template\n    if (context.closure) return context.closure.parent;\n    // Find the closest view and return the containing context\n    if (context.view) return context.parent;\n    context = context.parent;\n  }\n};\n\nContext.prototype.getView = function() {\n  var context = this;\n  while (context) {\n    // Find the closest view\n    if (context.view) return context.view;\n    context = context.parent;\n  }\n};\n\n// Returns the `this` value for a context\nContext.prototype.get = function() {\n  var value = (this.expression) ?\n    this.expression.get(this) :\n    this.controller.model.data;\n  if (this.item != null) {\n    return value && value[this.item];\n  }\n  return value;\n};\n\nContext.prototype.pause = function() {\n  this.meta.pauseCount++;\n};\n\nContext.prototype.unpause = function() {\n  if (--this.meta.pauseCount) return;\n  this.flush();\n};\n\nContext.prototype.flush = function() {\n  var pending = this.meta.pending;\n  var len = pending.length;\n  if (!len) return;\n  this.meta.pending = [];\n  for (var i = 0; i < len; i++) {\n    pending[i]();\n  }\n};\n\nContext.prototype.queue = function(cb) {\n  this.meta.pending.push(cb);\n};\n",
    "// `-` and `+` can be either unary or binary, so all unary operators are\n// postfixed with `U` to differentiate\n\nexports.get = {\n  // Unary operators\n  '!U': function(value) {\n    return !value;\n  }\n, '-U': function(value) {\n    return -value;\n  }\n, '+U': function(value) {\n    return +value;\n  }\n, '~U': function(value) {\n    return ~value;\n  }\n, 'typeofU': function(value) {\n    return typeof value;\n  }\n  // Binary operators\n, '||': function(left, right) {\n    return left || right;\n  }\n, '&&': function(left, right) {\n    return left && right;\n  }\n, '|': function(left, right) {\n    return left | right;\n  }\n, '^': function(left, right) {\n    return left ^ right;\n  }\n, '&': function(left, right) {\n    return left & right;\n  }\n, '==': function(left, right) {\n    return left == right; // jshint ignore:line\n  }\n, '!=': function(left, right) {\n    return left != right; // jshint ignore:line\n  }\n, '===': function(left, right) {\n    return left === right;\n  }\n, '!==': function(left, right) {\n    return left !== right;\n  }\n, '<': function(left, right) {\n    return left < right;\n  }\n, '>': function(left, right) {\n    return left > right;\n  }\n, '<=': function(left, right) {\n    return left <= right;\n  }\n, '>=': function(left, right) {\n    return left >= right;\n  }\n, 'instanceof': function(left, right) {\n    return left instanceof right;\n  }\n, 'in': function(left, right) {\n    return left in right;\n  }\n, '<<': function(left, right) {\n    return left << right;\n  }\n, '>>': function(left, right) {\n    return left >> right;\n  }\n, '>>>': function(left, right) {\n    return left >>> right;\n  }\n, '+': function(left, right) {\n    return left + right;\n  }\n, '-': function(left, right) {\n    return left - right;\n  }\n, '*': function(left, right) {\n    return left * right;\n  }\n, '/': function(left, right) {\n    return left / right;\n  }\n, '%': function(left, right) {\n    return left % right;\n  }\n  // Conditional operator\n, '?': function(test, consequent, alternate) {\n    return (test) ? consequent : alternate;\n  }\n, // Sequence\n  ',': function() {\n    return arguments[arguments.length - 1];\n  }\n};\n\nexports.set = {\n  // Unary operators\n  '!U': function(value) {\n    return [!value];\n  }\n, '-U': function(value) {\n    return [-value];\n  }\n  // Binary operators\n, '==': function(value, left, right) {\n    if (value) return [right];\n  }\n, '===': function(value, left, right) {\n    if (value) return [right];\n  }\n, 'in': function(value, left, right) {\n    right[left] = true;\n    return {1: right};\n  }\n, '+': function(value, left, right) {\n    return [value - right];\n  }\n, '-': function(value, left, right) {\n    return [value + right];\n  }\n, '*': function(value, left, right) {\n    return [value / right];\n  }\n, '/': function(value, left, right) {\n    return [value * right];\n  }\n};\n",
    "if (typeof require === 'function') {\n  var serializeObject = require('serialize-object');\n}\n\n// UPDATE_PROPERTIES map HTML attribute names to an Element DOM property that\n// should be used for setting on bindings updates instead of setAttribute.\n//\n// https://github.com/jquery/jquery/blob/1.x-master/src/attributes/prop.js\n// https://github.com/jquery/jquery/blob/master/src/attributes/prop.js\n// http://webbugtrack.blogspot.com/2007/08/bug-242-setattribute-doesnt-always-work.html\nvar BOOLEAN_PROPERTIES = {\n  checked: 'checked'\n, disabled: 'disabled'\n, readonly: 'readOnly'\n, selected: 'selected'\n};\nvar INTEGER_PROPERTIES = {\n  colspan: 'colSpan'\n, maxlength: 'maxLength'\n, rowspan: 'rowSpan'\n, tabindex: 'tabIndex'\n};\nvar STRING_PROPERTIES = {\n  cellpadding: 'cellPadding'\n, cellspacing: 'cellSpacing'\n, 'class': 'className'\n, contenteditable: 'contentEditable'\n, enctype: 'encoding'\n, 'for': 'htmlFor'\n, frameborder: 'frameBorder'\n, id: 'id'\n, title: 'title'\n, type: 'type'\n, usemap: 'useMap'\n, value: 'value'\n};\nvar UPDATE_PROPERTIES = {};\nmergeInto(BOOLEAN_PROPERTIES, UPDATE_PROPERTIES);\nmergeInto(INTEGER_PROPERTIES, UPDATE_PROPERTIES);\nmergeInto(STRING_PROPERTIES, UPDATE_PROPERTIES);\n\n// CREATE_PROPERTIES map HTML attribute names to an Element DOM property that\n// should be used for setting on Element rendering instead of setAttribute.\n// input.defaultChecked and input.defaultValue affect the attribute, so we want\n// to use these for initial dynamic rendering. For binding updates,\n// input.checked and input.value are modified.\nvar CREATE_PROPERTIES = {};\nmergeInto(UPDATE_PROPERTIES, CREATE_PROPERTIES);\nCREATE_PROPERTIES.checked = 'defaultChecked';\nCREATE_PROPERTIES.value = 'defaultValue';\n\n// http://www.w3.org/html/wg/drafts/html/master/syntax.html#void-elements\nvar VOID_ELEMENTS = {\n  area: true\n, base: true\n, br: true\n, col: true\n, embed: true\n, hr: true\n, img: true\n, input: true\n, keygen: true\n, link: true\n, menuitem: true\n, meta: true\n, param: true\n, source: true\n, track: true\n, wbr: true\n};\n\nvar NAMESPACE_URIS = {\n  svg: 'http://www.w3.org/2000/svg'\n, xlink: 'http://www.w3.org/1999/xlink'\n, xmlns: 'http://www.w3.org/2000/xmlns/'\n};\n\nexports.CREATE_PROPERTIES = CREATE_PROPERTIES;\nexports.BOOLEAN_PROPERTIES = BOOLEAN_PROPERTIES;\nexports.INTEGER_PROPERTIES = INTEGER_PROPERTIES;\nexports.STRING_PROPERTIES = STRING_PROPERTIES;\nexports.UPDATE_PROPERTIES = UPDATE_PROPERTIES;\nexports.VOID_ELEMENTS = VOID_ELEMENTS;\nexports.NAMESPACE_URIS = NAMESPACE_URIS;\n\n// Template Classes\nexports.Template = Template;\nexports.Doctype = Doctype;\nexports.Text = Text;\nexports.DynamicText = DynamicText;\nexports.Comment = Comment;\nexports.DynamicComment = DynamicComment;\nexports.Html = Html;\nexports.DynamicHtml = DynamicHtml;\nexports.Element = Element;\nexports.DynamicElement = DynamicElement;\nexports.Block = Block;\nexports.ConditionalBlock = ConditionalBlock;\nexports.EachBlock = EachBlock;\n\nexports.Attribute = Attribute;\nexports.DynamicAttribute = DynamicAttribute;\n\n// Binding Classes\nexports.Binding = Binding;\nexports.NodeBinding = NodeBinding;\nexports.AttributeBinding = AttributeBinding;\nexports.RangeBinding = RangeBinding;\n\nfunction Template(content, source) {\n  this.content = content;\n  this.source = source;\n}\nTemplate.prototype.toString = function() {\n  return this.source;\n};\nTemplate.prototype.get = function(context, unescaped) {\n  return contentHtml(this.content, context, unescaped);\n};\nTemplate.prototype.getFragment = function(context, binding) {\n  var fragment = document.createDocumentFragment();\n  this.appendTo(fragment, context, binding);\n  return fragment;\n};\nTemplate.prototype.appendTo = function(parent, context) {\n  context.pause();\n  appendContent(parent, this.content, context);\n  context.unpause();\n};\nTemplate.prototype.attachTo = function(parent, node, context) {\n  context.pause();\n  var node = attachContent(parent, node, this.content, context);\n  context.unpause();\n  return node;\n};\nTemplate.prototype.update = function() {};\nTemplate.prototype.stringify = function(value) {\n  return (value == null) ? '' : value + '';\n};\nTemplate.prototype.equals = function(other) {\n  return this === other;\n};\nTemplate.prototype.module = 'templates';\nTemplate.prototype.type = 'Template';\nTemplate.prototype.serialize = function() {\n  return serializeObject.instance(this, this.content, this.source);\n};\n\n\nfunction Doctype(name, publicId, systemId) {\n  this.name = name;\n  this.publicId = publicId;\n  this.systemId = systemId;\n}\nDoctype.prototype = Object.create(Template.prototype);\nDoctype.prototype.constructor = Doctype;\nDoctype.prototype.get = function() {\n  var publicText = (this.publicId) ?\n    ' PUBLIC \"' + this.publicId  + '\"' :\n    '';\n  var systemText = (this.systemId) ?\n    (this.publicId) ?\n      ' \"' + this.systemId + '\"' :\n      ' SYSTEM \"' + this.systemId + '\"' :\n    '';\n  return '<!DOCTYPE ' + this.name + publicText + systemText + '>';\n};\nDoctype.prototype.appendTo = function() {\n  // Doctype could be created via:\n  //   document.implementation.createDocumentType(this.name, this.publicId, this.systemId)\n  // However, it does not appear possible or useful to append it to the\n  // document fragment. Therefore, just don't render it in the browser\n};\nDoctype.prototype.attachTo = function(parent, node) {\n  if (!node || node.nodeType !== 10) {\n    throw attachError(parent, node);\n  }\n  return node.nextSibling;\n};\nDoctype.prototype.type = 'Doctype';\nDoctype.prototype.serialize = function() {\n  return serializeObject.instance(this, this.name, this.publicId, this.systemId);\n};\n\nfunction Text(data) {\n  this.data = data;\n  this.escaped = escapeHtml(data);\n}\nText.prototype = Object.create(Template.prototype);\nText.prototype.constructor = Text;\nText.prototype.get = function(context, unescaped) {\n  return (unescaped) ? this.data : this.escaped;\n};\nText.prototype.appendTo = function(parent) {\n  var node = document.createTextNode(this.data);\n  parent.appendChild(node);\n};\nText.prototype.attachTo = function(parent, node) {\n  return attachText(parent, node, this.data, this);\n};\nText.prototype.type = 'Text';\nText.prototype.serialize = function() {\n  return serializeObject.instance(this, this.data);\n};\n\n// DynamicText might be more accurately named DynamicContent. When its\n// expression returns a template, it acts similar to a Block, and it renders\n// the template surrounded by comment markers for range replacement. When its\n// expression returns any other type, it renders a DOM Text node with no\n// markers. Text nodes are bound by updating their data property dynamically.\n// The update method must take care to switch between these types of bindings\n// in case the expression return type changes dynamically.\nfunction DynamicText(expression) {\n  this.expression = expression;\n  this.unbound = false;\n}\nDynamicText.prototype = Object.create(Template.prototype);\nDynamicText.prototype.constructor = DynamicText;\nDynamicText.prototype.get = function(context, unescaped) {\n  var value = this.expression.get(context);\n  if (value instanceof Template) {\n    do {\n      value = value.get(context, unescaped);\n    } while (value instanceof Template);\n    return value;\n  }\n  var data = this.stringify(value);\n  return (unescaped) ? data : escapeHtml(data);\n};\nDynamicText.prototype.appendTo = function(parent, context, binding) {\n  var value = this.expression.get(context);\n  if (value instanceof Template) {\n    var start = document.createComment(this.expression);\n    var end = document.createComment('/' + this.expression);\n    var condition = this.getCondition(context);\n    parent.appendChild(start);\n    value.appendTo(parent, context);\n    parent.appendChild(end);\n    updateRange(context, binding, this, start, end, null, condition);\n    return;\n  }\n  var data = this.stringify(value);\n  var node = document.createTextNode(data);\n  parent.appendChild(node);\n  addNodeBinding(this, context, node);\n};\nDynamicText.prototype.attachTo = function(parent, node, context) {\n  var value = this.expression.get(context);\n  if (value instanceof Template) {\n    var start = document.createComment(this.expression);\n    var end = document.createComment('/' + this.expression);\n    var condition = this.getCondition(context);\n    parent.insertBefore(start, node || null);\n    node = value.attachTo(parent, node, context);\n    parent.insertBefore(end, node || null);\n    updateRange(context, null, this, start, end, null, condition);\n    return node;\n  }\n  var data = this.stringify(value);\n  return attachText(parent, node, data, this, context);\n};\nDynamicText.prototype.update = function(context, binding) {\n  if (binding instanceof RangeBinding) {\n    this._blockUpdate(context, binding);\n    return;\n  }\n  var value = this.expression.get(context);\n  if (value instanceof Template) {\n    var start = binding.node;\n    if (!start.parentNode) return;\n    var end = start;\n    var fragment = this.getFragment(context);\n    replaceRange(context, start, end, fragment, binding);\n    return;\n  }\n  binding.node.data = this.stringify(value);\n};\nDynamicText.prototype.getCondition = function(context) {\n  return this.expression.get(context);\n};\nDynamicText.prototype.type = 'DynamicText';\nDynamicText.prototype.serialize = function() {\n  return serializeObject.instance(this, this.expression);\n};\n\nfunction attachText(parent, node, data, template, context) {\n  if (!node) {\n    var newNode = document.createTextNode(data);\n    parent.appendChild(newNode);\n    addNodeBinding(template, context, newNode);\n    return;\n  }\n  if (node.nodeType === 3) {\n    // Proceed if nodes already match\n    if (node.data === data) {\n      addNodeBinding(template, context, node);\n      return node.nextSibling;\n    }\n    data = normalizeLineBreaks(data);\n    // Split adjacent text nodes that would have been merged together in HTML\n    var nextNode = splitData(node, data.length);\n    if (node.data !== data) {\n      throw attachError(parent, node);\n    }\n    addNodeBinding(template, context, node);\n    return nextNode;\n  }\n  // An empty text node might not be created at the end of some text\n  if (data === '') {\n    var newNode = document.createTextNode('');\n    parent.insertBefore(newNode, node || null);\n    addNodeBinding(template, context, newNode);\n    return node;\n  }\n  throw attachError(parent, node);\n}\n\nfunction Comment(data, hooks) {\n  this.data = data;\n  this.hooks = hooks;\n}\nComment.prototype = Object.create(Template.prototype);\nComment.prototype.constructor = Comment;\nComment.prototype.get = function() {\n  return '<!--' + this.data + '-->';\n};\nComment.prototype.appendTo = function(parent, context) {\n  var node = document.createComment(this.data);\n  parent.appendChild(node);\n  emitHooks(this.hooks, context, node);\n};\nComment.prototype.attachTo = function(parent, node, context) {\n  return attachComment(parent, node, this.data, this, context);\n};\nComment.prototype.type = 'Comment';\nComment.prototype.serialize = function() {\n  return serializeObject.instance(this, this.data, this.hooks);\n}\n\nfunction DynamicComment(expression, hooks) {\n  this.expression = expression;\n  this.hooks = hooks;\n}\nDynamicComment.prototype = Object.create(Template.prototype);\nDynamicComment.prototype.constructor = DynamicComment;\nDynamicComment.prototype.get = function(context) {\n  var value = getUnescapedValue(this.expression, context);\n  var data = this.stringify(value);\n  return '<!--' + data + '-->';\n};\nDynamicComment.prototype.appendTo = function(parent, context) {\n  var value = getUnescapedValue(this.expression, context);\n  var data = this.stringify(value);\n  var node = document.createComment(data);\n  parent.appendChild(node);\n  addNodeBinding(this, context, node);\n};\nDynamicComment.prototype.attachTo = function(parent, node, context) {\n  var value = getUnescapedValue(this.expression, context);\n  var data = this.stringify(value);\n  return attachComment(parent, node, data, this, context);\n};\nDynamicComment.prototype.update = function(context, binding) {\n  var value = getUnescapedValue(this.expression, context);\n  binding.node.data = this.stringify(value);\n};\nDynamicComment.prototype.type = 'DynamicComment';\nDynamicComment.prototype.serialize = function() {\n  return serializeObject.instance(this, this.expression, this.hooks);\n}\n\nfunction attachComment(parent, node, data, template, context) {\n  // Sometimes IE fails to create Comment nodes from HTML or innerHTML.\n  // This is an issue inside of <select> elements, for example.\n  if (!node || node.nodeType !== 8) {\n    var newNode = document.createComment(data);\n    parent.insertBefore(newNode, node || null);\n    addNodeBinding(template, context, newNode);\n    return node;\n  }\n  // Proceed if nodes already match\n  if (node.data === data) {\n    addNodeBinding(template, context, node);\n    return node.nextSibling;\n  }\n  throw attachError(parent, node);\n}\n\nfunction addNodeBinding(template, context, node) {\n  if (template.expression && !template.unbound) {\n    context.addBinding(new NodeBinding(template, context, node));\n  }\n  emitHooks(template.hooks, context, node);\n}\n\nfunction Html(data) {\n  this.data = data;\n}\nHtml.prototype = Object.create(Template.prototype);\nHtml.prototype.constructor = Html;\nHtml.prototype.get = function() {\n  return this.data;\n};\nHtml.prototype.appendTo = function(parent) {\n  var fragment = createHtmlFragment(parent, this.data);\n  parent.appendChild(fragment);\n};\nHtml.prototype.attachTo = function(parent, node) {\n  return attachHtml(parent, node, this.data);\n};\nHtml.prototype.type = \"Html\";\nHtml.prototype.serialize = function() {\n  return serializeObject.instance(this, this.data);\n};\n\nfunction DynamicHtml(expression) {\n  this.expression = expression;\n  this.ending = '/' + expression;\n}\nDynamicHtml.prototype = Object.create(Template.prototype);\nDynamicHtml.prototype.constructor = DynamicHtml;\nDynamicHtml.prototype.get = function(context) {\n  var value = getUnescapedValue(this.expression, context);\n  return this.stringify(value);\n};\nDynamicHtml.prototype.appendTo = function(parent, context, binding) {\n  var start = document.createComment(this.expression);\n  var end = document.createComment(this.ending);\n  var value = getUnescapedValue(this.expression, context);\n  var html = this.stringify(value);\n  var fragment = createHtmlFragment(parent, html);\n  parent.appendChild(start);\n  parent.appendChild(fragment);\n  parent.appendChild(end);\n  updateRange(context, binding, this, start, end);\n};\nDynamicHtml.prototype.attachTo = function(parent, node, context) {\n  var start = document.createComment(this.expression);\n  var end = document.createComment(this.ending);\n  var value = getUnescapedValue(this.expression, context);\n  var html = this.stringify(value);\n  parent.insertBefore(start, node || null);\n  node = attachHtml(parent, node, html);\n  parent.insertBefore(end, node || null);\n  updateRange(context, null, this, start, end);\n  return node;\n};\nDynamicHtml.prototype.update = function(context, binding) {\n  var parent = binding.start.parentNode;\n  if (!parent) return;\n  // Get start and end in advance, since binding is mutated in getFragment\n  var start = binding.start;\n  var end = binding.end;\n  var value = getUnescapedValue(this.expression, context);\n  var html = this.stringify(value);\n  var fragment = createHtmlFragment(parent, html);\n  var innerOnly = true;\n  replaceRange(context, start, end, fragment, binding, innerOnly);\n};\nDynamicHtml.prototype.type = 'DynamicHtml';\nDynamicHtml.prototype.serialize = function() {\n  return serializeObject.instance(this, this.expression);\n};\n\nfunction createHtmlFragment(parent, html) {\n  if (parent && parent.nodeType === 1) {\n    var range = document.createRange();\n    range.selectNodeContents(parent);\n    return range.createContextualFragment(html);\n  }\n  var div = document.createElement('div');\n  var range = document.createRange();\n  div.innerHTML = html;\n  range.selectNodeContents(div);\n  return range.extractContents();\n}\nfunction attachHtml(parent, node, html) {\n  var fragment = createHtmlFragment(parent, html);\n  for (var i = 0, len = fragment.childNodes.length; i < len; i++) {\n    if (!node) throw attachError(parent, node);\n    node = node.nextSibling;\n  }\n  return node;\n}\n\nfunction Attribute(data, ns) {\n  this.data = data;\n  this.ns = ns;\n}\nAttribute.prototype = Object.create(Template.prototype);\nAttribute.prototype.constructor = Attribute;\nAttribute.prototype.get = Attribute.prototype.getBound = function(context) {\n  return this.data;\n};\nAttribute.prototype.type = 'Attribute';\nAttribute.prototype.serialize = function() {\n  return serializeObject.instance(this, this.data, this.ns);\n};\n\nfunction DynamicAttribute(expression, ns) {\n  // In attributes, expression may be an instance of Template or Expression\n  this.expression = expression;\n  this.ns = ns;\n  this.elementNs = null;\n}\nDynamicAttribute.prototype = Object.create(Attribute.prototype);\nDynamicAttribute.prototype.constructor = DynamicAttribute;\nDynamicAttribute.prototype.get = function(context) {\n  return getUnescapedValue(this.expression, context);\n};\nDynamicAttribute.prototype.getBound = function(context, element, name, elementNs) {\n  this.elementNs = elementNs;\n  context.addBinding(new AttributeBinding(this, context, element, name));\n  return getUnescapedValue(this.expression, context);\n};\nDynamicAttribute.prototype.update = function(context, binding) {\n  var value = getUnescapedValue(this.expression, context);\n  var element = binding.element;\n  var propertyName = !this.elementNs && UPDATE_PROPERTIES[binding.name];\n  if (propertyName) {\n    var propertyValue = (STRING_PROPERTIES[binding.name]) ?\n      this.stringify(value) : value;\n    if (element[propertyName] === propertyValue) return;\n    element[propertyName] = propertyValue;\n    return;\n  }\n  if (value === false || value == null) {\n    if (this.ns) {\n      element.removeAttributeNS(this.ns, binding.name);\n    } else {\n      element.removeAttribute(binding.name);\n    }\n    return;\n  }\n  if (value === true) value = binding.name;\n  if (this.ns) {\n    element.setAttributeNS(this.ns, binding.name, value);\n  } else {\n    element.setAttribute(binding.name, value);\n  }\n};\nDynamicAttribute.prototype.type = 'DynamicAttribute';\nDynamicAttribute.prototype.serialize = function() {\n  return serializeObject.instance(this, this.expression, this.ns);\n};\n\nfunction getUnescapedValue(expression, context) {\n  var unescaped = true;\n  var value = expression.get(context, unescaped);\n  while (value instanceof Template) {\n    value = value.get(context, unescaped);\n  }\n  return value;\n}\n\nfunction Element(tagName, attributes, content, hooks, selfClosing, notClosed, ns) {\n  this.tagName = tagName;\n  this.attributes = attributes;\n  this.content = content;\n  this.hooks = hooks;\n  this.selfClosing = selfClosing;\n  this.notClosed = notClosed;\n  this.ns = ns;\n\n  this.endTag = getEndTag(tagName, selfClosing, notClosed);\n  this.startClose = getStartClose(selfClosing);\n  var lowerTagName = tagName && tagName.toLowerCase();\n  this.unescapedContent = (lowerTagName === 'script' || lowerTagName === 'style');\n  this.bindContentToValue = (lowerTagName === 'textarea');\n}\nElement.prototype = Object.create(Template.prototype);\nElement.prototype.constructor = Element;\nElement.prototype.getTagName = function() {\n  return this.tagName;\n};\nElement.prototype.getEndTag = function() {\n  return this.endTag;\n};\nElement.prototype.get = function(context) {\n  var tagName = this.getTagName(context);\n  var endTag = this.getEndTag(tagName);\n  var tagItems = [tagName];\n  for (var key in this.attributes) {\n    var value = this.attributes[key].get(context);\n    if (value === true) {\n      tagItems.push(key);\n    } else if (value !== false && value != null) {\n      tagItems.push(key + '=\"' + escapeAttribute(value) + '\"');\n    }\n  }\n  var startTag = '<' + tagItems.join(' ') + this.startClose;\n  if (this.content) {\n    var inner = contentHtml(this.content, context, this.unescapedContent);\n    return startTag + inner + endTag;\n  }\n  return startTag + endTag;\n};\nElement.prototype.appendTo = function(parent, context) {\n  var tagName = this.getTagName(context);\n  var element = (this.ns) ?\n    document.createElementNS(this.ns, tagName) :\n    document.createElement(tagName);\n  for (var key in this.attributes) {\n    var attribute = this.attributes[key];\n    var value = attribute.getBound(context, element, key, this.ns);\n    if (value === false || value == null) continue;\n    var propertyName = !this.ns && CREATE_PROPERTIES[key];\n    if (propertyName) {\n      element[propertyName] = value;\n      continue;\n    }\n    if (value === true) value = key;\n    if (attribute.ns) {\n      element.setAttributeNS(attribute.ns, key, value);\n    } else {\n      element.setAttribute(key, value);\n    }\n  }\n  if (this.content) {\n    this._bindContent(context, element);\n    appendContent(element, this.content, context);\n  }\n  parent.appendChild(element);\n  emitHooks(this.hooks, context, element);\n};\nElement.prototype.attachTo = function(parent, node, context) {\n  var tagName = this.getTagName(context);\n  if (\n    !node ||\n    node.nodeType !== 1 ||\n    node.tagName.toLowerCase() !== tagName.toLowerCase()\n  ) {\n    throw attachError(parent, node);\n  }\n  for (var key in this.attributes) {\n    // Get each attribute to create bindings\n    this.attributes[key].getBound(context, node, key, this.ns);\n    // TODO: Ideally, this would also check that the node's current attributes\n    // are equivalent, but there are some tricky edge cases\n  }\n  if (this.content) {\n    this._bindContent(context, node);\n    attachContent(node, node.firstChild, this.content, context);\n  }\n  emitHooks(this.hooks, context, node);\n  return node.nextSibling;\n};\nElement.prototype._bindContent = function(context, element) {\n  // For textareas with dynamic text content, bind to the value property\n  var child = this.bindContentToValue &&\n    this.content.length === 1 &&\n    this.content[0];\n  if (child instanceof DynamicText) {\n    child.unbound = true;\n    var template = new DynamicAttribute(child.expression);\n    context.addBinding(new AttributeBinding(template, context, element, 'value'));\n  }\n};\nElement.prototype.type = 'Element';\nElement.prototype.serialize = function() {\n  return serializeObject.instance(\n    this\n  , this.tagName\n  , this.attributes\n  , this.content\n  , this.hooks\n  , this.selfClosing\n  , this.notClosed\n  , this.ns\n  );\n};\n\nfunction DynamicElement(tagName, attributes, content, hooks, selfClosing, notClosed, ns) {\n  this.tagName = tagName;\n  this.attributes = attributes;\n  this.content = content;\n  this.hooks = hooks;\n  this.selfClosing = selfClosing;\n  this.notClosed = notClosed;\n  this.ns = ns;\n\n  this.startClose = getStartClose(selfClosing);\n  this.unescapedContent = false;\n}\nDynamicElement.prototype = Object.create(Element.prototype);\nDynamicElement.prototype.constructor = DynamicElement;\nDynamicElement.prototype.getTagName = function(context) {\n  return getUnescapedValue(this.tagName, context);\n};\nDynamicElement.prototype.getEndTag = function(tagName) {\n  return getEndTag(tagName, this.selfClosing, this.notClosed);\n};\nDynamicElement.prototype.type = 'DynamicElement';\n\nfunction getStartClose(selfClosing) {\n  return (selfClosing) ? ' />' : '>';\n}\n\nfunction getEndTag(tagName, selfClosing, notClosed) {\n  var lowerTagName = tagName && tagName.toLowerCase();\n  var isVoid = VOID_ELEMENTS[lowerTagName];\n  return (isVoid || selfClosing || notClosed) ? '' : '</' + tagName + '>';\n}\n\nfunction getAttributeValue(element, name) {\n  var propertyName = UPDATE_PROPERTIES[name];\n  return (propertyName) ? element[propertyName] : element.getAttribute(name);\n}\n\nfunction emitHooks(hooks, context, value) {\n  if (!hooks) return;\n  context.queue(function queuedHooks() {\n    for (var i = 0, len = hooks.length; i < len; i++) {\n      hooks[i].emit(context, value);\n    }\n  });\n}\n\nfunction Block(expression, content) {\n  this.expression = expression;\n  this.ending = '/' + expression;\n  this.content = content;\n}\nBlock.prototype = Object.create(Template.prototype);\nBlock.prototype.constructor = Block;\nBlock.prototype.get = function(context, unescaped) {\n  var blockContext = context.child(this.expression);\n  return contentHtml(this.content, blockContext, unescaped);\n};\nBlock.prototype.appendTo = function(parent, context, binding) {\n  var blockContext = context.child(this.expression);\n  var start = document.createComment(this.expression);\n  var end = document.createComment(this.ending);\n  var condition = this.getCondition(context);\n  parent.appendChild(start);\n  appendContent(parent, this.content, blockContext);\n  parent.appendChild(end);\n  updateRange(context, binding, this, start, end, null, condition);\n};\nBlock.prototype.attachTo = function(parent, node, context) {\n  var blockContext = context.child(this.expression);\n  var start = document.createComment(this.expression);\n  var end = document.createComment(this.ending);\n  var condition = this.getCondition(context);\n  parent.insertBefore(start, node || null);\n  node = attachContent(parent, node, this.content, blockContext);\n  parent.insertBefore(end, node || null);\n  updateRange(context, null, this, start, end, null, condition);\n  return node;\n};\nBlock.prototype.type = 'Block';\nBlock.prototype.serialize = function() {\n  return serializeObject.instance(this, this.expression, this.content);\n};\nBlock.prototype.update = function(context, binding) {\n  if (!binding.start.parentNode) return;\n  var condition = this.getCondition(context);\n  // Cancel update if prior condition is equivalent to current value\n  if (equalConditions(condition, binding.condition)) return;\n  binding.condition = condition;\n  // Get start and end in advance, since binding is mutated in getFragment\n  var start = binding.start;\n  var end = binding.end;\n  var fragment = this.getFragment(context, binding);\n  replaceRange(context, start, end, fragment, binding);\n};\nBlock.prototype.getCondition = function(context) {\n  // We do an identity check to see if the value has changed before updating.\n  // With objects, the object would still be the same, so this identity check\n  // would fail to update enough. Thus, return NaN, which never equals anything\n  // including itself, so that we always update on objects.\n  //\n  // We could also JSON stringify or use some other hashing approach. However,\n  // that could be really expensive on gets of things that never change, and\n  // is probably not a good tradeoff. Perhaps there should be a separate block\n  // type that is only used in the case of dynamic updates\n  var value = this.expression.get(context);\n  return (typeof value === 'object') ? NaN : value;\n};\nDynamicText.prototype._blockUpdate = Block.prototype.update;\n\nfunction ConditionalBlock(expressions, contents) {\n  this.expressions = expressions;\n  this.beginning = expressions.join('; ');\n  this.ending = '/' + this.beginning;\n  this.contents = contents;\n}\nConditionalBlock.prototype = Object.create(Block.prototype);\nConditionalBlock.prototype.constructor = ConditionalBlock;\nConditionalBlock.prototype.get = function(context, unescaped) {\n  var condition = this.getCondition(context);\n  if (condition == null) return '';\n  var expression = this.expressions[condition];\n  var blockContext = context.child(expression);\n  return contentHtml(this.contents[condition], blockContext, unescaped);\n};\nConditionalBlock.prototype.appendTo = function(parent, context, binding) {\n  var start = document.createComment(this.beginning);\n  var end = document.createComment(this.ending);\n  parent.appendChild(start);\n  var condition = this.getCondition(context);\n  if (condition != null) {\n    var expression = this.expressions[condition];\n    var blockContext = context.child(expression);\n    appendContent(parent, this.contents[condition], blockContext);\n  }\n  parent.appendChild(end);\n  updateRange(context, binding, this, start, end, null, condition);\n};\nConditionalBlock.prototype.attachTo = function(parent, node, context) {\n  var start = document.createComment(this.beginning);\n  var end = document.createComment(this.ending);\n  parent.insertBefore(start, node || null);\n  var condition = this.getCondition(context);\n  if (condition != null) {\n    var expression = this.expressions[condition];\n    var blockContext = context.child(expression);\n    node = attachContent(parent, node, this.contents[condition], blockContext);\n  }\n  parent.insertBefore(end, node || null);\n  updateRange(context, null, this, start, end, null, condition);\n  return node;\n};\nConditionalBlock.prototype.type = 'ConditionalBlock';\nConditionalBlock.prototype.serialize = function() {\n  return serializeObject.instance(this, this.expressions, this.contents);\n};\nConditionalBlock.prototype.update = function(context, binding) {\n  if (!binding.start.parentNode) return;\n  var condition = this.getCondition(context);\n  // Cancel update if prior condition is equivalent to current value\n  if (equalConditions(condition, binding.condition)) return;\n  binding.condition = condition;\n  // Get start and end in advance, since binding is mutated in getFragment\n  var start = binding.start;\n  var end = binding.end;\n  var fragment = this.getFragment(context, binding);\n  replaceRange(context, start, end, fragment, binding);\n};\nConditionalBlock.prototype.getCondition = function(context) {\n  for (var i = 0, len = this.expressions.length; i < len; i++) {\n    if (this.expressions[i].truthy(context)) {\n      return i;\n    }\n  }\n};\n\nfunction EachBlock(expression, content, elseContent) {\n  this.expression = expression;\n  this.ending = '/' + expression;\n  this.content = content;\n  this.elseContent = elseContent;\n}\nEachBlock.prototype = Object.create(Block.prototype);\nEachBlock.prototype.constructor = EachBlock;\nEachBlock.prototype.get = function(context, unescaped) {\n  var items = this.expression.get(context);\n  if (items && items.length) {\n    var html = '';\n    for (var i = 0, len = items.length; i < len; i++) {\n      var itemContext = context.eachChild(this.expression, i);\n      html += contentHtml(this.content, itemContext, unescaped);\n    }\n    return html;\n  } else if (this.elseContent) {\n    return contentHtml(this.elseContent, context, unescaped);\n  }\n  return '';\n};\nEachBlock.prototype.appendTo = function(parent, context, binding) {\n  var items = this.expression.get(context);\n  var start = document.createComment(this.expression);\n  var end = document.createComment(this.ending);\n  parent.appendChild(start);\n  if (items && items.length) {\n    for (var i = 0, len = items.length; i < len; i++) {\n      var itemContext = context.eachChild(this.expression, i);\n      this.appendItemTo(parent, itemContext, start);\n    }\n  } else if (this.elseContent) {\n    appendContent(parent, this.elseContent, context);\n  }\n  parent.appendChild(end);\n  updateRange(context, binding, this, start, end);\n};\nEachBlock.prototype.appendItemTo = function(parent, context, itemFor, binding) {\n  var before = parent.lastChild;\n  var start, end;\n  appendContent(parent, this.content, context);\n  if (before === parent.lastChild) {\n    start = end = document.createComment('empty');\n    parent.appendChild(start);\n  } else {\n    start = (before && before.nextSibling) || parent.firstChild;\n    end = parent.lastChild;\n  }\n  updateRange(context, binding, this, start, end, itemFor);\n};\nEachBlock.prototype.attachTo = function(parent, node, context) {\n  var items = this.expression.get(context);\n  var start = document.createComment(this.expression);\n  var end = document.createComment(this.ending);\n  parent.insertBefore(start, node || null);\n  if (items && items.length) {\n    for (var i = 0, len = items.length; i < len; i++) {\n      var itemContext = context.eachChild(this.expression, i);\n      node = this.attachItemTo(parent, node, itemContext, start);\n    }\n  } else if (this.elseContent) {\n    node = attachContent(parent, node, this.elseContent, context);\n  }\n  parent.insertBefore(end, node || null);\n  updateRange(context, null, this, start, end);\n  return node;\n};\nEachBlock.prototype.attachItemTo = function(parent, node, context, itemFor) {\n  var start, end;\n  var oldPrevious = node && node.previousSibling;\n  var nextNode = attachContent(parent, node, this.content, context);\n  if (nextNode === node) {\n    start = end = document.createComment('empty');\n    parent.insertBefore(start, node || null);\n  } else {\n    start = (oldPrevious && oldPrevious.nextSibling) || parent.firstChild;\n    end = (nextNode && nextNode.previousSibling) || parent.lastChild;\n  }\n  updateRange(context, null, this, start, end, itemFor);\n  return nextNode;\n};\nEachBlock.prototype.update = function(context, binding) {\n  if (!binding.start.parentNode) return;\n  var start = binding.start;\n  var end = binding.end;\n  if (binding.itemFor) {\n    var fragment = document.createDocumentFragment();\n    this.appendItemTo(fragment, context, binding.itemFor, binding);\n  } else {\n    var fragment = this.getFragment(context, binding);\n  }\n  replaceRange(context, start, end, fragment, binding);\n};\nEachBlock.prototype.insert = function(context, binding, index, howMany) {\n  var parent = binding.start.parentNode;\n  if (!parent) return;\n  // In case we are inserting all of the items, update instead. This is needed\n  // when we were previously rendering elseContent so that it is replaced\n  if (index === 0 && this.expression.get(context).length === howMany) {\n    return this.update(context, binding);\n  }\n  var node = indexStartNode(binding, index);\n  var fragment = document.createDocumentFragment();\n  for (var i = index, len = index + howMany; i < len; i++) {\n    var itemContext = context.eachChild(this.expression, i);\n    this.appendItemTo(fragment, itemContext, binding.start);\n  }\n  parent.insertBefore(fragment, node || null);\n};\nEachBlock.prototype.remove = function(context, binding, index, howMany) {\n  var parent = binding.start.parentNode;\n  if (!parent) return;\n  // In case we are removing all of the items, update instead. This is needed\n  // when elseContent should be rendered\n  if (index === 0 && this.expression.get(context).length === 0) {\n    return this.update(context, binding);\n  }\n  var node = indexStartNode(binding, index);\n  var i = 0;\n  while (node) {\n    if (node === binding.end) return;\n    if (node.$bindItemStart && node.$bindItemStart.itemFor === binding.start) {\n      if (howMany === i++) return;\n    }\n    var nextNode = node.nextSibling;\n    parent.removeChild(node);\n    emitRemoved(context, node, binding);\n    node = nextNode;\n  }\n};\nEachBlock.prototype.move = function(context, binding, from, to, howMany) {\n  var parent = binding.start.parentNode;\n  if (!parent) return;\n  var node = indexStartNode(binding, from);\n  var fragment = document.createDocumentFragment();\n  var i = 0;\n  while (node) {\n    if (node === binding.end) break;\n    if (node.$bindItemStart && node.$bindItemStart.itemFor === binding.start) {\n      if (howMany === i++) break;\n    }\n    var nextNode = node.nextSibling;\n    fragment.appendChild(node);\n    node = nextNode;\n  }\n  node = indexStartNode(binding, to);\n  parent.insertBefore(fragment, node || null);\n};\nEachBlock.prototype.type = 'EachBlock';\nEachBlock.prototype.serialize = function() {\n  return serializeObject.instance(this, this.expression, this.content, this.elseContent);\n};\n\nfunction indexStartNode(binding, index) {\n  var node = binding.start;\n  var i = 0;\n  while (node = node.nextSibling) {\n    if (node === binding.end) return node;\n    if (node.$bindItemStart && node.$bindItemStart.itemFor === binding.start) {\n      if (index === i) return node;\n      i++;\n    }\n  }\n}\n\nfunction updateRange(context, binding, template, start, end, itemFor, condition) {\n  if (binding) {\n    binding.start = start;\n    binding.end = end;\n    binding.condition = condition;\n    setNodeBounds(binding, start, itemFor);\n  } else {\n    context.addBinding(new RangeBinding(template, context, start, end, itemFor, condition));\n  }\n}\nfunction setNodeBounds(binding, start, itemFor) {\n  if (itemFor) {\n    setNodeProperty(start, '$bindItemStart', binding);\n  } else {\n    setNodeProperty(start, '$bindStart', binding);\n  }\n}\n\nfunction appendContent(parent, content, context) {\n  for (var i = 0, len = content.length; i < len; i++) {\n    content[i].appendTo(parent, context);\n  }\n}\nfunction attachContent(parent, node, content, context) {\n  for (var i = 0, len = content.length; i < len; i++) {\n    while (node && node.hasAttribute && node.hasAttribute('data-no-attach')) {\n      node = node.nextSibling;\n    }\n    node = content[i].attachTo(parent, node, context);\n  }\n  return node;\n}\nfunction contentHtml(content, context, unescaped) {\n  var html = '';\n  for (var i = 0, len = content.length; i < len; i++) {\n    html += content[i].get(context, unescaped);\n  }\n  return html;\n}\nfunction replaceRange(context, start, end, fragment, binding, innerOnly) {\n  // Note: the calling function must make sure to check that there is a parent\n  var parent = start.parentNode;\n  // Copy item binding from old start to fragment being inserted\n  if (start.$bindItemStart && fragment.firstChild) {\n    setNodeProperty(fragment.firstChild, '$bindItemStart', start.$bindItemStart);\n    start.$bindItemStart.start = fragment.firstChild;\n  }\n  // Fast path for single node replacements\n  if (start === end) {\n    parent.replaceChild(fragment, start);\n    emitRemoved(context, start, binding);\n    return;\n  }\n  // Remove all nodes from start to end\n  var node = (innerOnly) ? start.nextSibling : start;\n  var nextNode;\n  while (node) {\n    nextNode = node.nextSibling;\n    emitRemoved(context, node, binding);\n    if (innerOnly && node === end) {\n      nextNode = end;\n      break;\n    }\n    parent.removeChild(node);\n    if (node === end) break;\n    node = nextNode;\n  }\n  // This also works if nextNode is null, by doing an append\n  parent.insertBefore(fragment, nextNode || null);\n}\nfunction emitRemoved(context, node, ignore) {\n  context.removeNode(node);\n  emitRemovedBinding(context, ignore, node, '$bindNode');\n  emitRemovedBinding(context, ignore, node, '$bindStart');\n  emitRemovedBinding(context, ignore, node, '$bindItemStart');\n  var attributes = node.$bindAttributes;\n  if (attributes) {\n    node.$bindAttributes = null;\n    for (var key in attributes) {\n      context.removeBinding(attributes[key]);\n    }\n  }\n  for (node = node.firstChild; node; node = node.nextSibling) {\n    emitRemoved(context, node, ignore);\n  }\n}\nfunction emitRemovedBinding(context, ignore, node, property) {\n  var binding = node[property];\n  if (binding) {\n    node[property] = null;\n    if (binding !== ignore) {\n      context.removeBinding(binding);\n    }\n  }\n}\n\nfunction attachError(parent, node) {\n  if (typeof console !== 'undefined') {\n    console.error('Attach failed for', node, 'within', parent);\n  }\n  return new Error('Attaching bindings failed, because HTML structure ' +\n    'does not match client rendering.'\n  );\n}\n\nfunction Binding() {\n  this.meta = null;\n}\nBinding.prototype.type = 'Binding';\nBinding.prototype.update = function() {\n  this.context.pause();\n  this.template.update(this.context, this);\n  this.context.unpause();\n};\nBinding.prototype.insert = function() {\n  this.update();\n};\nBinding.prototype.remove = function() {\n  this.update();\n};\nBinding.prototype.move = function() {\n  this.update();\n};\n\nfunction NodeBinding(template, context, node) {\n  this.template = template;\n  this.context = context;\n  this.node = node;\n  this.meta = null;\n  setNodeProperty(node, '$bindNode', this);\n}\nNodeBinding.prototype = Object.create(Binding.prototype);\nNodeBinding.prototype.constructor = NodeBinding;\nNodeBinding.prototype.type = 'NodeBinding';\n\nfunction AttributeBindingsMap() {}\nfunction AttributeBinding(template, context, element, name) {\n  this.template = template;\n  this.context = context;\n  this.element = element;\n  this.name = name;\n  this.meta = null;\n  var map = element.$bindAttributes ||\n    (element.$bindAttributes = new AttributeBindingsMap());\n  map[name] = this;\n}\nAttributeBinding.prototype = Object.create(Binding.prototype);\nAttributeBinding.prototype.constructor = AttributeBinding;\nAttributeBinding.prototype.type = 'AttributeBinding';\n\nfunction RangeBinding(template, context, start, end, itemFor, condition) {\n  this.template = template;\n  this.context = context;\n  this.start = start;\n  this.end = end;\n  this.itemFor = itemFor;\n  this.condition = condition;\n  this.meta = null;\n  setNodeBounds(this, start, itemFor);\n}\nRangeBinding.prototype = Object.create(Binding.prototype);\nRangeBinding.prototype.constructor = RangeBinding;\nRangeBinding.prototype.type = 'RangeBinding';\nRangeBinding.prototype.insert = function(index, howMany) {\n  this.context.pause();\n  if (this.template.insert) {\n    this.template.insert(this.context, this, index, howMany);\n  } else {\n    this.template.update(this.context, this);\n  }\n  this.context.unpause();\n};\nRangeBinding.prototype.remove = function(index, howMany) {\n  this.context.pause();\n  if (this.template.remove) {\n    this.template.remove(this.context, this, index, howMany);\n  } else {\n    this.template.update(this.context, this);\n  }\n  this.context.unpause();\n};\nRangeBinding.prototype.move = function(from, to, howMany) {\n  this.context.pause();\n  if (this.template.move) {\n    this.template.move(this.context, this, from, to, howMany);\n  } else {\n    this.template.update(this.context, this);\n  }\n  this.context.unpause();\n};\n\n\n//// Utility functions ////\n\nfunction noop() {}\n\nfunction mergeInto(from, to) {\n  for (var key in from) {\n    to[key] = from[key];\n  }\n}\n\nfunction escapeHtml(string) {\n  string = string + '';\n  return string.replace(/[&<]/g, function(match) {\n    return (match === '&') ? '&amp;' : '&lt;';\n  });\n}\n\nfunction escapeAttribute(string) {\n  string = string + '';\n  return string.replace(/[&\"]/g, function(match) {\n    return (match === '&') ? '&amp;' : '&quot;';\n  });\n}\n\nfunction equalConditions(a, b) {\n  // First, test for strict equality\n  if (a === b) return true;\n  // Failing that, allow for template objects used as a condition to define a\n  // custom `equals()` method to indicate equivalence\n  return (a instanceof Template) && a.equals(b);\n}\n\n\n//// Shims & workarounds ////\n\n// General notes:\n//\n// In all cases, Node.insertBefore should have `|| null` after its second\n// argument. IE works correctly when the argument is ommitted or equal\n// to null, but it throws and error if it is equal to undefined.\n\nif (!Array.isArray) {\n  Array.isArray = function(value) {\n    return Object.prototype.toString.call(value) === '[object Array]';\n  };\n}\n\n// Equivalent to textNode.splitText, which is buggy in IE <=9\nfunction splitData(node, index) {\n  var newNode = node.cloneNode(false);\n  newNode.deleteData(0, index);\n  node.deleteData(index, node.length - index);\n  node.parentNode.insertBefore(newNode, node.nextSibling || null);\n  return newNode;\n}\n\n// Defined so that it can be overriden in IE <=8\nfunction setNodeProperty(node, key, value) {\n  return node[key] = value;\n}\n\nfunction normalizeLineBreaks(string) {\n  return string;\n}\n\n(function() {\n  // Don't try to shim in Node.js environment\n  if (typeof document === 'undefined') return;\n\n  var div = document.createElement('div');\n  div.innerHTML = '\\r\\n<br>\\n'\n  var windowsLength = div.firstChild.data.length;\n  var unixLength = div.lastChild.data.length;\n  if (windowsLength === 1 && unixLength === 1) {\n    normalizeLineBreaks = function(string) {\n      return string.replace(/\\r\\n/g, '\\n');\n    };\n  } else if (windowsLength === 2 && unixLength === 2) {\n    normalizeLineBreaks = function(string) {\n      return string.replace(/(^|[^\\r])(\\n+)/g, function(match, value, newLines) {\n        for (var i = newLines.length; i--;) {\n          value += '\\r\\n';\n        }\n        return value;\n      });\n    };\n  }\n\n  // TODO: Shim createHtmlFragment for old IE\n\n  // TODO: Shim setAttribute('style'), which doesn't work in IE <=7\n  // http://webbugtrack.blogspot.com/2007/10/bug-245-setattribute-style-does-not.html\n\n  // TODO: Investigate whether input name attribute works in IE <=7. We could\n  // override Element::appendTo to use IE's alternative createElement syntax:\n  // document.createElement('<input name=\"xxx\">')\n  // http://webbugtrack.blogspot.com/2007/10/bug-235-createelement-is-broken-in-ie.html\n\n  // In IE, input.defaultValue doesn't work correctly, so use input.value,\n  // which mistakenly but conveniently sets both the value property and attribute.\n  //\n  // Surprisingly, in IE <=7, input.defaultChecked must be used instead of\n  // input.checked before the input is in the document.\n  // http://webbugtrack.blogspot.com/2007/11/bug-299-setattribute-checked-does-not.html\n  var input = document.createElement('input');\n  input.defaultValue = 'x';\n  if (input.value !== 'x') {\n    CREATE_PROPERTIES.value = 'value';\n  }\n\n  try {\n    // TextNodes are not expando in IE <=8\n    document.createTextNode('').$try = 0;\n  } catch (err) {\n    setNodeProperty = function(node, key, value) {\n      // If trying to set a property on a TextNode, create a proxy CommentNode\n      // and set the property on that node instead. Put the proxy after the\n      // TextNode if marking the end of a range, and before otherwise.\n      if (node.nodeType === 3) {\n        var proxyNode = node.previousSibling;\n        if (!proxyNode || proxyNode.$bindProxy !== node) {\n          proxyNode = document.createComment('proxy');\n          proxyNode.$bindProxy = node;\n          node.parentNode.insertBefore(proxyNode, node || null);\n        }\n        return proxyNode[key] = value;\n      }\n      // Set the property directly on other node types\n      return node[key] = value;\n    };\n  }\n})();\n",
    "\nexports.concat = function(a, b) {\n  if (!a) return b;\n  if (!b) return a;\n  return a.concat(b);\n};\n\nexports.hasKeys = function(value) {\n  if (!value) return false;\n  for (var key in value) {\n    return true;\n  }\n  return false;\n};\n\nexports.traverseAndCreate = function(node, segments) {\n  var len = segments.length;\n  if (!len) return node;\n  for (var i = 0; i < len; i++) {\n    var segment = segments[i];\n    node = node[segment] || (node[segment] = {});\n  }\n  return node;\n};\n",
    "var serializeObject = require('serialize-object');\nvar operatorFns = require('./operatorFns');\nvar templates = require('./templates');\nvar Template = templates.Template;\nvar util = require('./util');\nvar concat = util.concat;\n\nexports.lookup = lookup;\nexports.templateTruthy = templateTruthy;\nexports.pathSegments = pathSegments;\nexports.renderValue = renderValue;\nexports.renderTemplate = renderTemplate;\nexports.ExpressionMeta = ExpressionMeta;\n\nexports.Expression = Expression;\nexports.LiteralExpression = LiteralExpression;\nexports.PathExpression = PathExpression;\nexports.RelativePathExpression = RelativePathExpression;\nexports.AliasPathExpression = AliasPathExpression;\nexports.AttributePathExpression = AttributePathExpression;\nexports.BracketsExpression = BracketsExpression;\nexports.DeferRenderExpression = DeferRenderExpression;\nexports.ArrayExpression = ArrayExpression;\nexports.ObjectExpression = ObjectExpression;\nexports.FnExpression = FnExpression;\nexports.OperatorExpression = OperatorExpression;\nexports.NewExpression = NewExpression;\nexports.SequenceExpression = SequenceExpression;\nexports.ViewParentExpression = ViewParentExpression;\nexports.ScopedModelExpression = ScopedModelExpression;\n\nfunction lookup(segments, value) {\n  if (!segments) return value;\n\n  for (var i = 0, len = segments.length; i < len; i++) {\n    if (value == null) return value;\n    value = value[segments[i]];\n  }\n  return value;\n}\n\n// Unlike JS, `[]` is falsey. Otherwise, truthiness is the same as JS\nfunction templateTruthy(value) {\n  return (Array.isArray(value)) ? value.length > 0 : !!value;\n}\n\nfunction pathSegments(segments) {\n  var result = [];\n  for (var i = 0; i < segments.length; i++) {\n    var segment = segments[i];\n    result[i] = (typeof segment === 'object') ? segment.item : segment;\n  }\n  return result;\n}\n\nfunction renderValue(value, context) {\n  return (typeof value !== 'object') ? value :\n    (value instanceof Template) ? renderTemplate(value, context) :\n    (Array.isArray(value)) ? renderArray(value, context) :\n    renderObject(value, context);\n}\nfunction renderTemplate(value, context) {\n  var i = 1000;\n  while (value instanceof Template) {\n    if (--i < 0) throw new Error('Maximum template render passes exceeded');\n    value = value.get(context, true);\n  }\n  return value;\n}\nfunction renderArray(array, context) {\n  for (var i = 0; i < array.length; i++) {\n    if (hasTemplateProperty(array[i])) {\n      return renderArrayProperties(array, context);\n    }\n  }\n  return array;\n}\nfunction renderObject(object, context) {\n  return (hasTemplateProperty(object)) ?\n    renderObjectProperties(object, context) : object;\n}\nfunction hasTemplateProperty(object) {\n  if (!object) return false;\n  if (object.constructor !== Object) return false;\n  for (var key in object) {\n    if (object[key] instanceof Template) return true;\n  }\n  return false;\n}\nfunction renderArrayProperties(array, context) {\n  var out = new Array(array.length);\n  for (var i = 0; i < array.length; i++) {\n    out[i] = renderValue(array[i], context);\n  }\n  return out;\n}\nfunction renderObjectProperties(object, context) {\n  var out = {};\n  for (var key in object) {\n    out[key] = renderValue(object[key], context);\n  }\n  return out;\n}\n\nfunction ExpressionMeta(source, blockType, isEnd, as, keyAs, unescaped, bindType, valueType) {\n  this.source = source;\n  this.blockType = blockType;\n  this.isEnd = isEnd;\n  this.as = as;\n  this.keyAs = keyAs;\n  this.unescaped = unescaped;\n  this.bindType = bindType;\n  this.valueType = valueType;\n}\nExpressionMeta.prototype.module = 'expressions';\nExpressionMeta.prototype.type = 'ExpressionMeta';\nExpressionMeta.prototype.serialize = function() {\n  return serializeObject.instance(\n    this\n  , this.source\n  , this.blockType\n  , this.isEnd\n  , this.as\n  , this.keyAs\n  , this.unescaped\n  , this.bindType\n  , this.valueType\n  );\n};\n\nfunction Expression(meta) {\n  this.meta = meta;\n}\nExpression.prototype.module = 'expressions';\nExpression.prototype.type = 'Expression';\nExpression.prototype.serialize = function() {\n  return serializeObject.instance(this, this.meta);\n};\nExpression.prototype.toString = function() {\n  return this.meta && this.meta.source;\n};\nExpression.prototype.truthy = function(context) {\n  var blockType = this.meta.blockType;\n  if (blockType === 'else') return true;\n  var value = this.get(context, true);\n  var truthy = templateTruthy(value);\n  return (blockType === 'unless') ? !truthy : truthy;\n};\nExpression.prototype.get = function() {};\n// Return the expression's segment list with context objects\nExpression.prototype.resolve = function() {};\n// Return a list of segment lists or null\nExpression.prototype.dependencies = function() {};\n// Return the pathSegments that the expression currently resolves to or null\nExpression.prototype.pathSegments = function(context) {\n  var segments = this.resolve(context);\n  return segments && pathSegments(segments);\n};\nExpression.prototype.set = function(context, value) {\n  var segments = this.pathSegments(context);\n  if (!segments) throw new Error('Expression does not support setting');\n  context.controller.model._set(segments, value);\n};\nExpression.prototype._resolvePatch = function(context, segments) {\n  return (context && context.expression === this && context.item != null) ?\n    segments.concat(context) : segments;\n};\nExpression.prototype.isUnbound = function(context) {\n  // If the template being rendered has an explicit bindType keyword, such as:\n  // {{unbound #item.text}}\n  var bindType = this.meta && this.meta.bindType;\n  if (bindType === 'unbound') return true;\n  if (bindType === 'bound') return false;\n  // Otherwise, inherit from the context\n  return context.unbound;\n};\nExpression.prototype._lookupAndContextifyValue = function(value, context) {\n  if (this.segments && this.segments.length) {\n    // If expression has segments, e.g. `bar.baz` in `#foo.bar.baz`, then\n    // render the base value (e.g. `#foo`) if it's a template and look up the\n    // value at the indicated path.\n    value = renderTemplate(value, context);\n    value = lookup(this.segments, value);\n  }\n  if (value instanceof Template && !(value instanceof templates.ContextClosure)) {\n    // If we're not immediately rendering the template, then create a ContextClosure\n    // so that the value renders with the correct context later.\n    value = new templates.ContextClosure(value, context);\n  }\n  return value;\n};\n\n\nfunction LiteralExpression(value, meta) {\n  this.value = value;\n  this.meta = meta;\n}\nLiteralExpression.prototype = Object.create(Expression.prototype);\nLiteralExpression.prototype.constructor = LiteralExpression;\nLiteralExpression.prototype.type = 'LiteralExpression';\nLiteralExpression.prototype.serialize = function() {\n  return serializeObject.instance(this, this.value, this.meta);\n};\nLiteralExpression.prototype.get = function() {\n  return this.value;\n};\n\nfunction PathExpression(segments, meta) {\n  this.segments = segments;\n  this.meta = meta;\n}\nPathExpression.prototype = Object.create(Expression.prototype);\nPathExpression.prototype.constructor = PathExpression;\nPathExpression.prototype.type = 'PathExpression';\nPathExpression.prototype.serialize = function() {\n  return serializeObject.instance(this, this.segments, this.meta);\n};\nPathExpression.prototype.get = function(context) {\n  // See View::dependencies. This is needed in order to handle the case of\n  // getting dependencies within a component template, in which case we cannot\n  // access model data separate from rendering.\n  if (!context.controller) return;\n  return lookup(this.segments, context.controller.model.data);\n};\nPathExpression.prototype.resolve = function(context) {\n  // See View::dependencies. This is needed in order to handle the case of\n  // getting dependencies within a component template, in which case we cannot\n  // access model data separate from rendering.\n  if (!context.controller) return;\n  var segments = concat(context.controller._scope, this.segments);\n  return this._resolvePatch(context, segments);\n};\nPathExpression.prototype.dependencies = function(context, options) {\n  // See View::dependencies. This is needed in order to handle the case of\n  // getting dependencies within a component template, in which case we cannot\n  // access model data separate from rendering.\n  if (!context.controller) return;\n  var value = lookup(this.segments, context.controller.model.data);\n  var dependencies = getDependencies(value, context, options);\n  return appendDependency(dependencies, this, context);\n};\n\nfunction RelativePathExpression(segments, meta) {\n  this.segments = segments;\n  this.meta = meta;\n}\nRelativePathExpression.prototype = Object.create(Expression.prototype);\nRelativePathExpression.prototype.constructor = RelativePathExpression;\nRelativePathExpression.prototype.type = 'RelativePathExpression';\nRelativePathExpression.prototype.serialize = function() {\n  return serializeObject.instance(this, this.segments, this.meta);\n};\nRelativePathExpression.prototype.get = function(context) {\n  var relativeContext = context.forRelative(this);\n  var value = relativeContext.get();\n  return this._lookupAndContextifyValue(value, relativeContext);\n};\nRelativePathExpression.prototype.resolve = function(context) {\n  var relativeContext = context.forRelative(this);\n  var base = (relativeContext.expression) ?\n    relativeContext.expression.resolve(relativeContext) :\n    [];\n  if (!base) return;\n  var segments = base.concat(this.segments);\n  return this._resolvePatch(context, segments);\n};\nRelativePathExpression.prototype.dependencies = function(context, options) {\n  // Return inner dependencies from our ancestor\n  // (e.g., {{ with foo[bar] }} ... {{ this.x }} has 'bar' as a dependency.)\n  var relativeContext = context.forRelative(this);\n  var dependencies = relativeContext.expression &&\n    relativeContext.expression.dependencies(relativeContext, options);\n  return swapLastDependency(dependencies, this, context);\n};\n\nfunction AliasPathExpression(alias, segments, meta) {\n  this.alias = alias;\n  this.segments = segments;\n  this.meta = meta;\n}\nAliasPathExpression.prototype = Object.create(Expression.prototype);\nAliasPathExpression.prototype.constructor = AliasPathExpression;\nAliasPathExpression.prototype.type = 'AliasPathExpression';\nAliasPathExpression.prototype.serialize = function() {\n  return serializeObject.instance(this, this.alias, this.segments, this.meta);\n};\nAliasPathExpression.prototype.get = function(context) {\n  var aliasContext = context.forAlias(this.alias);\n  if (!aliasContext) return;\n  if (aliasContext.keyAlias === this.alias) {\n    return aliasContext.item;\n  }\n  var value = aliasContext.get();\n  return this._lookupAndContextifyValue(value, aliasContext);\n};\nAliasPathExpression.prototype.resolve = function(context) {\n  var aliasContext = context.forAlias(this.alias);\n  if (!aliasContext) return;\n  if (aliasContext.keyAlias === this.alias) return;\n  var base = aliasContext.expression.resolve(aliasContext);\n  if (!base) return;\n  var segments = base.concat(this.segments);\n  return this._resolvePatch(context, segments);\n};\nAliasPathExpression.prototype.dependencies = function(context, options) {\n  var aliasContext = context.forAlias(this.alias);\n  if (!aliasContext) return;\n  if (aliasContext.keyAlias === this.alias) {\n    // For keyAliases, use a dependency of the entire list, so that it will\n    // always update when the list itself changes. This is over-binding, but\n    // would otherwise be much more complex\n    var base = aliasContext.expression.resolve(aliasContext.parent);\n    if (!base) return;\n    return [base];\n  }\n\n  var dependencies = aliasContext.expression.dependencies(aliasContext, options);\n  return swapLastDependency(dependencies, this, context);\n};\n\nfunction AttributePathExpression(attribute, segments, meta) {\n  this.attribute = attribute;\n  this.segments = segments;\n  this.meta = meta;\n}\nAttributePathExpression.prototype = Object.create(Expression.prototype);\nAttributePathExpression.prototype.constructor = AttributePathExpression;\nAttributePathExpression.prototype.type = 'AttributePathExpression';\nAttributePathExpression.prototype.serialize = function() {\n  return serializeObject.instance(this, this.attribute, this.segments, this.meta);\n};\nAttributePathExpression.prototype.get = function(context) {\n  var attributeContext = context.forAttribute(this.attribute);\n  if (!attributeContext) return;\n  var value = attributeContext.attributes[this.attribute];\n  if (value instanceof Expression) {\n    value = value.get(attributeContext);\n  }\n  return this._lookupAndContextifyValue(value, attributeContext);\n};\nAttributePathExpression.prototype.resolve = function(context) {\n  var attributeContext = context.forAttribute(this.attribute);\n  if (!attributeContext) return;\n  // Attributes may be a template, an expression, or a literal value\n  var base;\n  var value = attributeContext.attributes[this.attribute];\n  if (value instanceof Expression || value instanceof Template) {\n    base = value.resolve(attributeContext);\n  }\n  if (!base) return;\n  var segments = base.concat(this.segments);\n  return this._resolvePatch(context, segments);\n};\nAttributePathExpression.prototype.dependencies = function(context, options) {\n  var attributeContext = context.forAttribute(this.attribute);\n  if (!attributeContext) return;\n\n  // Attributes may be a template, an expression, or a literal value\n  var value = attributeContext.attributes[this.attribute];\n  var dependencies = getDependencies(value, attributeContext, options);\n  return swapLastDependency(dependencies, this, context);\n};\n\nfunction BracketsExpression(before, inside, afterSegments, meta) {\n  this.before = before;\n  this.inside = inside;\n  this.afterSegments = afterSegments;\n  this.meta = meta;\n}\nBracketsExpression.prototype = Object.create(Expression.prototype);\nBracketsExpression.prototype.constructor = BracketsExpression;\nBracketsExpression.prototype.type = 'BracketsExpression';\nBracketsExpression.prototype.serialize = function() {\n  return serializeObject.instance(this, this.before, this.inside, this.afterSegments, this.meta);\n};\nBracketsExpression.prototype.get = function(context) {\n  var inside = this.inside.get(context);\n  if (inside == null) return;\n  var before = this.before.get(context);\n  if (!before) return;\n  var base = before[inside];\n  return (this.afterSegments) ? lookup(this.afterSegments, base) : base;\n};\nBracketsExpression.prototype.resolve = function(context) {\n  // Get and split the current value of the expression inside the brackets\n  var inside = this.inside.get(context);\n  if (inside == null) return;\n\n  // Concat the before, inside, and optional after segments\n  var base = this.before.resolve(context);\n  if (!base) return;\n  var segments = (this.afterSegments) ?\n    base.concat(inside, this.afterSegments) :\n    base.concat(inside);\n  return this._resolvePatch(context, segments);\n};\nBracketsExpression.prototype.dependencies = function(context, options) {\n  var before = this.before.dependencies(context, options);\n  if (before) before.pop();\n  var inner = this.inside.dependencies(context, options);\n  var dependencies = concat(before, inner);\n  return appendDependency(dependencies, this, context);\n};\n\n// This Expression is used to wrap a template so that when its containing\n// Expression--such as an ObjectExpression or ArrayExpression--is evaluated,\n// it returns the template unrendered and wrapped in the current context.\n// Separating evaluation of the containing expression from template rendering\n// is used to support array attributes of views. This way, we can evaluate an\n// array and iterate through it separately from rendering template content\nfunction DeferRenderExpression(template, meta) {\n  if (!(template instanceof Template)) {\n    throw new Error('DeferRenderExpression requires a Template argument');\n  }\n  this.template = template;\n  this.meta = meta;\n}\nDeferRenderExpression.prototype = Object.create(Expression.prototype);\nDeferRenderExpression.prototype.constructor = DeferRenderExpression;\nDeferRenderExpression.prototype.type = 'DeferRenderExpression';\nDeferRenderExpression.prototype.serialize = function() {\n  return serializeObject.instance(this, this.template, this.meta);\n};\nDeferRenderExpression.prototype.get = function(context) {\n  return new templates.ContextClosure(this.template, context);\n};\n\nfunction ArrayExpression(items, afterSegments, meta) {\n  this.items = items;\n  this.afterSegments = afterSegments;\n  this.meta = meta;\n}\nArrayExpression.prototype = Object.create(Expression.prototype);\nArrayExpression.prototype.constructor = ArrayExpression;\nArrayExpression.prototype.type = 'ArrayExpression';\nArrayExpression.prototype.serialize = function() {\n  return serializeObject.instance(this, this.items, this.afterSegments, this.meta);\n};\nArrayExpression.prototype.get = function(context) {\n  var items = new Array(this.items.length);\n  for (var i = 0; i < this.items.length; i++) {\n    var value = this.items[i].get(context);\n    items[i] = value;\n  }\n  return (this.afterSegments) ? lookup(this.afterSegments, items) : items;\n};\nArrayExpression.prototype.dependencies = function(context, options) {\n  if (!this.items) return;\n  var dependencies;\n  for (var i = 0; i < this.items.length; i++) {\n    var itemDependencies = this.items[i].dependencies(context, options);\n    dependencies = concat(dependencies, itemDependencies);\n  }\n  return dependencies;\n};\n\nfunction ObjectExpression(properties, afterSegments, meta) {\n  this.properties = properties;\n  this.afterSegments = afterSegments;\n  this.meta = meta;\n}\nObjectExpression.prototype = Object.create(Expression.prototype);\nObjectExpression.prototype.constructor = ObjectExpression;\nObjectExpression.prototype.type = 'ObjectExpression';\nObjectExpression.prototype.serialize = function() {\n  return serializeObject.instance(this, this.properties, this.afterSegments, this.meta);\n};\nObjectExpression.prototype.get = function(context) {\n  var object = {};\n  for (var key in this.properties) {\n    var value = this.properties[key].get(context);\n    object[key] = value;\n  }\n  return (this.afterSegments) ? lookup(this.afterSegments, object) : object;\n};\nObjectExpression.prototype.dependencies = function(context, options) {\n  if (!this.properties) return;\n  var dependencies;\n  for (var key in this.properties) {\n    var propertyDependencies = this.properties[key].dependencies(context, options);\n    dependencies = concat(dependencies, propertyDependencies);\n  }\n  return dependencies;\n};\n\nfunction FnExpression(segments, args, afterSegments, meta) {\n  this.segments = segments;\n  this.args = args;\n  this.afterSegments = afterSegments;\n  this.meta = meta;\n  var parentSegments = segments && segments.slice();\n  this.lastSegment = parentSegments && parentSegments.pop();\n  this.parentSegments = (parentSegments && parentSegments.length) ? parentSegments : null;\n}\nFnExpression.prototype = Object.create(Expression.prototype);\nFnExpression.prototype.constructor = FnExpression;\nFnExpression.prototype.type = 'FnExpression';\nFnExpression.prototype.serialize = function() {\n  return serializeObject.instance(this, this.segments, this.args, this.afterSegments, this.meta);\n};\nFnExpression.prototype.get = function(context) {\n  var value = this.apply(context);\n  // Lookup property underneath computed value if needed\n  return (this.afterSegments) ? lookup(this.afterSegments, value) : value;\n};\nFnExpression.prototype.apply = function(context, extraInputs) {\n  // See View::dependencies. This is needed in order to handle the case of\n  // getting dependencies within a component template, in which case we cannot\n  // access model data separate from rendering.\n  if (!context.controller) return;\n  var parent = this._lookupParent(context);\n  var fn = parent[this.lastSegment];\n  var getFn = fn.get || fn;\n  var out = this._applyFn(getFn, context, extraInputs, parent);\n  return out;\n};\nFnExpression.prototype._lookupParent = function(context) {\n  // Lookup function on current controller\n  var controller = context.controller;\n  var segments = this.parentSegments;\n  var parent = (segments) ? lookup(segments, controller) : controller;\n  if (parent && parent[this.lastSegment]) return parent;\n  // Otherwise lookup function on page\n  var page = controller.page;\n  if (controller !== page) {\n    parent = (segments) ? lookup(segments, page) : page;\n    if (parent && parent[this.lastSegment]) return parent;\n  }\n  // Otherwise lookup function on global\n  parent = (segments) ? lookup(segments, global) : global;\n  if (parent && parent[this.lastSegment]) return parent;\n  // Throw if not found\n  throw new Error('Function not found for: ' + this.segments.join('.'));\n};\nFnExpression.prototype._getInputs = function(context) {\n  var inputs = [];\n  for (var i = 0, len = this.args.length; i < len; i++) {\n    var value = this.args[i].get(context);\n    inputs.push(renderValue(value, context));\n  }\n  return inputs;\n};\nFnExpression.prototype._applyFn = function(fn, context, extraInputs, thisArg) {\n  // Apply if there are no path inputs\n  if (!this.args) {\n    return (extraInputs) ?\n      fn.apply(thisArg, extraInputs) :\n      fn.call(thisArg);\n  }\n  // Otherwise, get the current value for path inputs and apply\n  var inputs = this._getInputs(context);\n  if (extraInputs) {\n    for (var i = 0, len = extraInputs.length; i < len; i++) {\n      inputs.push(extraInputs[i]);\n    }\n  }\n  return fn.apply(thisArg, inputs);\n};\nFnExpression.prototype.dependencies = function(context, options) {\n  var dependencies = [];\n  if (!this.args) return dependencies;\n  for (var i = 0, len = this.args.length; i < len; i++) {\n    var argDependencies = this.args[i].dependencies(context, options);\n    if (!argDependencies || argDependencies.length < 1) continue;\n    var end = argDependencies.length - 1;\n    for (var j = 0; j < end; j++) {\n      dependencies.push(argDependencies[j]);\n    }\n    var last = argDependencies[end];\n    if (last[last.length - 1] !== '*') {\n      last = last.concat('*');\n    }\n    dependencies.push(last);\n  }\n  return dependencies;\n};\nFnExpression.prototype.set = function(context, value) {\n  var controller = context.controller;\n  var fn, parent;\n  while (controller) {\n    parent = (this.parentSegments) ?\n      lookup(this.parentSegments, controller) :\n      controller;\n    fn = parent && parent[this.lastSegment];\n    if (fn) break;\n    controller = controller.parent;\n  }\n  var setFn = fn && fn.set;\n  if (!setFn) throw new Error('No setter function for: ' + this.segments.join('.'));\n  var inputs = this._getInputs(context);\n  inputs.unshift(value);\n  var out = setFn.apply(parent, inputs);\n  for (var i in out) {\n    this.args[i].set(context, out[i]);\n  }\n};\n\nfunction NewExpression(segments, args, afterSegments, meta) {\n  FnExpression.call(this, segments, args, afterSegments, meta);\n}\nNewExpression.prototype = Object.create(FnExpression.prototype);\nNewExpression.prototype.constructor = NewExpression;\nNewExpression.prototype.type = 'NewExpression';\nNewExpression.prototype._applyFn = function(Fn, context) {\n  // Apply if there are no path inputs\n  if (!this.args) return new Fn();\n  // Otherwise, get the current value for path inputs and apply\n  var inputs = this._getInputs(context);\n  inputs.unshift(null);\n  return new (Fn.bind.apply(Fn, inputs))();\n};\n\nfunction OperatorExpression(name, args, afterSegments, meta) {\n  this.name = name;\n  this.args = args;\n  this.afterSegments = afterSegments;\n  this.meta = meta;\n  this.getFn = operatorFns.get[name];\n  this.setFn = operatorFns.set[name];\n}\nOperatorExpression.prototype = Object.create(FnExpression.prototype);\nOperatorExpression.prototype.constructor = OperatorExpression;\nOperatorExpression.prototype.type = 'OperatorExpression';\nOperatorExpression.prototype.serialize = function() {\n  return serializeObject.instance(this, this.name, this.args, this.afterSegments, this.meta);\n};\nOperatorExpression.prototype.apply = function(context) {\n  var inputs = this._getInputs(context);\n  return this.getFn.apply(null, inputs);\n};\nOperatorExpression.prototype.set = function(context, value) {\n  var inputs = this._getInputs(context);\n  inputs.unshift(value);\n  var out = this.setFn.apply(null, inputs);\n  for (var i in out) {\n    this.args[i].set(context, out[i]);\n  }\n};\n\nfunction SequenceExpression(args, afterSegments, meta) {\n  this.args = args;\n  this.afterSegments = afterSegments;\n  this.meta = meta;\n}\nSequenceExpression.prototype = Object.create(OperatorExpression.prototype);\nSequenceExpression.prototype.constructor = SequenceExpression;\nSequenceExpression.prototype.type = 'SequenceExpression';\nSequenceExpression.prototype.serialize = function() {\n  return serializeObject.instance(this, this.args, this.afterSegments, this.meta);\n};\nSequenceExpression.prototype.name = ',';\nSequenceExpression.prototype.getFn = operatorFns.get[','];\nSequenceExpression.prototype.resolve = function(context) {\n  var last = this.args[this.args.length - 1];\n  return last.resolve(context);\n};\nSequenceExpression.prototype.dependencies = function(context, options) {\n  var dependencies = [];\n  for (var i = 0, len = this.args.length; i < len; i++) {\n    var argDependencies = this.args[i].dependencies(context, options);\n    for (var j = 0, jLen = argDependencies.length; j < jLen; j++) {\n      dependencies.push(argDependencies[j]);\n    }\n  }\n  return dependencies;\n};\n\n// For each method that takes a context argument, get the nearest parent view\n// context, then delegate methods to the inner expression\nfunction ViewParentExpression(expression, meta) {\n  this.expression = expression;\n  this.meta = meta;\n}\nViewParentExpression.prototype = Object.create(Expression.prototype);\nViewParentExpression.prototype.constructor = ViewParentExpression;\nViewParentExpression.prototype.type = 'ViewParentExpression';\nViewParentExpression.prototype.serialize = function() {\n  return serializeObject.instance(this, this.expression, this.meta);\n};\nViewParentExpression.prototype.get = function(context) {\n  var parentContext = context.forViewParent();\n  return this.expression.get(parentContext);\n};\nViewParentExpression.prototype.resolve = function(context) {\n  var parentContext = context.forViewParent();\n  return this.expression.resolve(parentContext);\n};\nViewParentExpression.prototype.dependencies = function(context, options) {\n  var parentContext = context.forViewParent();\n  return this.expression.dependencies(parentContext, options);\n};\nViewParentExpression.prototype.pathSegments = function(context) {\n  var parentContext = context.forViewParent();\n  return this.expression.pathSegments(parentContext);\n};\nViewParentExpression.prototype.set = function(context, value) {\n  var parentContext = context.forViewParent();\n  return this.expression.set(parentContext, value);\n};\n\nfunction ScopedModelExpression(expression, meta) {\n  this.expression = expression;\n  this.meta = meta;\n}\nScopedModelExpression.prototype = Object.create(Expression.prototype);\nScopedModelExpression.prototype.constructor = ScopedModelExpression;\nScopedModelExpression.prototype.type = 'ScopedModelExpression';\nScopedModelExpression.prototype.serialize = function() {\n  return serializeObject.instance(this, this.expression, this.meta);\n};\n// Return a scoped model instead of the value\nScopedModelExpression.prototype.get = function(context) {\n  var segments = this.pathSegments(context);\n  if (!segments) return;\n  return context.controller.model.scope(segments.join('.'));\n};\n// Delegate other methods to the inner expression\nScopedModelExpression.prototype.resolve = function(context) {\n  return this.expression.resolve(context);\n};\nScopedModelExpression.prototype.dependencies = function(context, options) {\n  return this.expression.dependencies(context, options);\n};\nScopedModelExpression.prototype.pathSegments = function(context) {\n  return this.expression.pathSegments(context);\n};\nScopedModelExpression.prototype.set = function(context, value) {\n  return this.expression.set(context, value);\n};\n\nfunction getDependencies(value, context, options) {\n  if (value instanceof Expression || value instanceof Template) {\n    return value.dependencies(context, options);\n  }\n}\n\nfunction appendDependency(dependencies, expression, context) {\n  var segments = expression.resolve(context);\n  if (!segments) return dependencies;\n  if (dependencies) {\n    dependencies.push(segments);\n    return dependencies;\n  }\n  return [segments];\n}\n\nfunction swapLastDependency(dependencies, expression, context) {\n  if (!expression.segments.length) {\n    return dependencies;\n  }\n  var segments = expression.resolve(context);\n  if (!segments) return dependencies;\n  if (dependencies) {\n    dependencies.pop();\n    dependencies.push(segments);\n    return dependencies;\n  }\n  return [segments];\n}\n",
    "exports.contexts = require('./lib/contexts');\nexports.expressions = require('./lib/expressions');\nexports.operatorFns = require('./lib/operatorFns');\nexports.options = require('./lib/options');\nexports.templates = require('./lib/templates');\n",
    "module.exports = Dom;\n\nfunction Dom(controller) {\n  this.controller = controller;\n  this._listeners = null;\n}\n\nDom.prototype._initListeners = function() {\n  var dom = this;\n  this.controller.on('destroy', function domOnDestroy() {\n    var listeners = dom._listeners;\n    if (!listeners) return;\n    for (var i = listeners.length; i--;) {\n      listeners[i].remove();\n    }\n    dom._listeners = null;\n  });\n  return this._listeners = [];\n};\n\nDom.prototype._listenerIndex = function(domListener) {\n  var listeners = this._listeners;\n  if (!listeners) return -1;\n  for (var i = listeners.length; i--;) {\n    if (listeners[i].equals(domListener)) return i;\n  }\n  return -1;\n};\n\nDom.prototype.addListener = function(type, target, listener, useCapture) {\n  if (typeof target === 'function') {\n    useCapture = listener;\n    listener = target;\n    target = document;\n  }\n  var domListener =\n    (type === 'destroy') ? new DestroyListener(target, listener) :\n    new DomListener(type, target, listener, useCapture);\n  if (-1 === this._listenerIndex(domListener)) {\n    var listeners = this._listeners || this._initListeners();\n    listeners.push(domListener);\n  }\n  domListener.add();\n};\nDom.prototype.on = Dom.prototype.addListener;\n\nDom.prototype.once = function(type, target, listener, useCapture) {\n  if (typeof target === 'function') {\n    useCapture = listener;\n    listener = target;\n    target = document;\n  }\n  this.addListener(type, target, wrappedListener, useCapture);\n  var dom = this;\n  function wrappedListener() {\n    dom.removeListener(type, target, wrappedListener, useCapture);\n    return listener.apply(this, arguments);\n  }\n};\n\nDom.prototype.removeListener = function(type, target, listener, useCapture) {\n  if (typeof target === 'function') {\n    useCapture = listener;\n    listener = target;\n    target = document;\n  }\n  var domListener = new DomListener(type, target, listener, useCapture);\n  domListener.remove();\n  var i = this._listenerIndex(domListener);\n  if (i > -1) this._listeners.splice(i, 1);\n};\n\nfunction DomListener(type, target, listener, useCapture) {\n  this.type = type;\n  this.target = target;\n  this.listener = listener;\n  this.useCapture = !!useCapture;\n}\nDomListener.prototype.equals = function(domListener) {\n  return this.listener === domListener.listener &&\n    this.target === domListener.target &&\n    this.type === domListener.type &&\n    this.useCapture === domListener.useCapture;\n};\nDomListener.prototype.add = function() {\n  this.target.addEventListener(this.type, this.listener, this.useCapture);\n};\nDomListener.prototype.remove = function() {\n  this.target.removeEventListener(this.type, this.listener, this.useCapture);\n};\n\nfunction DestroyListener(target, listener) {\n  DomListener.call(this, 'destroy', target, listener);\n}\nDestroyListener.prototype = new DomListener();\nDestroyListener.prototype.add = function() {\n  var listeners = this.target.$destroyListeners || (this.target.$destroyListeners = []);\n  if (listeners.indexOf(this.listener) === -1) {\n    listeners.push(this.listener);\n  }\n};\nDestroyListener.prototype.remove = function() {\n  var listeners = this.target.$destroyListeners;\n  if (!listeners) return;\n  var index = listeners.indexOf(this.listener);\n  if (index !== -1) {\n    listeners.splice(index, 1);\n  }\n};\n",
    "var EventEmitter = require('events').EventEmitter;\nvar util = require('racer/lib/util');\nvar Dom = require('./Dom');\n\nmodule.exports = Controller;\n\nfunction Controller(app, page, model) {\n  EventEmitter.call(this);\n  this.dom = new Dom(this);\n  this.app = app;\n  this.page = page;\n  this.model = model;\n  model.data.$controller = this;\n}\n\nutil.mergeInto(Controller.prototype, EventEmitter.prototype);\n\nController.prototype.emitCancellable = function() {\n  var cancelled = false;\n  function cancel() {\n    cancelled = true;\n  }\n\n  var args = Array.prototype.slice.call(arguments);\n  args.push(cancel);\n  this.emit.apply(this, args);\n\n  return cancelled;\n};\n\nController.prototype.emitDelayable = function() {\n  var args = Array.prototype.slice.call(arguments);\n  var callback = args.pop();\n\n  var delayed = false;\n  function delay() {\n    delayed = true;\n    return callback;\n  }\n\n  args.push(delay);\n  this.emit.apply(this, args);\n  if (!delayed) callback();\n\n  return delayed;\n};\n",
    "/*\n * components.js\n *\n * Components associate custom script functionality with a view. They can be\n * distributed as standalone modules containing templates, scripts, and styles.\n * They can also be used to modularize application functionality.\n *\n */\n\nvar util = require('racer/lib/util');\nvar derbyTemplates = require('derby-templates');\nvar templates = derbyTemplates.templates;\nvar expressions = derbyTemplates.expressions;\nvar Controller = require('./Controller');\nvar slice = [].slice;\n\nexports.Component = Component;\nexports.ComponentAttribute = ComponentAttribute;\nexports.ComponentAttributeBinding = ComponentAttributeBinding;\nexports.ComponentFactory = ComponentFactory;\nexports.SingletonComponentFactory = SingletonComponentFactory;\nexports.createFactory = createFactory;\nexports.extendComponent = extendComponent;\n\nfunction Component(context, data) {\n  var parent = context.controller;\n  var id = context.id();\n  var scope = ['$components', id];\n  var model = parent.model.root.eventContext(id);\n  model._at = scope.join('.');\n  data.id = id;\n  model._set(scope, data);\n  // Store a reference to the component's scope such that the expression\n  // getters are relative to the component\n  model.data = data;\n\n  Controller.call(this, parent.app, parent.page, model);\n  this.parent = parent;\n  this.context = context.componentChild(this);\n  this.id = id;\n  this._scope = scope;\n\n  // Add reference to this component on the page so that all components\n  // associated with a page can be destroyed when the page transitions\n  this.page._components[id] = this;\n  this.isDestroyed = false;\n}\n\nutil.mergeInto(Component.prototype, Controller.prototype);\n\nComponent.prototype.destroy = function() {\n  this.emit('destroy');\n  this.model.removeContextListeners();\n  this.model.destroy();\n  delete this.page._components[this.id];\n  var components = this.page._eventModel.object.$components;\n  if (components) delete components.object[this.id];\n  this.isDestroyed = true;\n};\n\n// Apply calls to the passed in function with the component as the context.\n// Stop calling back once the component is destroyed, which avoids possible bugs\n// and memory leaks.\nComponent.prototype.bind = function(callback) {\n  var component = this;\n  this.on('destroy', function() {\n    // Reduce potential for memory leaks by removing references to the component\n    // and the passed in callback, which could have closure references\n    component = null;\n    // Cease calling back after component is removed from the DOM\n    callback = null;\n  });\n  return function componentBindWrapper() {\n    if (!callback) return;\n    return callback.apply(component, arguments);\n  };\n};\n\n// When passing in a numeric delay, calls the function at most once per that\n// many milliseconds. Like Underscore, the function will be called on the\n// leading and the trailing edge of the delay as appropriate. Unlike Underscore,\n// calls are consistently called via setTimeout and are never synchronous. This\n// should be used for reducing the frequency of ongoing updates, such as scroll\n// events or other continuous streams of events.\n//\n// Additionally, implements an interface intended to be used with\n// window.requestAnimationFrame or process.nextTick. If one of these is passed,\n// it will be used to create a single async call following any number of\n// synchronous calls. This mode is typically used to coalesce many synchronous\n// events (such as multiple model events) into a single async event.\n//\n// Like component.bind(), will no longer call back once the component is\n// destroyed, which avoids possible bugs and memory leaks.\nComponent.prototype.throttle = function(callback, delayArg) {\n  var component = this;\n  this.on('destroy', function() {\n    // Reduce potential for memory leaks by removing references to the component\n    // and the passed in callback, which could have closure references\n    component = null;\n    // Cease calling back after component is removed from the DOM\n    callback = null;\n  });\n\n  // throttle(callback)\n  // throttle(callback, 150)\n  if (delayArg == null || typeof delayArg === 'number') {\n    var delay = delayArg || 0;\n    var nextArgs;\n    var previous;\n    var boundCallback = function() {\n      var args = nextArgs;\n      nextArgs = null;\n      previous = +new Date();\n      if (callback && args) {\n        callback.apply(component, args);\n      }\n    };\n    return function componentThrottleWrapper() {\n      var queueCall = !nextArgs;\n      nextArgs = slice.call(arguments);\n      if (queueCall) {\n        var now = +new Date();\n        var remaining = Math.max(previous + delay - now, 0);\n        setTimeout(boundCallback, remaining);\n      }\n    };\n  }\n\n  // throttle(callback, window.requestAnimationFrame)\n  // throttle(callback, process.nextTick)\n  if (typeof delayArg === 'function') {\n    var nextArgs;\n    var boundCallback = function() {\n      var args = nextArgs;\n      nextArgs = null;\n      if (callback && args) {\n        callback.apply(component, args);\n      }\n    };\n    return function componentThrottleWrapper() {\n      var queueCall = !nextArgs;\n      nextArgs = slice.call(arguments);\n      if (queueCall) delayArg(boundCallback);\n    };\n  }\n\n  throw new Error('Second argument must be a delay function or number');\n};\n\n// Suppresses calls until the function is no longer called for that many\n// milliseconds. This should be used for delaying updates triggered by user\n// input, such as window resizing, or typing text that has a live preview or\n// client-side validation. This should not be used for inputs that trigger\n// server requests, such as search autocomplete; use debounceAsync for those\n// cases instead.\n//\n// Like component.bind(), will no longer call back once the component is\n// destroyed, which avoids possible bugs and memory leaks.\nComponent.prototype.debounce = function(callback, delay) {\n  delay = delay || 0;\n  if (typeof delay !== 'number') {\n    throw new Error('Second argument must be a number');\n  }\n  var component = this;\n  this.on('destroy', function() {\n    // Reduce potential for memory leaks by removing references to the component\n    // and the passed in callback, which could have closure references\n    component = null;\n    // Cease calling back after component is removed from the DOM\n    callback = null;\n  });\n  var nextArgs;\n  var timeout;\n  var boundCallback = function() {\n    var args = nextArgs;\n    nextArgs = null;\n    timeout = null;\n    if (callback && args) {\n      callback.apply(component, args);\n    }\n  };\n  return function componentDebounceWrapper() {\n    nextArgs = slice.call(arguments);\n    if (timeout) clearTimeout(timeout);\n    timeout = setTimeout(boundCallback, delay);\n  };\n};\n\n// Forked from: https://github.com/juliangruber/async-debounce\n//\n// Like debounce(), suppresses calls until the function is no longer called for\n// that many milliseconds. In addition, suppresses calls while the callback\n// function is running. In other words, the callback will not be called again\n// until the supplied done() argument is called. When the debounced function is\n// called while the callback is running, the callback will be called again\n// immediately after done() is called. Thus, the callback will always receive\n// the last value passed to the debounced function.\n//\n// This avoids the potential for multiple callbacks to execute in parallel and\n// complete out of order. It also acts as an adaptive rate limiter. Use this\n// method to debounce any field that triggers an async call as the user types.\n//\n// Like component.bind(), will no longer call back once the component is\n// destroyed, which avoids possible bugs and memory leaks.\nComponent.prototype.debounceAsync = function(callback, delay) {\n  var applyArguments = callback.length !== 1;\n  delay = delay || 0;\n  if (typeof delay !== 'number') {\n    throw new Error('Second argument must be a number');\n  }\n  var component = this;\n  this.on('destroy', function() {\n    // Reduce potential for memory leaks by removing references to the component\n    // and the passed in callback, which could have closure references\n    component = null;\n    // Cease calling back after component is removed from the DOM\n    callback = null;\n  });\n  var running = false;\n  var nextArgs;\n  var timeout;\n  function done() {\n    var args = nextArgs;\n    nextArgs = null;\n    timeout = null;\n    if (callback && args) {\n      running = true;\n      args.push(done);\n      callback.apply(component, args);\n    } else {\n      running = false;\n    }\n  }\n  return function componentDebounceAsyncWrapper() {\n    nextArgs = (applyArguments) ? slice.call(arguments) : [];\n    if (timeout) clearTimeout(timeout);\n    if (running) return;\n    timeout = setTimeout(done, delay);\n  };\n};\n\nComponent.prototype.get = function(viewName, unescaped) {\n  var view = this.getView(viewName);\n  return view.get(this.context, unescaped);\n};\n\nComponent.prototype.getFragment = function(viewName) {\n  var view = this.getView(viewName);\n  return view.getFragment(this.context);\n};\n\nComponent.prototype.getView = function(viewName) {\n  var contextView = this.context.getView();\n  return (viewName) ?\n    this.app.views.find(viewName, contextView.namespace) : contextView;\n};\n\nComponent.prototype.getAttribute = function(key) {\n  var attributeContext = this.context.forAttribute(key);\n  if (!attributeContext) return;\n  var value = attributeContext.attributes[key];\n  if (value instanceof expressions.Expression) {\n    value = value.get(attributeContext);\n  }\n  return expressions.renderValue(value, this.context);\n};\n\nComponent.prototype.setAttribute = function(key, value) {\n  this.context.parent.attributes[key] = value;\n};\n\nComponent.prototype.setNullAttribute = function(key, value) {\n  var attributes = this.context.parent.attributes;\n  if (attributes[key] == null) attributes[key] = value;\n};\n\nfunction ComponentAttribute(expression, model, key) {\n  this.expression = expression;\n  this.model = model;\n  this.key = key;\n}\nComponentAttribute.prototype.update = function(context, binding) {\n  var value = this.expression.get(context);\n  binding.condition = value;\n  this.model.setDiff(this.key, value);\n};\nfunction ComponentAttributeBinding(expression, model, key, context) {\n  this.template = new ComponentAttribute(expression, model, key);\n  this.context = context;\n  this.condition = expression.get(context);\n}\nComponentAttributeBinding.prototype = Object.create(templates.Binding.prototype);\nComponentAttributeBinding.prototype.constructor = ComponentAttributeBinding;\n\nfunction setModelAttributes(context, model) {\n  var attributes = context.parent.attributes;\n  if (!attributes) return;\n  // Set attribute values on component model\n  for (var key in attributes) {\n    var value = attributes[key];\n    setModelAttribute(context, model, key, value);\n  }\n}\n\nfunction setModelAttribute(context, model, key, value) {\n  // If an attribute is an Expression, set its current value in the model\n  // and keep it up to date. When it is a resolvable path, use a Racer ref,\n  // which makes it a two-way binding. Otherwise, set to the current value\n  // and create a binding that will set the value in the model as the\n  // expression's dependencies change.\n  if (value instanceof expressions.Expression) {\n    var segments = value.pathSegments(context);\n    if (segments) {\n      model.root.ref(model._at + '.' + key, segments.join('.'), {updateIndices: true});\n    } else {\n      var binding = new ComponentAttributeBinding(value, model, key, context);\n      context.addBinding(binding);\n      model.set(key, binding.condition);\n    }\n    return;\n  }\n\n  // If an attribute is a Template, set a template object in the model.\n  // Eagerly rendering a template can cause excessive rendering when the\n  // developer wants to pass in a complex chunk of HTML, and if we were to\n  // set a string in the model that represents the template value, we'd lose\n  // the ability to use the value in the component's template, since HTML\n  // would be escaped and we'd lose the ability to create proper bindings.\n  //\n  // This may be of surprise to developers, since it may not be intuitive\n  // whether a passed in value will produce an expression or a template. To\n  // get the rendered value consistently, the component's getAttribute(key)\n  // method may be used to get the value that would be rendered.\n  if (value instanceof templates.Template) {\n    var template = new templates.ContextClosure(value, context);\n    model.set(key, template);\n    return;\n  }\n\n  // For all other value types, set the passed in value directly. Passed in\n  // values will only be set initially, so model paths should be used if\n  // bindings are desired.\n  model.set(key, value);\n}\n\nfunction createFactory(constructor) {\n  // DEPRECATED: constructor.prototype.singleton is deprecated. \"singleton\"\n  // static property on the constructor is preferred\n  return (constructor.singleton || constructor.prototype.singleton) ?\n    new SingletonComponentFactory(constructor) :\n    new ComponentFactory(constructor);\n}\n\nfunction emitInitHooks(context, component) {\n  if (!context.initHooks) return;\n  // Run initHooks for `on` listeners immediately before init\n  for (var i = 0, len = context.initHooks.length; i < len; i++) {\n    context.initHooks[i].emit(context, component);\n  }\n}\n\nfunction ComponentModelData() {\n  this.id = null;\n  this.$controller = null;\n}\n\nfunction ComponentFactory(constructor) {\n  this.constructor = constructor;\n}\nComponentFactory.prototype.init = function(context) {\n  var DataConstructor = this.constructor.DataConstructor || ComponentModelData;\n  var data = new DataConstructor();\n  var component = new this.constructor(context, data);\n  // Detect whether the component constructor already called super by checking\n  // for one of the properties it sets. If not, call the Component constructor\n  if (!component.context) {\n    Component.call(component, context, data);\n  }\n\n  setModelAttributes(component.context, component.model);\n\n  // Do the user-specific initialization. The component constructor should be\n  // an empty function and the actual initialization code should be done in the\n  // component's init method. This means that we don't have to rely on users\n  // properly calling the Component constructor method and avoids having to\n  // play nice with how CoffeeScript extends class constructors\n  emitInitHooks(context, component);\n  component.emit('init', component);\n  if (component.init) component.init(component.model);\n\n  return component.context;\n};\nComponentFactory.prototype.create = function(context) {\n  var component = context.controller;\n  component.emit('create', component);\n  // Call the component's create function after its view is rendered\n  if (component.create) {\n    component.create(component.model, component.dom);\n  }\n};\n\nfunction noop() {}\n\nfunction SingletonComponentFactory(constructor) {\n  this.constructor = constructor;\n  this.component = null;\n  // Disable component from being destroyed, since it is intended to\n  // be used multiple times\n  constructor.prototype.destroy = noop;\n}\nSingletonComponentFactory.prototype.isSingleton = true;\nSingletonComponentFactory.prototype.init = function(context) {\n  if (!this.component) this.component = new this.constructor();\n  return context.componentChild(this.component);\n};\n// Don't call the init or create methods for singleton components\nSingletonComponentFactory.prototype.create = noop;\n\nfunction isBasePrototype(object) {\n  return (object === Object.prototype) ||\n    (object === Function.prototype) ||\n    (object === null);\n}\nfunction getRootPrototype(object) {\n  while (true) {\n    var prototype = Object.getPrototypeOf(object);\n    if (isBasePrototype(prototype)) return object;\n    object = prototype;\n  }\n}\nvar _extendComponent = (Object.setPrototypeOf && Object.getPrototypeOf) ?\n  // Modern version, which supports ES6 classes\n  function(constructor) {\n    // Find the end of the prototype chain\n    var rootPrototype = getRootPrototype(constructor.prototype);\n\n    // This guard is a workaroud to a bug that has occurred in Chakra when\n    // app.component() is invoked twice on the same constructor. In that case,\n    // the `instanceof Component` check in extendComponent incorrectly returns\n    // false after the prototype has already been set to `Component.prototype`.\n    // Then, this code proceeds to set the prototype of Component.prototype\n    // to itself, which throws a \"Cyclic __proto__ value\" error.\n    // https://github.com/Microsoft/ChakraCore/issues/5915\n    if (rootPrototype === Component.prototype) return;\n\n    // Establish inheritance with the pattern that Node's util.inherits() uses\n    // if Object.setPrototypeOf() is available (all modern browsers & IE11).\n    // This inhertance pattern is not equivalent to class extends, but it does\n    // work to make instances of the constructor inherit the desired prototype\n    // https://github.com/nodejs/node/issues/4179\n    Object.setPrototypeOf(rootPrototype, Component.prototype);\n  } :\n  // Fallback for older browsers\n  function(constructor) {\n    // In this version, we iterate over all of the properties on the\n    // constructor's prototype and merge them into a new prototype object.\n    // This flattens the prototype chain, meaning that instanceof will not\n    // work for classes from which the current component inherits\n    var prototype = constructor.prototype;\n    // Otherwise, modify constructor.prototype. This won't work with ES6\n    // classes, since their prototype property is non-writeable. However, it\n    // does work in older browsers that don't support Object.setPrototypeOf(),\n    // and those browsers don't support ES6 classes either\n    constructor.prototype = Object.create(Component.prototype);\n    constructor.prototype.constructor = constructor;\n    util.mergeInto(constructor.prototype, prototype);\n  };\nfunction extendComponent(constructor) {\n  // Don't do anything if the constructor already extends Component\n  if (constructor.prototype instanceof Component) return;\n  // Otherwise, append Component.prototype to constructor's prototype chain\n  _extendComponent(constructor);\n}\n",
    "var expressions = require('derby-templates').expressions;\n\n// The many trees of bindings:\n//\n// - Model tree, containing your actual data. Eg:\n//    {users:{fred:{age:40}, wilma:{age:37}}}\n//\n// - Event model tree, whose structure mirrors the model tree. The event model\n//   tree lets us annotate the model tree with listeners which fire when events\n//   change. I think there are three types of listeners:\n//\n//   1. Reference binding binds to whatever is referred to by the path. Eg,\n//   {{each items as item}} binds item by reference as it goes through the\n//   list.\n//   2. Fixed path bindings explicitly bind to whatever is at that path\n//   regardless of how the model changes underneath the event model\n//   3. Listen on a subtree and fire when anything in the subtree changes. This\n//   is used for custom functions.\n//\n// {{foo.id}} would listen on the fixed path ['foo', 'id'].\n//\n//\n// - Context tree represents the changing (embedded) contexts of the templating\n//   engine. This maps to the tree of templates and allows templates to reference\n//   anything in any of their enclosing template scopes.\n//\n\nmodule.exports = EventModel;\n\n// The code here uses object-based set pattern where objects are keyed using\n// sequentially generated IDs.\nvar nextId = 1;\n\n// A binding object is something with update(), insert()/move()/remove() defined.\n\n\n// Given x[y] with model.get(y) == 5:\n//  item = 5\n//  segments = ['y']\n//  outside = the EventModel for x.\n//\n// Note that item could be a Context or another ModelRef - eg:\n//\n// {{ each foo as bar }} ... {{ x[bar] }}  -or-  {{ x[y[z]] }}\nfunction ModelRef(model, item, segments, outside) {\n  this.id = nextId++;\n\n  // We need a reference to the model & our segment list so we can update our\n  // value.\n  this.model = model;\n  this.segments = segments;\n\n  // Our current value.\n  this.item = item;\n\n  // outside is a reference to the EventModel of the thing on the lhs of the\n  // brackets. For example, in x[y].z, outside is the EventModel of x.\n  this.outside = outside;\n\n  // result is the EventModel of the evaluated version of the brackets. In\n  // x[y].z, its the EventModel of x[y].\n  this.result = outside.child(item).refChild(this);\n}\n\nModelRef.prototype.update = function() {\n  var segments = expressions.pathSegments(this.segments);\n  var newItem = expressions.lookup(segments, this.model.data);\n  if (this.item === newItem) return;\n\n  // First remove myself.\n  delete this.outside.child(this.item).refChildren[this.id];\n\n  this.item = newItem;\n\n  var container = this.outside.child(this.item);\n  // I want to just call refChild but that would create a new EM. Instead I\n  // want to just implant my current EM there.\n  if (!container.refChildren) container.refChildren = new RefChildrenMap();\n  container.refChildren[this.id] = this.result;\n\n  // Finally, update all the bindings in the tree.\n  this.result.update();\n};\n\n\nfunction RefOutMap() {}\nfunction RefChildrenMap() {}\nfunction BindingsMap() {}\nfunction ItemContextsMap() {}\nfunction EventModelsMap() {}\n\nfunction EventModel() {\n  this.id = nextId++;\n\n  // Most of these won't ever be filled in, so I'm just leaving them null.\n  //\n  // These contain our EventModel children.\n  this.object = null;\n  this.array = null;\n\n  // This contains any EventModel children which have floating references.\n  this.arrayByReference = null;\n\n  // If the data stored here is ever used to lookup other values, this is an\n  // object mapping remote child ID -> ref.\n  //\n  // Eg given x[y], y.refOut[x.id] = <Binding>\n  this.refOut = null;\n\n  // This is a map from ref id -> event model for events bound to this\n  // EventModel but via a ref. We could just merge them into the main tree, but\n  // this way they're easy to move.\n  //\n  // Eg, given x[y] (y=1), x.1.refChildren[ref id] is an EventModel.\n  this.refChildren = null;\n\n  this.bindings = null;\n\n  // Item contexts are contexts which need their item number changed as this\n  // EventModel object moves around its surrounding list.\n  this.itemContexts = null;\n}\n\nEventModel.prototype.refChild = function(ref) {\n  if (!this.refChildren) this.refChildren = new RefChildrenMap();\n  var id = ref.id;\n\n  if (!this.refChildren[id]) {\n    this.refChildren[id] = new EventModel();\n  }\n  return this.refChildren[id];\n};\n\nEventModel.prototype.arrayLookup = function(model, segmentsBefore, segmentsInside) {\n  var segments = expressions.pathSegments(segmentsInside);\n  var item = expressions.lookup(segments, model.data);\n\n  var source = this.at(segmentsInside);\n\n  // What the array currently resolves to. Given x[y] with y=1, container is\n  // the EM for x\n  var container = this.at(segmentsBefore);\n\n  if (!source.refOut) source.refOut = new RefOutMap();\n\n  var ref = source.refOut[container.id];\n  if (ref == null) {\n    ref = new ModelRef(model, item, segmentsInside, container);\n    source.refOut[container.id] = ref;\n  }\n\n  return ref;\n};\n\n// Returns the EventModel node of the named child.\nEventModel.prototype.child = function(segment) {\n  var container;\n  if (typeof segment === 'string') {\n    // Object\n    if (!this.object) this.object = {};\n    container = this.object;\n\n  } else if (typeof segment === 'number') {\n    // Array by value\n    if (!this.array) this.array = [];\n    container = this.array;\n\n  } else if (segment instanceof ModelRef) {\n    // Array reference. We'll need to lookup the child with the right\n    // value, then look inside its ref children for the right EventModel\n    // (so we can update it later). This is pretty janky, but should be\n    // *correct* even in the face of recursive array accessors.\n    //\n    // This will calculate it based on the current segment values, but refs\n    // cache the EM anyway.\n    //return this.child(segment.item).refChild(segment);\n    return segment.result;\n\n  } else {\n    // Array by reference\n    if (!this.arrayByReference) this.arrayByReference = [];\n    container = this.arrayByReference;\n    segment = segment.item;\n  }\n\n  return container[segment] || (container[segment] = new EventModel());\n};\n\n// Returns the EventModel node at the given segments list. Note that although\n// EventModel nodes are unique, its possible for multiple EventModel nodes to\n// refer to the same section of the model because of references.\n//\n// If you want to update the bindings that refer to a specific path, use\n// each().\n//\n// EventModel objects are created as needed.\nEventModel.prototype.at = function(segments) {\n  // For unbound dependancies.\n  if (segments == null) return this;\n\n  var eventModel = this;\n\n  for (var i = 0; i < segments.length; i++) {\n    eventModel = eventModel.child(segments[i]);\n  }\n\n  return eventModel;\n};\n\nEventModel.prototype.isEmpty = function() {\n  if (hasKeys(this.dependancies)) return false;\n  if (hasKeys(this.itemContexts)) return false;\n\n  if (this.object) {\n    if (hasKeys(this.object)) return false;\n    this.object = null;\n  }\n\n  if (this.arrayByReference) {\n    for (var i = 0; i < this.arrayByReference.length; i++) {\n      if (this.arrayByReference[i] != null) return false;\n    }\n    this.arrayByReference = null;\n  }\n\n  if (this.array) {\n    for (var i = 0; i < this.array.length; i++) {\n      if (this.array[i] != null) return false;\n    }\n    this.array = null;\n  }\n\n  return true;\n};\n\nfunction hasKeys(object) {\n  for (var key in object) {\n    return true;\n  }\n  return false;\n}\n\n\n// **** Updating the EventModel\n\nEventModel.prototype._addItemContext = function(context) {\n  if (!context._id) context._id = nextId++;\n  if (!this.itemContexts) this.itemContexts = new ItemContextsMap();\n  this.itemContexts[context._id] = context;\n};\n\nEventModel.prototype._removeItemContext = function(context) {\n  if (this.itemContexts) {\n    delete this.itemContexts[context._id];\n  }\n};\n\nEventModel.prototype._addBinding = function(binding) {\n  var bindings = this.bindings || (this.bindings = new BindingsMap());\n  binding.eventModels || (binding.eventModels = new EventModelsMap());\n  bindings[binding.id] = binding;\n  binding.eventModels[this.id] = this;\n};\n\n// This is the main hook to add bindings to the event model tree. It should\n// only be called on the root EventModel object.\nEventModel.prototype.addBinding = function(segments, binding) {\n  this.at(segments)._addBinding(binding);\n};\n\n// This is used for objects (contexts in derby's case) that have a .item\n// property which refers to an array index.\nEventModel.prototype.addItemContext = function(segments, context) {\n  this.at(segments)._addItemContext(context);\n};\n\nEventModel.prototype.removeBinding = function(binding) {\n  if (!binding.eventModels) return;\n  for (var id in binding.eventModels) {\n    var eventModel = binding.eventModels[id];\n    if (eventModel.bindings) delete eventModel.bindings[binding.id];\n  }\n  binding.eventModels = null;\n};\n\nEventModel.prototype._each = function(segments, pos, fn) {\n  // Our refChildren are effectively merged into this object.\n  if (this.refChildren) {\n    for (var id in this.refChildren) {\n      var refChild = this.refChildren[id];\n      if (refChild) refChild._each(segments, pos, fn);\n    }\n  }\n\n  if (segments.length === pos) {\n    fn(this);\n    return;\n  }\n\n  var segment = segments[pos];\n  var child;\n  if (typeof segment === 'string') {\n    // Object. Just recurse into our objects set. Its possible to rewrite this\n    // function to simply loop in the case of object lookups, but I don't think\n    // it'll buy us much.\n    child = this.object && this.object[segment];\n    if (child) child._each(segments, pos + 1, fn);\n\n  } else {\n    // Number. Recurse both into the fixed list and the reference list.\n    child = this.array && this.array[segment];\n    if (child) child._each(segments, pos + 1, fn);\n\n    child = this.arrayByReference && this.arrayByReference[segment];\n    if (child) child._each(segments, pos + 1, fn);\n  }\n};\n\n// Called when the scalar value at the path changes. This only calls update()\n// on this node. See update() below if you want to update entire\n// subtrees.\nEventModel.prototype.localUpdate = function(previous, pass) {\n  if (this.bindings) {\n    for (var id in this.bindings) {\n      var binding = this.bindings[id];\n      if (binding) binding.update(previous, pass);\n    }\n  }\n\n  // If our value changed, we also need to update anything that depends on it\n  // via refOut.\n  if (this.refOut) {\n    for (var id in this.refOut) {\n      var ref = this.refOut[id];\n      if (ref) ref.update();\n    }\n  }\n};\n\n// This is used when an object subtree is replaced / removed.\nEventModel.prototype.update = function(previous, pass) {\n  this.localUpdate(previous, pass);\n\n  if (this.object) {\n    for (var key in this.object) {\n      var binding = this.object[key];\n      if (binding) binding.update();\n    }\n  }\n\n  if (this.array) {\n    for (var i = 0; i < this.array.length; i++) {\n      var binding = this.array[i];\n      if (binding) binding.update();\n    }\n  }\n\n  if (this.arrayByReference) {\n    for (var i = 0; i < this.arrayByReference.length; i++) {\n      var binding = this.arrayByReference[i];\n      if (binding) binding.update();\n    }\n  }\n};\n\n// Updates the indexes in itemContexts of our children in the range of\n// [from, to). from and to both optional.\nEventModel.prototype._updateChildItemContexts = function(from, to) {\n  if (!this.arrayByReference) return;\n\n  if (from == null) from = 0;\n  if (to == null) to = this.arrayByReference.length;\n\n  for (var i = from; i < to; i++) {\n    var contexts = this.arrayByReference[i] &&\n      this.arrayByReference[i].itemContexts;\n    if (contexts) {\n      for (var key in contexts) {\n        contexts[key].item = i;\n      }\n    }\n  }\n};\n\n// Updates our array-by-value values. They have to recursively update every\n// binding in their children. Sad.\nEventModel.prototype._updateArray = function(from, to) {\n  if (!this.array) return;\n\n  if (from == null) from = 0;\n  if (to == null) to = this.array.length;\n\n  for (var i = from; i < to; i++) {\n    var binding = this.array[i];\n    if (binding) binding.update();\n  }\n};\n\nEventModel.prototype._updateObject = function() {\n  if (this.object) {\n    for (var key in this.object) {\n      var binding = this.object[key];\n      if (binding) binding.update();\n    }\n  }\n};\n\nEventModel.prototype._set = function(previous, pass) {\n  // This just updates anything thats bound to the whole subtree. An alternate\n  // implementation could be passed in the new value at this node (which we\n  // cache), then compare with the old version and only update parts of the\n  // subtree which are relevant. I don't know if thats an important\n  // optimization - it really depends on your use case.\n  this.update(previous, pass);\n};\n\n// Insert into this EventModel node.\nEventModel.prototype._insert = function(index, howMany) {\n  // Update fixed paths\n  this._updateArray(index);\n\n  // Update relative paths\n  if (this.arrayByReference && this.arrayByReference.length > index) {\n    // Shift the actual items in the array references array.\n\n    // This probably isn't the best way to implement insert. Other options are\n    // using concat() on slices or though constructing a temporary array and\n    // using splice.call. Hopefully if this method is slow it'll come up during\n    // profiling.\n    for (var i = 0; i < howMany; i++) {\n      this.arrayByReference.splice(index, 0, null);\n    }\n\n    // Update the path in the contexts\n    this._updateChildItemContexts(index + howMany);\n  }\n\n  // Finally call our bindings.\n  if (this.bindings) {\n    for (var id in this.bindings) {\n      var binding = this.bindings[id];\n      if (binding) binding.insert(index, howMany);\n    }\n  }\n  this._updateObject();\n};\n\n// Remove howMany child elements from this EventModel at index.\nEventModel.prototype._remove = function(index, howMany) {\n  // Update fixed paths. Both the removed items and items after it may have changed.\n  this._updateArray(index);\n\n  if (this.arrayByReference) {\n    // Update relative paths. First throw away all the children which have been removed.\n    this.arrayByReference.splice(index, howMany);\n\n    this._updateChildItemContexts(index);\n  }\n\n  // Call bindings.\n  if (this.bindings) {\n    for (var id in this.bindings) {\n      var binding = this.bindings[id];\n      if (binding) binding.remove(index, howMany);\n    }\n  }\n  this._updateObject();\n};\n\n// Move howMany items from `from` to `to`.\nEventModel.prototype._move = function(from, to, howMany) {\n  // first points to the first element that was moved. end points to the list\n  // element past the end of the changed region.\n  var first, end;\n  if (from < to) {\n    first = from;\n    end = to + howMany;\n  } else {\n    first = to;\n    end = from + howMany;\n  }\n\n  // Update fixed paths.\n  this._updateArray(first, end);\n\n  // Update relative paths\n  var arr = this.arrayByReference;\n  if (arr && arr.length > first) {\n    // Remove from the old location\n    var values = arr.splice(from, howMany);\n\n    // Insert at the new location\n    arr.splice.apply(arr, [to, 0].concat(values));\n\n    // Update the path in the contexts\n    this._updateChildItemContexts(first, end);\n  }\n\n  // Finally call our bindings.\n  if (this.bindings) {\n    for (var id in this.bindings) {\n      var binding = this.bindings[id];\n      if (binding) binding.move(from, to, howMany);\n    }\n  }\n  this._updateObject();\n};\n\n\n// Helpers.\n\nEventModel.prototype.mutate = function(segments, fn) {\n  // This finds & returns a list of all event models which exist and could match\n  // the specified path. The path cannot contain contexts like derby expression\n  // segment lists (just because I don't think thats a useful feature and its not\n  // implemented)\n  this._each(segments, 0, fn);\n\n  // Also emit all mutations as sets on star paths, which are how dependencies\n  // for view helper functions are represented. They should react to a path\n  // or any child path being modified\n  for (var i = 0, len = segments.length; i++ < len;) {\n    var wildcardSegments = segments.slice(0, i);\n    wildcardSegments.push('*');\n    this._each(wildcardSegments, 0, childSetWildcard);\n  }\n};\n\nfunction childSetWildcard(child) {\n  child._set();\n}\n\nEventModel.prototype.set = function(segments, previous, pass) {\n  this.mutate(segments, function childSet(child) {\n    child._set(previous, pass);\n  });\n};\n\nEventModel.prototype.insert = function(segments, index, howMany) {\n  this.mutate(segments, function childInsert(child) {\n    child._insert(index, howMany);\n  });\n};\n\nEventModel.prototype.remove = function(segments, index, howMany) {\n  this.mutate(segments, function childRemove(child) {\n    child._remove(index, howMany);\n  });\n};\n\nEventModel.prototype.move = function(segments, from, to, howMany) {\n  this.mutate(segments, function childMove(child) {\n    child._move(from, to, howMany);\n  });\n};\n",
    "exports.onStringInsert = onStringInsert;\nexports.onStringRemove = onStringRemove;\nexports.onTextInput = onTextInput;\n\nfunction onStringInsert(el, previous, index, text) {\n  function transformCursor(cursor) {\n    return (index < cursor) ? cursor + text.length : cursor;\n  }\n  previous || (previous = '');\n  var newText = previous.slice(0, index) + text + previous.slice(index);\n  replaceText(el, newText, transformCursor);\n}\n\nfunction onStringRemove(el, previous, index, howMany) {\n  function transformCursor(cursor) {\n    return (index < cursor) ? cursor - Math.min(howMany, cursor - index) : cursor;\n  }\n  previous || (previous = '');\n  var newText = previous.slice(0, index) + previous.slice(index + howMany);\n  replaceText(el, newText, transformCursor);\n}\n\nfunction replaceText(el, newText, transformCursor) {\n  var selectionStart = transformCursor(el.selectionStart);\n  var selectionEnd = transformCursor(el.selectionEnd);\n\n  var scrollTop = el.scrollTop;\n  el.value = newText;\n  if (el.scrollTop !== scrollTop) {\n    el.scrollTop = scrollTop;\n  }\n  if (document.activeElement === el) {\n    el.selectionStart = selectionStart;\n    el.selectionEnd = selectionEnd;\n  }\n}\n\nfunction onTextInput(model, segments, value) {\n  var previous = model._get(segments) || '';\n  if (previous === value) return;\n  var start = 0;\n  while (previous.charAt(start) === value.charAt(start)) {\n    start++;\n  }\n  var end = 0;\n  while (\n    previous.charAt(previous.length - 1 - end) === value.charAt(value.length - 1 - end) &&\n    end + start < previous.length &&\n    end + start < value.length\n  ) {\n    end++;\n  }\n\n  if (previous.length !== start + end) {\n    var howMany = previous.length - start - end;\n    model._stringRemove(segments, start, howMany);\n  }\n  if (value.length !== start + end) {\n    var inserted = value.slice(start, value.length - end);\n    model._stringInsert(segments, start, inserted);\n  }\n}\n",
    "var derbyTemplates = require('derby-templates');\nvar contexts = derbyTemplates.contexts;\nvar expressions = derbyTemplates.expressions;\nvar templates = derbyTemplates.templates;\nvar DependencyOptions = derbyTemplates.options.DependencyOptions;\nvar util = require('racer/lib/util');\nvar components = require('./components');\nvar EventModel = require('./eventmodel');\nvar textDiff = require('./textDiff');\nvar Controller = require('./Controller');\nvar documentListeners = require('./documentListeners');\n\nmodule.exports = Page;\n\nfunction Page(app, model) {\n  Controller.call(this, app, this, model);\n  this.params = null;\n  if (this.init) this.init(model);\n  this.context = this._createContext();\n  this._eventModel = null;\n  this._removeModelListeners = null;\n  this._components = {};\n  this._addListeners();\n}\n\nutil.mergeInto(Page.prototype, Controller.prototype);\n\nPage.prototype.$bodyClass = function(ns) {\n  if (!ns) return;\n  var classNames = [];\n  var segments = ns.split(':');\n  for (var i = 0, len = segments.length; i < len; i++) {\n    var className = segments.slice(0, i + 1).join('-');\n    classNames.push(className);\n  }\n  return classNames.join(' ');\n};\n\nPage.prototype.$preventDefault = function(e) {\n  e.preventDefault();\n};\n\nPage.prototype.$stopPropagation = function(e) {\n  e.stopPropagation();\n};\n\nPage.prototype._setRenderParams = function(ns) {\n  this.model.set('$render.ns', ns);\n  this.model.set('$render.params', this.params);\n  this.model.set('$render.url', this.params && this.params.url);\n  this.model.set('$render.query', this.params && this.params.query);\n};\n\nPage.prototype._setRenderPrefix = function(ns) {\n  var prefix = (ns) ? ns + ':' : '';\n  this.model.set('$render.prefix', prefix);\n};\n\nPage.prototype.get = function(viewName, ns, unescaped) {\n  this._setRenderPrefix(ns);\n  var view = this.getView(viewName, ns);\n  return view.get(this.context, unescaped);\n};\n\nPage.prototype.getFragment = function(viewName, ns) {\n  this._setRenderPrefix(ns);\n  var view = this.getView(viewName, ns);\n  return view.getFragment(this.context);\n};\n\nPage.prototype.getView = function(viewName, ns) {\n  return this.app.views.find(viewName, ns);\n};\n\nPage.prototype.render = function(ns) {\n  this.app.emit('render', this);\n  this.context.pause();\n  this._setRenderParams(ns);\n  var titleFragment = this.getFragment('TitleElement', ns);\n  var bodyFragment = this.getFragment('BodyElement', ns);\n  var titleElement = document.getElementsByTagName('title')[0];\n  titleElement.parentNode.replaceChild(titleFragment, titleElement);\n  document.body.parentNode.replaceChild(bodyFragment, document.body);\n  this.context.unpause();\n  if (this.create) this.create(this.model, this.dom);\n  this.app.emit('routeDone', this, 'render');\n};\n\nPage.prototype.attach = function() {\n  this.context.pause();\n  var ns = this.model.get('$render.ns');\n  var titleView = this.getView('TitleElement', ns);\n  var bodyView = this.getView('BodyElement', ns);\n  var titleElement = document.getElementsByTagName('title')[0];\n  titleView.attachTo(titleElement.parentNode, titleElement, this.context);\n  bodyView.attachTo(document.body.parentNode, document.body, this.context);\n  this.context.unpause();\n  if (this.create) this.create(this.model, this.dom);\n};\n\nPage.prototype._createContext = function() {\n  var contextMeta = new contexts.ContextMeta();\n  contextMeta.views = this.app && this.app.views;\n  var context = new contexts.Context(contextMeta, this);\n  context.expression = new expressions.PathExpression([]);\n  context.alias = '#root';\n  return context;\n};\n\nPage.prototype._addListeners = function() {\n  var eventModel = this._eventModel = new EventModel();\n  this._addModelListeners(eventModel);\n  this._addContextListeners(eventModel);\n};\n\nPage.prototype.destroy = function() {\n  this.emit('destroy');\n  this._removeModelListeners();\n  for (var id in this._components) {\n    var component = this._components[id];\n    component.destroy();\n  }\n  // Remove all data, refs, listeners, and reactive functions\n  // for the previous page\n  var silentModel = this.model.silent();\n  silentModel.destroy('_page');\n  silentModel.destroy('$components');\n  // Unfetch and unsubscribe from all queries and documents\n  silentModel.unloadAll && silentModel.unloadAll();\n};\n\nPage.prototype._addModelListeners = function(eventModel) {\n  var model = this.model;\n  if (!model) return;\n  // Registering model listeners with the *Immediate events helps to prevent\n  // a bug with binding updates where a model listener causes a change to the\n  // path being listened on, directly or indirectly.\n\n  // TODO: Remove this when upgrading Racer to the next major version. Feature\n  // detect which type of event listener to register by emitting a test event\n  if (useLegacyListeners(model)) {\n    return this._addModelListenersLegacy(eventModel);\n  }\n\n  // `util.castSegments(segments)` is needed to cast string segments into\n  // numbers, since EventModel#child does typeof checks against segments. This\n  // could be done once in Racer's Model#emit, instead of in every listener.\n  var changeListener = model.on('changeImmediate', function onChange(segments, event) {\n    // The pass parameter is passed in for special handling of updates\n    // resulting from stringInsert or stringRemove\n    segments = util.castSegments(segments.slice());\n    eventModel.set(segments, event.previous, event.pass);\n  });\n  var loadListener = model.on('loadImmediate', function onLoad(segments) {\n    segments = util.castSegments(segments.slice());\n    eventModel.set(segments);\n  });\n  var unloadListener = model.on('unloadImmediate', function onUnload(segments, event) {\n    segments = util.castSegments(segments.slice());\n    eventModel.set(segments, event.previous);\n  });\n  var insertListener = model.on('insertImmediate', function onInsert(segments, event) {\n    segments = util.castSegments(segments.slice());\n    eventModel.insert(segments, event.index, event.values.length);\n  });\n  var removeListener = model.on('removeImmediate', function onRemove(segments, event) {\n    segments = util.castSegments(segments.slice());\n    eventModel.remove(segments, event.index, event.values.length);\n  });\n  var moveListener = model.on('moveImmediate', function onMove(segments, event) {\n    segments = util.castSegments(segments.slice());\n    eventModel.move(segments, event.from, event.to, event.howMany);\n  });\n\n  this._removeModelListeners = function() {\n    model.removeListener('changeImmediate', changeListener);\n    model.removeListener('loadImmediate', loadListener);\n    model.removeListener('unloadImmediate', unloadListener);\n    model.removeListener('insertImmediate', insertListener);\n    model.removeListener('removeImmediate', removeListener);\n    model.removeListener('moveImmediate', moveListener);\n  };\n};\nfunction useLegacyListeners(model) {\n  var useLegacy = true;\n  // model.once is broken in older racer, so manually remove event\n  var listener = model.on('changeImmediate', function(segments, event) {\n    model.removeListener('changeImmediate', listener);\n    // Older Racer emits an array of eventArgs, whereas newer racer emits an event object\n    useLegacy = Array.isArray(event);\n  });\n  model.set('$derby.testEvent', true);\n  return useLegacy;\n}\nPage.prototype._addModelListenersLegacy = function(eventModel) {\n  var model = this.model;\n  if (!model) return;\n\n  // `util.castSegments(segments)` is needed to cast string segments into\n  // numbers, since EventModel#child does typeof checks against segments. This\n  // could be done once in Racer's Model#emit, instead of in every listener.\n  var changeListener = model.on('changeImmediate', function onChange(segments, eventArgs) {\n    // eventArgs[0] is the new value, which Derby bindings don't use directly.\n    var previous = eventArgs[1];\n    // The pass parameter is passed in for special handling of updates\n    // resulting from stringInsert or stringRemove\n    var pass = eventArgs[2];\n    segments = util.castSegments(segments.slice());\n    eventModel.set(segments, previous, pass);\n  });\n  var loadListener = model.on('loadImmediate', function onLoad(segments) {\n    segments = util.castSegments(segments.slice());\n    eventModel.set(segments);\n  });\n  var unloadListener = model.on('unloadImmediate', function onUnload(segments) {\n    segments = util.castSegments(segments.slice());\n    eventModel.set(segments);\n  });\n  var insertListener = model.on('insertImmediate', function onInsert(segments, eventArgs) {\n    var index = eventArgs[0];\n    var values = eventArgs[1];\n    segments = util.castSegments(segments.slice());\n    eventModel.insert(segments, index, values.length);\n  });\n  var removeListener = model.on('removeImmediate', function onRemove(segments, eventArgs) {\n    var index = eventArgs[0];\n    var values = eventArgs[1];\n    segments = util.castSegments(segments.slice());\n    eventModel.remove(segments, index, values.length);\n  });\n  var moveListener = model.on('moveImmediate', function onMove(segments, eventArgs) {\n    var from = eventArgs[0];\n    var to = eventArgs[1];\n    var howMany = eventArgs[2];\n    segments = util.castSegments(segments.slice());\n    eventModel.move(segments, from, to, howMany);\n  });\n\n  this._removeModelListeners = function() {\n    model.removeListener('changeImmediate', changeListener);\n    model.removeListener('loadImmediate', loadListener);\n    model.removeListener('unloadImmediate', unloadListener);\n    model.removeListener('insertImmediate', insertListener);\n    model.removeListener('removeImmediate', removeListener);\n    model.removeListener('moveImmediate', moveListener);\n  };\n};\n\nPage.prototype._addContextListeners = function(eventModel) {\n  this.context.meta.addBinding = addBinding;\n  this.context.meta.removeBinding = removeBinding;\n  this.context.meta.removeNode = removeNode;\n  this.context.meta.addItemContext = addItemContext;\n  this.context.meta.removeItemContext = removeItemContext;\n\n  function addItemContext(context) {\n    var segments = context.expression.resolve(context);\n    eventModel.addItemContext(segments, context);\n  }\n  function removeItemContext(context) {\n    // TODO\n  }\n  function addBinding(binding) {\n    patchTextBinding(binding);\n    var expressions = binding.template.expressions;\n    if (expressions) {\n      for (var i = 0, len = expressions.length; i < len; i++) {\n        addDependencies(eventModel, expressions[i], binding);\n      }\n    } else {\n      var expression = binding.template.expression;\n      addDependencies(eventModel, expression, binding);\n    }\n  }\n  function removeBinding(binding) {\n    var bindingWrappers = binding.meta;\n    if (!bindingWrappers) return;\n    for (var i = bindingWrappers.length; i--;) {\n      eventModel.removeBinding(bindingWrappers[i]);\n    }\n  }\n  function removeNode(node) {\n    var component = node.$component;\n    if (component) component.destroy();\n    var destroyListeners = node.$destroyListeners;\n    if (destroyListeners) {\n      for (var i = 0; i < destroyListeners.length; i++) {\n        destroyListeners[i]();\n      }\n    }\n  }\n};\n\nfunction addDependencies(eventModel, expression, binding) {\n  var bindingWrapper = new BindingWrapper(eventModel, expression, binding);\n  bindingWrapper.updateDependencies();\n}\n\n// The code here uses object-based set pattern where objects are keyed using\n// sequentially generated IDs.\nvar nextId = 1;\nfunction BindingWrapper(eventModel, expression, binding) {\n  this.eventModel = eventModel;\n  this.expression = expression;\n  this.binding = binding;\n  this.id = nextId++;\n  this.eventModels = null;\n  this.dependencies = null;\n  this.ignoreTemplateDependency = (\n    binding instanceof components.ComponentAttributeBinding\n  ) || (\n    (binding.template instanceof templates.DynamicText) &&\n    (binding instanceof templates.RangeBinding)\n  );\n  if (binding.meta) {\n    binding.meta.push(this);\n  } else {\n    binding.meta = [this];\n  }\n}\nBindingWrapper.prototype.updateDependencies = function() {\n  var dependencyOptions;\n  if (this.ignoreTemplateDependency && this.binding.condition instanceof templates.Template) {\n    dependencyOptions = new DependencyOptions();\n    dependencyOptions.setIgnoreTemplate(this.binding.condition);\n  }\n  var dependencies = this.expression.dependencies(this.binding.context, dependencyOptions);\n  if (this.dependencies) {\n    // Do nothing if dependencies haven't changed\n    if (equalDependencies(this.dependencies, dependencies)) return;\n    // Otherwise, remove current dependencies\n    this.eventModel.removeBinding(this);\n  }\n  // Add new dependencies\n  if (!dependencies) return;\n  this.dependencies = dependencies;\n  for (var i = 0, len = dependencies.length; i < len; i++) {\n    var dependency = dependencies[i];\n    if (dependency) this.eventModel.addBinding(dependency, this);\n  }\n};\nBindingWrapper.prototype.update = function(previous, pass) {\n  this.binding.update(previous, pass);\n  this.updateDependencies();\n};\nBindingWrapper.prototype.insert = function(index, howMany) {\n  this.binding.insert(index, howMany);\n  this.updateDependencies();\n};\nBindingWrapper.prototype.remove = function(index, howMany) {\n  this.binding.remove(index, howMany);\n  this.updateDependencies();\n};\nBindingWrapper.prototype.move = function(from, to, howMany) {\n  this.binding.move(from, to, howMany);\n  this.updateDependencies();\n};\n\nfunction equalDependencies(a, b) {\n  var lenA = a ? a.length : -1;\n  var lenB = b ? b.length : -1;\n  if (lenA !== lenB) return false;\n  for (var i = 0; i < lenA; i++) {\n    var itemA = a[i];\n    var itemB = b[i];\n    var lenItemA = itemA ? itemA.length : -1;\n    var lenItemB = itemB ? itemB.length : -1;\n    if (lenItemA !== lenItemB) return false;\n    for (var j = 0; j < lenItemB; j++) {\n      if (itemA[j] !== itemB[j]) return false;\n    }\n  }\n  return true;\n}\n\nfunction patchTextBinding(binding) {\n  if (\n    binding instanceof templates.AttributeBinding &&\n    binding.name === 'value' &&\n    (binding.element.tagName === 'INPUT' || binding.element.tagName === 'TEXTAREA') &&\n    documentListeners.inputSupportsSelection(binding.element) &&\n    binding.template.expression.resolve(binding.context)\n  ) {\n    binding.update = textInputUpdate;\n  }\n}\n\nfunction textInputUpdate(previous, pass) {\n  textUpdate(this, this.element, previous, pass);\n}\nfunction textUpdate(binding, element, previous, pass) {\n  if (pass) {\n    if (pass.$event && pass.$event.target === element) {\n      return;\n    } else if (pass.$stringInsert) {\n      return textDiff.onStringInsert(\n        element,\n        previous,\n        pass.$stringInsert.index,\n        pass.$stringInsert.text\n      );\n    } else if (pass.$stringRemove) {\n      return textDiff.onStringRemove(\n        element,\n        previous,\n        pass.$stringRemove.index,\n        pass.$stringRemove.howMany\n      );\n    }\n  }\n  binding.template.update(binding.context, binding);\n}\n",
    "/*DERBY_SERIALIZED_VIEWS*/module.exports = function(derbyTemplates, views){var expressions = derbyTemplates.expressions,templates = derbyTemplates.templates;views.deserialize([[function(){return this.template=new templates.Template([new templates.Element('title', void 0, [new templates.Block(new templates.Template([new templates.DynamicText(new expressions.PathExpression(['$render', 'prefix'], new expressions.ExpressionMeta('$render.prefix'))), new templates.Text('Title')], '{{$render.prefix}}Title'), [new templates.DynamicViewInstance(new templates.Template([new templates.DynamicText(new expressions.PathExpression(['$render', 'prefix'], new expressions.ExpressionMeta('$render.prefix'))), new templates.Text('Title')], '{{$render.prefix}}Title'), {})])], void 0, false)])},'TitleElement'],[function(){return this.template=new templates.Template([new templates.Element('body', {'class': new templates.DynamicAttribute(new expressions.FnExpression(['$bodyClass'], [new expressions.PathExpression(['$render', 'ns'])], void 0, new expressions.ExpressionMeta('$bodyClass($render.ns)')))}, [new templates.Block(new templates.Template([new templates.DynamicText(new expressions.PathExpression(['$render', 'prefix'], new expressions.ExpressionMeta('$render.prefix'))), new templates.Text('Body')], '{{$render.prefix}}Body'), [new templates.DynamicViewInstance(new templates.Template([new templates.DynamicText(new expressions.PathExpression(['$render', 'prefix'], new expressions.ExpressionMeta('$render.prefix'))), new templates.Text('Body')], '{{$render.prefix}}Body'), {})])], void 0, false, true)])},'BodyElement'],[function(){return this.template=new templates.Template([new templates.Text('Company directory')])},'Title'],[function(){return this.template=new templates.Template([new templates.Block(new expressions.PathExpression(['$render', 'ns'], new expressions.ExpressionMeta('$render.ns')), [new templates.DynamicViewInstance(new expressions.PathExpression(['$render', 'ns'], new expressions.ExpressionMeta('$render.ns')), {})])])},'Body'],[function(){return this.template=new templates.Template([])},'Tail'],[function(){return this.template=new templates.Template([new templates.Marker('dropdown:index'), new templates.Element('div', {'class': new templates.DynamicAttribute(new templates.Template([new templates.Text('dropdown '), new templates.DynamicText(new expressions.AttributePathExpression('class', [], new expressions.ExpressionMeta('@class'))), new templates.ConditionalBlock([new expressions.PathExpression(['open'], new expressions.ExpressionMeta('if open', 'if'))], [[new templates.Text(' open')]])], 'dropdown {{@class}}{{if open}} open{{/if}}'))}, [new templates.Element('button', {'id': new templates.DynamicAttribute(new templates.Template([new templates.Text('dropdown-toggle'), new templates.DynamicText(new expressions.PathExpression(['id'], new expressions.ExpressionMeta('id')))], 'dropdown-toggle{{id}}')), 'class': new templates.DynamicAttribute(new templates.Template([new templates.Text('btn '), new templates.DynamicText(new expressions.OperatorExpression('||', [new expressions.AttributePathExpression('buttonClass', []), new expressions.LiteralExpression('btn-default')], void 0, new expressions.ExpressionMeta('@buttonClass || \\'btn-default\\''))), new templates.Text(' dropdown-toggle')], 'btn {{@buttonClass || \\'btn-default\\'}} dropdown-toggle')), 'type': new templates.Attribute('button')}, [new templates.DynamicText(new expressions.FnExpression(['label'], [new expressions.PathExpression(['value'])], void 0, new expressions.ExpressionMeta('label(value)'))), new templates.Text(' '), new templates.Element('span', {'class': new templates.Attribute('caret')}, [], void 0, false)], [new templates.AsProperty(['toggleButton']), new templates.ElementOn('click', new expressions.FnExpression(['toggle'], []))], false), new templates.Element('ul', {'class': new templates.DynamicAttribute(new templates.Template([new templates.Text('dropdown-menu '), new templates.DynamicText(new expressions.AttributePathExpression('menuClass', [], new expressions.ExpressionMeta('@menuClass')))], 'dropdown-menu {{@menuClass}}')), 'role': new templates.Attribute('menu'), 'aria-labelledby': new templates.DynamicAttribute(new templates.Template([new templates.Text('dropdown-toggle'), new templates.DynamicText(new expressions.PathExpression(['id'], new expressions.ExpressionMeta('id')))], 'dropdown-toggle{{id}}'))}, [new templates.EachBlock(new expressions.AttributePathExpression('options', [], new expressions.ExpressionMeta('each @options', 'each')), [new templates.Element('li', {'role': new templates.Attribute('presentation'), 'class': new templates.DynamicAttribute(new expressions.RelativePathExpression(['class'], new expressions.ExpressionMeta('this.class')))}, [new templates.Element('a', {'role': new templates.Attribute('menuitem'), 'tabindex': new templates.Attribute('-1'), 'href': new templates.Attribute('#')}, [new templates.DynamicText(new expressions.RelativePathExpression(['content'], new expressions.ExpressionMeta('this.content')))], [new templates.ElementOn('click', new expressions.FnExpression(['select'], [new expressions.RelativePathExpression([])])), new templates.ElementOn('click', new expressions.FnExpression(['$preventDefault'], [new expressions.PathExpression(['$event'])]))], false)], void 0, false)])], [new templates.AsProperty(['menu'])], false)], void 0, false)])},'dropdown:index', null, {'arrays': 'option/options', 'element': 'dropdown'}],[function(){return this.template=new templates.Template([new templates.Marker('modal:index'), new templates.Element('div', {'class': new templates.DynamicAttribute(new templates.Template([new templates.Text('modal fade'), new templates.ConditionalBlock([new expressions.PathExpression(['faded'], new expressions.ExpressionMeta('if faded', 'if'))], [[new templates.Text(' in')]])], 'modal fade{{if faded}} in{{/if}}')), 'style': new templates.DynamicAttribute(new templates.ConditionalBlock([new expressions.PathExpression(['show'], new expressions.ExpressionMeta('if show', 'if'))], [[new templates.Text('display: block')]]))}, [new templates.Element('div', {'class': new templates.DynamicAttribute(new templates.Template([new templates.Text('modal-dialog'), new templates.ConditionalBlock([new expressions.AttributePathExpression('size', [], new expressions.ExpressionMeta('if @size', 'if'))], [[new templates.Text(' modal-'), new templates.DynamicText(new expressions.AttributePathExpression('size', [], new expressions.ExpressionMeta('@size')))]])], 'modal-dialog{{if @size}} modal-{{@size}}{{/}}'))}, [new templates.Element('div', {'class': new templates.Attribute('modal-content')}, [new templates.Element('div', {'class': new templates.Attribute('modal-header')}, [new templates.Element('button', {'type': new templates.Attribute('button'), 'class': new templates.Attribute('close'), 'aria-hidden': new templates.Attribute('true')}, [new templates.Text('×')], [new templates.ElementOn('click', new expressions.FnExpression(['hide'], [new expressions.LiteralExpression('close')]))], false), new templates.Element('h4', {'class': new templates.Attribute('modal-title')}, [new templates.DynamicText(new expressions.AttributePathExpression('title', [], new expressions.ExpressionMeta('@title')))], void 0, false)], void 0, false), new templates.Element('div', {'class': new templates.Attribute('modal-body')}, [new templates.DynamicText(new expressions.AttributePathExpression('content', [], new expressions.ExpressionMeta('@content')))], void 0, false), new templates.Element('div', {'class': new templates.Attribute('modal-footer')}, [new templates.EachBlock(new expressions.AttributePathExpression('actions', [], new expressions.ExpressionMeta('each @actions', 'each')), [new templates.Element('button', {'type': new templates.Attribute('button'), 'class': new templates.DynamicAttribute(new templates.Template([new templates.Text('btn '), new templates.DynamicText(new expressions.OperatorExpression('||', [new expressions.RelativePathExpression(['class']), new expressions.LiteralExpression('btn-default')], void 0, new expressions.ExpressionMeta('this.class || \\'btn-default\\'')))], 'btn {{this.class || \\'btn-default\\'}}'))}, [new templates.DynamicText(new expressions.RelativePathExpression(['content'], new expressions.ExpressionMeta('this.content')))], [new templates.ElementOn('click', new expressions.FnExpression(['hide'], [new expressions.OperatorExpression('||', [new expressions.RelativePathExpression(['value']), new expressions.RelativePathExpression(['content'])])]))], false)])], void 0, false)], [new templates.ElementOn('click', new expressions.FnExpression(['$stopPropagation'], [new expressions.PathExpression(['$event'])]))], false)], void 0, false)], [new templates.ElementOn('click', new expressions.FnExpression(['hide'], [new expressions.LiteralExpression('backdrop')]))], false), new templates.ConditionalBlock([new expressions.PathExpression(['show'], new expressions.ExpressionMeta('if show', 'if'))], [[new templates.Element('div', {'class': new templates.DynamicAttribute(new templates.Template([new templates.Text('modal-backdrop fade'), new templates.ConditionalBlock([new expressions.PathExpression(['faded'], new expressions.ExpressionMeta('if faded', 'if'))], [[new templates.Text(' in')]])], 'modal-backdrop fade{{if faded}} in{{/if}}'))}, [], void 0, false)]])])},'modal:index', null, {'arrays': 'action/actions', 'attributes': 'title', 'element': 'modal'}],[function(){return this.template=new templates.Template([new templates.Marker('tabs:index'), new templates.Element('ul', {'class': new templates.Attribute('nav nav-tabs')}, [new templates.EachBlock(new expressions.AttributePathExpression('panes', [], new expressions.ExpressionMeta('each @panes as #pane, #i', 'each', void 0, '#pane', '#i')), [new templates.Element('li', {'class': new templates.DynamicAttribute(new templates.ConditionalBlock([new expressions.OperatorExpression('===', [new expressions.PathExpression(['selectedIndex']), new expressions.AliasPathExpression('#i', [])], void 0, new expressions.ExpressionMeta('if selectedIndex === #i', 'if'))], [[new templates.Text('active')]]))}, [new templates.Element('a', {'href': new templates.Attribute('#')}, [new templates.DynamicText(new expressions.AliasPathExpression('#pane', ['title'], new expressions.ExpressionMeta('#pane.title')))], [new templates.ElementOn('click', new expressions.FnExpression(['select'], [new expressions.AliasPathExpression('#i', [])])), new templates.ElementOn('click', new expressions.FnExpression(['$preventDefault'], [new expressions.PathExpression(['$event'])]))], false)], void 0, false)])], void 0, false), new templates.Element('div', {'class': new templates.Attribute('tab-content')}, [new templates.EachBlock(new expressions.AttributePathExpression('panes', [], new expressions.ExpressionMeta('each @panes as #pane, #i', 'each', void 0, '#pane', '#i')), [new templates.Element('div', {'class': new templates.DynamicAttribute(new templates.Template([new templates.Text('tab-pane'), new templates.ConditionalBlock([new expressions.OperatorExpression('===', [new expressions.PathExpression(['selectedIndex']), new expressions.AliasPathExpression('#i', [])], void 0, new expressions.ExpressionMeta('if selectedIndex === #i', 'if'))], [[new templates.Text(' active')]])], 'tab-pane{{if selectedIndex === #i}} active{{/if}}'))}, [new templates.DynamicText(new expressions.AliasPathExpression('#pane', ['content'], new expressions.ExpressionMeta('#pane.content')))], void 0, false)])], void 0, false)])},'tabs:index', null, {'arrays': 'pane/panes', 'element': 'tabs'}],[function(){return this.template=new templates.Template([new templates.Marker('alert:index'), new templates.Element('div', {'class': new templates.DynamicAttribute(new templates.Template([new templates.Text('alert alert-'), new templates.DynamicText(new expressions.AttributePathExpression('type', [], new expressions.ExpressionMeta('@type'))), new templates.Text(' '), new templates.ConditionalBlock([new expressions.AttributePathExpression('dismiss', [], new expressions.ExpressionMeta('if @dismiss', 'if'))], [[new templates.Text('alert-dismissable')]]), new templates.Text(' '), new templates.ConditionalBlock([new expressions.PathExpression(['faded'], new expressions.ExpressionMeta('if faded', 'if'))], [[new templates.Text('fade')]])], 'alert alert-{{@type}} {{if @dismiss}}alert-dismissable{{/}} {{if faded}}fade{{/}}')), 'style': new templates.DynamicAttribute(new templates.ConditionalBlock([new expressions.PathExpression(['hidden'], new expressions.ExpressionMeta('if hidden', 'if'))], [[new templates.Text('display: none')]]))}, [new templates.ConditionalBlock([new expressions.AttributePathExpression('dismiss', [], new expressions.ExpressionMeta('if @dismiss', 'if'))], [[new templates.Element('button', {'type': new templates.Attribute('button'), 'class': new templates.Attribute('close'), 'aria-hidden': new templates.Attribute('true')}, [new templates.DynamicText(new expressions.AttributePathExpression('dismiss', [], new expressions.ExpressionMeta('@dismiss')))], [new templates.ElementOn('click', new expressions.FnExpression(['hide'], []))], false)]]), new templates.DynamicText(new expressions.AttributePathExpression('content', [], new expressions.ExpressionMeta('@content')))], void 0, false)])},'alert:index', null, {'element': 'alert', 'attributes': 'dismiss'}],[function(){return this.template=new templates.Template([new templates.Marker('contextMenu:index'), new templates.Element('div', {'class': new templates.DynamicAttribute(new templates.Template([new templates.Text('context-menu dropdown '), new templates.DynamicText(new expressions.AttributePathExpression('class', [], new expressions.ExpressionMeta('@class'))), new templates.ConditionalBlock([new expressions.PathExpression(['open'], new expressions.ExpressionMeta('if open', 'if'))], [[new templates.Text(' open')]])], 'context-menu dropdown {{@class}}{{if open}} open{{/if}}'))}, [new templates.Element('ul', {'class': new templates.DynamicAttribute(new templates.Template([new templates.Text('dropdown-menu '), new templates.DynamicText(new expressions.AttributePathExpression('menuClass', [], new expressions.ExpressionMeta('@menuClass')))], 'dropdown-menu {{@menuClass}}')), 'role': new templates.Attribute('menu'), 'style': new templates.Attribute('position: fixed')}, [new templates.ConditionalBlock([new expressions.AttributePathExpression('header', [], new expressions.ExpressionMeta('if @header', 'if'))], [[new templates.Element('li', {'class': new templates.Attribute('dropdown-header')}, [new templates.DynamicText(new expressions.AttributePathExpression('header', [], new expressions.ExpressionMeta('@header')))], void 0, false)]]), new templates.EachBlock(new expressions.AttributePathExpression('options', [], new expressions.ExpressionMeta('each @options as #option', 'each', void 0, '#option')), [new templates.Element('li', {'role': new templates.Attribute('presentation'), 'class': new templates.DynamicAttribute(new expressions.AliasPathExpression('#option', ['class'], new expressions.ExpressionMeta('#option.class')))}, [new templates.ConditionalBlock([new expressions.AliasPathExpression('#option', ['content'], new expressions.ExpressionMeta('if #option.content', 'if'))], [[new templates.Element('a', {'role': new templates.Attribute('menuitem'), 'tabindex': new templates.Attribute('-1'), 'href': new templates.Attribute('#')}, [new templates.DynamicText(new expressions.AliasPathExpression('#option', ['content'], new expressions.ExpressionMeta('#option.content')))], [new templates.ElementOn('click', new expressions.FnExpression(['select'], [new expressions.AliasPathExpression('#option', [])])), new templates.ElementOn('click', new expressions.FnExpression(['$preventDefault'], [new expressions.PathExpression(['$event'])]))], false)]])], void 0, false)])], [new templates.AsProperty(['menu'])], false)], void 0, false)])},'contextMenu:index', null, {'arrays': 'option/options', 'element': 'contextmenu'}],[function(){return this.template=new templates.Template([new templates.ViewInstance('chrome', {'content': new templates.ViewParent(new templates.Template([new templates.Element('div', {'class': new templates.Attribute('jumbotron')}, [new templates.Element('div', {'class': new templates.Attribute('container')}, [new templates.Element('h1', void 0, [new templates.Text('Directory')], void 0, false), new templates.Element('p', void 0, [new templates.Text('The directory has a listing of some people.')], void 0, false), new templates.Element('p', void 0, [new templates.Element('a', {'class': new templates.Attribute('btn btn-lg btn-primary'), 'href': new templates.Attribute('/people/new'), 'role': new templates.Attribute('button')}, [new templates.Text('Add somebody »')], void 0, false)], void 0, false)], void 0, false)], void 0, false)]))})])},'home:index'],[function(){return this.template=new templates.Template([new templates.Marker('d-connection-alert:index'), new templates.ConditionalBlock([new expressions.OperatorExpression('!==', [new expressions.AliasPathExpression('#root', ['$connection', 'state']), new expressions.LiteralExpression('connected')], void 0, new expressions.ExpressionMeta('if #root.$connection.state !== \\'connected\\'', 'if'))], [[new templates.Element('div', {'class': new templates.Attribute('connection')}, [new templates.Element('p', {'class': new templates.Attribute('alert alert-warning')}, [new templates.ConditionalBlock([new expressions.OperatorExpression('===', [new expressions.AliasPathExpression('#root', ['$connection', 'state']), new expressions.LiteralExpression('stopped')], void 0, new expressions.ExpressionMeta('if #root.$connection.state === \\'stopped\\'', 'if')), new expressions.Expression(new expressions.ExpressionMeta('else', 'else'))], [[new templates.Text('Unable to reconnect – '), new templates.Element('a', {'href': new templates.Attribute('#')}, [new templates.Text('Reload')], [new templates.ElementOn('click', new expressions.FnExpression(['reload'], [])), new templates.ElementOn('click', new expressions.FnExpression(['$preventDefault'], [new expressions.PathExpression(['$event'])]))], false)], [new templates.DynamicText(new expressions.FnExpression(['sentenceCase'], [new expressions.AliasPathExpression('#root', ['$connection', 'state'])], void 0, new expressions.ExpressionMeta('sentenceCase(#root.$connection.state)'))), new templates.ConditionalBlock([new expressions.PathExpression(['hideReconnect'], new expressions.ExpressionMeta('unless hideReconnect', 'unless'))], [[new templates.Text(' – '), new templates.Element('a', {'href': new templates.Attribute('#')}, [new templates.Text('Reconnect')], [new templates.ElementOn('click', new expressions.FnExpression(['reconnect'], [])), new templates.ElementOn('click', new expressions.FnExpression(['$preventDefault'], [new expressions.PathExpression(['$event'])]))], false)]])]])], void 0, false)], void 0, false)]])])},'d-connection-alert:index'],[function(){return this.template=new templates.Template([new templates.Marker('d-before-unload')])},'d-before-unload'],[function(){return this.template=new templates.Template([new templates.Marker('chrome:index'), new templates.ViewInstance('d-connection-alert', {}), new templates.ViewInstance('d-before-unload', {}), new templates.Element('div', {'class': new templates.Attribute('navbar navbar-inverse navbar-fixed-top'), 'role': new templates.Attribute('navigation')}, [new templates.Element('div', {'class': new templates.Attribute('container')}, [new templates.Element('div', {'class': new templates.Attribute('navbar-header')}, [new templates.Element('a', {'class': new templates.Attribute('navbar-brand'), 'href': new templates.Attribute('/')}, [new templates.Text('Directory')], void 0, false)], void 0, false), new templates.Element('div', {'class': new templates.Attribute('collapse navbar-collapse')}, [new templates.Element('ul', {'class': new templates.Attribute('nav navbar-nav')}, [new templates.ViewInstance('chrome:nav-link', {'href': '/', 'content': 'Home'}), new templates.ViewInstance('chrome:nav-link', {'href': '/people', 'content': 'People'}), new templates.ViewInstance('chrome:nav-link', {'href': '/people/new', 'content': 'Add somebody'})], void 0, false)], void 0, false)], void 0, false)], void 0, false), new templates.DynamicText(new expressions.AttributePathExpression('content', [], new expressions.ExpressionMeta('@content'))), new templates.Element('div', {'class': new templates.Attribute('container')}, [new templates.Element('hr', void 0, null, void 0, false), new templates.Element('footer', void 0, [new templates.Element('p', void 0, [new templates.Text('© Company '), new templates.DynamicText(new expressions.FnExpression(['getYear'], [new expressions.AliasPathExpression('#root', ['_page', 'now'])], void 0, new expressions.ExpressionMeta('getYear(#root._page.now)')))], void 0, false)], void 0, false)], void 0, false)])},'chrome:index'],[function(){return this.template=new templates.Template([new templates.Element('li', {'class': new templates.DynamicAttribute(new templates.ConditionalBlock([new expressions.OperatorExpression('===', [new expressions.PathExpression(['$render', 'url']), new expressions.AttributePathExpression('href', [])], void 0, new expressions.ExpressionMeta('if $render.url === @href', 'if'))], [[new templates.Text('active')]]))}, [new templates.Element('a', {'href': new templates.DynamicAttribute(new expressions.AttributePathExpression('href', [], new expressions.ExpressionMeta('@href')))}, [new templates.DynamicText(new expressions.AttributePathExpression('content', [], new expressions.ExpressionMeta('@content')))], void 0, false)], void 0, false)])},'chrome:nav-link'],[function(){return this.template=new templates.Template([new templates.Marker('edit:index'), new templates.ViewInstance('chrome', {'content': new templates.ViewParent(new templates.Template([new templates.Element('div', {'class': new templates.Attribute('container')}, [new templates.Element('h2', void 0, [new templates.ConditionalBlock([new expressions.PathExpression(['person', 'id'], new expressions.ExpressionMeta('if person.id', 'if')), new expressions.Expression(new expressions.ExpressionMeta('else', 'else'))], [[new templates.Text('Edit '), new templates.DynamicText(new expressions.PathExpression(['person', 'name'], new expressions.ExpressionMeta('person.name'))), new templates.Element('a', {'style': new templates.Attribute('float:right;margin-top:3px'), 'class': new templates.Attribute('btn btn-danger'), 'href': new templates.Attribute('#')}, [new templates.Text('Delete')], [new templates.ElementOn('click', new expressions.FnExpression(['deletePerson'], [])), new templates.ElementOn('click', new expressions.FnExpression(['$preventDefault'], [new expressions.PathExpression(['$event'])]))], false)], [new templates.Text('Add a new person')]])], void 0, false), new templates.ViewInstance('edit:form', {})], void 0, false)]))})])},'edit:index'],[function(){return this.template=new templates.Template([new templates.Element('form', {'role': new templates.Attribute('form'), 'class': new templates.Attribute('well')}, [new templates.Element('div', {'class': new templates.Attribute('row')}, [new templates.Element('div', {'class': new templates.Attribute('col-xs-6')}, [new templates.ViewInstance('edit:field', {'label': 'Name', 'hasError': new expressions.ViewParentExpression(new expressions.PathExpression(['nameError'], new expressions.ExpressionMeta('nameError'))), 'content': new templates.ViewParent(new templates.Template([new templates.Element('input', {'type': new templates.Attribute('text'), 'class': new templates.Attribute('form-control'), 'value': new templates.DynamicAttribute(new expressions.PathExpression(['person', 'name'], new expressions.ExpressionMeta('person.name'))), 'autofocus': new templates.DynamicAttribute(new expressions.OperatorExpression('!U', [new expressions.PathExpression(['person', 'id'])], void 0, new expressions.ExpressionMeta('!person.id')))}, null, [new templates.AsProperty(['nameInput'])], false)]))}), new templates.ViewInstance('edit:field', {'label': 'Email', 'content': new templates.ViewParent(new templates.Template([new templates.Element('input', {'type': new templates.Attribute('email'), 'class': new templates.Attribute('form-control'), 'value': new templates.DynamicAttribute(new expressions.PathExpression(['person', 'email'], new expressions.ExpressionMeta('person.email')))}, null, void 0, false)]))}), new templates.ViewInstance('edit:field', {'label': 'Twitter', 'content': new templates.ViewParent(new templates.Template([new templates.Element('input', {'type': new templates.Attribute('text'), 'class': new templates.Attribute('form-control'), 'value': new templates.DynamicAttribute(new expressions.PathExpression(['person', 'twitter'], new expressions.ExpressionMeta('person.twitter')))}, null, void 0, false)]))})], void 0, false), new templates.Element('div', {'class': new templates.Attribute('col-xs-6')}, [new templates.ViewInstance('edit:field', {'label': 'Gender', 'content': new templates.ViewParent(new templates.Template([new templates.ViewInstance('dropdown', {'value': new expressions.ViewParentExpression(new expressions.PathExpression(['person', 'gender'], new expressions.ExpressionMeta('person.gender'))), 'options': [{'content': 'Female'}, {'content': 'Male'}, {'content': 'Other'}]})]))}), new templates.ViewInstance('edit:field', {'label': 'Phone', 'content': new templates.ViewParent(new templates.Template([new templates.Element('input', {'type': new templates.Attribute('tel'), 'class': new templates.Attribute('form-control'), 'value': new templates.DynamicAttribute(new expressions.PathExpression(['person', 'phone'], new expressions.ExpressionMeta('person.phone')))}, null, void 0, false)]))})], void 0, false)], void 0, false), new templates.Element('button', {'type': new templates.Attribute('submit'), 'class': new templates.Attribute('btn btn-primary')}, [new templates.ConditionalBlock([new expressions.PathExpression(['person', 'id'], new expressions.ExpressionMeta('if person.id', 'if')), new expressions.Expression(new expressions.ExpressionMeta('else', 'else'))], [[new templates.Text('Done')], [new templates.Text('Add person')]])], void 0, false), new templates.ConditionalBlock([new expressions.PathExpression(['person', 'id'], new expressions.ExpressionMeta('unless person.id', 'unless'))], [[new templates.Text(' '), new templates.Element('button', {'type': new templates.Attribute('button'), 'class': new templates.Attribute('btn btn-link')}, [new templates.Text('Cancel')], [new templates.ElementOn('click', new expressions.FnExpression(['cancel'], []))], false)]])], [new templates.ElementOn('submit', new expressions.FnExpression(['done'], [])), new templates.ElementOn('submit', new expressions.FnExpression(['$preventDefault'], [new expressions.PathExpression(['$event'])]))], false)])},'edit:form'],[function(){return this.template=new templates.Template([new templates.Element('div', {'class': new templates.DynamicAttribute(new templates.Template([new templates.Text('form-group'), new templates.ConditionalBlock([new expressions.AttributePathExpression('hasError', [], new expressions.ExpressionMeta('if @hasError', 'if'))], [[new templates.Text(' has-error')]])], 'form-group{{if @hasError}} has-error{{/if}}'))}, [new templates.Element('label', {'class': new templates.Attribute('control-label')}, [new templates.DynamicText(new expressions.AttributePathExpression('label', [], new expressions.ExpressionMeta('@label')))], void 0, false), new templates.DynamicText(new expressions.AttributePathExpression('content', [], new expressions.ExpressionMeta('@content')))], void 0, false)])},'edit:field', null, {'tag': 'field'}],[function(){return this.template=new templates.Template([new templates.Marker('people:index'), new templates.ViewInstance('chrome', {'content': new templates.ViewParent(new templates.Template([new templates.Element('div', {'class': new templates.Attribute('container')}, [new templates.ConditionalBlock([new expressions.PathExpression(['people'], new expressions.ExpressionMeta('if people', 'if')), new expressions.Expression(new expressions.ExpressionMeta('else', 'else'))], [[new templates.ViewInstance('people:list', {})], [new templates.Element('h3', void 0, [new templates.Text('No people added yet.')], void 0, false), new templates.Element('p', void 0, [new templates.Text('How about '), new templates.Element('a', {'href': new templates.Attribute('/people/new')}, [new templates.Text('adding someone')], void 0, false), new templates.Text('?')], void 0, false)]])], void 0, false)]))})])},'people:index'],[function(){return this.template=new templates.Template([new templates.Element('table', {'class': new templates.Attribute('table table-striped')}, [new templates.Element('thead', void 0, [new templates.Element('tr', void 0, [new templates.Element('th', void 0, [new templates.Text('Name')], void 0, false), new templates.Element('th', void 0, [new templates.Text('Phone')], void 0, false), new templates.Element('th', void 0, [new templates.Text('Email')], void 0, false), new templates.Element('th', void 0, [new templates.Text('Twitter')], void 0, false), new templates.Element('th', void 0, [new templates.Text('Gender')], void 0, false)], void 0, false)], void 0, false), new templates.Element('tbody', void 0, [new templates.EachBlock(new expressions.PathExpression(['people'], new expressions.ExpressionMeta('each people', 'each')), [new templates.Element('tr', void 0, [new templates.Element('td', void 0, [new templates.Element('a', {'href': new templates.DynamicAttribute(new templates.Template([new templates.Text('/people/'), new templates.DynamicText(new expressions.RelativePathExpression(['id'], new expressions.ExpressionMeta('this.id')))], '/people/{{this.id}}'))}, [new templates.DynamicText(new expressions.RelativePathExpression(['name'], new expressions.ExpressionMeta('this.name')))], void 0, false)], void 0, false), new templates.Element('td', void 0, [new templates.DynamicText(new expressions.RelativePathExpression(['phone'], new expressions.ExpressionMeta('this.phone')))], void 0, false), new templates.Element('td', void 0, [new templates.Element('a', {'href': new templates.DynamicAttribute(new templates.Template([new templates.Text('mailto:'), new templates.DynamicText(new expressions.RelativePathExpression(['email'], new expressions.ExpressionMeta('this.email')))], 'mailto:{{this.email}}'))}, [new templates.DynamicText(new expressions.RelativePathExpression(['email'], new expressions.ExpressionMeta('this.email')))], void 0, false)], void 0, false), new templates.Element('td', void 0, [new templates.Element('a', {'href': new templates.DynamicAttribute(new templates.Template([new templates.Text('//twitter.com/'), new templates.DynamicText(new expressions.RelativePathExpression(['twitter'], new expressions.ExpressionMeta('this.twitter')))], '//twitter.com/{{this.twitter}}'))}, [new templates.DynamicText(new expressions.RelativePathExpression(['twitter'], new expressions.ExpressionMeta('this.twitter')))], void 0, false)], void 0, false), new templates.Element('td', void 0, [new templates.DynamicText(new expressions.RelativePathExpression(['gender'], new expressions.ExpressionMeta('this.gender')))], void 0, false)], void 0, false)])], void 0, false)], void 0, false)])},'people:list']])};/*DERBY_SERIALIZED_VIEWS_END*/",
    "/*\n * App.js\n *\n * Provides the glue between views, controllers, and routes for an\n * application's functionality. Apps are responsible for creating pages.\n *\n */\n\nvar path = require('path');\nvar EventEmitter = require('events').EventEmitter;\nvar tracks = require('tracks');\nvar util = require('racer/lib/util');\nvar derbyTemplates = require('derby-templates');\nvar templates = derbyTemplates.templates;\nvar components = require('./components');\nvar PageBase = require('./Page');\nvar serializedViews = require('./_views');\n\nmodule.exports = App;\n\nfunction App(derby, name, filename, options) {\n  EventEmitter.call(this);\n  this.derby = derby;\n  this.name = name;\n  this.filename = filename;\n  this.scriptHash = '{{DERBY_SCRIPT_HASH}}';\n  this.bundledAt = '{{DERBY_BUNDLED_AT}}';\n  this.Page = createAppPage(derby);\n  this.proto = this.Page.prototype;\n  this.views = new templates.Views();\n  this.tracksRoutes = tracks.setup(this);\n  this.model = null;\n  this.page = null;\n  this._pendingComponentMap = {};\n  this._init(options);\n}\n\nfunction createAppPage(derby) {\n  var Page = (derby && derby.Page) || PageBase;\n  // Inherit from Page/PageForServer so that we can add controller functions as prototype\n  // methods on this app's pages\n  function AppPage() {\n    Page.apply(this, arguments);\n  }\n  AppPage.prototype = Object.create(Page.prototype);\n  return AppPage;\n}\n\nutil.mergeInto(App.prototype, EventEmitter.prototype);\n\n// Overriden on server\nApp.prototype._init = function() {\n  this._waitForAttach = true;\n  this._cancelAttach = false;\n  this.model = new this.derby.Model();\n  serializedViews(derbyTemplates, this.views);\n  // Must init async so that app.on('model') listeners can be added.\n  // Must also wait for content ready so that bundle is fully downloaded.\n  this._contentReady();\n};\nApp.prototype._finishInit = function() {\n  var script = this._getScript();\n  var data = JSON.parse(script.nextSibling.innerHTML);\n  this.model.createConnection(data);\n  this.emit('model', this.model);\n  util.isProduction = data.nodeEnv === 'production';\n  if (!util.isProduction) this._autoRefresh();\n  this.model.unbundle(data);\n  var page = this.createPage();\n  page.params = this.model.get('$render.params');\n  this.emit('ready', page);\n  this._waitForAttach = false;\n  // Instead of attaching, do a route and render if a link was clicked before\n  // the page finished attaching\n  if (this._cancelAttach) {\n    this.history.refresh();\n    return;\n  }\n  // Since an attachment failure is *fatal* and could happen as a result of a\n  // browser extension like AdBlock, an invalid template, or a small bug in\n  // Derby or Saddle, re-render from scratch on production failures\n  if (util.isProduction) {\n    try {\n      page.attach();\n    } catch (err) {\n      this.history.refresh();\n      console.warn('attachment error', err.stack);\n    }\n  } else {\n    page.attach();\n  }\n  this.emit('load', page);\n};\n// Modified from: https://github.com/addyosmani/jquery.parts/blob/master/jquery.documentReady.js\nApp.prototype._contentReady = function() {\n  // Is the DOM ready to be used? Set to true once it occurs.\n  var isReady = false;\n  var app = this;\n\n  // The ready event handler\n  function onDOMContentLoaded() {\n    if (document.addEventListener) {\n      document.removeEventListener('DOMContentLoaded', onDOMContentLoaded, false);\n    } else {\n      // we're here because readyState !== 'loading' in oldIE\n      // which is good enough for us to call the dom ready!\n      document.detachEvent('onreadystatechange', onDOMContentLoaded);\n    }\n    onDOMReady();\n  }\n\n  // Handle when the DOM is ready\n  function onDOMReady() {\n    // Make sure that the DOM is not already loaded\n    if (isReady) return;\n    // Make sure body exists, at least, in case IE gets a little overzealous (ticket #5443).\n    if (!document.body) return setTimeout(onDOMReady, 0);\n    // Remember that the DOM is ready\n    isReady = true;\n    // Make sure this is always async and then finishin init\n    setTimeout(function() {\n      app._finishInit();\n    }, 0);\n  }\n\n  // The DOM ready check for Internet Explorer\n  function doScrollCheck() {\n    if (isReady) return;\n    try {\n      // If IE is used, use the trick by Diego Perini\n      // http://javascript.nwbox.com/IEContentLoaded/\n      document.documentElement.doScroll('left');\n    } catch (err) {\n      setTimeout(doScrollCheck, 0);\n      return;\n    }\n    // and execute any waiting functions\n    onDOMReady();\n  }\n\n  // Catch cases where called after the browser event has already occurred.\n  if (document.readyState !== 'loading') return onDOMReady();\n\n  // Mozilla, Opera and webkit nightlies currently support this event\n  if (document.addEventListener) {\n    // Use the handy event callback\n    document.addEventListener('DOMContentLoaded', onDOMContentLoaded, false);\n    // A fallback to window.onload, that will always work\n    window.addEventListener('load', onDOMContentLoaded, false);\n    // If IE event model is used\n  } else if (document.attachEvent) {\n    // ensure firing before onload,\n    // maybe late but safe also for iframes\n    document.attachEvent('onreadystatechange', onDOMContentLoaded);\n    // A fallback to window.onload, that will always work\n    window.attachEvent('onload', onDOMContentLoaded);\n    // If IE and not a frame\n    // continually check to see if the document is ready\n    var toplevel;\n    try {\n      toplevel = window.frameElement == null;\n    } catch (err) {}\n    if (document.documentElement.doScroll && toplevel) {\n      doScrollCheck();\n    }\n  }\n};\n\nApp.prototype._getScript = function() {\n  return document.querySelector('script[data-derby-app]');\n};\n\nApp.prototype.use = util.use;\nApp.prototype.serverUse = util.serverUse;\n\nApp.prototype.loadViews = function() {};\n\nApp.prototype.loadStyles = function() {};\n\n// This function is overriden by requiring 'derby/parsing'\nApp.prototype.addViews = function() {\n  throw new Error(\n    'Parsing not available. Registering a view from source should not be used ' +\n    'in application code. Instead, specify a filename with view.file.'\n  );\n};\n\nApp.prototype.component = function(name, constructor, isDependency) {\n  if (typeof name === 'function') {\n    constructor = name;\n    name = null;\n  }\n  if (typeof constructor !== 'function') {\n    throw new Error('Missing component constructor argument');\n  }\n\n  var viewProp = constructor.view;\n  var viewIs, viewFilename, viewSource, viewDependencies;\n  // Always using an object for the static `view` property is preferred\n  if (viewProp && typeof viewProp === 'object') {\n    viewIs = viewProp.is;\n    viewFilename = viewProp.file;\n    viewSource = viewProp.source;\n    viewDependencies = viewProp.dependencies;\n  } else {\n    // Ignore other properties when `view` is an object. It is possible that\n    // properties could be inherited from a parent component when extending it.\n    //\n    // DEPRECATED: constructor.prototype.name and constructor.prototype.view\n    // use the equivalent static properties instead\n    viewIs = constructor.is || constructor.prototype.name;\n    viewFilename = constructor.view || constructor.prototype.view;\n  }\n  var viewName = name || viewIs ||\n    (viewFilename && path.basename(viewFilename, '.html'));\n\n  if (!viewName) {\n    throw new Error('No view specified for component');\n  }\n  if (viewFilename && viewSource) {\n    throw new Error('Component may not specify both a view file and source');\n  }\n\n  // TODO: DRY. This is copy-pasted from derby-templates\n  var mapName = viewName.replace(/:index$/, '');\n  var currentView = this.views.nameMap[mapName];\n  var currentConstructor = (currentView && currentView.componentFactory) ?\n    currentView.componentFactory.constructor :\n    this._pendingComponentMap[mapName];\n\n  // Avoid registering the same component twice; we want to avoid the overhead\n  // of loading view files from disk again. This is also what prevents\n  // circular dependencies from infinite looping\n  if (currentConstructor === constructor) return;\n\n  // Calling app.component() overrides existing views or components. Prevent\n  // dependencies from doing this without warning\n  if (isDependency && currentView && !currentView.fromSerialized) {\n    throw new Error('Dependencies cannot override existing views. Already registered \"' + viewName + '\"');\n  }\n\n  // This map is used to prevent infinite loops from circular dependencies\n  this._pendingComponentMap[mapName] = constructor;\n\n  // Recursively register component dependencies\n  if (viewDependencies) {\n    for (var i = 0; i < viewDependencies.length; i++) {\n      var dependency = viewDependencies[i];\n      if (Array.isArray(dependency)) {\n        this.component(dependency[0], dependency[1], true);\n      } else {\n        this.component(null, dependency, true);\n      }\n    }\n  }\n\n  // Register or find views specified by the component\n  var view;\n  if (viewFilename) {\n    this.loadViews(viewFilename, viewName);\n    view = this.views.find(viewName);\n\n  } else if (viewSource) {\n    this.addViews(viewSource, viewName);\n    view = this.views.find(viewName);\n\n  } else if (name) {\n    view = this.views.find(viewName);\n\n  } else {\n    view = this.views.register(viewName, '');\n  }\n  if (!view) {\n    var message = this.views.findErrorMessage(viewName);\n    throw new Error(message);\n  }\n\n  // Inherit from Component\n  components.extendComponent(constructor);\n  // Associate the appropriate view with the component constructor\n  view.componentFactory = components.createFactory(constructor);\n\n  delete this._pendingComponentMap[mapName];\n\n  // Make chainable\n  return this;\n};\n\nApp.prototype.createPage = function() {\n  if (this.page) {\n    this.emit('destroyPage', this.page);\n    this.page.destroy();\n  }\n  var page = new this.Page(this, this.model);\n  this.page = page;\n  return page;\n};\n\nApp.prototype.onRoute = function(callback, page, next, done) {\n  if (this._waitForAttach) {\n    // Cancel any routing before the initial page attachment. Instead, do a\n    // render once derby is ready\n    this._cancelAttach = true;\n    return;\n  }\n  this.emit('route', page);\n  // HACK: To update render in transitional routes\n  page.model.set('$render.params', page.params);\n  page.model.set('$render.url', page.params.url);\n  page.model.set('$render.query', page.params.query);\n  // If transitional\n  if (done) {\n    var app = this;\n    var _done = function() {\n      app.emit('routeDone', page, 'transition');\n      done();\n    };\n    callback.call(page, page, page.model, page.params, next, _done);\n    return;\n  }\n  callback.call(page, page, page.model, page.params, next);\n};\n\nApp.prototype._autoRefresh = function() {\n  var app = this;\n  var connection = this.model.connection;\n  connection.on('connected', function() {\n    connection.send({\n      derby: 'app',\n      name: app.name,\n      hash: app.scriptHash\n    });\n  });\n  connection.on('receive', function(request) {\n    if (request.data.derby) {\n      var message = request.data;\n      request.data = null;\n      app._handleMessage(message.derby, message);\n    }\n  });\n};\n\nApp.prototype._handleMessage = function(action, message) {\n  if (action === 'refreshViews') {\n    var fn = new Function('return ' + message.views)(); // jshint ignore:line\n    fn(derbyTemplates, this.views);\n    var ns = this.model.get('$render.ns');\n    this.page.render(ns);\n\n  } else if (action === 'refreshStyles') {\n    var styleElement = document.querySelector('style[data-filename=\"' +\n      message.filename + '\"]');\n    if (styleElement) styleElement.innerHTML = message.css;\n\n  } else if (action === 'reload') {\n    this.model.whenNothingPending(function() {\n      window.location = window.location;\n    });\n  }\n};\n",
    "/*\n * Derby.js\n * Meant to be the entry point for the framework.\n *\n */\nvar racer = require('racer');\n\nmodule.exports = Derby;\n\nfunction Derby() {}\nDerby.prototype = Object.create(racer);\nDerby.prototype.constructor = Derby;\n\nDerby.prototype.App = require('./App');\nDerby.prototype.Page = require('./Page');\nDerby.prototype.Component = require('./components').Component;\n\nDerby.prototype.createApp = function(name, filename, options) {\n  return new this.App(this, name, filename, options);\n};\n\nif (!racer.util.isServer) {\n  require('./documentListeners').add(document);\n}\n",
    "var serverRequire = require('racer').util.serverRequire;\nvar Derby = serverRequire(module, './lib/DerbyForServer') || require('./lib/Derby');\nmodule.exports = new Derby();\n",
    "\nmodule.exports = function(app) {\n  app.on('ready', function(page) {\n    window.MODEL = page.model;\n    window.APP = app;\n    app.findComponent = findComponent;\n    app.componentCommand = componentCommand;\n    app.derby.Model.prototype.logEvents = logEvents;\n  });\n}\n\nfunction findComponent(name, index) {\n  if (index == null) index = 0;\n  var commentIterator = document.createTreeWalker(document, 128, null, false);\n  var node;\n  while ((node = commentIterator.nextNode())) {\n    if (node.data !== name) continue;\n    if (index === 0) {\n      return node.$component;\n    }\n    index--;\n  }\n};\n\nfunction componentCommand(comment) {\n  var count = 0;\n  var commentIterator = document.createTreeWalker(document, 128, null, false);\n  var node;\n  while ((node = commentIterator.nextNode())) {\n    if (node === comment) {\n      return '(component = APP.findComponent(\\'' + node.data + '\\',' + count + '))';\n    }\n    if (node.data === comment.data) count++;\n  }\n};\n\nfunction logEvents(path) {\n  if (path == null) path = '';\n  this.on('all', path + '**', console.log.bind(console));\n};\n",
    "module.exports = function(app, options) {\n  app.component(require('./dropdown'));\n  app.component(require('./modal'));\n  app.component(require('./tabs'));\n  app.component(require('./alert'));\n  app.component(require('./contextMenu'));\n  if (require && require.resolve && !options || (options && options.loadStyles)) {\n    var filename = require.resolve('bootstrap/dist/css/bootstrap.min.css');\n    app.loadStyles(filename);\n  }\n};\n",
    "var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar objectDefinePropertyModile = require('../internals/object-define-property');\n\n// `Object.defineProperty` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperty\n$({ target: 'Object', stat: true, forced: !DESCRIPTORS, sham: !DESCRIPTORS }, {\n  defineProperty: objectDefinePropertyModile.f\n});\n",
    "module.exports = ConnectionAlert;\nfunction ConnectionAlert() {}\nConnectionAlert.prototype.view = __dirname;\n\nConnectionAlert.prototype.reconnect = function() {\n  var model = this.model;\n  // Hide the reconnect link for a second after clicking it\n  model.set('hideReconnect', true);\n  setTimeout(function() {\n    model.set('hideReconnect', false);\n  }, 1000);\n  model.reconnect();\n};\n\nConnectionAlert.prototype.reload = function() {\n  window.location.reload();\n};\n\nConnectionAlert.prototype.sentenceCase = function(text) {\n  return text && (text.charAt(0).toUpperCase() + text.slice(1));\n};\n",
    "module.exports = BeforeUnload;\nfunction BeforeUnload() {}\nBeforeUnload.prototype.name = 'd-before-unload';\n\nBeforeUnload.prototype.create = function(model, dom) {\n  // Stop the user from leaving the page whenever a change might be pending\n  dom.on('beforeunload', window, listenerFn(model));\n};\n\nfunction listenerFn(model) {\n  return function beforeunloadListener(e) {\n    if (!model.hasWritePending()) return;\n    var confirmationMessage = model.get('message') ||\n      'You have unsaved changes. Do you want to leave this page and discard your changes?';\n    e.returnValue = confirmationMessage;\n    return confirmationMessage;\n  };\n}\n",
    "\"use strict\";\n\nrequire(\"core-js/modules/es.date.to-string\");\n\nrequire(\"core-js/modules/es.object.define-property\");\n\nrequire(\"core-js/modules/es.date.to-string\");\n\nrequire(\"core-js/modules/es.object.define-property\");\n\nrequire(\"core-js/modules/es.date.to-string\");\n\nrequire(\"core-js/modules/es.object.define-property\");\n\nrequire(\"core-js/modules/es.date.to-string\");\n\nrequire(\"core-js/modules/es.object.define-property\");\n\nrequire(\"core-js/modules/es.date.to-string\");\n\nrequire(\"core-js/modules/es.object.define-property\");\n\nrequire(\"core-js/modules/es.date.to-string\");\n\nrequire(\"core-js/modules/es.object.define-property\");\n\nrequire(\"core-js/modules/es.date.to-string\");\n\nrequire(\"core-js/modules/es.object.define-property\");\n\nrequire(\"core-js/modules/es.date.to-string\");\n\nrequire(\"core-js/modules/es.object.define-property\");\n\nrequire(\"core-js/modules/es.date.to-string\");\n\nrequire(\"core-js/modules/es.object.define-property\");\n\nrequire(\"core-js/modules/es.date.to-string\");\n\nrequire(\"core-js/modules/es.object.define-property\");\n\nrequire(\"core-js/modules/es.date.to-string\");\n\nrequire(\"core-js/modules/es.object.define-property\");\n\nrequire(\"core-js/modules/es.date.to-string\");\n\nrequire(\"core-js/modules/es.object.define-property\");\n\nrequire(\"core-js/modules/es.date.to-string\");\n\nrequire(\"core-js/modules/es.object.define-property\");\n\nrequire(\"core-js/modules/es.date.to-string\");\n\nrequire(\"core-js/modules/es.object.define-property\");\n\nrequire(\"core-js/modules/es.date.to-string\");\n\nrequire(\"core-js/modules/es.object.define-property\");\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nvar Chrome =\n/*#__PURE__*/\nfunction () {\n  function Chrome() {\n    _classCallCheck(this, Chrome);\n  }\n\n  _createClass(Chrome, [{\n    key: \"getYear\",\n    value: function getYear(ts) {\n      return new Date(ts).getFullYear();\n    }\n  }]);\n\n  return Chrome;\n}();\n\nChrome.view = {\n  file: __dirname + '/chrome',\n  dependencies: [require('d-connection-alert'), require('d-before-unload')]\n};\nmodule.exports = Chrome;",
    "\"use strict\";\n\nrequire(\"core-js/modules/es.object.define-property\");\n\nrequire(\"core-js/modules/es.object.define-property\");\n\nrequire(\"core-js/modules/es.object.define-property\");\n\nrequire(\"core-js/modules/es.object.define-property\");\n\nrequire(\"core-js/modules/es.object.define-property\");\n\nrequire(\"core-js/modules/es.object.define-property\");\n\nrequire(\"core-js/modules/es.object.define-property\");\n\nrequire(\"core-js/modules/es.object.define-property\");\n\nrequire(\"core-js/modules/es.object.define-property\");\n\nrequire(\"core-js/modules/es.object.define-property\");\n\nrequire(\"core-js/modules/es.object.define-property\");\n\nrequire(\"core-js/modules/es.object.define-property\");\n\nrequire(\"core-js/modules/es.object.define-property\");\n\nrequire(\"core-js/modules/es.object.define-property\");\n\nrequire(\"core-js/modules/es.object.define-property\");\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nvar EditForm =\n/*#__PURE__*/\nfunction () {\n  function EditForm() {\n    _classCallCheck(this, EditForm);\n  }\n\n  _createClass(EditForm, [{\n    key: \"init\",\n    value: function init(model) {\n      this.people = model.scope('people');\n      this.person = model.ref('person', model.scope('_page.person'));\n      this.nameError = model.at('nameError');\n    }\n  }, {\n    key: \"done\",\n    value: function done() {\n      var _this = this;\n\n      if (!this.person.get('name')) {\n        var checkName = this.person.on('change', 'name', function (value) {\n          if (!value) return;\n\n          _this.nameError.del();\n\n          _this.model.removeListener('change', checkName);\n        });\n        this.nameError.set(true);\n        this.nameInput.focus();\n        return;\n      }\n\n      if (!this.person.get('id')) {\n        this.people.add(this.person.get()); // Wait for all model changes to go through before going to the next page, mainly because\n        // in non-single-page-app mode (basically IE < 10) we want changes to save to the server before leaving the page\n\n        this.model.whenNothingPending(function () {\n          _this.app.history.push('/people');\n        });\n      } else {\n        this.app.history.push('/people');\n      }\n    }\n  }, {\n    key: \"cancel\",\n    value: function cancel() {\n      this.app.history.back();\n    }\n  }, {\n    key: \"deletePerson\",\n    value: function deletePerson() {\n      var _this2 = this; // Update model without emitting events so that the page doesn't update\n\n\n      this.person.silent().del(); // Wait for all model changes to go through before going back, mainly because\n      // in non-single-page-app mode (basically IE < 10) we want changes to save to the server before leaving the page\n\n      this.model.whenNothingPending(function () {\n        _this2.app.history.back();\n      });\n    }\n  }]);\n\n  return EditForm;\n}();\n\n;\nEditForm.view = {\n  file: __dirname + '/edit',\n  dependencies: [require('./chrome')]\n};\nmodule.exports = EditForm;",
    "module.exports = function (it) {\n  if (typeof it != 'function') {\n    throw TypeError(String(it) + ' is not a function');\n  } return it;\n};\n",
    "var requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `ToObject` abstract operation\n// https://tc39.github.io/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return Object(requireObjectCoercible(argument));\n};\n",
    "'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !method || !fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n",
    "'use strict';\nvar $ = require('../internals/export');\nvar aFunction = require('../internals/a-function');\nvar toObject = require('../internals/to-object');\nvar fails = require('../internals/fails');\nvar sloppyArrayMethod = require('../internals/sloppy-array-method');\n\nvar test = [];\nvar nativeSort = test.sort;\n\n// IE8-\nvar FAILS_ON_UNDEFINED = fails(function () {\n  test.sort(undefined);\n});\n// V8 bug\nvar FAILS_ON_NULL = fails(function () {\n  test.sort(null);\n});\n// Old WebKit\nvar SLOPPY_METHOD = sloppyArrayMethod('sort');\n\nvar FORCED = FAILS_ON_UNDEFINED || !FAILS_ON_NULL || SLOPPY_METHOD;\n\n// `Array.prototype.sort` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.sort\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? nativeSort.call(toObject(this))\n      : nativeSort.call(toObject(this), aFunction(comparefn));\n  }\n});\n",
    "var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.github.io/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n",
    "\"use strict\";\n\nrequire(\"core-js/modules/es.array.sort\");\n\nrequire(\"core-js/modules/es.array.sort\");\n\nrequire(\"core-js/modules/es.array.sort\");\n\nrequire(\"core-js/modules/es.function.name\");\n\nrequire(\"core-js/modules/es.object.define-property\");\n\nrequire(\"core-js/modules/es.array.sort\");\n\nrequire(\"core-js/modules/es.function.name\");\n\nrequire(\"core-js/modules/es.object.define-property\");\n\nrequire(\"core-js/modules/es.array.sort\");\n\nrequire(\"core-js/modules/es.function.name\");\n\nrequire(\"core-js/modules/es.object.define-property\");\n\nrequire(\"core-js/modules/es.array.sort\");\n\nrequire(\"core-js/modules/es.function.name\");\n\nrequire(\"core-js/modules/es.object.define-property\");\n\nrequire(\"core-js/modules/es.array.sort\");\n\nrequire(\"core-js/modules/es.function.name\");\n\nrequire(\"core-js/modules/es.object.define-property\");\n\nrequire(\"core-js/modules/es.array.sort\");\n\nrequire(\"core-js/modules/es.function.name\");\n\nrequire(\"core-js/modules/es.object.define-property\");\n\nrequire(\"core-js/modules/es.array.sort\");\n\nrequire(\"core-js/modules/es.function.name\");\n\nrequire(\"core-js/modules/es.object.define-property\");\n\nrequire(\"core-js/modules/es.array.sort\");\n\nrequire(\"core-js/modules/es.function.name\");\n\nrequire(\"core-js/modules/es.object.define-property\");\n\nrequire(\"core-js/modules/es.array.sort\");\n\nrequire(\"core-js/modules/es.function.name\");\n\nrequire(\"core-js/modules/es.object.define-property\");\n\nrequire(\"core-js/modules/es.array.sort\");\n\nrequire(\"core-js/modules/es.function.name\");\n\nrequire(\"core-js/modules/es.object.define-property\");\n\nrequire(\"core-js/modules/es.array.sort\");\n\nrequire(\"core-js/modules/es.function.name\");\n\nrequire(\"core-js/modules/es.object.define-property\");\n\nrequire(\"core-js/modules/es.array.sort\");\n\nrequire(\"core-js/modules/es.function.name\");\n\nrequire(\"core-js/modules/es.object.define-property\");\n\nrequire(\"core-js/modules/es.array.sort\");\n\nrequire(\"core-js/modules/es.function.name\");\n\nrequire(\"core-js/modules/es.object.define-property\");\n\nrequire(\"core-js/modules/es.array.sort\");\n\nrequire(\"core-js/modules/es.function.name\");\n\nrequire(\"core-js/modules/es.object.define-property\");\n\nrequire(\"core-js/modules/es.array.sort\");\n\nrequire(\"core-js/modules/es.function.name\");\n\nrequire(\"core-js/modules/es.object.define-property\");\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nvar PeopleList =\n/*#__PURE__*/\nfunction () {\n  function PeopleList() {\n    _classCallCheck(this, PeopleList);\n  }\n\n  _createClass(PeopleList, [{\n    key: \"init\",\n    value: function init(model) {\n      model.ref('people', model.scope('people').sort(nameAscending));\n    }\n  }]);\n\n  return PeopleList;\n}();\n\n;\n\nfunction nameAscending(a, b) {\n  var aName = (a && a.name || '').toLowerCase();\n  var bName = (b && b.name || '').toLowerCase();\n  if (aName < bName) return -1;\n  if (aName > bName) return 1;\n  return 0;\n}\n\nPeopleList.view = {\n  file: __dirname + '/people',\n  dependencies: [require('./chrome')]\n};\nmodule.exports = PeopleList;",
    "\nexposedRequire.m[\"racer\"] = _$lib_racer;\nexposedRequire.m[\"derby\"] = _$derby_derby;\nreturn exposedRequire;\n}(typeof require === 'function' ? require : void 0));",
    "\"use strict\";\n\nrequire(\"core-js/modules/es.date.now\");\n\nrequire(\"core-js/modules/es.date.to-string\");\n\nrequire(\"core-js/modules/es.date.now\");\n\nrequire(\"core-js/modules/es.date.to-string\");\n\nrequire(\"core-js/modules/es.date.now\");\n\nrequire(\"core-js/modules/es.date.to-string\");\n\nrequire(\"core-js/modules/es.date.now\");\n\nrequire(\"core-js/modules/es.date.to-string\");\n\nrequire(\"core-js/modules/es.date.now\");\n\nrequire(\"core-js/modules/es.date.to-string\");\n\nrequire(\"core-js/modules/es.date.now\");\n\nrequire(\"core-js/modules/es.date.to-string\");\n\nrequire(\"core-js/modules/es.date.now\");\n\nrequire(\"core-js/modules/es.date.to-string\");\n\nrequire(\"core-js/modules/es.date.now\");\n\nrequire(\"core-js/modules/es.date.to-string\");\n\nrequire(\"core-js/modules/es.date.now\");\n\nrequire(\"core-js/modules/es.date.to-string\");\n\nrequire(\"core-js/modules/es.date.now\");\n\nrequire(\"core-js/modules/es.date.to-string\");\n\nrequire(\"core-js/modules/es.date.now\");\n\nrequire(\"core-js/modules/es.date.to-string\");\n\nrequire(\"core-js/modules/es.date.now\");\n\nrequire(\"core-js/modules/es.date.to-string\");\n\nrequire(\"core-js/modules/es.date.now\");\n\nrequire(\"core-js/modules/es.date.to-string\");\n\nrequire(\"core-js/modules/es.date.now\");\n\nrequire(\"core-js/modules/es.date.to-string\");\n\nrequire(\"core-js/modules/es.date.now\");\n\nrequire(\"core-js/modules/es.date.to-string\");\n\nvar app = module.exports = require('derby').createApp('directory', __filename);\n\napp.use(require('derby-debug'));\napp.serverUse(module, 'derby-stylus');\napp.use(require('d-bootstrap'));\napp.loadStyles(__dirname);\napp.loadViews(__dirname + '/pages');\napp.component(require('./pages/edit'));\napp.component(require('./pages/people'));\napp.get('*', function (page, model, params, next) {\n  model.set('_page.now', Date.now());\n  next();\n});\napp.get('/', function (page, model) {\n  page.render('home');\n});\napp.get('/people', function (page, model, params, next) {\n  var peopleQuery = model.query('people', {});\n  peopleQuery.subscribe(function (err) {\n    if (err) return next(err);\n    page.render('people');\n  });\n});\napp.get('/people/:id([\\\\w-]+)', function (page, model, params, next) {\n  if (params.id === 'new') {\n    return page.render('edit');\n  }\n\n  var person = model.at('people.' + params.id);\n  person.subscribe(function (err) {\n    if (err) return next(err);\n    if (!person.get()) return next();\n    model.ref('_page.person', person);\n    page.render('edit');\n  });\n});"
  ],
  "sourceRoot": ""
}