{
  "version": 3,
  "sources": [
    "node_modules/browser-pack-flat/_prelude",
    "node_modules/derby/lib/documentListeners.js",
    "node_modules/derby-templates/lib/templates.js",
    "node_modules/derby-templates/lib/options.js",
    "node_modules/serialize-object/index.js",
    "node_modules/path-browserify/index.js",
    "node_modules/events/events.js",
    "node_modules/uuid/rng-browser.js",
    "node_modules/uuid/uuid.js",
    "node_modules/racer/lib/Model/Model.js",
    "node_modules/fast-deep-equal/index.js",
    "node_modules/process/browser.js",
    "node_modules/racer/lib/util.js",
    "node_modules/racer/lib/Model/unbundle.js",
    "node_modules/racer/lib/Model/events.js",
    "node_modules/racer/lib/Model/paths.js",
    "node_modules/racer/lib/Model/Doc.js",
    "node_modules/racer/lib/Model/LocalDoc.js",
    "node_modules/racer/lib/Model/collections.js",
    "node_modules/racer/lib/Model/mutators.js",
    "node_modules/arraydiff/index.js",
    "node_modules/racer/lib/Model/setDiff.js",
    "node_modules/sharedb/lib/emitter.js",
    "node_modules/sharedb/lib/logger/logger.js",
    "node_modules/sharedb/lib/logger/index.js",
    "node_modules/sharedb/lib/error.js",
    "node_modules/ot-json0/lib/bootstrapTransform.js",
    "node_modules/ot-json0/lib/text0.js",
    "node_modules/ot-json0/lib/json0.js",
    "node_modules/ot-json0/lib/index.js",
    "node_modules/sharedb/lib/types.js",
    "node_modules/sharedb/lib/client/doc.js",
    "node_modules/sharedb/lib/client/query.js",
    "node_modules/sharedb/lib/snapshot.js",
    "node_modules/sharedb/lib/client/snapshot-request/snapshot-request.js",
    "node_modules/sharedb/lib/util.js",
    "node_modules/sharedb/lib/client/snapshot-request/snapshot-version-request.js",
    "node_modules/sharedb/lib/client/snapshot-request/snapshot-timestamp-request.js",
    "node_modules/sharedb/lib/client/connection.js",
    "node_modules/sharedb/lib/client/index.js",
    "node_modules/racer/lib/Model/RemoteDoc.js",
    "node_modules/racer/lib/Model/connection.js",
    "node_modules/racer/lib/Model/Query.js",
    "node_modules/racer/lib/Model/CollectionCounter.js",
    "node_modules/racer/lib/Model/subscriptions.js",
    "node_modules/racer/lib/Model/contexts.js",
    "node_modules/racer/lib/Model/defaultFns.js",
    "node_modules/racer/lib/Model/fn.js",
    "node_modules/racer/lib/Model/filter.js",
    "node_modules/racer/lib/Model/refList.js",
    "node_modules/racer/lib/Model/ref.js",
    "node_modules/racer/lib/Model/index.js",
    "node_modules/racer/lib/Racer.js",
    "node_modules/racer/lib/index.js",
    "node_modules/browserchannel/dist/bcsocket-uncompressed.js",
    "node_modules/racer-highway/lib/browser/socket.js",
    "node_modules/racer-highway/lib/browser/index.js",
    "node_modules/showdown/dist/showdown.js",
    "node_modules/tracks/vendor/express/utils.js",
    "node_modules/tracks/vendor/express/router/route.js",
    "node_modules/qs/lib/utils.js",
    "node_modules/qs/lib/formats.js",
    "node_modules/qs/lib/stringify.js",
    "node_modules/qs/lib/parse.js",
    "node_modules/qs/lib/index.js",
    "node_modules/punycode/punycode.js",
    "node_modules/url/util.js",
    "node_modules/querystring-es3/decode.js",
    "node_modules/querystring-es3/encode.js",
    "node_modules/querystring-es3/index.js",
    "node_modules/url/url.js",
    "node_modules/tracks/lib/router.js",
    "node_modules/tracks/lib/History.js",
    "node_modules/tracks/lib/browser.js",
    "node_modules/derby-templates/lib/contexts.js",
    "node_modules/derby-templates/lib/operatorFns.js",
    "node_modules/saddle/index.js",
    "node_modules/derby-templates/lib/util.js",
    "node_modules/derby-templates/lib/expressions.js",
    "node_modules/derby-templates/index.js",
    "node_modules/derby/lib/Dom.js",
    "node_modules/derby/lib/Controller.js",
    "node_modules/derby/lib/components.js",
    "node_modules/derby/lib/eventmodel.js",
    "node_modules/derby/lib/textDiff.js",
    "node_modules/derby/lib/Page.js",
    "node_modules/derby/lib/_views.js",
    "node_modules/derby/lib/App.js",
    "node_modules/derby/lib/Derby.js",
    "node_modules/derby",
    "node_modules/derby-debug/index.js",
    "node_modules/d-codemirror/index.js",
    "node_modules/browser-pack-flat/_postlude",
    "codemirror/index.js"
  ],
  "names": [
    "require",
    "exposedRequire",
    "e",
    "r",
    "m",
    "hasOwnProperty",
    "createModuleFactory",
    "t",
    "exports",
    "parent",
    "_$documentListeners_20",
    "module",
    "inputSupportsSelection",
    "input",
    "type",
    "inputIsNumberValue",
    "multiple",
    "add",
    "doc",
    "addEventListener",
    "documentInput",
    "documentChange",
    "parseFloat",
    "window",
    "navigator",
    "appVersion",
    "split",
    "document",
    "activeElement",
    "target",
    "createElement",
    "value",
    "valueAsNumber",
    "oldInputValue",
    "inputValue",
    "apply",
    "this",
    "arguments",
    "tagName",
    "setInputValue",
    "setBoundProperty",
    "setOptionBindings",
    "node",
    "firstChild",
    "nextSibling",
    "hasChildNodes",
    "property",
    "binding",
    "$bindAttributes",
    "isUnbound",
    "template",
    "expression",
    "set",
    "context",
    "pass",
    "$event",
    "segments",
    "pathSegments",
    "model",
    "controller",
    "_$textDiff_22",
    "onTextInput",
    "textDiffBinding",
    "serializeObject",
    "_$serializeObject_66",
    "DependencyOptions",
    "_$options_10",
    "concat",
    "_$util_12",
    "hasKeys",
    "traverseAndCreate",
    "concatArrayDependencies",
    "dependencies",
    "expressions",
    "options",
    "i",
    "length",
    "concatDependencies",
    "expressionDependencies",
    "getDependencies",
    "key",
    "_$saddle_65",
    "Marker",
    "View",
    "ViewInstance",
    "DynamicViewInstance",
    "ViewParent",
    "ContextClosure",
    "Views",
    "MarkupHook",
    "ElementOn",
    "ComponentOn",
    "AsProperty",
    "AsObject",
    "AsObjectComponent",
    "AsArray",
    "AsArrayComponent",
    "emptyTemplate",
    "Template",
    "prototype",
    "unbound",
    "Binding",
    "resolve",
    "shouldIgnoreTemplate",
    "content",
    "Doctype",
    "Text",
    "DynamicText",
    "Comment",
    "DynamicComment",
    "Html",
    "DynamicHtml",
    "Element",
    "concatMapDependencies",
    "attributes",
    "DynamicElement",
    "Block",
    "meta",
    "blockType",
    "blockContext",
    "child",
    "ConditionalBlock",
    "condition",
    "getCondition",
    "end",
    "concatSubArrayDependencies",
    "contents",
    "EachBlock",
    "items",
    "get",
    "itemContext",
    "eachChild",
    "elseContent",
    "Attribute",
    "DynamicAttribute",
    "markerHooks",
    "emit",
    "$component",
    "markerNode",
    "data",
    "call",
    "ViewAttributesMap",
    "source",
    "len",
    "ViewArraysMap",
    "item",
    "views",
    "name",
    "nameSegments",
    "lastSegment",
    "pop",
    "namespace",
    "join",
    "registeredName",
    "attributesMap",
    "arraysMap",
    "arrays",
    "unminified",
    "string",
    "literal",
    "componentFactory",
    "fromSerialized",
    "hooks",
    "initHooks",
    "view",
    "nameExpression",
    "ViewsMap",
    "nameMap",
    "tagMap",
    "elementMap",
    "keyExpression",
    "Object",
    "create",
    "constructor",
    "serialize",
    "instance",
    "_isComponent",
    "extend",
    "_initComponent",
    "init",
    "_queueCreate",
    "viewContext",
    "queue",
    "unescaped",
    "parse",
    "getFragment",
    "fragment",
    "appendTo",
    "attachTo",
    "componentChild",
    "_parse",
    "marker",
    "unshift",
    "Error",
    "_find",
    "viewChild",
    "contextView",
    "getView",
    "find",
    "message",
    "findErrorMessage",
    "nameDependencies",
    "viewDependencies",
    "parentContext",
    "forViewParent",
    "closureContext",
    "closureChild",
    "equals",
    "other",
    "map",
    "match",
    "segmentsDepth",
    "testSegments",
    "slice",
    "splice",
    "register",
    "mapName",
    "replace",
    "tag",
    "element",
    "deserialize",
    "setTemplate",
    "forServer",
    "server",
    "minify",
    "serverOnly",
    "push",
    "args",
    "names",
    "keys",
    "elementOn",
    "$destroyListeners",
    "event",
    "modelData",
    "$element",
    "out",
    "component",
    "on",
    "Array",
    "object",
    "addListeners",
    "addDestroyListener",
    "listener",
    "array",
    "comparePosition",
    "index",
    "indexOf",
    "compareDocumentPosition",
    "templates",
    "_$templates_11",
    "setIgnoreTemplate",
    "ignoreTemplate",
    "serializeArgs",
    "serializeValue",
    "formatString",
    "isArray",
    "normalizeArray",
    "parts",
    "allowAboveRoot",
    "up",
    "last",
    "filter",
    "xs",
    "f",
    "res",
    "resolvedPath",
    "resolvedAbsolute",
    "path",
    "process",
    "cwd",
    "TypeError",
    "charAt",
    "p",
    "normalize",
    "isAbsolute",
    "trailingSlash",
    "substr",
    "paths",
    "relative",
    "from",
    "to",
    "trim",
    "arr",
    "start",
    "fromParts",
    "toParts",
    "Math",
    "min",
    "samePartsLength",
    "outputParts",
    "sep",
    "delimiter",
    "dirname",
    "code",
    "charCodeAt",
    "hasRoot",
    "matchedSlash",
    "basename",
    "ext",
    "extname",
    "startDot",
    "startPart",
    "preDotState",
    "str",
    "objectCreate",
    "objectCreatePolyfill",
    "objectKeys",
    "objectKeysPolyfill",
    "bind",
    "Function",
    "functionBindPolyfill",
    "EventEmitter",
    "_events",
    "_eventsCount",
    "_maxListeners",
    "undefined",
    "_$EventEmitter_23",
    "defaultMaxListeners",
    "hasDefineProperty",
    "o",
    "defineProperty",
    "x",
    "err",
    "$getMaxListeners",
    "that",
    "emitNone",
    "handler",
    "isFn",
    "self",
    "listeners",
    "arrayClone",
    "emitOne",
    "arg1",
    "emitTwo",
    "arg2",
    "emitThree",
    "arg3",
    "emitMany",
    "_addListener",
    "prepend",
    "events",
    "existing",
    "newListener",
    "warned",
    "w",
    "String",
    "emitter",
    "count",
    "console",
    "warn",
    "onceWrapper",
    "fired",
    "removeListener",
    "wrapFn",
    "_onceWrap",
    "state",
    "wrapped",
    "_listeners",
    "unwrap",
    "evlistener",
    "unwrapListeners",
    "listenerCount",
    "spliceOne",
    "list",
    "k",
    "n",
    "copy",
    "ret",
    "proto",
    "F",
    "obj",
    "fn",
    "enumerable",
    "arg",
    "setMaxListeners",
    "isNaN",
    "getMaxListeners",
    "er",
    "doError",
    "error",
    "addListener",
    "prependListener",
    "once",
    "prependOnceListener",
    "position",
    "originalListener",
    "shift",
    "removeAllListeners",
    "rawListeners",
    "eventNames",
    "Reflect",
    "ownKeys",
    "rng",
    "crypto",
    "global",
    "msCrypto",
    "getRandomValues",
    "_rnds8",
    "Uint8Array",
    "_rnds",
    "random",
    "_$rng_89",
    "_byteToHex",
    "_hexToByte",
    "toString",
    "s",
    "buf",
    "offset",
    "ii",
    "toLowerCase",
    "oct",
    "unparse",
    "bth",
    "_seedBytes",
    "_nodeId",
    "_clockseq",
    "_lastMSecs",
    "_lastNSecs",
    "v1",
    "b",
    "clockseq",
    "msecs",
    "Date",
    "getTime",
    "nsecs",
    "dt",
    "tl",
    "tmh",
    "v4",
    "rnds",
    "uuid",
    "_$uuid_90",
    "Model",
    "INITS",
    "_$Model_45",
    "root",
    "inits",
    "debug",
    "ChildModel",
    "_context",
    "_at",
    "_pass",
    "_silent",
    "_eventContext",
    "_preventCompose",
    "id",
    "_child",
    "keyList",
    "hasProp",
    "_$equal_24",
    "equal",
    "a",
    "arrA",
    "arrB",
    "dateA",
    "dateB",
    "regexpA",
    "RegExp",
    "regexpB",
    "_$browser_30",
    "cachedSetTimeout",
    "cachedClearTimeout",
    "defaultSetTimout",
    "defaultClearTimeout",
    "runTimeout",
    "fun",
    "setTimeout",
    "runClearTimeout",
    "clearTimeout",
    "draining",
    "currentQueue",
    "queueIndex",
    "cleanUpNextTick",
    "drainQueue",
    "timeout",
    "run",
    "Item",
    "noop",
    "nextTick",
    "title",
    "browser",
    "env",
    "argv",
    "version",
    "versions",
    "off",
    "chdir",
    "dir",
    "umask",
    "isServer",
    "AsyncGroup",
    "cb",
    "isDone",
    "copyObject",
    "equalsNaN",
    "isArrayIndex",
    "segment",
    "test",
    "mayImpact",
    "_$util_64",
    "asyncGroup",
    "group",
    "castSegments",
    "contains",
    "deepCopy",
    "deepEqual",
    "lookup",
    "mergeInto",
    "mayImpactAny",
    "segmentsList",
    "serverRequire",
    "serverUse",
    "plugin",
    "use",
    "plugins",
    "_plugins",
    "unbundle",
    "collectionName",
    "connection",
    "startBulk",
    "_initQueries",
    "queries",
    "collections",
    "collection",
    "getOrCreateDoc",
    "contextId",
    "contexts",
    "contextData",
    "contextModel",
    "fetchedDocs",
    "fetchDoc",
    "_fetchedDocs",
    "increment",
    "subscribedDocs",
    "subscribeDoc",
    "createdDocs",
    "createDoc",
    "endBulk",
    "refs",
    "ref",
    "refLists",
    "refList",
    "fns",
    "filters",
    "_filters",
    "__EventEmitter_52",
    "patternContained",
    "pattern",
    "listenerSegments",
    "patternSegments",
    "Passed",
    "previous",
    "eventListener",
    "eventType",
    "arg4",
    "subpattern",
    "isPath",
    "useEventObjects",
    "modelEventListener",
    "modelEventListenerLegacy",
    "eventContext",
    "testFn",
    "testPatternFn",
    "modelListener",
    "eventArgs",
    "captures",
    "eventFactory",
    "getEventFactory",
    "ChangeEvent",
    "InsertEvent",
    "RemoveEvent",
    "MoveEvent",
    "LoadEvent",
    "UnloadEvent",
    "concreteEventFactory",
    "passed",
    "values",
    "removed",
    "howMany",
    "previousDocument",
    "endingRest",
    "stripRestWildcard",
    "patternLen",
    "patternSegment",
    "remainder",
    "lastIndex",
    "exec",
    "MUTATOR_EVENTS",
    "change",
    "insert",
    "remove",
    "move",
    "load",
    "unload",
    "_defaultCallback",
    "_emitError",
    "_mutatorEventQueue",
    "wrapCallback",
    "JSON",
    "stringify",
    "stringifyErr",
    "_emit",
    "queued",
    "_on",
    "g",
    "_removeAllListeners",
    "invert",
    "silent",
    "removeContextListeners",
    "createScoped",
    "scoped",
    "_$paths_57",
    "mixin",
    "_splitPath",
    "subpath",
    "scope",
    "at",
    "levels",
    "max",
    "leaf",
    "lastIndexOf",
    "_$Doc_43",
    "Doc",
    "collectionData",
    "_errorMessage",
    "description",
    "_$LocalDoc_44",
    "LocalDoc",
    "_updateCollectionData",
    "nodeCreateArray",
    "_apply",
    "del",
    "byNumber",
    "_validatedApply",
    "_arrayApply",
    "stringInsert",
    "stringRemove",
    "_createImplied",
    "nextKey",
    "validate",
    "CollectionMap",
    "ModelData",
    "DocMap",
    "CollectionData",
    "Collection",
    "docs",
    "noKeys",
    "getCollection",
    "getDoc",
    "_get",
    "getCopy",
    "_getCopy",
    "getDeepCopy",
    "_getDeepCopy",
    "getOrCreateCollection",
    "_getDocConstructor",
    "destroy",
    "silentModel",
    "_removeAllRefs",
    "_stopAll",
    "_removeAllFilters",
    "_del",
    "_mutate",
    "docSegments",
    "shareDoc",
    "oldPreventCompose",
    "preventCompose",
    "_set",
    "_dereference",
    "fnCb",
    "setNull",
    "_setNull",
    "setEach",
    "_setEach",
    "_create",
    "createNull",
    "_createNull",
    "_add",
    "_increment",
    "_push",
    "_unshift",
    "_insert",
    "inserted",
    "_pop",
    "_shift",
    "_remove",
    "_move",
    "moved",
    "text",
    "_stringInsert",
    "$stringInsert",
    "_stringRemove",
    "$stringRemove",
    "subtypeSubmit",
    "subtype",
    "subtypeOp",
    "_subtypeSubmit",
    "$subtype",
    "op",
    "_$arrayDiff_2",
    "arrayDiff",
    "InsertDiff",
    "RemoveDiff",
    "MoveDiff",
    "strictEqual",
    "before",
    "after",
    "equalFn",
    "beforeLength",
    "afterLength",
    "moves",
    "beforeMarked",
    "afterMarked",
    "beforeIndex",
    "beforeItem",
    "afterIndex",
    "removes",
    "inserts",
    "j",
    "insertsLength",
    "removesLength",
    "movesLength",
    "earlier",
    "outputMoves",
    "later",
    "toJSON",
    "diffDeep",
    "diff",
    "itemSegments",
    "_applyArrayDiff",
    "_setDiff",
    "setDiff",
    "setDiffDeep",
    "_setDiffDeep",
    "finished",
    "setArrayDiff",
    "_setArrayDiff",
    "setArrayDiffDeep",
    "_setArrayDiffDeep",
    "_equalFn",
    "__EventEmitter_74",
    "Constructor",
    "_$emitter_74",
    "SUPPORTED_METHODS",
    "Logger",
    "defaultMethods",
    "forEach",
    "method",
    "setMethods",
    "_$Logger_77",
    "overrides",
    "logger",
    "_$logger_76",
    "ShareDBError",
    "captureStackTrace",
    "stack",
    "CODES",
    "ERR_APPLY_OP_VERSION_DOES_NOT_MATCH_SNAPSHOT",
    "ERR_APPLY_SNAPSHOT_NOT_PROVIDED",
    "ERR_CLIENT_ID_BADLY_FORMED",
    "ERR_CONNECTION_STATE_TRANSITION_INVALID",
    "ERR_DATABASE_ADAPTER_NOT_FOUND",
    "ERR_DATABASE_DOES_NOT_SUPPORT_SUBSCRIBE",
    "ERR_DATABASE_METHOD_NOT_IMPLEMENTED",
    "ERR_DEFAULT_TYPE_MISMATCH",
    "ERR_DOC_MISSING_VERSION",
    "ERR_DOC_ALREADY_CREATED",
    "ERR_DOC_DOES_NOT_EXIST",
    "ERR_DOC_TYPE_NOT_RECOGNIZED",
    "ERR_DOC_WAS_DELETED",
    "ERR_INFLIGHT_OP_MISSING",
    "ERR_INGESTED_SNAPSHOT_HAS_NO_VERSION",
    "ERR_MAX_SUBMIT_RETRIES_EXCEEDED",
    "ERR_MESSAGE_BADLY_FORMED",
    "ERR_MILESTONE_ARGUMENT_INVALID",
    "ERR_OP_ALREADY_SUBMITTED",
    "ERR_OP_NOT_ALLOWED_IN_PROJECTION",
    "ERR_OP_SUBMIT_REJECTED",
    "ERR_OP_VERSION_MISMATCH_AFTER_TRANSFORM",
    "ERR_OP_VERSION_MISMATCH_DURING_TRANSFORM",
    "ERR_OP_VERSION_NEWER_THAN_CURRENT_SNAPSHOT",
    "ERR_OT_OP_BADLY_FORMED",
    "ERR_OT_OP_NOT_PROVIDED",
    "ERR_PROTOCOL_VERSION_NOT_SUPPORTED",
    "ERR_QUERY_EMITTER_LISTENER_NOT_ASSIGNED",
    "ERR_SNAPSHOT_READ_SILENT_REJECTION",
    "ERR_SNAPSHOT_READS_REJECTED",
    "ERR_SUBMIT_TRANSFORM_OPS_NOT_FOUND",
    "ERR_TYPE_CANNOT_BE_PROJECTED",
    "ERR_UNKNOWN_ERROR",
    "_$ShareDBError_75",
    "_$bootstrapTransform_25",
    "bootstrapTransform",
    "transformComponent",
    "checkValidOp",
    "append",
    "transformX",
    "leftOp",
    "rightOp",
    "left",
    "right",
    "destRight",
    "newRightOp",
    "rightComponent",
    "newLeftOp",
    "nextC",
    "pair",
    "l",
    "transform",
    "otherOp",
    "_$text0_28",
    "uri",
    "initial",
    "strInject",
    "s1",
    "pos",
    "s2",
    "checkValidComponent",
    "c",
    "d",
    "snapshot",
    "deleted",
    "_append",
    "newOp",
    "compose",
    "op1",
    "op2",
    "transformPosition",
    "insertAfter",
    "transformCursor",
    "side",
    "_tc",
    "dest",
    "otherC",
    "newC",
    "intersectStart",
    "intersectEnd",
    "invertComponent",
    "reverse",
    "__isArray_27",
    "isObject",
    "clone",
    "json",
    "subtypes",
    "convertFromText",
    "si",
    "sd",
    "convertToText",
    "registerSubtype",
    "c_",
    "oi",
    "od",
    "li",
    "ld",
    "na",
    "lm",
    "op_",
    "iop",
    "checkList",
    "elem",
    "checkObj",
    "container",
    "shatter",
    "results",
    "incrementalApply",
    "_yield",
    "smallOp",
    "pathMatches",
    "p1",
    "p2",
    "ignoreLast",
    "commonLengthForOps",
    "alen",
    "blen",
    "canOpAffectPath",
    "common",
    "common2",
    "cplength",
    "otherCplength",
    "oc",
    "commonOperand",
    "otherFrom",
    "otherTo",
    "_$json_27",
    "_$lib_26",
    "_$types_79",
    "defaultType",
    "ERROR_CODE",
    "inflightFetch",
    "inflightSubscribe",
    "inflightUnsubscribe",
    "pendingFetch",
    "subscribed",
    "wantSubscribe",
    "inflightOp",
    "pendingOps",
    "applyStack",
    "pushActionCallback",
    "inflight",
    "isDuplicate",
    "callback",
    "lastCallback",
    "client",
    "result",
    "clientOp",
    "serverOp",
    "callEach",
    "callbacks",
    "called",
    "_$Doc_68",
    "whenNothingPending",
    "unsubscribe",
    "_destroyDoc",
    "_setType",
    "newType",
    "ingestSnapshot",
    "v",
    "hasWritePending",
    "fetch",
    "hasPending",
    "_emitNothingPending",
    "_emitResponseError",
    "_handleFetch",
    "_handleSubscribe",
    "_handleUnsubscribe",
    "_handleOp",
    "_rollback",
    "src",
    "seq",
    "_opAcknowledged",
    "transformErr",
    "_hardRollback",
    "_otApply",
    "_onConnectionStateChanged",
    "canSend",
    "flush",
    "_resubscribe",
    "subscribe",
    "sendFetch",
    "sendSubscribe",
    "sendUnsubscribe",
    "paused",
    "_sendOp",
    "stackLength",
    "componentOp",
    "_popApplyStack",
    "createDeserialized",
    "oldData",
    "sentAt",
    "now",
    "retries",
    "sendOp",
    "_submit",
    "_pushOp",
    "composed",
    "_tryCompose",
    "ops",
    "submitOp",
    "pause",
    "resume",
    "_clearInflightOp",
    "allOpsHadCallbacks",
    "Query",
    "action",
    "query",
    "extra",
    "ready",
    "sent",
    "_$Query_70",
    "send",
    "q",
    "_destroyQuery",
    "_handleResponse",
    "_finishResponse",
    "wait",
    "finish",
    "_ingestSnapshots",
    "snapshots",
    "_handleError",
    "_handleDiff",
    "newDocs",
    "_handleExtra",
    "_$Snapshot_78",
    "Snapshot",
    "_$SnapshotRequest_71",
    "SnapshotRequest",
    "requestId",
    "_message",
    "metadata",
    "doNothing",
    "_$util_80",
    "isInteger",
    "Number",
    "isFinite",
    "floor",
    "isValidVersion",
    "isValidTimestamp",
    "timestamp",
    "_$SnapshotVersionRequest_73",
    "SnapshotVersionRequest",
    "_$SnapshotTimestampRequest_72",
    "SnapshotTimestampRequest",
    "ts",
    "connectionState",
    "socket",
    "readyState",
    "Connection",
    "nextQueryId",
    "nextSnapshotRequestId",
    "_snapshotRequests",
    "agent",
    "bindToSocket",
    "wrapErrorData",
    "errorData",
    "fullMessage",
    "_$Connection_67",
    "close",
    "onmessage",
    "onopen",
    "onerror",
    "onclose",
    "newState",
    "_setState",
    "info",
    "request",
    "handleMessage",
    "reason",
    "protocol",
    "_handleBulkMessage",
    "_handleSnapshotFetch",
    "getExisting",
    "dataForId",
    "_reset",
    "bulk",
    "actions",
    "_sendBulk",
    "u",
    "versionId",
    "ids",
    "versionsCount",
    "_sendAction",
    "_addDoc",
    "_createQuery",
    "createFetchQuery",
    "createSubscribeQuery",
    "_firstDoc",
    "_firstQuery",
    "_firstSnapshotRequest",
    "_nothingPendingRetry",
    "snapshotRequest",
    "fetchSnapshot",
    "fetchSnapshotByTimestamp",
    "_$client_69",
    "types",
    "_$RemoteDoc_47",
    "RemoteDoc",
    "$remote",
    "debugMutations",
    "remoteMutations",
    "_initShareDoc",
    "createInsertOp",
    "ListInsertOp",
    "ImpliedOp",
    "ObjectReplaceOp",
    "ObjectInsertOp",
    "ObjectDeleteOp",
    "ListReplaceOp",
    "ListRemoveOp",
    "ListMoveOp",
    "StringInsertOp",
    "StringRemoveOp",
    "IncrementOp",
    "SubtypeOp",
    "defined",
    "disableSubmit",
    "isLocal",
    "_onOp",
    "log",
    "allowCompose",
    "createConnection",
    "bundle",
    "_createSocket",
    "_finishCreateConnection",
    "connect",
    "open",
    "disconnect",
    "reconnect",
    "getAgent",
    "_isLocal",
    "firstCharcter",
    "Queries",
    "$query",
    "hash",
    "queryHash",
    "idsSegments",
    "extraSegments",
    "_pendingSubscribeCallbacks",
    "subscribeCount",
    "fetchCount",
    "created",
    "shareQuery",
    "idMap",
    "resultsIds",
    "_$Query_46",
    "_queries",
    "db",
    "_getOrCreateQuery",
    "QueryConstructor",
    "sanitizeQuery",
    "counts",
    "_setExtra",
    "resultIndex",
    "_addMapIds",
    "countIndex",
    "fetched",
    "setContext",
    "fetchQuery",
    "getIds",
    "_maybeUnloadDocs",
    "_setResults",
    "subscribeQuery",
    "_getShareResults",
    "fetchOnly",
    "_shareFetchedSubscribe",
    "_shareSubscribe",
    "_subscribeCb",
    "_flushSubscribeCallbacks",
    "shareDocs",
    "_removeMapIds",
    "unloadDelay",
    "_diffMapIds",
    "addedIds",
    "removedIds",
    "newMap",
    "_setResultIds",
    "_maybeUnloadDoc",
    "pendingCallback",
    "unfetch",
    "unfetchQuery",
    "finishUnfetchQuery",
    "unsubscribeQuery",
    "finishUnsubscribeQuery",
    "unsubscribeQueryCallback",
    "getExtra",
    "idsPath",
    "refIds",
    "refExtra",
    "relPath",
    "extraPath",
    "_contexts",
    "subscribedQueries",
    "fetchedQueries",
    "serialized",
    "_$CollectionCounter_42",
    "CollectionCounter",
    "reset",
    "decrement",
    "_subscribedDocs",
    "_forSubscribable",
    "argumentsObject",
    "docMethod",
    "unfetchDoc",
    "finishUnfetchDoc",
    "unsubscribeDoc",
    "finishUnsubscribeDoc",
    "unsubscribeDocCallback",
    "_hasDocReferences",
    "Contexts",
    "FetchedQueries",
    "SubscribedQueries",
    "Context",
    "mapIncrement",
    "mapDecrement",
    "getOrCreateContext",
    "unloadAll",
    "defaultFns",
    "_$defaultFns_51",
    "DefaultFns",
    "FnPair",
    "getReverse",
    "setReverse",
    "0",
    "asc",
    "desc",
    "NamedFns",
    "parseStartArguments",
    "hasPath",
    "inputs",
    "inputPaths",
    "FromMap",
    "Fns",
    "_namedFns",
    "fromMap",
    "Fn",
    "$fn",
    "getFn",
    "setFn",
    "fromSegments",
    "inputsSegments",
    "copyInput",
    "copyOutput",
    "mode",
    "async",
    "eventPending",
    "_fns",
    "onInput",
    "onOutput",
    "evaluate",
    "parsed",
    "stop",
    "_stop",
    "fromPath",
    "stopAll",
    "_onInput",
    "_setValue",
    "parseFilterArguments",
    "Filters",
    "Filter",
    "filterFn",
    "sortFn",
    "$filter",
    "filterName",
    "sortName",
    "skip",
    "limit",
    "sort",
    "update",
    "removeAllFilters",
    "_slice",
    "begin",
    "getInputs",
    "callFilter",
    "_removeRef",
    "_refLists",
    "$refList",
    "onMutation",
    "patchFromEvent",
    "fromLength",
    "segmentsLength",
    "toSegments",
    "toSegmentsByItem",
    "updateIdForValue",
    "setNewToValues",
    "deleteRemoved",
    "itemById",
    "idByItem",
    "outSegments",
    "patchToEvent",
    "toLength",
    "indices",
    "indicesByItem",
    "removeIndex",
    "indicesLen",
    "remaining",
    "dereferenced",
    "newIndices",
    "oldIndices",
    "equivalentArrays",
    "patchIdsEvent",
    "idsLength",
    "idByIndex",
    "RefList",
    "__FromMap_59",
    "RefLists",
    "toPath",
    "dereference",
    "addIndexListeners",
    "onIndexChange",
    "patch",
    "_refs",
    "updateIndices",
    "patched",
    "refIndex",
    "refChange",
    "parentSegments",
    "refLoad",
    "refUnload",
    "refInsert",
    "refRemove",
    "refMove",
    "__addListener_58",
    "toMap",
    "numRefs",
    "setterModel",
    "noopDereference",
    "parentToMap",
    "Ref",
    "$ref",
    "parentTos",
    "parentTo",
    "__FromMap_58",
    "ToMap",
    "Refs",
    "listMapAdd",
    "listMapRemove",
    "_canRefTo",
    "removeRef",
    "removeAllRefs",
    "_removeMapRefs",
    "forArrayMutator",
    "ignore",
    "doAgain",
    "_$Model_55",
    "__EventEmitter_63",
    "Racer",
    "_$Racer_63",
    "util",
    "createModel",
    "_$lib_racer",
    "aa",
    "ba",
    "ca",
    "da",
    "propertyIsEnumerable",
    "ea",
    "fa",
    "ga",
    "ha",
    "ia",
    "ja",
    "pa",
    "Hc",
    "h",
    "ka",
    "la",
    "ma",
    "oa",
    "qa",
    "ra",
    "ua",
    "va",
    "wa",
    "ya",
    "sa",
    "abs",
    "ta",
    "xa",
    "userAgent",
    "za",
    "product",
    "Aa",
    "y",
    "Ba",
    "z",
    "Da",
    "Ca",
    "documentMode",
    "Ea",
    "Fa",
    "opera",
    "Ga",
    "Ha",
    "Ia",
    "Ja",
    "A",
    "K",
    "parseInt",
    "La",
    "Ma",
    "compatMode",
    "Na",
    "Oa",
    "Pa",
    "Qa",
    "Ra",
    "Sa",
    "location",
    "href",
    "decodeURIComponent",
    "hostname",
    "Ta",
    "Ua",
    "Va",
    "Wa",
    "B",
    "Xa",
    "Ya",
    "Za",
    "$a",
    "ab",
    "bb",
    "O",
    "N",
    "C",
    "eb",
    "D",
    "E",
    "fb",
    "gb",
    "hb",
    "ib",
    "I",
    "jb",
    "R",
    "kb",
    "ub",
    "lb",
    "qb",
    "G",
    "rb",
    "sb",
    "H",
    "tb",
    "encodeURI",
    "vb",
    "mb",
    "encodeURIComponent",
    "nb",
    "ob",
    "pb",
    "substring",
    "J",
    "wb",
    "eval",
    "xb",
    "yb",
    "zb",
    "Ab",
    "Bb",
    "Cb",
    "\"",
    "\\",
    "/",
    "\b",
    "\f",
    "\n",
    "\r",
    "\t",
    "\u000b",
    "Db",
    "Eb",
    "Fb",
    "callee",
    "caller",
    "Gb",
    "Hb",
    "Ib",
    "Jb",
    "L",
    "rc",
    "Kb",
    "qc",
    "$b",
    "Lb",
    "Mb",
    "Nb",
    "Ob",
    "Pb",
    "Qb",
    "getParent",
    "mc",
    "timeStamp",
    "markTimeline",
    "msWriteProfilerMark",
    "lineNumber",
    "fileName",
    "Ic",
    "filename",
    "sourceURL",
    "$googDebugFname",
    "Ka",
    "Z",
    "Rb",
    "Sb",
    "Tb",
    "M",
    "Ub",
    "Vb",
    "Wb",
    "Xb",
    "Yb",
    "P",
    "Zb",
    "ac",
    "bc",
    "cc",
    "dc",
    "capture",
    "ec",
    "gc",
    "fc",
    "hc",
    "ic",
    "Q",
    "currentTarget",
    "jc",
    "kc",
    "relatedTarget",
    "charCode",
    "keyCode",
    "button",
    "screenY",
    "screenX",
    "clientY",
    "clientX",
    "offsetY",
    "offsetX",
    "metaKey",
    "shiftKey",
    "altKey",
    "ctrlKey",
    "srcElement",
    "nodeName",
    "fromElement",
    "toElement",
    "layerX",
    "layerY",
    "pageX",
    "pageY",
    "defaultPrevented",
    "preventDefault",
    "returnValue",
    "lc",
    "nc",
    "pc",
    "attachEvent",
    "sc",
    "tc",
    "uc",
    "W",
    "removeEventListener",
    "detachEvent",
    "vc",
    "wc",
    "Boolean",
    "parentNode",
    "xc",
    "handleEvent",
    "yc",
    "zc",
    "Gc",
    "dispatchEvent",
    "enabled",
    "setInterval",
    "Ac",
    "Fc",
    "Bc",
    "Cc",
    "Dc",
    "Ec",
    "ActiveXObject",
    "XMLHttpRequest",
    "headers",
    "T",
    "Jc",
    "Kc",
    "Lc",
    "Oc",
    "ontimeout",
    "Mc",
    "abort",
    "Pc",
    "Qc",
    "Rc",
    "Sc",
    "S",
    "statusText",
    "Nc",
    "onreadystatechange",
    "status",
    "Tc",
    "responseText",
    "Uc",
    "Vc",
    "toUpperCase",
    "FormData",
    "setRequestHeader",
    "responseType",
    "withCredentials",
    "isActive",
    "Wc",
    "Xc",
    "Yc",
    "U",
    "Y",
    "Zc",
    "$c",
    "X",
    "$",
    "ad",
    "bd",
    "dd",
    "ed",
    "fd",
    "gd",
    "hd",
    "jd",
    "nd",
    "qd",
    "V",
    "pd",
    "rd",
    "write",
    "parentWindow",
    "rpcClose",
    "body",
    "appendChild",
    "innerHTML",
    "td",
    "md",
    "ud",
    "vd",
    "onload",
    "onabort",
    "Image",
    "wd",
    "yd",
    "Ad",
    "zd",
    "Bd",
    "Cd",
    "Ed",
    "Fd",
    "Gd",
    "kd",
    "cancel",
    "xd",
    "correctHostPrefix",
    "Dd",
    "Hd",
    "Id",
    "Jd",
    "size",
    "Kd",
    "Yd",
    "Md",
    "Pd",
    "Qd",
    "Sd",
    "Rd",
    "Nd",
    "round",
    "getAdditionalParams",
    "badMapError",
    "Td",
    "Ud",
    "Vd",
    "Ld",
    "okToMakeRequest",
    "getNetworkTestImageUri",
    "Wd",
    "channelError",
    "Od",
    "channelClosed",
    "port",
    "Xd",
    "OSID",
    "OAID",
    "channelHandleMultipleArrays",
    "channelOpened",
    "channelHandleArray",
    "4",
    "6",
    "7",
    "8",
    "2",
    "9",
    "5",
    "10",
    "11",
    "cd",
    "reconnectTime",
    "extraHeaders",
    "extraParams",
    "affinity",
    "affinityParam",
    "CLOSED",
    "prev",
    "OPEN",
    "CONNECTING",
    "crossDomainXhr",
    "failFast",
    "sendMap",
    "_S",
    "canSendWhileConnecting",
    "canSendJSON",
    "CLOSING",
    "_$bcsocketUncompressed_3",
    "BCSocket",
    "_$Socket_41",
    "Socket",
    "_options",
    "_messageQueue",
    "_connectedOnce",
    "_attemptNum",
    "_url",
    "getWebSocketURL",
    "supportWebSockets",
    "browserChannelOnly",
    "_createWebSocket",
    "_createBrowserChannel",
    "getRandom",
    "WebSocket",
    "srvPort",
    "srvSecurePort",
    "srvHost",
    "srvProtocol",
    "base",
    "_type",
    "_socket",
    "_syncState",
    "_ws_onmessage",
    "_ws_onopen",
    "_ws_onclose",
    "_bc_onmessage",
    "_bc_onopen",
    "_bc_onclose",
    "_flushQueue",
    "wasClean",
    "_getTimeout",
    "maxTimeout",
    "timeoutIncrement",
    "_send",
    "CLIENT_OPTIONS",
    "getDefaultOpts",
    "simple",
    "defaultOptions",
    "omitExtraWLInCodeBlocks",
    "defaultValue",
    "describe",
    "noHeaderId",
    "prefixHeaderId",
    "rawPrefixHeaderId",
    "ghCompatibleHeaderId",
    "rawHeaderId",
    "headerLevelStart",
    "parseImgDimensions",
    "simplifiedAutoLink",
    "excludeTrailingPunctuationFromURLs",
    "literalMidWordUnderscores",
    "literalMidWordAsterisks",
    "strikethrough",
    "tables",
    "tablesHeaderId",
    "ghCodeBlocks",
    "tasklists",
    "smoothLivePreview",
    "smartIndentationFix",
    "disableForced4SpacesIndentedSublists",
    "simpleLineBreaks",
    "requireSpaceBeforeHeadingText",
    "ghMentions",
    "ghMentionsLink",
    "encodeEmails",
    "openLinksInNewWindow",
    "backslashEscapesHTMLTags",
    "emoji",
    "underline",
    "completeHTMLDocument",
    "splitAdjacentBlockquotes",
    "opt",
    "showdown",
    "parsers",
    "extensions",
    "globalOptions",
    "setFlavor",
    "flavor",
    "github",
    "original",
    "ghost",
    "vanilla",
    "allOn",
    "allOptionsOn",
    "extension",
    "errMsg",
    "valid",
    "helper",
    "baseMsg",
    "isString",
    "isUndefined",
    "regex",
    "ln",
    "escapeCharactersCallback",
    "wholeMatch",
    "m1",
    "setOption",
    "getOption",
    "getOptions",
    "resetOptions",
    "preset",
    "option",
    "getFlavor",
    "getFlavorOptions",
    "getDefaultOptions",
    "subParser",
    "func",
    "stdExtName",
    "validExtension",
    "getAllExtensions",
    "removeExtension",
    "resetExtensions",
    "validateExtension",
    "isFunction",
    "prop",
    "escapeCharacters",
    "charsToEscape",
    "afterBackslash",
    "regexString",
    "unescapeHTMLEntities",
    "txt",
    "rgxFindMatchPos",
    "flags",
    "matchRecursiveRegExp",
    "matchPos",
    "replaceRecursiveRegExp",
    "replacement",
    "repStr",
    "finalStr",
    "lng",
    "bits",
    "regexIndexOf",
    "fromIndex",
    "search",
    "splitAtIndex",
    "encodeEmailAddress",
    "mail",
    "encode",
    "ch",
    "padEnd",
    "targetLength",
    "padString",
    "repeat",
    "msg",
    "alert",
    "regexes",
    "asteriskDashAndColon",
    "emojis",
    "+1",
    "-1",
    "100",
    "1234",
    "1st_place_medal",
    "2nd_place_medal",
    "3rd_place_medal",
    "8ball",
    "abc",
    "abcd",
    "accept",
    "aerial_tramway",
    "airplane",
    "alarm_clock",
    "alembic",
    "alien",
    "ambulance",
    "amphora",
    "anchor",
    "angel",
    "anger",
    "angry",
    "anguished",
    "ant",
    "apple",
    "aquarius",
    "aries",
    "arrow_backward",
    "arrow_double_down",
    "arrow_double_up",
    "arrow_down",
    "arrow_down_small",
    "arrow_forward",
    "arrow_heading_down",
    "arrow_heading_up",
    "arrow_left",
    "arrow_lower_left",
    "arrow_lower_right",
    "arrow_right",
    "arrow_right_hook",
    "arrow_up",
    "arrow_up_down",
    "arrow_up_small",
    "arrow_upper_left",
    "arrow_upper_right",
    "arrows_clockwise",
    "arrows_counterclockwise",
    "art",
    "articulated_lorry",
    "artificial_satellite",
    "astonished",
    "athletic_shoe",
    "atm",
    "atom_symbol",
    "avocado",
    "baby",
    "baby_bottle",
    "baby_chick",
    "baby_symbol",
    "back",
    "bacon",
    "badminton",
    "baggage_claim",
    "baguette_bread",
    "balance_scale",
    "balloon",
    "ballot_box",
    "ballot_box_with_check",
    "bamboo",
    "banana",
    "bangbang",
    "bank",
    "bar_chart",
    "barber",
    "baseball",
    "basketball",
    "basketball_man",
    "basketball_woman",
    "bat",
    "bath",
    "bathtub",
    "battery",
    "beach_umbrella",
    "bear",
    "bed",
    "bee",
    "beer",
    "beers",
    "beetle",
    "beginner",
    "bell",
    "bellhop_bell",
    "bento",
    "biking_man",
    "bike",
    "biking_woman",
    "bikini",
    "biohazard",
    "bird",
    "birthday",
    "black_circle",
    "black_flag",
    "black_heart",
    "black_joker",
    "black_large_square",
    "black_medium_small_square",
    "black_medium_square",
    "black_nib",
    "black_small_square",
    "black_square_button",
    "blonde_man",
    "blonde_woman",
    "blossom",
    "blowfish",
    "blue_book",
    "blue_car",
    "blue_heart",
    "blush",
    "boar",
    "boat",
    "bomb",
    "book",
    "bookmark",
    "bookmark_tabs",
    "books",
    "boom",
    "boot",
    "bouquet",
    "bowing_man",
    "bow_and_arrow",
    "bowing_woman",
    "bowling",
    "boxing_glove",
    "boy",
    "bread",
    "bride_with_veil",
    "bridge_at_night",
    "briefcase",
    "broken_heart",
    "bug",
    "building_construction",
    "bulb",
    "bullettrain_front",
    "bullettrain_side",
    "burrito",
    "bus",
    "business_suit_levitating",
    "busstop",
    "bust_in_silhouette",
    "busts_in_silhouette",
    "butterfly",
    "cactus",
    "cake",
    "calendar",
    "call_me_hand",
    "calling",
    "camel",
    "camera",
    "camera_flash",
    "camping",
    "cancer",
    "candle",
    "candy",
    "canoe",
    "capital_abcd",
    "capricorn",
    "car",
    "card_file_box",
    "card_index",
    "card_index_dividers",
    "carousel_horse",
    "carrot",
    "cat",
    "cat2",
    "chains",
    "champagne",
    "chart",
    "chart_with_downwards_trend",
    "chart_with_upwards_trend",
    "checkered_flag",
    "cheese",
    "cherries",
    "cherry_blossom",
    "chestnut",
    "chicken",
    "children_crossing",
    "chipmunk",
    "chocolate_bar",
    "christmas_tree",
    "church",
    "cinema",
    "circus_tent",
    "city_sunrise",
    "city_sunset",
    "cityscape",
    "cl",
    "clamp",
    "clap",
    "clapper",
    "classical_building",
    "clinking_glasses",
    "clipboard",
    "clock1",
    "clock10",
    "clock1030",
    "clock11",
    "clock1130",
    "clock12",
    "clock1230",
    "clock130",
    "clock2",
    "clock230",
    "clock3",
    "clock330",
    "clock4",
    "clock430",
    "clock5",
    "clock530",
    "clock6",
    "clock630",
    "clock7",
    "clock730",
    "clock8",
    "clock830",
    "clock9",
    "clock930",
    "closed_book",
    "closed_lock_with_key",
    "closed_umbrella",
    "cloud",
    "cloud_with_lightning",
    "cloud_with_lightning_and_rain",
    "cloud_with_rain",
    "cloud_with_snow",
    "clown_face",
    "clubs",
    "cocktail",
    "coffee",
    "coffin",
    "cold_sweat",
    "comet",
    "computer",
    "computer_mouse",
    "confetti_ball",
    "confounded",
    "confused",
    "congratulations",
    "construction",
    "construction_worker_man",
    "construction_worker_woman",
    "control_knobs",
    "convenience_store",
    "cookie",
    "cool",
    "policeman",
    "copyright",
    "corn",
    "couch_and_lamp",
    "couple",
    "couple_with_heart_woman_man",
    "couple_with_heart_man_man",
    "couple_with_heart_woman_woman",
    "couplekiss_man_man",
    "couplekiss_man_woman",
    "couplekiss_woman_woman",
    "cow",
    "cow2",
    "cowboy_hat_face",
    "crab",
    "crayon",
    "credit_card",
    "crescent_moon",
    "cricket",
    "crocodile",
    "croissant",
    "crossed_fingers",
    "crossed_flags",
    "crossed_swords",
    "crown",
    "cry",
    "crying_cat_face",
    "crystal_ball",
    "cucumber",
    "cupid",
    "curly_loop",
    "currency_exchange",
    "curry",
    "custard",
    "customs",
    "cyclone",
    "dagger",
    "dancer",
    "dancing_women",
    "dancing_men",
    "dango",
    "dark_sunglasses",
    "dart",
    "dash",
    "date",
    "deciduous_tree",
    "deer",
    "department_store",
    "derelict_house",
    "desert",
    "desert_island",
    "desktop_computer",
    "male_detective",
    "diamond_shape_with_a_dot_inside",
    "diamonds",
    "disappointed",
    "disappointed_relieved",
    "dizzy",
    "dizzy_face",
    "do_not_litter",
    "dog",
    "dog2",
    "dollar",
    "dolls",
    "dolphin",
    "door",
    "doughnut",
    "dove",
    "dragon",
    "dragon_face",
    "dress",
    "dromedary_camel",
    "drooling_face",
    "droplet",
    "drum",
    "duck",
    "dvd",
    "e-mail",
    "eagle",
    "ear",
    "ear_of_rice",
    "earth_africa",
    "earth_americas",
    "earth_asia",
    "egg",
    "eggplant",
    "eight_pointed_black_star",
    "eight_spoked_asterisk",
    "electric_plug",
    "elephant",
    "email",
    "envelope_with_arrow",
    "euro",
    "european_castle",
    "european_post_office",
    "evergreen_tree",
    "exclamation",
    "expressionless",
    "eye",
    "eye_speech_bubble",
    "eyeglasses",
    "eyes",
    "face_with_head_bandage",
    "face_with_thermometer",
    "fist_oncoming",
    "factory",
    "fallen_leaf",
    "family_man_woman_boy",
    "family_man_boy",
    "family_man_boy_boy",
    "family_man_girl",
    "family_man_girl_boy",
    "family_man_girl_girl",
    "family_man_man_boy",
    "family_man_man_boy_boy",
    "family_man_man_girl",
    "family_man_man_girl_boy",
    "family_man_man_girl_girl",
    "family_man_woman_boy_boy",
    "family_man_woman_girl",
    "family_man_woman_girl_boy",
    "family_man_woman_girl_girl",
    "family_woman_boy",
    "family_woman_boy_boy",
    "family_woman_girl",
    "family_woman_girl_boy",
    "family_woman_girl_girl",
    "family_woman_woman_boy",
    "family_woman_woman_boy_boy",
    "family_woman_woman_girl",
    "family_woman_woman_girl_boy",
    "family_woman_woman_girl_girl",
    "fast_forward",
    "fax",
    "fearful",
    "feet",
    "female_detective",
    "ferris_wheel",
    "ferry",
    "field_hockey",
    "file_cabinet",
    "file_folder",
    "film_projector",
    "film_strip",
    "fire",
    "fire_engine",
    "fireworks",
    "first_quarter_moon",
    "first_quarter_moon_with_face",
    "fish",
    "fish_cake",
    "fishing_pole_and_fish",
    "fist_raised",
    "fist_left",
    "fist_right",
    "flashlight",
    "fleur_de_lis",
    "flight_arrival",
    "flight_departure",
    "floppy_disk",
    "flower_playing_cards",
    "flushed",
    "fog",
    "foggy",
    "football",
    "footprints",
    "fork_and_knife",
    "fountain",
    "fountain_pen",
    "four_leaf_clover",
    "fox_face",
    "framed_picture",
    "free",
    "fried_egg",
    "fried_shrimp",
    "fries",
    "frog",
    "frowning",
    "frowning_face",
    "frowning_man",
    "frowning_woman",
    "middle_finger",
    "fuelpump",
    "full_moon",
    "full_moon_with_face",
    "funeral_urn",
    "game_die",
    "gear",
    "gem",
    "gemini",
    "gift",
    "gift_heart",
    "girl",
    "globe_with_meridians",
    "goal_net",
    "goat",
    "golf",
    "golfing_man",
    "golfing_woman",
    "gorilla",
    "grapes",
    "green_apple",
    "green_book",
    "green_heart",
    "green_salad",
    "grey_exclamation",
    "grey_question",
    "grimacing",
    "grin",
    "grinning",
    "guardsman",
    "guardswoman",
    "guitar",
    "gun",
    "haircut_woman",
    "haircut_man",
    "hamburger",
    "hammer",
    "hammer_and_pick",
    "hammer_and_wrench",
    "hamster",
    "hand",
    "handbag",
    "handshake",
    "hankey",
    "hatched_chick",
    "hatching_chick",
    "headphones",
    "hear_no_evil",
    "heart",
    "heart_decoration",
    "heart_eyes",
    "heart_eyes_cat",
    "heartbeat",
    "heartpulse",
    "hearts",
    "heavy_check_mark",
    "heavy_division_sign",
    "heavy_dollar_sign",
    "heavy_heart_exclamation",
    "heavy_minus_sign",
    "heavy_multiplication_x",
    "heavy_plus_sign",
    "helicopter",
    "herb",
    "hibiscus",
    "high_brightness",
    "high_heel",
    "hocho",
    "hole",
    "honey_pot",
    "horse",
    "horse_racing",
    "hospital",
    "hot_pepper",
    "hotdog",
    "hotel",
    "hotsprings",
    "hourglass",
    "hourglass_flowing_sand",
    "house",
    "house_with_garden",
    "houses",
    "hugs",
    "hushed",
    "ice_cream",
    "ice_hockey",
    "ice_skate",
    "icecream",
    "ideograph_advantage",
    "imp",
    "inbox_tray",
    "incoming_envelope",
    "tipping_hand_woman",
    "information_source",
    "innocent",
    "interrobang",
    "iphone",
    "izakaya_lantern",
    "jack_o_lantern",
    "japan",
    "japanese_castle",
    "japanese_goblin",
    "japanese_ogre",
    "jeans",
    "joy",
    "joy_cat",
    "joystick",
    "kaaba",
    "keyboard",
    "keycap_ten",
    "kick_scooter",
    "kimono",
    "kiss",
    "kissing",
    "kissing_cat",
    "kissing_closed_eyes",
    "kissing_heart",
    "kissing_smiling_eyes",
    "kiwi_fruit",
    "koala",
    "koko",
    "label",
    "large_blue_circle",
    "large_blue_diamond",
    "large_orange_diamond",
    "last_quarter_moon",
    "last_quarter_moon_with_face",
    "latin_cross",
    "laughing",
    "leaves",
    "ledger",
    "left_luggage",
    "left_right_arrow",
    "leftwards_arrow_with_hook",
    "lemon",
    "leo",
    "leopard",
    "level_slider",
    "libra",
    "light_rail",
    "link",
    "lion",
    "lips",
    "lipstick",
    "lizard",
    "lock",
    "lock_with_ink_pen",
    "lollipop",
    "loop",
    "loud_sound",
    "loudspeaker",
    "love_hotel",
    "love_letter",
    "low_brightness",
    "lying_face",
    "mag",
    "mag_right",
    "mahjong",
    "mailbox",
    "mailbox_closed",
    "mailbox_with_mail",
    "mailbox_with_no_mail",
    "man",
    "man_artist",
    "man_astronaut",
    "man_cartwheeling",
    "man_cook",
    "man_dancing",
    "man_facepalming",
    "man_factory_worker",
    "man_farmer",
    "man_firefighter",
    "man_health_worker",
    "man_in_tuxedo",
    "man_judge",
    "man_juggling",
    "man_mechanic",
    "man_office_worker",
    "man_pilot",
    "man_playing_handball",
    "man_playing_water_polo",
    "man_scientist",
    "man_shrugging",
    "man_singer",
    "man_student",
    "man_teacher",
    "man_technologist",
    "man_with_gua_pi_mao",
    "man_with_turban",
    "tangerine",
    "mans_shoe",
    "mantelpiece_clock",
    "maple_leaf",
    "martial_arts_uniform",
    "mask",
    "massage_woman",
    "massage_man",
    "meat_on_bone",
    "medal_military",
    "medal_sports",
    "mega",
    "melon",
    "memo",
    "men_wrestling",
    "menorah",
    "mens",
    "metal",
    "metro",
    "microphone",
    "microscope",
    "milk_glass",
    "milky_way",
    "minibus",
    "minidisc",
    "mobile_phone_off",
    "money_mouth_face",
    "money_with_wings",
    "moneybag",
    "monkey",
    "monkey_face",
    "monorail",
    "moon",
    "mortar_board",
    "mosque",
    "motor_boat",
    "motor_scooter",
    "motorcycle",
    "motorway",
    "mount_fuji",
    "mountain",
    "mountain_biking_man",
    "mountain_biking_woman",
    "mountain_cableway",
    "mountain_railway",
    "mountain_snow",
    "mouse",
    "mouse2",
    "movie_camera",
    "moyai",
    "mrs_claus",
    "muscle",
    "mushroom",
    "musical_keyboard",
    "musical_note",
    "musical_score",
    "mute",
    "nail_care",
    "name_badge",
    "national_park",
    "nauseated_face",
    "necktie",
    "negative_squared_cross_mark",
    "nerd_face",
    "neutral_face",
    "new",
    "new_moon",
    "new_moon_with_face",
    "newspaper",
    "newspaper_roll",
    "next_track_button",
    "ng",
    "no_good_man",
    "no_good_woman",
    "night_with_stars",
    "no_bell",
    "no_bicycles",
    "no_entry",
    "no_entry_sign",
    "no_mobile_phones",
    "no_mouth",
    "no_pedestrians",
    "no_smoking",
    "non-potable_water",
    "nose",
    "notebook",
    "notebook_with_decorative_cover",
    "notes",
    "nut_and_bolt",
    "o2",
    "ocean",
    "octopus",
    "oden",
    "office",
    "oil_drum",
    "ok",
    "ok_hand",
    "ok_man",
    "ok_woman",
    "old_key",
    "older_man",
    "older_woman",
    "om",
    "oncoming_automobile",
    "oncoming_bus",
    "oncoming_police_car",
    "oncoming_taxi",
    "open_file_folder",
    "open_hands",
    "open_mouth",
    "open_umbrella",
    "ophiuchus",
    "orange_book",
    "orthodox_cross",
    "outbox_tray",
    "owl",
    "ox",
    "package",
    "page_facing_up",
    "page_with_curl",
    "pager",
    "paintbrush",
    "palm_tree",
    "pancakes",
    "panda_face",
    "paperclip",
    "paperclips",
    "parasol_on_ground",
    "parking",
    "part_alternation_mark",
    "partly_sunny",
    "passenger_ship",
    "passport_control",
    "pause_button",
    "peace_symbol",
    "peach",
    "peanuts",
    "pear",
    "pen",
    "pencil2",
    "penguin",
    "pensive",
    "performing_arts",
    "persevere",
    "person_fencing",
    "pouting_woman",
    "phone",
    "pick",
    "pig",
    "pig2",
    "pig_nose",
    "pill",
    "pineapple",
    "ping_pong",
    "pisces",
    "pizza",
    "place_of_worship",
    "plate_with_cutlery",
    "play_or_pause_button",
    "point_down",
    "point_left",
    "point_right",
    "point_up",
    "point_up_2",
    "police_car",
    "policewoman",
    "poodle",
    "popcorn",
    "post_office",
    "postal_horn",
    "postbox",
    "potable_water",
    "potato",
    "pouch",
    "poultry_leg",
    "pound",
    "rage",
    "pouting_cat",
    "pouting_man",
    "pray",
    "prayer_beads",
    "pregnant_woman",
    "previous_track_button",
    "prince",
    "princess",
    "printer",
    "purple_heart",
    "purse",
    "pushpin",
    "put_litter_in_its_place",
    "question",
    "rabbit",
    "rabbit2",
    "racehorse",
    "racing_car",
    "radio",
    "radio_button",
    "radioactive",
    "railway_car",
    "railway_track",
    "rainbow",
    "rainbow_flag",
    "raised_back_of_hand",
    "raised_hand_with_fingers_splayed",
    "raised_hands",
    "raising_hand_woman",
    "raising_hand_man",
    "ram",
    "ramen",
    "rat",
    "record_button",
    "recycle",
    "red_circle",
    "registered",
    "relaxed",
    "relieved",
    "reminder_ribbon",
    "repeat_one",
    "rescue_worker_helmet",
    "restroom",
    "revolving_hearts",
    "rewind",
    "rhinoceros",
    "ribbon",
    "rice",
    "rice_ball",
    "rice_cracker",
    "rice_scene",
    "right_anger_bubble",
    "ring",
    "robot",
    "rocket",
    "rofl",
    "roll_eyes",
    "roller_coaster",
    "rooster",
    "rose",
    "rosette",
    "rotating_light",
    "round_pushpin",
    "rowing_man",
    "rowing_woman",
    "rugby_football",
    "running_man",
    "running_shirt_with_sash",
    "running_woman",
    "sagittarius",
    "sake",
    "sandal",
    "santa",
    "satellite",
    "saxophone",
    "school",
    "school_satchel",
    "scissors",
    "scorpion",
    "scorpius",
    "scream",
    "scream_cat",
    "scroll",
    "seat",
    "secret",
    "see_no_evil",
    "seedling",
    "selfie",
    "shallow_pan_of_food",
    "shamrock",
    "shark",
    "shaved_ice",
    "sheep",
    "shell",
    "shield",
    "shinto_shrine",
    "ship",
    "shirt",
    "shopping",
    "shopping_cart",
    "shower",
    "shrimp",
    "signal_strength",
    "six_pointed_star",
    "ski",
    "skier",
    "skull",
    "skull_and_crossbones",
    "sleeping",
    "sleeping_bed",
    "sleepy",
    "slightly_frowning_face",
    "slightly_smiling_face",
    "slot_machine",
    "small_airplane",
    "small_blue_diamond",
    "small_orange_diamond",
    "small_red_triangle",
    "small_red_triangle_down",
    "smile",
    "smile_cat",
    "smiley",
    "smiley_cat",
    "smiling_imp",
    "smirk",
    "smirk_cat",
    "smoking",
    "snail",
    "snake",
    "sneezing_face",
    "snowboarder",
    "snowflake",
    "snowman",
    "snowman_with_snow",
    "sob",
    "soccer",
    "soon",
    "sos",
    "sound",
    "space_invader",
    "spades",
    "spaghetti",
    "sparkle",
    "sparkler",
    "sparkles",
    "sparkling_heart",
    "speak_no_evil",
    "speaker",
    "speaking_head",
    "speech_balloon",
    "speedboat",
    "spider",
    "spider_web",
    "spiral_calendar",
    "spiral_notepad",
    "spoon",
    "squid",
    "stadium",
    "star",
    "star2",
    "star_and_crescent",
    "star_of_david",
    "stars",
    "station",
    "statue_of_liberty",
    "steam_locomotive",
    "stew",
    "stop_button",
    "stop_sign",
    "stopwatch",
    "straight_ruler",
    "strawberry",
    "stuck_out_tongue",
    "stuck_out_tongue_closed_eyes",
    "stuck_out_tongue_winking_eye",
    "studio_microphone",
    "stuffed_flatbread",
    "sun_behind_large_cloud",
    "sun_behind_rain_cloud",
    "sun_behind_small_cloud",
    "sun_with_face",
    "sunflower",
    "sunglasses",
    "sunny",
    "sunrise",
    "sunrise_over_mountains",
    "surfing_man",
    "surfing_woman",
    "sushi",
    "suspension_railway",
    "sweat",
    "sweat_drops",
    "sweat_smile",
    "sweet_potato",
    "swimming_man",
    "swimming_woman",
    "symbols",
    "synagogue",
    "syringe",
    "taco",
    "tada",
    "tanabata_tree",
    "taurus",
    "taxi",
    "tea",
    "telephone_receiver",
    "telescope",
    "tennis",
    "tent",
    "thermometer",
    "thinking",
    "thought_balloon",
    "ticket",
    "tickets",
    "tiger",
    "tiger2",
    "timer_clock",
    "tipping_hand_man",
    "tired_face",
    "tm",
    "toilet",
    "tokyo_tower",
    "tomato",
    "tongue",
    "top",
    "tophat",
    "tornado",
    "trackball",
    "tractor",
    "traffic_light",
    "train",
    "train2",
    "tram",
    "triangular_flag_on_post",
    "triangular_ruler",
    "trident",
    "triumph",
    "trolleybus",
    "trophy",
    "tropical_drink",
    "tropical_fish",
    "truck",
    "trumpet",
    "tulip",
    "tumbler_glass",
    "turkey",
    "turtle",
    "tv",
    "twisted_rightwards_arrows",
    "two_hearts",
    "two_men_holding_hands",
    "two_women_holding_hands",
    "u5272",
    "u5408",
    "u55b6",
    "u6307",
    "u6708",
    "u6709",
    "u6e80",
    "u7121",
    "u7533",
    "u7981",
    "u7a7a",
    "umbrella",
    "unamused",
    "underage",
    "unicorn",
    "unlock",
    "upside_down_face",
    "vertical_traffic_light",
    "vhs",
    "vibration_mode",
    "video_camera",
    "video_game",
    "violin",
    "virgo",
    "volcano",
    "volleyball",
    "vs",
    "vulcan_salute",
    "walking_man",
    "walking_woman",
    "waning_crescent_moon",
    "waning_gibbous_moon",
    "warning",
    "wastebasket",
    "watch",
    "water_buffalo",
    "watermelon",
    "wave",
    "wavy_dash",
    "waxing_crescent_moon",
    "weary",
    "wedding",
    "weight_lifting_man",
    "weight_lifting_woman",
    "whale",
    "whale2",
    "wheel_of_dharma",
    "wheelchair",
    "white_check_mark",
    "white_circle",
    "white_flag",
    "white_flower",
    "white_large_square",
    "white_medium_small_square",
    "white_medium_square",
    "white_small_square",
    "white_square_button",
    "wilted_flower",
    "wind_chime",
    "wind_face",
    "wine_glass",
    "wink",
    "wolf",
    "woman",
    "woman_artist",
    "woman_astronaut",
    "woman_cartwheeling",
    "woman_cook",
    "woman_facepalming",
    "woman_factory_worker",
    "woman_farmer",
    "woman_firefighter",
    "woman_health_worker",
    "woman_judge",
    "woman_juggling",
    "woman_mechanic",
    "woman_office_worker",
    "woman_pilot",
    "woman_playing_handball",
    "woman_playing_water_polo",
    "woman_scientist",
    "woman_shrugging",
    "woman_singer",
    "woman_student",
    "woman_teacher",
    "woman_technologist",
    "woman_with_turban",
    "womans_clothes",
    "womans_hat",
    "women_wrestling",
    "womens",
    "world_map",
    "worried",
    "wrench",
    "writing_hand",
    "yellow_heart",
    "yen",
    "yin_yang",
    "yum",
    "zap",
    "zipper_mouth_face",
    "zzz",
    "octocat",
    "Converter",
    "converterOptions",
    "langExtensions",
    "outputModifiers",
    "setConvFlavor",
    "raw",
    "format",
    "_parseExtension",
    "legacyExtensionLoading",
    "validExt",
    "listen",
    "gOpt",
    "_constructor",
    "_dispatch",
    "evtName",
    "globals",
    "ei",
    "nText",
    "makeHtml",
    "gHtmlBlocks",
    "gHtmlMdBlocks",
    "gHtmlSpans",
    "gUrls",
    "gTitles",
    "gDimensions",
    "gListLevel",
    "hashLinkCounts",
    "converter",
    "rsp",
    "rgx",
    "rTrimInputText",
    "makeMarkdown",
    "makeMd",
    "HTMLParser",
    "preList",
    "pres",
    "querySelectorAll",
    "presPH",
    "childElementCount",
    "language",
    "getAttribute",
    "classes",
    "className",
    "matches",
    "outerHTML",
    "setAttribute",
    "substitutePreCodeTags",
    "clean",
    "childNodes",
    "nodeType",
    "nodeValue",
    "removeChild",
    "nodes",
    "mdDoc",
    "addExtension",
    "useExtension",
    "extensionName",
    "output",
    "getMetadata",
    "getMetadataFormat",
    "_setMetadataPair",
    "_setMetadataFormat",
    "_setMetadataRaw",
    "writeAnchorTag",
    "linkText",
    "linkId",
    "url",
    "m5",
    "m6",
    "wm",
    "st",
    "escape",
    "mentions",
    "username",
    "lnk",
    "simpleURLRegex",
    "simpleURLRegex2",
    "delimUrlRegex",
    "simpleMailRegex",
    "delimMailRegex",
    "replaceLink",
    "leadingMagicChars",
    "m2",
    "m3",
    "trailingPunctuation",
    "trailingMagicChars",
    "lnkTxt",
    "lmc",
    "tmc",
    "replaceMail",
    "bq",
    "pre",
    "codeblock",
    "nextChar",
    "doctype",
    "doctypeParsed",
    "charset",
    "lang",
    "leadingText",
    "numSpaces",
    "emojiCode",
    "delim",
    "blockText",
    "blockTags",
    "repFunc",
    "inside",
    "opTagPos",
    "rgx1",
    "patLeft",
    "patRight",
    "subTexts",
    "newSubText1",
    "hashHTMLSpan",
    "html",
    "repText",
    "num",
    "$1",
    "setextRegexH1",
    "setextRegexH2",
    "spanGamut",
    "hID",
    "headerId",
    "hashBlock",
    "matchFound",
    "hLevel",
    "atxStyle",
    "prefix",
    "customizedHeaderId",
    "hText",
    "span",
    "header",
    "writeImageTag",
    "altText",
    "width",
    "height",
    "gDims",
    "parseInside",
    "lead",
    "processListItems",
    "listStr",
    "trimTrailing",
    "isParagraphed",
    "m4",
    "taskbtn",
    "checked",
    "bulletStyle",
    "otp",
    "wm2",
    "styleStartNumber",
    "listType",
    "parseConsecutiveLists",
    "olRgx",
    "ulRgx",
    "counterRxg",
    "parseCL",
    "style",
    "parseMetadataContents",
    "wholematch",
    "grafs",
    "grafsOut",
    "grafsOutIt",
    "codeFlag",
    "$2",
    "re",
    "replaceFunc",
    "blankLines",
    "parseCells",
    "cell",
    "parseTable",
    "rawTable",
    "tableLines",
    "sLine",
    "rawHeaders",
    "rawStyles",
    "rawCells",
    "styles",
    "cells",
    "tableHeaderId",
    "row",
    "tblLgn",
    "buildTable",
    "charCodeToReplace",
    "fromCharCode",
    "children",
    "childrenLength",
    "innerTxt",
    "headerLevel",
    "headerMark",
    "hasAttribute",
    "listItems",
    "listItemsLenght",
    "listNum",
    "listItemTxt",
    "childrenLenght",
    "spansOnly",
    "tableArray",
    "headings",
    "rows",
    "headContent",
    "allign",
    "cols",
    "getElementsByTagName",
    "cellContent",
    "cellSpacesCount",
    "strLen",
    "define",
    "amd",
    "_$showdown_81",
    "paramsEqual",
    "some",
    "acceptParams",
    "quality",
    "params",
    "originalIndex",
    "pms",
    "_$utils_86",
    "etag",
    "crc32",
    "signed",
    "locals",
    "flatten",
    "normalizeType",
    "mime",
    "normalizeTypes",
    "acceptsArray",
    "accepted",
    "parseAccept",
    "normalized",
    "jlen",
    "accepts",
    "parseParams",
    "pathRegexp",
    "sensitive",
    "strict",
    "_",
    "slash",
    "optional",
    "_$Route_85",
    "Route",
    "regexp",
    "val",
    "has",
    "__isArray_36",
    "hexTable",
    "compactQueue",
    "compacted",
    "arrayToObject",
    "plainObjects",
    "merge",
    "allowPrototypes",
    "mergeTarget",
    "targetItem",
    "reduce",
    "acc",
    "assign",
    "decode",
    "decoder",
    "strWithoutPlus",
    "unescape",
    "defaultEncoder",
    "Symbol",
    "$0",
    "compact",
    "isRegExp",
    "isBuffer",
    "combine",
    "_$utils_36",
    "percentTwenties",
    "Format",
    "RFC1738",
    "RFC3986",
    "_$formats_32",
    "default",
    "formatters",
    "__has_35",
    "arrayPrefixGenerators",
    "brackets",
    "comma",
    "__isArray_35",
    "pushToArray",
    "valueOrArray",
    "toISO",
    "toISOString",
    "defaultFormat",
    "defaults",
    "addQueryPrefix",
    "allowDots",
    "charsetSentinel",
    "encoder",
    "encodeValuesOnly",
    "formatter",
    "serializeDate",
    "skipNulls",
    "strictNullHandling",
    "isNonNullishPrimitive",
    "generateArrayPrefix",
    "objKeys",
    "normalizeStringifyOptions",
    "opts",
    "_$stringify_35",
    "arrayFormat",
    "joined",
    "__has_34",
    "__isArray_34",
    "__defaults_34",
    "arrayLimit",
    "depth",
    "ignoreQueryPrefix",
    "interpretNumericEntities",
    "parameterLimit",
    "parseArrays",
    "numberStr",
    "isoSentinel",
    "parseValues",
    "cleanStr",
    "Infinity",
    "skipIndex",
    "part",
    "bracketEqualsPos",
    "parseObject",
    "chain",
    "cleanRoot",
    "parseKeys",
    "givenKey",
    "normalizeParseOptions",
    "_$parse_34",
    "tempObj",
    "newObj",
    "_$lib_33",
    "formats",
    "freeExports",
    "_$punycode_31",
    "freeModule",
    "freeGlobal",
    "punycode",
    "maxInt",
    "tMin",
    "tMax",
    "skew",
    "damp",
    "initialBias",
    "initialN",
    "regexPunycode",
    "regexNonASCII",
    "regexSeparators",
    "errors",
    "overflow",
    "not-basic",
    "invalid-input",
    "baseMinusTMin",
    "stringFromCharCode",
    "RangeError",
    "mapDomain",
    "ucs2decode",
    "counter",
    "ucs2encode",
    "digitToBasic",
    "digit",
    "flag",
    "adapt",
    "delta",
    "numPoints",
    "firstTime",
    "basic",
    "oldi",
    "baseMinusT",
    "codePoint",
    "inputLength",
    "bias",
    "handledCPCount",
    "basicLength",
    "currentValue",
    "handledCPCountPlusOne",
    "qMinusT",
    "ucs2",
    "toASCII",
    "toUnicode",
    "_$util_88",
    "isNull",
    "isNullOrUndefined",
    "_$decode_37",
    "qs",
    "eq",
    "maxKeys",
    "kstr",
    "vstr",
    "idx",
    "__isArray_37",
    "stringifyPrimitive",
    "_$encode_38",
    "__objectKeys_38",
    "ks",
    "__isArray_38",
    "_$querystringEs3_39",
    "Url",
    "slashes",
    "auth",
    "host",
    "pathname",
    "_$url_87",
    "urlParse",
    "urlResolve",
    "resolveObject",
    "urlResolveObject",
    "urlFormat",
    "protocolPattern",
    "portPattern",
    "simplePathPattern",
    "delims",
    "unwise",
    "autoEscape",
    "nonHostChars",
    "hostEndingChars",
    "hostnameMaxLen",
    "hostnamePartPattern",
    "hostnamePartStart",
    "unsafeProtocol",
    "javascript",
    "javascript:",
    "hostlessProtocol",
    "slashedProtocol",
    "http",
    "https",
    "ftp",
    "gopher",
    "file",
    "http:",
    "https:",
    "ftp:",
    "gopher:",
    "file:",
    "parseQueryString",
    "slashesDenoteHost",
    "queryIndex",
    "splitter",
    "uSplit",
    "rest",
    "simplePath",
    "lowerProto",
    "atSign",
    "hostEnd",
    "hec",
    "parseHost",
    "ipv6Hostname",
    "hostparts",
    "newpart",
    "validParts",
    "notHost",
    "bit",
    "ae",
    "esc",
    "qm",
    "rel",
    "tkeys",
    "tk",
    "tkey",
    "rkeys",
    "rk",
    "rkey",
    "isSourceAbs",
    "isRelAbs",
    "mustEndAbs",
    "removeAllDots",
    "srcPath",
    "psychotic",
    "authInHost",
    "hasTrailingSlash",
    "_$router_84",
    "render",
    "isTransitional",
    "mapRoute",
    "queryString",
    "history",
    "req",
    "RenderReq",
    "app",
    "page",
    "routes",
    "routeTransitional",
    "routeQueue",
    "setUrl",
    "setPrevious",
    "transitional",
    "noNavigate",
    "form",
    "submit",
    "previousPath",
    "next",
    "routeParams",
    "onMatch",
    "done",
    "route",
    "onRoute",
    "parseUrl",
    "resolveUrl",
    "currentPath",
    "replaceState",
    "$render",
    "$method",
    "_$History_82",
    "History",
    "pushState",
    "routePath",
    "renderOptions",
    "el",
    "elements",
    "override",
    "_tracksLink",
    "which",
    "hashIndex",
    "enctype",
    "getElementById",
    "getElementsByName",
    "scrollIntoView",
    "_update",
    "refresh",
    "forward",
    "go",
    "historyMethod",
    "relativeUrl",
    "createPage",
    "redirect",
    "__router_83",
    "_$browser_83",
    "setup",
    "fromRoute",
    "toRoute",
    "__noop_7",
    "ContextMeta",
    "addBinding",
    "removeBinding",
    "removeNode",
    "addItemContext",
    "removeItemContext",
    "idNamespace",
    "idCount",
    "pending",
    "pauseCount",
    "__Context_7",
    "alias",
    "as",
    "keyAlias",
    "keyAs",
    "closure",
    "_id",
    "_$contexts_7",
    "itemFor",
    "forRelative",
    "forAlias",
    "forAttribute",
    "attribute",
    "inherit",
    "unpause",
    "!U",
    "-U",
    "+U",
    "~U",
    "typeofU",
    "||",
    "&&",
    "|",
    "^",
    "&",
    "==",
    "!=",
    "===",
    "!==",
    "<",
    ">",
    "<=",
    ">=",
    "instanceof",
    "in",
    "<<",
    ">>",
    ">>>",
    "+",
    "-",
    "*",
    "%",
    "?",
    "consequent",
    "alternate",
    ",",
    "1",
    "BOOLEAN_PROPERTIES",
    "disabled",
    "readonly",
    "selected",
    "INTEGER_PROPERTIES",
    "colspan",
    "maxlength",
    "rowspan",
    "tabindex",
    "STRING_PROPERTIES",
    "cellpadding",
    "cellspacing",
    "class",
    "contenteditable",
    "for",
    "frameborder",
    "usemap",
    "UPDATE_PROPERTIES",
    "CREATE_PROPERTIES",
    "VOID_ELEMENTS",
    "area",
    "br",
    "col",
    "embed",
    "hr",
    "img",
    "keygen",
    "menuitem",
    "param",
    "track",
    "wbr",
    "NAMESPACE_URIS",
    "svg",
    "xlink",
    "xmlns",
    "publicId",
    "systemId",
    "escaped",
    "escapeHtml",
    "attachText",
    "newNode",
    "createTextNode",
    "addNodeBinding",
    "nextNode",
    "splitData",
    "normalizeLineBreaks",
    "attachError",
    "insertBefore",
    "attachComment",
    "createComment",
    "NodeBinding",
    "emitHooks",
    "ending",
    "createHtmlFragment",
    "range",
    "createRange",
    "selectNodeContents",
    "createContextualFragment",
    "div",
    "extractContents",
    "attachHtml",
    "ns",
    "elementNs",
    "getUnescapedValue",
    "selfClosing",
    "notClosed",
    "endTag",
    "getEndTag",
    "startClose",
    "getStartClose",
    "lowerTagName",
    "unescapedContent",
    "bindContentToValue",
    "getAttributeValue",
    "propertyName",
    "beginning",
    "indexStartNode",
    "$bindItemStart",
    "updateRange",
    "setNodeBounds",
    "RangeBinding",
    "setNodeProperty",
    "appendContent",
    "attachContent",
    "contentHtml",
    "replaceRange",
    "innerOnly",
    "replaceChild",
    "emitRemoved",
    "emitRemovedBinding",
    "AttributeBindingsMap",
    "AttributeBinding",
    "__noop_65",
    "escapeAttribute",
    "equalConditions",
    "cloneNode",
    "deleteData",
    "createDocumentFragment",
    "publicText",
    "systemText",
    "_blockUpdate",
    "getBound",
    "propertyValue",
    "setAttributeNS",
    "removeAttributeNS",
    "removeAttribute",
    "getTagName",
    "tagItems",
    "startTag",
    "createElementNS",
    "_bindContent",
    "NaN",
    "truthy",
    "appendItemTo",
    "lastChild",
    "attachItemTo",
    "oldPrevious",
    "previousSibling",
    "windowsLength",
    "unixLength",
    "newLines",
    "$try",
    "proxyNode",
    "$bindProxy",
    "templateTruthy",
    "renderValue",
    "renderTemplate",
    "hasTemplateProperty",
    "renderArrayProperties",
    "renderArray",
    "renderObjectProperties",
    "renderObject",
    "ExpressionMeta",
    "isEnd",
    "bindType",
    "valueType",
    "Expression",
    "LiteralExpression",
    "PathExpression",
    "RelativePathExpression",
    "AliasPathExpression",
    "AttributePathExpression",
    "BracketsExpression",
    "afterSegments",
    "DeferRenderExpression",
    "ArrayExpression",
    "ObjectExpression",
    "properties",
    "FnExpression",
    "NewExpression",
    "OperatorExpression",
    "_$operatorFns_9",
    "SequenceExpression",
    "ViewParentExpression",
    "ScopedModelExpression",
    "appendDependency",
    "swapLastDependency",
    "_$expressions_8",
    "_resolvePatch",
    "_lookupAndContextifyValue",
    "_scope",
    "relativeContext",
    "aliasContext",
    "attributeContext",
    "inner",
    "itemDependencies",
    "propertyDependencies",
    "extraInputs",
    "_lookupParent",
    "_applyFn",
    "_getInputs",
    "thisArg",
    "argDependencies",
    "jLen",
    "_$derbyTemplates_6",
    "operatorFns",
    "_$Dom_16",
    "Dom",
    "DomListener",
    "useCapture",
    "DestroyListener",
    "_initListeners",
    "dom",
    "_listenerIndex",
    "domListener",
    "wrappedListener",
    "__EventEmitter_14",
    "_$Controller_14",
    "Controller",
    "$controller",
    "emitCancellable",
    "cancelled",
    "emitDelayable",
    "delayed",
    "__templates_19",
    "Component",
    "_components",
    "isDestroyed",
    "ComponentAttribute",
    "ComponentAttributeBinding",
    "setModelAttributes",
    "setModelAttribute",
    "createFactory",
    "singleton",
    "SingletonComponentFactory",
    "ComponentFactory",
    "emitInitHooks",
    "ComponentModelData",
    "__noop_19",
    "isBasePrototype",
    "getRootPrototype",
    "getPrototypeOf",
    "_$components_19",
    "extendComponent",
    "components",
    "_eventModel",
    "$components",
    "throttle",
    "delayArg",
    "delay",
    "boundCallback",
    "nextArgs",
    "queueCall",
    "debounce",
    "debounceAsync",
    "applyArguments",
    "running",
    "viewName",
    "setNullAttribute",
    "DataConstructor",
    "isSingleton",
    "_extendComponent",
    "setPrototypeOf",
    "rootPrototype",
    "__expressions_21",
    "_$EventModel_21",
    "EventModel",
    "nextId",
    "ModelRef",
    "outside",
    "refChild",
    "RefOutMap",
    "RefChildrenMap",
    "BindingsMap",
    "ItemContextsMap",
    "EventModelsMap",
    "arrayByReference",
    "refOut",
    "refChildren",
    "bindings",
    "itemContexts",
    "__hasKeys_21",
    "childSetWildcard",
    "newItem",
    "arrayLookup",
    "segmentsBefore",
    "segmentsInside",
    "eventModel",
    "isEmpty",
    "dependancies",
    "_addItemContext",
    "_removeItemContext",
    "_addBinding",
    "eventModels",
    "_each",
    "localUpdate",
    "_updateChildItemContexts",
    "_updateArray",
    "_updateObject",
    "first",
    "mutate",
    "wildcardSegments",
    "onStringInsert",
    "replaceText",
    "cursor",
    "onStringRemove",
    "newText",
    "selectionStart",
    "selectionEnd",
    "scrollTop",
    "__expressions_17",
    "__templates_17",
    "__DependencyOptions_17",
    "documentListeners",
    "_$Page_17",
    "Page",
    "_createContext",
    "_removeModelListeners",
    "_addListeners",
    "useLegacyListeners",
    "useLegacy",
    "addDependencies",
    "BindingWrapper",
    "updateDependencies",
    "$bodyClass",
    "classNames",
    "$preventDefault",
    "$stopPropagation",
    "stopPropagation",
    "_setRenderParams",
    "_setRenderPrefix",
    "titleFragment",
    "bodyFragment",
    "titleElement",
    "attach",
    "titleView",
    "bodyView",
    "contextMeta",
    "_addModelListeners",
    "_addContextListeners",
    "_addModelListenersLegacy",
    "changeListener",
    "loadListener",
    "unloadListener",
    "insertListener",
    "moveListener",
    "patchTextBinding",
    "bindingWrappers",
    "destroyListeners",
    "__nextId_17",
    "ignoreTemplateDependency",
    "equalDependencies",
    "lenA",
    "itemA",
    "itemB",
    "lenItemA",
    "lenItemB",
    "textInputUpdate",
    "textUpdate",
    "dependencyOptions",
    "dependency",
    "_$_views_18",
    "derbyTemplates",
    "tabSize",
    "_$pathBrowserify_29",
    "__EventEmitter_13",
    "__templates_13",
    "_$App_13",
    "App",
    "derby",
    "scriptHash",
    "bundledAt",
    "createAppPage",
    "tracksRoutes",
    "_pendingComponentMap",
    "_init",
    "AppPage",
    "_waitForAttach",
    "_cancelAttach",
    "_contentReady",
    "_finishInit",
    "script",
    "_getScript",
    "isProduction",
    "nodeEnv",
    "_autoRefresh",
    "isReady",
    "onDOMContentLoaded",
    "onDOMReady",
    "toplevel",
    "frameElement",
    "documentElement",
    "doScroll",
    "doScrollCheck",
    "querySelector",
    "loadViews",
    "loadStyles",
    "addViews",
    "isDependency",
    "viewIs",
    "viewFilename",
    "viewSource",
    "viewProp",
    "is",
    "currentView",
    "_handleMessage",
    "styleElement",
    "css",
    "_$Derby_15",
    "Derby",
    "createApp",
    "__Derby_derby",
    "_$derby_derby",
    "_$derbyDebug_5",
    "MODEL",
    "APP",
    "findComponent",
    "componentCommand",
    "logEvents",
    "commentIterator",
    "createTreeWalker",
    "comment",
    "CM",
    "_$CM_4",
    "__dirname",
    "entry",
    "cm",
    "CodeMirror",
    "fromTextArea",
    "textarea",
    "findModeByMIME",
    "autoLoadMode",
    "newVal",
    "oldVal",
    "editing",
    "supress",
    "posFromIndex",
    "check",
    "getCursor",
    "setValue",
    "setCursor",
    "getValue",
    "cmText",
    "otText",
    "_$codemirror_1",
    "__filename",
    "markdownHtml"
  ],
  "mappings": "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",
  "sourcesContent": [
    "require = (function (require) {\nvar exposedRequire = function exposedRequire(e,r){return exposedRequire.m.hasOwnProperty(e)?exposedRequire.m[e]:\"function\"!=typeof require||r?\"function\"==typeof exposedRequire.r?exposedRequire.r(e,1):void 0:require(e,1)};\nexposedRequire.m = {};\nexposedRequire.r = require;var createModuleFactory = function createModuleFactory(t){var e;return function(r){return e||t(e={exports:{},parent:r},e.exports),e.exports}};\n",
    "var textDiff = require('./textDiff');\n\nexports.add = addDocumentListeners;\nexports.inputSupportsSelection = inputSupportsSelection;\n\n// http://www.whatwg.org/specs/web-apps/current-work/multipage/the-input-element.html#do-not-apply\n// TODO: Date types support\nfunction inputSupportsSelection(input) {\n  var type = input.type;\n  return (\n    type === 'text' ||\n    type === 'textarea' ||\n    type === 'search' ||\n    type === 'url' ||\n    type === 'tel' ||\n    type === 'password'\n  );\n}\nfunction inputIsNumberValue(input) {\n  var type = input.type;\n  return (type === 'number' || (type === 'range' && !input.multiple));\n}\nvar inputValue = function(input) {\n  return inputIsNumberValue(input) ? input.valueAsNumber : input.value;\n};\n\nfunction addDocumentListeners(doc) {\n  doc.addEventListener('input', documentInput, true);\n  doc.addEventListener('change', documentChange, true);\n\n  // Listen to more events for versions of IE with buggy input event implementations\n  if (parseFloat(window.navigator.appVersion.split('MSIE ')[1]) <= 9) {\n    // We're listening on selectionchange because there's no other event emitted when\n    // the user clicks 'delete' from a context menu when right clicking on selected text.\n    // So although this event fires overly aggressively, it's the only real way\n    // to ensure that we can detect all changes to the input value in IE <= 9\n    doc.addEventListener('selectionchange', function(e){\n      if (document.activeElement) {\n        documentInput({target: document.activeElement}); // selectionchange evts don't have the e.target we need\n      }\n    }, true);\n  }\n\n  // For some reason valueAsNumber returns NaN for number inputs in IE\n  // until a new IE version that handles this is released, parse input.value as a fallback\n  var input = document.createElement('input');\n  input.type = 'number';\n  input.value = '7';\n  if (input.valueAsNumber !== input.valueAsNumber) {\n    var oldInputValue = inputValue;\n    inputValue = function(input) {\n      if (input.type === 'number') {\n        return inputIsNumberValue(input) ? parseFloat(input.value) : input.value;\n      } else {\n        return oldInputValue.apply(this, arguments);\n      }\n    };\n  }\n}\n\nfunction documentInput(e) {\n  var target = e.target;\n\n  if (target.tagName === 'INPUT' || target.tagName === 'TEXTAREA') {\n    setInputValue(e, target);\n  }\n}\n\nfunction documentChange(e) {\n  var target = e.target;\n\n  if (target.tagName === 'INPUT') {\n    setBoundProperty(target, 'checked');\n    setInputValue(e, target);\n\n  } else if (target.tagName === 'SELECT') {\n    setOptionBindings(target);\n\n  } else if (target.tagName === 'TEXTAREA') {\n    setInputValue(e, target);\n  }\n}\n\nfunction setBoundProperty(node, property) {\n  var binding = node.$bindAttributes && node.$bindAttributes[property];\n  if (!binding || binding.isUnbound()) return;\n\n  var value = node[property];\n  binding.template.expression.set(binding.context, value);\n}\n\nfunction setInputValue(e, target) {\n  var binding = target.$bindAttributes && target.$bindAttributes.value;\n  if (!binding || binding.isUnbound()) return;\n\n  if (inputSupportsSelection(target)) {\n    var pass = {$event: e};\n    textDiffBinding(binding, target.value, pass);\n  } else {\n    var value = inputValue(target);\n    binding.template.expression.set(binding.context, value);\n  }\n}\n\nfunction textDiffBinding(binding, value, pass) {\n  var expression = binding.template.expression;\n  var segments = expression.pathSegments(binding.context);\n  if (segments) {\n    var model = binding.context.controller.model.pass(pass);\n    textDiff.onTextInput(model, segments, value);\n  } else if (expression.set) {\n    expression.set(binding.context, value);\n  }\n}\n\nfunction setOptionBindings(parent) {\n  for (var node = parent.firstChild; node; node = node.nextSibling) {\n    if (node.tagName === 'OPTION') {\n      setBoundProperty(node, 'selected');\n    } else if (node.hasChildNodes()) {\n      setOptionBindings(node);\n    }\n  }\n}\n",
    "var saddle = require('saddle');\nvar serializeObject = require('serialize-object');\nvar DependencyOptions = require('./options').DependencyOptions;\nvar util = require('./util');\nvar concat = util.concat;\nvar hasKeys = util.hasKeys;\nvar traverseAndCreate = util.traverseAndCreate;\n\n(function() {\n  for (var key in saddle) {\n    exports[key] = saddle[key];\n  }\n})();\n\nexports.Marker = Marker;\nexports.View = View;\nexports.ViewInstance = ViewInstance;\nexports.DynamicViewInstance = DynamicViewInstance;\nexports.ViewParent = ViewParent;\nexports.ContextClosure = ContextClosure;\n\nexports.Views = Views;\n\nexports.MarkupHook = MarkupHook;\nexports.ElementOn = ElementOn;\nexports.ComponentOn = ComponentOn;\nexports.AsProperty = AsProperty;\nexports.AsObject = AsObject;\nexports.AsObjectComponent = AsObjectComponent;\nexports.AsArray = AsArray;\nexports.AsArrayComponent = AsArrayComponent;\n\nexports.emptyTemplate = new saddle.Template([]);\n\n// Add ::isUnbound to Template && Binding\nsaddle.Template.prototype.isUnbound = function(context) {\n  return context.unbound;\n};\nsaddle.Binding.prototype.isUnbound = function() {\n  return this.template.expression.isUnbound(this.context);\n};\n\n// Add Template::resolve\nsaddle.Template.prototype.resolve = function() {};\n\n// The Template::dependencies method is specific to how Derby bindings work,\n// so extend all of the Saddle Template types here\nsaddle.Template.prototype.dependencies = function(context, options) {\n  if (DependencyOptions.shouldIgnoreTemplate(this, options)) return;\n  return concatArrayDependencies(null, this.content, context, options);\n};\nsaddle.Doctype.prototype.dependencies = function() {};\nsaddle.Text.prototype.dependencies = function() {};\nsaddle.DynamicText.prototype.dependencies = function(context, options) {\n  if (DependencyOptions.shouldIgnoreTemplate(this, options)) return;\n  return getDependencies(this.expression, context, options);\n};\nsaddle.Comment.prototype.dependencies = function() {};\nsaddle.DynamicComment.prototype.dependencies = function(context, options) {\n  if (DependencyOptions.shouldIgnoreTemplate(this, options)) return;\n  return getDependencies(this.expression, context, options);\n};\nsaddle.Html.prototype.dependencies = function() {};\nsaddle.DynamicHtml.prototype.dependencies = function(context, options) {\n  if (DependencyOptions.shouldIgnoreTemplate(this, options)) return;\n  return getDependencies(this.expression, context, options);\n};\nsaddle.Element.prototype.dependencies = function(context, options) {\n  if (DependencyOptions.shouldIgnoreTemplate(this, options)) return;\n  var dependencies = concatMapDependencies(null, this.attributes, context, options);\n  if (!this.content) return dependencies;\n  return concatArrayDependencies(dependencies, this.content, context, options);\n};\nsaddle.DynamicElement.prototype.dependencies = function(context, options) {\n  if (DependencyOptions.shouldIgnoreTemplate(this, options)) return;\n  var dependencies = saddle.Element.prototype.dependencies(context, options);\n  return concatDependencies(dependencies, this.tagName, context, options);\n};\nsaddle.Block.prototype.dependencies = function(context, options) {\n  if (DependencyOptions.shouldIgnoreTemplate(this, options)) return;\n  var dependencies = (this.expression.meta && this.expression.meta.blockType === 'on') ?\n    getDependencies(this.expression, context, options) : null;\n  var blockContext = context.child(this.expression);\n  return concatArrayDependencies(dependencies, this.content, blockContext, options);\n};\nsaddle.ConditionalBlock.prototype.dependencies = function(context, options) {\n  if (DependencyOptions.shouldIgnoreTemplate(this, options)) return;\n  var condition = this.getCondition(context);\n  if (condition == null) {\n    return getDependencies(this.expressions[0], context, options);\n  }\n  var dependencies = concatSubArrayDependencies(null, this.expressions, context, options, condition);\n  var expression = this.expressions[condition];\n  var content = this.contents[condition];\n  var blockContext = context.child(expression);\n  return concatArrayDependencies(dependencies, content, blockContext, options);\n};\nsaddle.EachBlock.prototype.dependencies = function(context, options) {\n  if (DependencyOptions.shouldIgnoreTemplate(this, options)) return;\n  var dependencies = getDependencies(this.expression, context, options);\n  var items = this.expression.get(context);\n  if (items && items.length) {\n    for (var i = 0; i < items.length; i++) {\n      var itemContext = context.eachChild(this.expression, i);\n      dependencies = concatArrayDependencies(dependencies, this.content, itemContext, options);\n    }\n  } else if (this.elseContent) {\n    dependencies = concatArrayDependencies(dependencies, this.elseContent, context, options);\n  }\n  return dependencies;\n};\nsaddle.Attribute.prototype.dependencies = function() {};\nsaddle.DynamicAttribute.prototype.dependencies = function(context, options) {\n  if (DependencyOptions.shouldIgnoreTemplate(this, options)) return;\n  return getDependencies(this.expression, context, options);\n};\n\nfunction concatSubArrayDependencies(dependencies, expressions, context, options, end) {\n  for (var i = 0; i <= end; i++) {\n    dependencies = concatDependencies(dependencies, expressions[i], context, options);\n  }\n  return dependencies;\n}\nfunction concatArrayDependencies(dependencies, expressions, context, options) {\n  for (var i = 0; i < expressions.length; i++) {\n    dependencies = concatDependencies(dependencies, expressions[i], context, options);\n  }\n  return dependencies;\n}\nfunction concatMapDependencies(dependencies, expressions, context, options) {\n  for (var key in expressions) {\n    dependencies = concatDependencies(dependencies, expressions[key], context, options);\n  }\n  return dependencies;\n}\nfunction concatDependencies(dependencies, expression, context, options) {\n  var expressionDependencies = getDependencies(expression, context, options);\n  return concat(dependencies, expressionDependencies);\n}\nfunction getDependencies(expression, context, options) {\n  return expression.dependencies(context, options);\n}\n\nvar markerHooks = [{\n  emit: function(context, node) {\n    node.$component = context.controller;\n    context.controller.markerNode = node;\n  }\n}];\nfunction Marker(data) {\n  saddle.Comment.call(this, data, markerHooks);\n}\nMarker.prototype = Object.create(saddle.Comment.prototype);\nMarker.prototype.constructor = Marker;\nMarker.prototype.type = 'Marker';\nMarker.prototype.serialize = function() {\n  return serializeObject.instance(this, this.data);\n};\nMarker.prototype.get = function() {\n  return '';\n};\n\nfunction ViewAttributesMap(source) {\n  var items = source.split(/\\s+/);\n  for (var i = 0, len = items.length; i < len; i++) {\n    this[items[i]] = true;\n  }\n}\nfunction ViewArraysMap(source) {\n  var items = source.split(/\\s+/);\n  for (var i = 0, len = items.length; i < len; i++) {\n    var item = items[i].split('/');\n    this[item[0]] = item[1] || item[0];\n  }\n}\nfunction View(views, name, source, options) {\n  this.views = views;\n  this.name = name;\n  this.source = source;\n  this.options = options;\n\n  var nameSegments = (this.name || '').split(':');\n  var lastSegment = nameSegments.pop();\n  this.namespace = nameSegments.join(':');\n  this.registeredName = (lastSegment === 'index') ? this.namespace : this.name;\n\n  this.attributesMap = options && options.attributes &&\n    new ViewAttributesMap(options.attributes);\n  this.arraysMap = options && options.arrays &&\n    new ViewArraysMap(options.arrays);\n  // The empty string is considered true for easier HTML attribute parsing\n  this.unminified = options && (options.unminified || options.unminified === '');\n  this.string = options && (options.string || options.string === '');\n  this.literal = options && (options.literal || options.literal === '');\n  this.template = null;\n  this.componentFactory = null;\n  this.fromSerialized = false;\n}\nView.prototype = Object.create(saddle.Template.prototype);\nView.prototype.constructor = View;\nView.prototype.type = 'View';\nView.prototype.serialize = function() {\n  return null;\n};\nView.prototype._isComponent = function(context) {\n  if (!this.componentFactory) return false;\n  if (context.attributes && context.attributes.extend) return false;\n  return true;\n};\nView.prototype._initComponent = function(context) {\n  return (this._isComponent(context)) ?\n    this.componentFactory.init(context) : context;\n};\nView.prototype._queueCreate = function(context, viewContext) {\n  if (this._isComponent(context)) {\n    var componentFactory = this.componentFactory;\n    context.queue(function queuedCreate() {\n      componentFactory.create(viewContext);\n    });\n\n    if (!context.hooks) return;\n    context.queue(function queuedComponentHooks() {\n      // Kick off hooks if view instance specified `on` or `as` attributes\n      for (var i = 0, len = context.hooks.length; i < len; i++) {\n        context.hooks[i].emit(context, viewContext.controller);\n      }\n    });\n  }\n};\nView.prototype.get = function(context, unescaped) {\n  var viewContext = this._initComponent(context);\n  var template = this.template || this.parse();\n  return template.get(viewContext, unescaped);\n};\nView.prototype.getFragment = function(context, binding) {\n  var viewContext = this._initComponent(context);\n  var template = this.template || this.parse();\n  var fragment = template.getFragment(viewContext, binding);\n  this._queueCreate(context, viewContext);\n  return fragment;\n};\nView.prototype.appendTo = function(parent, context) {\n  var viewContext = this._initComponent(context);\n  var template = this.template || this.parse();\n  template.appendTo(parent, viewContext);\n  this._queueCreate(context, viewContext);\n};\nView.prototype.attachTo = function(parent, node, context) {\n  var viewContext = this._initComponent(context);\n  var template = this.template || this.parse();\n  var node = template.attachTo(parent, node, viewContext);\n  this._queueCreate(context, viewContext);\n  return node;\n};\nView.prototype.dependencies = function(context, options) {\n  if (DependencyOptions.shouldIgnoreTemplate(this, options)) return;\n  var template = this.template || this.parse();\n  // We can't figure out relative path dependencies within a component without\n  // rendering it, because each component instance's scope is dynamically set\n  // based on its unique `id` property. To represent this, set the context\n  // controller to `null`.\n  //\n  // Under normal rendering conditions, contexts should always have reference\n  // to a controller. Expression::get() methods use the reference to\n  // `context.controller.model.data` to lookup values, and paths are resolved\n  // based on `context.controller.model._scope`.\n  //\n  // To handle this, Expression methods guard against a null controller by not\n  // returning any dependencies for model paths. In addition, they return\n  // `undefined` from get, which affect dependencies computed for\n  // ConditionalBlock and EachBlock, as their dependencies will differ based\n  // on the value of model data.\n  //\n  // TODO: This likely under-estimates the true dependencies within a\n  // template. However, to provide a more complete view of dependencies, we'd\n  // need information we only have at render time, namely, the scope and data\n  // within the component model. This may indicate that Derby should use a\n  // more Functional Reactive Programming (FRP)-like approach of having\n  // dependencies be returned from getFragment and attach methods along with\n  // DOM nodes rather than computing dependencies separately from rendering.\n  var viewContext = (this._isComponent(context)) ?\n    context.componentChild(null) : context;\n  return template.dependencies(viewContext, options);\n};\nView.prototype.parse = function() {\n  this._parse();\n  if (this.componentFactory) {\n    var marker = new Marker(this.name);\n    this.template.content.unshift(marker);\n  }\n  return this.template;\n};\n// View.prototype._parse is defined in parsing.js, so that it doesn't have to\n// be included in the client if templates are all parsed server-side\nView.prototype._parse = function() {\n  throw new Error('View parsing not available');\n};\n\nfunction ViewInstance(name, attributes, hooks, initHooks) {\n  this.name = name;\n  this.attributes = attributes;\n  this.hooks = hooks;\n  this.initHooks = initHooks;\n  this.view = null;\n}\nViewInstance.prototype = Object.create(saddle.Template.prototype);\nViewInstance.prototype.constructor = ViewInstance;\nViewInstance.prototype.type = 'ViewInstance';\nViewInstance.prototype.serialize = function() {\n  return serializeObject.instance(this, this.name, this.attributes, this.hooks, this.initHooks);\n};\nViewInstance.prototype.get = function(context, unescaped) {\n  var view = this._find(context);\n  var viewContext = context.viewChild(view, this.attributes, this.hooks, this.initHooks);\n  return view.get(viewContext, unescaped);\n};\nViewInstance.prototype.getFragment = function(context, binding) {\n  var view = this._find(context);\n  var viewContext = context.viewChild(view, this.attributes, this.hooks, this.initHooks);\n  return view.getFragment(viewContext, binding);\n};\nViewInstance.prototype.appendTo = function(parent, context) {\n  var view = this._find(context);\n  var viewContext = context.viewChild(view, this.attributes, this.hooks, this.initHooks);\n  view.appendTo(parent, viewContext);\n};\nViewInstance.prototype.attachTo = function(parent, node, context) {\n  var view = this._find(context);\n  var viewContext = context.viewChild(view, this.attributes, this.hooks, this.initHooks);\n  return view.attachTo(parent, node, viewContext);\n};\nViewInstance.prototype.dependencies = function(context, options) {\n  if (DependencyOptions.shouldIgnoreTemplate(this, options)) return;\n  var view = this._find(context);\n  var viewContext = context.viewChild(view, this.attributes, this.hooks, this.initHooks);\n  return view.dependencies(viewContext, options);\n};\nViewInstance.prototype._find = function(context) {\n  if (this.view) return this.view;\n  var contextView = context.getView();\n  var namespace = contextView && contextView.namespace;\n  this.view = context.meta.views.find(this.name, namespace);\n  if (!this.view) {\n    var message = context.meta.views.findErrorMessage(this.name, contextView);\n    throw new Error(message);\n  }\n  return this.view;\n};\n\nfunction DynamicViewInstance(nameExpression, attributes, hooks, initHooks) {\n  this.nameExpression = nameExpression;\n  this.attributes = attributes;\n  this.hooks = hooks;\n  this.initHooks = initHooks;\n}\nDynamicViewInstance.prototype = Object.create(ViewInstance.prototype);\nDynamicViewInstance.prototype.constructor = DynamicViewInstance;\nDynamicViewInstance.prototype.type = 'DynamicViewInstance';\nDynamicViewInstance.prototype.serialize = function() {\n  return serializeObject.instance(this, this.nameExpression, this.attributes, this.hooks, this.initHooks);\n};\nDynamicViewInstance.prototype._find = function(context) {\n  var name = this.nameExpression.get(context);\n  var contextView = context.getView();\n  var namespace = contextView && contextView.namespace;\n  var view = name && context.meta.views.find(name, namespace);\n  return view || exports.emptyTemplate;\n};\nDynamicViewInstance.prototype.dependencies = function(context, options) {\n  if (DependencyOptions.shouldIgnoreTemplate(this, options)) return;\n  var nameDependencies = this.nameExpression.dependencies(context);\n  var viewDependencies = ViewInstance.prototype.dependencies.call(this, context, options);\n  return concat(nameDependencies, viewDependencies);\n};\n\n// Without a ContextClosure, ViewParent will return the nearest context that\n// is the parent of a view instance. When a context with a `closure` property\n// is encountered first, ViewParent will find the specific referenced context,\n// even if it is further up the context hierarchy.\nfunction ViewParent(template) {\n  this.template = template;\n}\nViewParent.prototype = Object.create(saddle.Template.prototype);\nViewParent.prototype.constructor = ViewParent;\nViewParent.prototype.type = 'ViewParent';\nViewParent.prototype.serialize = function() {\n  return serializeObject.instance(this, this.template);\n};\nViewParent.prototype.get = function(context, unescaped) {\n  var parentContext = context.forViewParent();\n  return this.template.get(parentContext, unescaped);\n};\nViewParent.prototype.getFragment = function(context, binding) {\n  var parentContext = context.forViewParent();\n  return this.template.getFragment(parentContext, binding);\n};\nViewParent.prototype.appendTo = function(parent, context) {\n  var parentContext = context.forViewParent();\n  this.template.appendTo(parent, parentContext);\n};\nViewParent.prototype.attachTo = function(parent, node, context) {\n  var parentContext = context.forViewParent();\n  return this.template.attachTo(parent, node, parentContext);\n};\nViewParent.prototype.dependencies = function(context, options) {\n  if (DependencyOptions.shouldIgnoreTemplate(this, options)) return;\n  var parentContext = context.forViewParent();\n  return this.template.dependencies(parentContext, options);\n};\n\n// At render time, this template creates a context child and sets its\n// `closure` property to a fixed reference. It is used in combination with\n// ViewParent in order to control which context is returned.\n//\n// Instances of this template cannot be serialized. It is intended for use\n// dynamically during rendering only.\nfunction ContextClosure(template, context) {\n  this.template = template;\n  this.context = context;\n}\nContextClosure.prototype = Object.create(saddle.Template.prototype);\nContextClosure.prototype.constructor = ContextClosure;\nContextClosure.prototype.serialize = function() {\n  throw new Error('ContextClosure cannot be serialized');\n};\nContextClosure.prototype.get = function(context, unescaped) {\n  var closureContext = context.closureChild(this.context);\n  return this.template.get(closureContext, unescaped);\n};\nContextClosure.prototype.getFragment = function(context, binding) {\n  var closureContext = context.closureChild(this.context);\n  return this.template.getFragment(closureContext, binding);\n};\nContextClosure.prototype.appendTo = function(parent, context) {\n  var closureContext = context.closureChild(this.context);\n  this.template.appendTo(parent, closureContext);\n};\nContextClosure.prototype.attachTo = function(parent, node, context) {\n  var closureContext = context.closureChild(this.context);\n  return this.template.attachTo(parent, node, closureContext);\n};\nContextClosure.prototype.dependencies = function(context, options) {\n  if (DependencyOptions.shouldIgnoreTemplate(this.template, options)) return;\n  var closureContext = context.closureChild(this.context);\n  return this.template.dependencies(closureContext, options);\n};\nContextClosure.prototype.equals = function(other) {\n  return (other instanceof ContextClosure) &&\n    (this.context === other.context) &&\n    (this.template.equals(other.template));\n};\n\nfunction ViewsMap() {}\nfunction Views() {\n  this.nameMap = new ViewsMap();\n  this.tagMap = new ViewsMap();\n  // TODO: elementMap is deprecated and should be removed with Derby 0.6.0\n  this.elementMap = this.tagMap;\n}\nViews.prototype.find = function(name, namespace) {\n  var map = this.nameMap;\n\n  // Exact match lookup\n  var exactName = (namespace) ? namespace + ':' + name : name;\n  var match = map[exactName];\n  if (match) return match;\n\n  // Relative lookup\n  var segments = name.split(':');\n  var segmentsDepth = segments.length;\n  if (namespace) segments = namespace.split(':').concat(segments);\n  // Iterate through segments, leaving the `segmentsDepth` segments and\n  // removing the second to `segmentsDepth` segment to traverse up the\n  // namespaces. Decrease `segmentsDepth` if not found and repeat again.\n  while (segmentsDepth > 0) {\n    var testSegments = segments.slice();\n    while (testSegments.length > segmentsDepth) {\n      testSegments.splice(-1 - segmentsDepth, 1);\n      var testName = testSegments.join(':');\n      var match = map[testName];\n      if (match) return match;\n    }\n    segmentsDepth--;\n  }\n};\nViews.prototype.register = function(name, source, options) {\n  var mapName = name.replace(/:index$/, '');\n  var view = this.nameMap[mapName];\n  if (view) {\n    // Recreate the view if it already exists. We re-apply the constructor\n    // instead of creating a new view object so that references to object\n    // can be cached after finding the first time\n    var componentFactory = view.componentFactory;\n    View.call(view, this, name, source, options);\n    view.componentFactory = componentFactory;\n  } else {\n    view = new View(this, name, source, options);\n  }\n  this.nameMap[mapName] = view;\n  // TODO: element is deprecated and should be removed with Derby 0.6.0\n  var tagName = options && (options.tag || options.element);\n  if (tagName) this.tagMap[tagName] = view;\n  return view;\n};\nViews.prototype.deserialize = function(items) {\n  for (var i = 0; i < items.length; i++) {\n    var item = items[i];\n    var setTemplate = item[0];\n    var name = item[1];\n    var source = item[2];\n    var options = item[3];\n    var view = this.register(name, source, options);\n    view.parse = setTemplate;\n    view.fromSerialized = true;\n  }\n};\nViews.prototype.serialize = function(options) {\n  var forServer = options && options.server;\n  var minify = options && options.minify;\n  var items = [];\n  for (var name in this.nameMap) {\n    var view = this.nameMap[name];\n    var template = view.template || view.parse();\n    if (!forServer && view.options) {\n      // Do not serialize views with the `serverOnly` option, except when\n      // serializing for a server script\n      if (view.options.serverOnly) continue;\n      // For views with the `server` option, serialize them with a blank\n      // template body. This allows them to be used from other views on the\n      // browser, but they will output nothing on the browser\n      if (view.options.server) template = exports.emptyTemplate;\n    }\n    // Serializing views as a function allows them to be constructed lazily upon\n    // first use. This can improve initial load times of the application when\n    // there are many views\n    items.push(\n      '[function(){return this.template=' +\n        template.serialize() + '},' +\n        serializeObject.args([\n          view.name,\n          (minify) ? null : view.source,\n          (hasKeys(view.options)) ? view.options : null\n        ]) +\n      ']'\n    );\n  }\n  return 'function(derbyTemplates, views){' +\n    'var expressions = derbyTemplates.expressions,' +\n    'templates = derbyTemplates.templates;' +\n    'views.deserialize([' + items.join(',') + '])}';\n};\nViews.prototype.findErrorMessage = function(name, contextView) {\n  var names = Object.keys(this.nameMap);\n  var message = 'Cannot find view \"' + name + '\" in' +\n    [''].concat(names).join('\\n  ') + '\\n';\n  if (contextView) {\n    message += '\\nWithin template \"' + contextView.name + '\":\\n' + contextView.source;\n  }\n  return message;\n};\n\n\nfunction MarkupHook() {}\nMarkupHook.prototype.module = saddle.Template.prototype.module;\n\nfunction ElementOn(name, expression) {\n  this.name = name;\n  this.expression = expression;\n}\nElementOn.prototype = Object.create(MarkupHook.prototype);\nElementOn.prototype.constructor = ElementOn;\nElementOn.prototype.type = 'ElementOn';\nElementOn.prototype.serialize = function() {\n  return serializeObject.instance(this, this.name, this.expression);\n};\nElementOn.prototype.emit = function(context, element) {\n  var elementOn = this;\n  if (this.name === 'create') {\n    this.apply(context, element);\n\n  } else if (this.name === 'destroy') {\n    var destroyListeners = element.$destroyListeners || (element.$destroyListeners = []);\n    destroyListeners.push(function elementOnDestroy() {\n      elementOn.apply(context, element);\n    });\n\n  } else {\n    element.addEventListener(this.name, function elementOnListener(event) {\n      return elementOn.apply(context, element, event);\n    }, false);\n  }\n};\nElementOn.prototype.apply = function(context, element, event) {\n  var modelData = context.controller.model.data;\n  modelData.$event = event;\n  modelData.$element = element;\n  var out = this.expression.apply(context);\n  delete modelData.$event;\n  delete modelData.$element;\n  return out;\n};\n\nfunction ComponentOn(name, expression) {\n  this.name = name;\n  this.expression = expression;\n}\nComponentOn.prototype = Object.create(MarkupHook.prototype);\nComponentOn.prototype.constructor = ComponentOn;\nComponentOn.prototype.type = 'ComponentOn';\nComponentOn.prototype.serialize = function() {\n  return serializeObject.instance(this, this.name, this.expression);\n};\nComponentOn.prototype.emit = function(context, component) {\n  var expression = this.expression;\n  component.on(this.name, function componentOnListener() {\n    var args = arguments.length && Array.prototype.slice.call(arguments);\n    return expression.apply(context, args);\n  });\n};\n\nfunction AsProperty(segments) {\n  this.segments = segments;\n  this.lastSegment = segments.pop();\n}\nAsProperty.prototype = Object.create(MarkupHook.prototype);\nAsProperty.prototype.constructor = AsProperty;\nAsProperty.prototype.type = 'AsProperty';\nAsProperty.prototype.serialize = function() {\n  var segments = this.segments.concat(this.lastSegment);\n  return serializeObject.instance(this, segments);\n};\nAsProperty.prototype.emit = function(context, target) {\n  var node = traverseAndCreate(context.controller, this.segments);\n  node[this.lastSegment] = target;\n};\n\nfunction AsObject(segments, keyExpression) {\n  AsProperty.call(this, segments);\n  this.keyExpression = keyExpression;\n}\nAsObject.prototype = Object.create(AsProperty.prototype);\nAsObject.prototype.constructor = AsObject;\nAsObject.prototype.type = 'AsObject';\nAsObject.prototype.serialize = function() {\n  var segments = this.segments.concat(this.lastSegment);\n  return serializeObject.instance(this, segments, this.keyExpression);\n};\nAsObject.prototype.emit = function(context, target) {\n  var node = traverseAndCreate(context.controller, this.segments);\n  var object = node[this.lastSegment] || (node[this.lastSegment] = {});\n  var key = this.keyExpression.get(context);\n  object[key] = target;\n  this.addListeners(target, object, key);\n};\nAsObject.prototype.addListeners = function(target, object, key) {\n  this.addDestroyListener(target, function asObjectDestroy() {\n    delete object[key];\n  });\n};\nAsObject.prototype.addDestroyListener = function(target, listener) {\n  var listeners = target.$destroyListeners || (target.$destroyListeners = []);\n  listeners.push(listener);\n};\n\nfunction AsObjectComponent(segments, keyExpression) {\n  AsObject.call(this, segments, keyExpression);\n}\nAsObjectComponent.prototype = Object.create(AsObject.prototype);\nAsObjectComponent.prototype.constructor = AsObjectComponent;\nAsObjectComponent.prototype.type = 'AsObjectComponent';\nAsObjectComponent.prototype.addDestroyListener = function(target, listener) {\n  target.on('destroy', listener);\n};\n\nfunction AsArray(segments) {\n  AsProperty.call(this, segments);\n}\nAsArray.prototype = Object.create(AsProperty.prototype);\nAsArray.prototype.constructor = AsArray;\nAsArray.prototype.type = 'AsArray';\nAsArray.prototype.emit = function(context, target) {\n  var node = traverseAndCreate(context.controller, this.segments);\n  var array = node[this.lastSegment] || (node[this.lastSegment] = []);\n\n  // Iterate backwards, since rendering will usually append\n  for (var i = array.length; i--;) {\n    var item = array[i];\n    // Don't add an item if already in the array\n    if (item === target) return;\n    var mask = this.comparePosition(target, item);\n    // If the emitted target is after the current item in the document,\n    // insert it next in the array\n    // Node.DOCUMENT_POSITION_FOLLOWING = 4\n    if (mask & 4) {\n      array.splice(i + 1, 0, target);\n      this.addListeners(target, array);\n      return;\n    }\n  }\n  // Add to the beginning if before all items\n  array.unshift(target);\n  this.addListeners(target, array);\n};\nAsArray.prototype.addListeners = function(target, array) {\n  this.addDestroyListener(target, function asArrayDestroy() {\n    var index = array.indexOf(target);\n    if (index !== -1) array.splice(index, 1);\n  });\n};\nAsArray.prototype.comparePosition = function(target, item) {\n  return item.compareDocumentPosition(target);\n};\nAsArray.prototype.addDestroyListener = AsObject.prototype.addDestroyListener;\n\nfunction AsArrayComponent(segments) {\n  AsArray.call(this, segments);\n}\nAsArrayComponent.prototype = Object.create(AsArray.prototype);\nAsArrayComponent.prototype.constructor = AsArrayComponent;\nAsArrayComponent.prototype.type = 'AsArrayComponent';\nAsArrayComponent.prototype.comparePosition = function(target, item) {\n  return item.markerNode.compareDocumentPosition(target.markerNode);\n};\nAsArrayComponent.prototype.addDestroyListener = AsObjectComponent.prototype.addDestroyListener;\n",
    "var templates = require('./templates');\n\nexports.DependencyOptions = DependencyOptions;\n\nfunction DependencyOptions(options) {\n  this.setIgnoreTemplate(options && options.ignoreTemplate);\n}\nDependencyOptions.shouldIgnoreTemplate = function(template, options) {\n  return (options) ? options.ignoreTemplate === template : false;\n};\nDependencyOptions.prototype.setIgnoreTemplate = function(template) {\n  while (template instanceof templates.ContextClosure) {\n    template = template.template;\n  }\n  this.ignoreTemplate = template;\n};\n",
    "exports.instance = serializeInstance;\nexports.args = serializeArgs;\nexports.value = serializeValue;\n\nfunction serializeInstance(instance) {\n  var args = Array.prototype.slice.call(arguments, 1);\n  return 'new ' + instance.module + '.' + instance.type +\n    '(' + serializeArgs(args) + ')';\n}\n\nfunction serializeArgs(args) {\n  // Map each argument into its string representation\n  var items = [];\n  for (var i = args.length; i--;) {\n    var item = serializeValue(args[i]);\n    items.unshift(item);\n  }\n  // Remove trailing null values, assuming they are optional\n  for (var i = items.length; i--;) {\n    var item = items[i];\n    if (item !== 'void 0' && item !== 'null') break;\n    items.pop();\n  }\n  return items.join(', ');\n}\n\nfunction serializeValue(input) {\n  if (input && input.serialize) {\n    return input.serialize();\n\n  } else if (typeof input === 'undefined') {\n    return 'void 0';\n\n  } else if (input === null) {\n    return 'null';\n\n  } else if (typeof input === 'string') {\n    return formatString(input);\n\n  } else if (typeof input === 'number' || typeof input === 'boolean') {\n    return input + '';\n\n  } else if (Array.isArray(input)) {\n    var items = [];\n    for (var i = 0; i < input.length; i++) {\n      var value = serializeValue(input[i]);\n      items.push(value);\n    }\n    return '[' + items.join(', ') + ']';\n\n  } else if (typeof input === 'object') {\n    var items = [];\n    for (var key in input) {\n      var value = serializeValue(input[key]);\n      items.push(formatString(key) + ': ' + value);\n    }\n    return '{' + items.join(', ') + '}';\n  }\n}\nfunction formatString(value) {\n  var escaped = value.replace(/['\\r\\n\\\\]/g, function(match) {\n    return (match === '\\'') ? '\\\\\\'' :\n      (match === '\\r') ? '\\\\r' :\n      (match === '\\n') ? '\\\\n' :\n      (match === '\\\\') ? '\\\\\\\\' :\n      '';\n  });\n  return '\\'' + escaped + '\\'';\n}\n",
    "// .dirname, .basename, and .extname methods are extracted from Node.js v8.11.1,\n// backported and transplited with Babel, with backwards-compat fixes\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  if (path.length === 0) return '.';\n  var code = path.charCodeAt(0);\n  var hasRoot = code === 47 /*/*/;\n  var end = -1;\n  var matchedSlash = true;\n  for (var i = path.length - 1; i >= 1; --i) {\n    code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        if (!matchedSlash) {\n          end = i;\n          break;\n        }\n      } else {\n      // We saw the first non-path separator\n      matchedSlash = false;\n    }\n  }\n\n  if (end === -1) return hasRoot ? '/' : '.';\n  if (hasRoot && end === 1) {\n    // return '//';\n    // Backwards-compat fix:\n    return '/';\n  }\n  return path.slice(0, end);\n};\n\nfunction basename(path) {\n  if (typeof path !== 'string') path = path + '';\n\n  var start = 0;\n  var end = -1;\n  var matchedSlash = true;\n  var i;\n\n  for (i = path.length - 1; i >= 0; --i) {\n    if (path.charCodeAt(i) === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          start = i + 1;\n          break;\n        }\n      } else if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // path component\n      matchedSlash = false;\n      end = i + 1;\n    }\n  }\n\n  if (end === -1) return '';\n  return path.slice(start, end);\n}\n\n// Uses a mixed approach for backwards-compatibility, as ext behavior changed\n// in new Node.js versions, so only basename() above is backported here\nexports.basename = function (path, ext) {\n  var f = basename(path);\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\nexports.extname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  var startDot = -1;\n  var startPart = 0;\n  var end = -1;\n  var matchedSlash = true;\n  // Track the state of characters (if any) we see before our first dot and\n  // after any path separator we find\n  var preDotState = 0;\n  for (var i = path.length - 1; i >= 0; --i) {\n    var code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          startPart = i + 1;\n          break;\n        }\n        continue;\n      }\n    if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // extension\n      matchedSlash = false;\n      end = i + 1;\n    }\n    if (code === 46 /*.*/) {\n        // If this is our first dot, mark it as the start of our extension\n        if (startDot === -1)\n          startDot = i;\n        else if (preDotState !== 1)\n          preDotState = 1;\n    } else if (startDot !== -1) {\n      // We saw a non-dot and non-path separator before our dot, so we should\n      // have a good chance at having a non-empty extension\n      preDotState = -1;\n    }\n  }\n\n  if (startDot === -1 || end === -1 ||\n      // We saw a non-dot character immediately before the dot\n      preDotState === 0 ||\n      // The (right-most) trimmed path component is exactly '..'\n      preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n    return '';\n  }\n  return path.slice(startDot, end);\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n",
    "// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar objectCreate = Object.create || objectCreatePolyfill\nvar objectKeys = Object.keys || objectKeysPolyfill\nvar bind = Function.prototype.bind || functionBindPolyfill\n\nfunction EventEmitter() {\n  if (!this._events || !Object.prototype.hasOwnProperty.call(this, '_events')) {\n    this._events = objectCreate(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nvar hasDefineProperty;\ntry {\n  var o = {};\n  if (Object.defineProperty) Object.defineProperty(o, 'x', { value: 0 });\n  hasDefineProperty = o.x === 0;\n} catch (err) { hasDefineProperty = false }\nif (hasDefineProperty) {\n  Object.defineProperty(EventEmitter, 'defaultMaxListeners', {\n    enumerable: true,\n    get: function() {\n      return defaultMaxListeners;\n    },\n    set: function(arg) {\n      // check whether the input is a positive number (whose value is zero or\n      // greater and not a NaN).\n      if (typeof arg !== 'number' || arg < 0 || arg !== arg)\n        throw new TypeError('\"defaultMaxListeners\" must be a positive number');\n      defaultMaxListeners = arg;\n    }\n  });\n} else {\n  EventEmitter.defaultMaxListeners = defaultMaxListeners;\n}\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || isNaN(n))\n    throw new TypeError('\"n\" argument must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nfunction $getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return $getMaxListeners(this);\n};\n\n// These standalone emit* functions are used to optimize calling of event\n// handlers for fast cases because emit() itself often has a variable number of\n// arguments and can be deoptimized because of that. These functions always have\n// the same number of arguments and thus do not get deoptimized, so the code\n// inside them can execute faster.\nfunction emitNone(handler, isFn, self) {\n  if (isFn)\n    handler.call(self);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self);\n  }\n}\nfunction emitOne(handler, isFn, self, arg1) {\n  if (isFn)\n    handler.call(self, arg1);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1);\n  }\n}\nfunction emitTwo(handler, isFn, self, arg1, arg2) {\n  if (isFn)\n    handler.call(self, arg1, arg2);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1, arg2);\n  }\n}\nfunction emitThree(handler, isFn, self, arg1, arg2, arg3) {\n  if (isFn)\n    handler.call(self, arg1, arg2, arg3);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1, arg2, arg3);\n  }\n}\n\nfunction emitMany(handler, isFn, self, args) {\n  if (isFn)\n    handler.apply(self, args);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].apply(self, args);\n  }\n}\n\nEventEmitter.prototype.emit = function emit(type) {\n  var er, handler, len, args, i, events;\n  var doError = (type === 'error');\n\n  events = this._events;\n  if (events)\n    doError = (doError && events.error == null);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    if (arguments.length > 1)\n      er = arguments[1];\n    if (er instanceof Error) {\n      throw er; // Unhandled 'error' event\n    } else {\n      // At least give some kind of context to the user\n      var err = new Error('Unhandled \"error\" event. (' + er + ')');\n      err.context = er;\n      throw err;\n    }\n    return false;\n  }\n\n  handler = events[type];\n\n  if (!handler)\n    return false;\n\n  var isFn = typeof handler === 'function';\n  len = arguments.length;\n  switch (len) {\n      // fast cases\n    case 1:\n      emitNone(handler, isFn, this);\n      break;\n    case 2:\n      emitOne(handler, isFn, this, arguments[1]);\n      break;\n    case 3:\n      emitTwo(handler, isFn, this, arguments[1], arguments[2]);\n      break;\n    case 4:\n      emitThree(handler, isFn, this, arguments[1], arguments[2], arguments[3]);\n      break;\n      // slower\n    default:\n      args = new Array(len - 1);\n      for (i = 1; i < len; i++)\n        args[i - 1] = arguments[i];\n      emitMany(handler, isFn, this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  if (typeof listener !== 'function')\n    throw new TypeError('\"listener\" argument must be a function');\n\n  events = target._events;\n  if (!events) {\n    events = target._events = objectCreate(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener) {\n      target.emit('newListener', type,\n          listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (!existing) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n          prepend ? [listener, existing] : [existing, listener];\n    } else {\n      // If we've already got an array, just append.\n      if (prepend) {\n        existing.unshift(listener);\n      } else {\n        existing.push(listener);\n      }\n    }\n\n    // Check for listener leak\n    if (!existing.warned) {\n      m = $getMaxListeners(target);\n      if (m && m > 0 && existing.length > m) {\n        existing.warned = true;\n        var w = new Error('Possible EventEmitter memory leak detected. ' +\n            existing.length + ' \"' + String(type) + '\" listeners ' +\n            'added. Use emitter.setMaxListeners() to ' +\n            'increase limit.');\n        w.name = 'MaxListenersExceededWarning';\n        w.emitter = target;\n        w.type = type;\n        w.count = existing.length;\n        if (typeof console === 'object' && console.warn) {\n          console.warn('%s: %s', w.name, w.message);\n        }\n      }\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    switch (arguments.length) {\n      case 0:\n        return this.listener.call(this.target);\n      case 1:\n        return this.listener.call(this.target, arguments[0]);\n      case 2:\n        return this.listener.call(this.target, arguments[0], arguments[1]);\n      case 3:\n        return this.listener.call(this.target, arguments[0], arguments[1],\n            arguments[2]);\n      default:\n        var args = new Array(arguments.length);\n        for (var i = 0; i < args.length; ++i)\n          args[i] = arguments[i];\n        this.listener.apply(this.target, args);\n    }\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = bind.call(onceWrapper, state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  if (typeof listener !== 'function')\n    throw new TypeError('\"listener\" argument must be a function');\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      if (typeof listener !== 'function')\n        throw new TypeError('\"listener\" argument must be a function');\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      if (typeof listener !== 'function')\n        throw new TypeError('\"listener\" argument must be a function');\n\n      events = this._events;\n      if (!events)\n        return this;\n\n      list = events[type];\n      if (!list)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = objectCreate(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else\n          spliceOne(list, position);\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (!events)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (!events.removeListener) {\n        if (arguments.length === 0) {\n          this._events = objectCreate(null);\n          this._eventsCount = 0;\n        } else if (events[type]) {\n          if (--this._eventsCount === 0)\n            this._events = objectCreate(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = objectKeys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = objectCreate(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (!events)\n    return [];\n\n  var evlistener = events[type];\n  if (!evlistener)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ? unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? Reflect.ownKeys(this._events) : [];\n};\n\n// About 1.5x faster than the two-arg version of Array#splice().\nfunction spliceOne(list, index) {\n  for (var i = index, k = i + 1, n = list.length; k < n; i += 1, k += 1)\n    list[i] = list[k];\n  list.pop();\n}\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction objectCreatePolyfill(proto) {\n  var F = function() {};\n  F.prototype = proto;\n  return new F;\n}\nfunction objectKeysPolyfill(obj) {\n  var keys = [];\n  for (var k in obj) if (Object.prototype.hasOwnProperty.call(obj, k)) {\n    keys.push(k);\n  }\n  return k;\n}\nfunction functionBindPolyfill(context) {\n  var fn = this;\n  return function () {\n    return fn.apply(context, arguments);\n  };\n}\n",
    "\nvar rng;\n\nvar crypto = global.crypto || global.msCrypto; // for IE 11\nif (crypto && crypto.getRandomValues) {\n  // WHATWG crypto-based RNG - http://wiki.whatwg.org/wiki/Crypto\n  // Moderately fast, high quality\n  var _rnds8 = new Uint8Array(16);\n  rng = function whatwgRNG() {\n    crypto.getRandomValues(_rnds8);\n    return _rnds8;\n  };\n}\n\nif (!rng) {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var  _rnds = new Array(16);\n  rng = function() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      _rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return _rnds;\n  };\n}\n\nmodule.exports = rng;\n\n",
    "//     uuid.js\n//\n//     Copyright (c) 2010-2012 Robert Kieffer\n//     MIT License - http://opensource.org/licenses/mit-license.php\n\n// Unique ID creation requires a high quality random # generator.  We feature\n// detect to determine the best RNG source, normalizing to a function that\n// returns 128-bits of randomness, since that's what's usually required\nvar _rng = require('./rng');\n\n// Maps for number <-> hex string conversion\nvar _byteToHex = [];\nvar _hexToByte = {};\nfor (var i = 0; i < 256; i++) {\n  _byteToHex[i] = (i + 0x100).toString(16).substr(1);\n  _hexToByte[_byteToHex[i]] = i;\n}\n\n// **`parse()` - Parse a UUID into it's component bytes**\nfunction parse(s, buf, offset) {\n  var i = (buf && offset) || 0, ii = 0;\n\n  buf = buf || [];\n  s.toLowerCase().replace(/[0-9a-f]{2}/g, function(oct) {\n    if (ii < 16) { // Don't overflow!\n      buf[i + ii++] = _hexToByte[oct];\n    }\n  });\n\n  // Zero out remaining bytes if string was short\n  while (ii < 16) {\n    buf[i + ii++] = 0;\n  }\n\n  return buf;\n}\n\n// **`unparse()` - Convert UUID byte array (ala parse()) into a string**\nfunction unparse(buf, offset) {\n  var i = offset || 0, bth = _byteToHex;\n  return  bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]];\n}\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\n// random #'s we need to init node and clockseq\nvar _seedBytes = _rng();\n\n// Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\nvar _nodeId = [\n  _seedBytes[0] | 0x01,\n  _seedBytes[1], _seedBytes[2], _seedBytes[3], _seedBytes[4], _seedBytes[5]\n];\n\n// Per 4.2.2, randomize (14 bit) clockseq\nvar _clockseq = (_seedBytes[6] << 8 | _seedBytes[7]) & 0x3fff;\n\n// Previous uuid creation time\nvar _lastMSecs = 0, _lastNSecs = 0;\n\n// See https://github.com/broofa/node-uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  var node = options.node || _nodeId;\n  for (var n = 0; n < 6; n++) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : unparse(b);\n}\n\n// **`v4()` - Generate random UUID**\n\n// See https://github.com/broofa/node-uuid for API details\nfunction v4(options, buf, offset) {\n  // Deprecated - 'format' argument, as supported in v1.2\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options == 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || _rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ii++) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || unparse(rnds);\n}\n\n// Export public API\nvar uuid = v4;\nuuid.v1 = v1;\nuuid.v4 = v4;\nuuid.parse = parse;\nuuid.unparse = unparse;\n\nmodule.exports = uuid;\n",
    "var uuid = require('uuid');\n\nModel.INITS = [];\n\nmodule.exports = Model;\n\nfunction Model(options) {\n  this.root = this;\n\n  var inits = Model.INITS;\n  if (!options) options = {};\n  this.debug = options.debug || {};\n  for (var i = 0; i < inits.length; i++) {\n    inits[i](this, options);\n  }\n}\n\nModel.prototype.id = function() {\n  return uuid.v4();\n};\n\nModel.prototype._child = function() {\n  return new ChildModel(this);\n};\n\nModel.ChildModel = ChildModel;\n\nfunction ChildModel(model) {\n  // Shared properties should be accessed via the root. This makes inheritance\n  // cheap and easily extensible\n  this.root = model.root;\n\n  // EventEmitter methods access these properties directly, so they must be\n  // inherited manually instead of via the root\n  this._events = model._events;\n  this._maxListeners = model._maxListeners;\n\n  // Properties specific to a child instance\n  this._context = model._context;\n  this._at = model._at;\n  this._pass = model._pass;\n  this._silent = model._silent;\n  this._eventContext = model._eventContext;\n  this._preventCompose = model._preventCompose;\n}\nChildModel.prototype = new Model();\n",
    "'use strict';\n\nvar isArray = Array.isArray;\nvar keyList = Object.keys;\nvar hasProp = Object.prototype.hasOwnProperty;\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    var arrA = isArray(a)\n      , arrB = isArray(b)\n      , i\n      , length\n      , key;\n\n    if (arrA && arrB) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n    if (arrA != arrB) return false;\n\n    var dateA = a instanceof Date\n      , dateB = b instanceof Date;\n    if (dateA != dateB) return false;\n    if (dateA && dateB) return a.getTime() == b.getTime();\n\n    var regexpA = a instanceof RegExp\n      , regexpB = b instanceof RegExp;\n    if (regexpA != regexpB) return false;\n    if (regexpA && regexpB) return a.toString() == b.toString();\n\n    var keys = keyList(a);\n    length = keys.length;\n\n    if (length !== keyList(b).length)\n      return false;\n\n    for (i = length; i-- !== 0;)\n      if (!hasProp.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      key = keys[i];\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  return a!==a && b!==b;\n};\n",
    "// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n",
    "var deepEqual = require('fast-deep-equal');\n\nvar isServer = process.title !== 'browser';\nexports.isServer = isServer;\n\nexports.asyncGroup = asyncGroup;\nexports.castSegments = castSegments;\nexports.contains = contains;\nexports.copy = copy;\nexports.copyObject = copyObject;\nexports.deepCopy = deepCopy;\nexports.deepEqual = deepEqual;\nexports.equal = equal;\nexports.equalsNaN = equalsNaN;\nexports.isArrayIndex = isArrayIndex;\nexports.lookup = lookup;\nexports.mergeInto = mergeInto;\nexports.mayImpact = mayImpact;\nexports.mayImpactAny = mayImpactAny;\nexports.serverRequire = serverRequire;\nexports.serverUse = serverUse;\nexports.use = use;\n\nfunction asyncGroup(cb) {\n  var group = new AsyncGroup(cb);\n  return function asyncGroupAdd() {\n    return group.add();\n  };\n}\n\n/**\n * @constructor\n * @param {Function} cb(err)\n */\nfunction AsyncGroup(cb) {\n  this.cb = cb;\n  this.isDone = false;\n  this.count = 0;\n}\nAsyncGroup.prototype.add = function() {\n  this.count++;\n  var self = this;\n  return function(err) {\n    self.count--;\n    if (self.isDone) return;\n    if (err) {\n      self.isDone = true;\n      self.cb(err);\n      return;\n    }\n    if (self.count > 0) return;\n    self.isDone = true;\n    self.cb();\n  };\n};\n\n/**\n * @param {Array<string | number>} segments\n * @return {Array<string | number>}\n */\nfunction castSegments(segments) {\n  // Cast number path segments from strings to numbers\n  for (var i = segments.length; i--;) {\n    var segment = segments[i];\n    if (typeof segment === 'string' && isArrayIndex(segment)) {\n      segments[i] = +segment;\n    }\n  }\n  return segments;\n}\n\nfunction contains(segments, testSegments) {\n  for (var i = 0; i < segments.length; i++) {\n    if (segments[i] !== testSegments[i]) return false;\n  }\n  return true;\n}\n\nfunction copy(value) {\n  if (value instanceof Date) return new Date(value);\n  if (typeof value === 'object') {\n    if (value === null) return null;\n    if (Array.isArray(value)) return value.slice();\n    return copyObject(value);\n  }\n  return value;\n}\n\nfunction copyObject(object) {\n  var out = new object.constructor();\n  for (var key in object) {\n    if (object.hasOwnProperty(key)) {\n      out[key] = object[key];\n    }\n  }\n  return out;\n}\n\nfunction deepCopy(value) {\n  if (value instanceof Date) return new Date(value);\n  if (typeof value === 'object') {\n    if (value === null) return null;\n    if (Array.isArray(value)) {\n      var array = [];\n      for (var i = value.length; i--;) {\n        array[i] = deepCopy(value[i]);\n      }\n      return array;\n    }\n    var object = new value.constructor();\n    for (var key in value) {\n      if (value.hasOwnProperty(key)) {\n        object[key] = deepCopy(value[key]);\n      }\n    }\n    return object;\n  }\n  return value;\n}\n\nfunction equal(a, b) {\n  return (a === b) || (equalsNaN(a) && equalsNaN(b));\n}\n\nfunction equalsNaN(x) {\n  // eslint-disable-next-line no-self-compare\n  return x !== x;\n}\n\nfunction isArrayIndex(segment) {\n  return (/^[0-9]+$/).test(segment);\n}\n\nfunction lookup(segments, value) {\n  if (!segments) return value;\n\n  for (var i = 0, len = segments.length; i < len; i++) {\n    if (value == null) return value;\n    value = value[segments[i]];\n  }\n  return value;\n}\n\nfunction mayImpactAny(segmentsList, testSegments) {\n  for (var i = 0, len = segmentsList.length; i < len; i++) {\n    if (mayImpact(segmentsList[i], testSegments)) return true;\n  }\n  return false;\n}\n\nfunction mayImpact(segments, testSegments) {\n  var len = Math.min(segments.length, testSegments.length);\n  for (var i = 0; i < len; i++) {\n    if (segments[i] !== testSegments[i]) return false;\n  }\n  return true;\n}\n\nfunction mergeInto(to, from) {\n  for (var key in from) {\n    to[key] = from[key];\n  }\n  return to;\n}\n\nfunction serverRequire(module, id) {\n  if (!isServer) return;\n  return module.require(id);\n}\n\nfunction serverUse(module, id, options) {\n  if (!isServer) return this;\n  var plugin = module.require(id);\n  return this.use(plugin, options);\n}\n\nfunction use(plugin, options) {\n  // Don't include a plugin more than once\n  var plugins = this._plugins || (this._plugins = []);\n  if (plugins.indexOf(plugin) === -1) {\n    plugins.push(plugin);\n    plugin(this, options);\n  }\n  return this;\n}\n",
    "var Model = require('./Model');\n\nModel.prototype.unbundle = function(data) {\n  if (this.connection) this.connection.startBulk();\n\n  // Re-create and subscribe queries; re-create documents associated with queries\n  this._initQueries(data.queries);\n\n  // Re-create other documents\n  for (var collectionName in data.collections) {\n    var collection = data.collections[collectionName];\n    for (var id in collection) {\n      this.getOrCreateDoc(collectionName, id, collection[id]);\n    }\n  }\n\n  for (var contextId in data.contexts) {\n    var contextData = data.contexts[contextId];\n    var contextModel = this.context(contextId);\n    // Re-init fetchedDocs counts\n    for (var collectionName in contextData.fetchedDocs) {\n      var collection = contextData.fetchedDocs[collectionName];\n      for (var id in collection) {\n        var count = collection[id];\n        while (count--) {\n          contextModel._context.fetchDoc(collectionName, id);\n          this._fetchedDocs.increment(collectionName, id);\n        }\n      }\n    }\n    // Subscribe to document subscriptions\n    for (var collectionName in contextData.subscribedDocs) {\n      var collection = contextData.subscribedDocs[collectionName];\n      for (var id in collection) {\n        var count = collection[id];\n        while (count--) {\n          contextModel.subscribeDoc(collectionName, id);\n        }\n      }\n    }\n    // Re-init createdDocs counts\n    for (var collectionName in contextData.createdDocs) {\n      var collection = contextData.createdDocs[collectionName];\n      for (var id in collection) {\n        // Count value doesn't matter for tracking creates\n        contextModel._context.createDoc(collectionName, id);\n      }\n    }\n  }\n\n  if (this.connection) this.connection.endBulk();\n\n  // Re-create refs\n  for (var i = 0; i < data.refs.length; i++) {\n    var item = data.refs[i];\n    this.ref(item[0], item[1]);\n  }\n  // Re-create refLists\n  for (var i = 0; i < data.refLists.length; i++) {\n    var item = data.refLists[i];\n    this.refList(item[0], item[1], item[2], item[3]);\n  }\n  // Re-create fns\n  for (var i = 0; i < data.fns.length; i++) {\n    var item = data.fns[i];\n    this.start.apply(this, item);\n  }\n  // Re-create filters\n  for (var i = 0; i < data.filters.length; i++) {\n    var item = data.filters[i];\n    var filter = this._filters.add(item[1], item[2], item[3], item[4], item[5]);\n    filter.ref(item[0]);\n  }\n};\n",
    "// @ts-check\n\nvar EventEmitter = require('events').EventEmitter;\nvar util = require('../util');\n/** @type any */\nvar Model = require('./Model');\n\n// These events are re-emitted as 'all' events, and they are queued up and\n// emitted in sequence, so that events generated by other events are not\n// seen in a different order by later listeners\nModel.MUTATOR_EVENTS = {\n  change: true,\n  insert: true,\n  remove: true,\n  move: true,\n  load: true,\n  unload: true\n};\n\nModel.INITS.push(function(model) {\n  EventEmitter.call(this);\n\n  // Set max listeners to unlimited\n  model.setMaxListeners(0);\n\n  // Used in async methods to emit an error event if a callback is not supplied.\n  // This will throw if there is no handler for model.on('error')\n  model.root._defaultCallback = defaultCallback;\n  function defaultCallback(err) {\n    if (err) model._emitError(err);\n  }\n\n  model.root._mutatorEventQueue = null;\n  model.root._pass = new Passed({}, {});\n  model.root._silent = null;\n  model.root._eventContext = null;\n});\n\nutil.mergeInto(Model.prototype, EventEmitter.prototype);\n\nModel.prototype.wrapCallback = function(cb) {\n  if (!cb) return this.root._defaultCallback;\n  var model = this;\n  return function wrappedCallback() {\n    try {\n      return cb.apply(this, arguments);\n    } catch (err) {\n      model._emitError(err);\n    }\n  };\n};\n\nModel.prototype._emitError = function(err, context) {\n  var message = (err.message) ? err.message :\n    (typeof err === 'string') ? err :\n      'Unknown model error';\n  if (context) {\n    message += ' ' + context;\n  }\n  if (err.data) {\n    try {\n      message += ' ' + JSON.stringify(err.data);\n    } catch (stringifyErr) {}\n  }\n  if (err instanceof Error) {\n    err.message = message;\n  } else {\n    err = new Error(message);\n  }\n  this.emit('error', err);\n};\n\n// EventEmitter.prototype.on, EventEmitter.prototype.addListener, and\n// EventEmitter.prototype.once return `this`. The Model equivalents return\n// the listener instead, since it is made internally for method subscriptions\n// and may need to be passed to removeListener.\n\nModel.prototype._emit = EventEmitter.prototype.emit;\nModel.prototype.emit = function(type) {\n  if (type === 'error') {\n    return this._emit.apply(this, arguments);\n  }\n  if (Model.MUTATOR_EVENTS[type]) {\n    if (this._silent) return this;\n    // `segments` is almost definitely an array of strings.\n    //\n    // A search for `.emit(` shows that `segments` is generated from either\n    // `Model#_splitPath` or `Model#_dereference`, both of which return an array\n    // of strings.\n    var segments = arguments[1];\n    var eventArgs = arguments[2];\n    this._emit(type + 'Immediate', segments, eventArgs);\n    if (this.root._mutatorEventQueue) {\n      this.root._mutatorEventQueue.push([type, segments, eventArgs]);\n      return this;\n    }\n    this.root._mutatorEventQueue = [];\n    this._emit(type, segments, eventArgs);\n    this._emit('all', segments, [type].concat(eventArgs));\n    while (this.root._mutatorEventQueue.length) {\n      var queued = this.root._mutatorEventQueue.shift();\n      type = queued[0];\n      segments = queued[1];\n      eventArgs = queued[2];\n      this._emit(type, segments, eventArgs);\n      this._emit('all', segments, [type].concat(eventArgs));\n    }\n    this.root._mutatorEventQueue = null;\n    return this;\n  }\n  return this._emit.apply(this, arguments);\n};\n\nModel.prototype._on = EventEmitter.prototype.on;\nModel.prototype.addListener =\nModel.prototype.on = function(type, pattern, options, cb) {\n  var listener = eventListener(this, type, pattern, options, cb);\n  this._on(type, listener);\n  return listener;\n};\n\nModel.prototype.once = function(type, pattern, options, cb) {\n  var listener = eventListener(this, type, pattern, options, cb);\n  function g() {\n    var matches = listener.apply(null, arguments);\n    if (matches) this.removeListener(type, g);\n  }\n  this._on(type, g);\n  return g;\n};\n\n/**\n * @typedef {Object} ModelOnOptions\n * @property {boolean} [useEventObjects] - If true, the listener is called with\n *   `cb(event: ___Event, captures: string[])`, instead of the legacy var-args\n *   style `cb(captures..., [eventType], eventArgs..., passed)`.\n */\n\nModel.prototype._removeAllListeners = EventEmitter.prototype.removeAllListeners;\nModel.prototype.removeAllListeners = function(type, subpattern) {\n  // If a pattern is specified without an event type, remove all model event\n  // listeners under that pattern for all events\n  if (!type) {\n    for (var key in this._events) {\n      this.removeAllListeners(key, subpattern);\n    }\n    return this;\n  }\n\n  var pattern = this.path(subpattern);\n  // If no pattern is specified, remove all listeners like normal\n  if (!pattern) {\n    if (arguments.length === 0) {\n      return this._removeAllListeners();\n    }\n    return this._removeAllListeners(type);\n  }\n\n  // Remove all listeners for an event under a pattern\n  var listeners = this.listeners(type);\n  var segments = pattern.split('.');\n  // Make sure to iterate in reverse, since the array might be\n  // mutated as listeners are removed\n  for (var i = listeners.length; i--;) {\n    var listener = listeners[i];\n    if (patternContained(pattern, segments, listener)) {\n      this.removeListener(type, listener);\n    }\n  }\n  return this;\n};\n\nfunction patternContained(pattern, segments, listener) {\n  var listenerSegments = listener.patternSegments;\n  if (!listenerSegments) return false;\n  if (pattern === listener.pattern || pattern === '**') return true;\n  var len = segments.length;\n  if (len > listenerSegments.length) return false;\n  for (var i = 0; i < len; i++) {\n    if (segments[i] !== listenerSegments[i]) return false;\n  }\n  return true;\n}\n\nModel.prototype.pass = function(object, invert) {\n  var model = this._child();\n  model._pass = (invert) ?\n    new Passed(object, this._pass) :\n    new Passed(this._pass, object);\n  return model;\n};\n\nfunction Passed(previous, value) {\n  for (var key in previous) {\n    this[key] = previous[key];\n  }\n  for (var key in value) {\n    this[key] = value[key];\n  }\n}\n\n/**\n * The returned Model will or won't trigger event handlers when the model emits\n * events, depending on `value`\n * @param {Boolean|Null} value defaults to true\n * @return {Model}\n */\nModel.prototype.silent = function(value) {\n  var model = this._child();\n  model._silent = (value == null) ? true : value;\n  return model;\n};\n\nModel.prototype.eventContext = function(value) {\n  var model = this._child();\n  model._eventContext = value;\n  return model;\n};\n\nModel.prototype.removeContextListeners = function(value) {\n  if (arguments.length === 0) {\n    value = this._eventContext;\n  }\n  // Remove all events created within a given context\n  for (var type in this._events) {\n    var listeners = this.listeners(type);\n    // Make sure to iterate in reverse, since the array might be\n    // mutated as listeners are removed\n    for (var i = listeners.length; i--;) {\n      var listener = listeners[i];\n      if (listener.eventContext === value) {\n        this.removeListener(type, listener);\n      }\n    }\n  }\n  return this;\n};\n\n/**\n * @param {Model} model\n * @param {string} eventType\n */\nfunction eventListener(model, eventType, arg2, arg3, arg4) {\n  var subpattern, options, cb;\n  if (arg4) {\n    // on(eventType, path, options, cb)\n    subpattern = arg2;\n    options = arg3;\n    cb = arg4;\n  } else if (arg3) {\n    // on(eventType, path, cb)\n    // on(eventType, options, cb)\n    cb = arg3;\n    if (model.isPath(arg2)) {\n      subpattern = arg2;\n    } else {\n      options = arg2;\n    }\n  } else { // if (arg2)\n    // on(eventType, cb)\n    cb = arg2;\n  }\n  if (options) {\n    if (options.useEventObjects) {\n      var useEventObjects = true;\n    }\n  }\n\n  if (subpattern) {\n    // For signatures with pattern:\n    // model.on('change', 'example.subpath.**', callback)\n    // model.at('example').on('change', 'subpath', callback)\n    var pattern = model.path(subpattern);\n    return (useEventObjects) ?\n      modelEventListener(eventType, pattern, cb, model._eventContext) :\n      modelEventListenerLegacy(pattern, cb, model._eventContext);\n  }\n  // For signature without explicit pattern:\n  // model.at('example').on('change', callback)\n  /** @type string */\n  var path = model.path();\n  if (path) {\n    return (useEventObjects) ?\n      modelEventListener(eventType, path, cb, model._eventContext) :\n      modelEventListenerLegacy(path, cb, model._eventContext);\n  }\n  // For signature:\n  // model.on('normalEvent', callback)\n  return cb;\n}\n\n/**\n * Legacy version of `modelEventListener` that calls `cb` with var-args\n * `(captures..., [eventType], args..., passed)` instead of new-style\n * `___Event` objects.\n *\n * @param {string} pattern\n * @param {Function} cb\n * @param {*} eventContext\n * @return {ModelListenerFn & ModelListenerProps}\n */\nfunction modelEventListenerLegacy(pattern, cb, eventContext) {\n  var patternSegments = util.castSegments(pattern.split('.'));\n  var testFn = testPatternFn(pattern, patternSegments);\n\n  /** @type ModelListenerFn */\n  function modelListener(segments, eventArgs) {\n    var captures = testFn(segments);\n    if (!captures) return;\n\n    var args = (captures.length) ? captures.concat(eventArgs) : eventArgs;\n    cb.apply(null, args);\n    return true;\n  }\n\n  // Used in Model#removeAllListeners\n  modelListener.pattern = pattern;\n  modelListener.patternSegments = patternSegments;\n  modelListener.eventContext = eventContext;\n\n  return modelListener;\n}\n\n/**\n * Returns a function that can be passed to `EventEmitter#on`, with some\n * additional properties used for `Model#removeAllListeners`.\n *\n * When the function is called, it checks if the event matches `patternArg`, and\n * if there's a match, it calls `cb`.\n *\n * @param {string} eventType\n * @param {string} pattern\n * @param {Function} cb\n * @param {*} eventContext\n * @return {ModelListenerFn & ModelListenerProps}\n */\nfunction modelEventListener(eventType, pattern, cb, eventContext) {\n  var patternSegments = util.castSegments(pattern.split('.'));\n  var testFn = testPatternFn(pattern, patternSegments);\n\n  var eventFactory = getEventFactory(eventType);\n  /** @type ModelListenerFn */\n  function modelListener(segments, eventArgs) {\n    var captures = testFn(segments);\n    if (!captures) return;\n\n    var event = eventFactory(eventArgs);\n    cb(event, captures);\n    return true;\n  }\n\n  // Used in Model#removeAllListeners\n  modelListener.pattern = pattern;\n  modelListener.patternSegments = patternSegments;\n  modelListener.eventContext = eventContext;\n\n  return modelListener;\n}\n\n/** @typedef { (segments: string[], eventArgs: any[]) => (boolean | undefined) } ModelListenerFn */\n/** @typedef { {pattern: string, patternSegments: Array<string | number>, eventContext: any} } ModelListenerProps */\n\n/**\n * Returns a factory function that creates an `___Event` object based on an\n * old-style `eventArgs` array.\n *\n * @param {string} eventType\n * @return {(eventArgs: any[]) => ChangeEvent | InsertEvent | RemoveEvent | MoveEvent | LoadEvent | UnloadEvent}\n */\nfunction getEventFactory(eventType) {\n  switch (eventType) {\n    case 'change':\n      return function(eventArgs) {\n        return new ChangeEvent(eventArgs);\n      };\n    case 'insert':\n      return function(eventArgs) {\n        return new InsertEvent(eventArgs);\n      };\n    case 'remove':\n      return function(eventArgs) {\n        return new RemoveEvent(eventArgs);\n      };\n    case 'move':\n      return function(eventArgs) {\n        return new MoveEvent(eventArgs);\n      };\n    case 'load':\n      return function(eventArgs) {\n        return new LoadEvent(eventArgs);\n      };\n    case 'unload':\n      return function(eventArgs) {\n        return new UnloadEvent(eventArgs);\n      };\n    case 'all':\n      return function(eventArgs) {\n        var concreteEventType = eventArgs[0]; // 'change', 'insert', etc.\n        var concreteEventFactory = getEventFactory(concreteEventType);\n        return concreteEventFactory(eventArgs.slice(1));\n      };\n    default: throw new Error('Unknown event: ' + eventType);\n  }\n}\n\n// These constructors accept the `eventArgs` array format that Racer uses\n// internally when calling `Model#emit`.\n//\n// Eventually, Racer should switch to passing these events around directly,\n// but that will require updating all the places that parse the `eventArgs`\n// array format, to extract things like `passed`.\n\nfunction ChangeEvent(eventArgs) {\n  this.value = eventArgs[0];\n  this.previous = eventArgs[1];\n  this.passed = eventArgs[2];\n}\nChangeEvent.prototype.type = 'change';\n\nfunction InsertEvent(eventArgs) {\n  this.index = eventArgs[0];\n  this.values = eventArgs[1];\n  this.passed = eventArgs[2];\n}\nInsertEvent.prototype.type = 'insert';\n\nfunction RemoveEvent(eventArgs) {\n  this.index = eventArgs[0];\n  this.removed = eventArgs[1];\n  this.passed = eventArgs[2];\n}\nRemoveEvent.prototype.type = 'remove';\n\nfunction MoveEvent(eventArgs) {\n  this.from = eventArgs[0];\n  this.to = eventArgs[1];\n  this.howMany = eventArgs[2];\n  this.passed = eventArgs[3];\n}\nMoveEvent.prototype.type = 'move';\n\nfunction LoadEvent(eventArgs) {\n  this.document = eventArgs[0];\n  this.passed = eventArgs[1];\n}\nLoadEvent.prototype.type = 'load';\n\nfunction UnloadEvent(eventArgs) {\n  this.previousDocument = eventArgs[0];\n  this.passed = eventArgs[1];\n}\nUnloadEvent.prototype.type = 'unload';\n\n/**\n * Returns a function that tests an array of event segments against the\n * `patternSegments`. (`pattern` only matters if it's exactly `'**'`.)\n *\n * @param {string?} pattern\n * @param {Array<string | number>} patternSegments\n * @return {(segments: string[]) => (string[] | undefined)} A function to test\n *   an array of event segments. If the event segments match, an array of 0 or\n *   more segments captured by `'*'` / `'**'` is returned, one per wildcard. If\n *   the event segments don't match, `undefined` is returned.\n */\nfunction testPatternFn(pattern, patternSegments) {\n  if (pattern === '**') {\n    return function testPattern(segments) {\n      return [segments.join('.')];\n    };\n  }\n\n  var endingRest = stripRestWildcard(patternSegments);\n\n  return function testPattern(segments) {\n    // Any pattern with more segments does not match\n    var patternLen = patternSegments.length;\n    if (patternLen > segments.length) return;\n\n    // A pattern with the same number of segments matches if each\n    // of the segments are wildcards or equal. A shorter pattern matches\n    // if it ends in a rest wildcard and each of the corresponding\n    // segments are wildcards or equal.\n    if (patternLen === segments.length || endingRest) {\n      /** @type string[] */\n      var captures = [];\n      for (var i = 0; i < patternLen; i++) {\n        var patternSegment = patternSegments[i];\n        var segment = segments[i];\n        if (patternSegment === '*' || patternSegment === '**') {\n          captures.push(segment);\n          continue;\n        }\n        if (patternSegment !== segment) return;\n      }\n      if (endingRest) {\n        var remainder = segments.slice(i).join('.');\n        captures.push(remainder);\n      }\n      return captures;\n    }\n  };\n}\n\n/**\n * @param {Array<string | number>} segments\n */\nfunction stripRestWildcard(segments) {\n  // ['example', '**'] -> ['example']; return true\n  var lastIndex = segments.length - 1;\n  var lastSegment = segments[lastIndex];\n  if (lastSegment === '**') {\n    segments.pop();\n    return true;\n  }\n  // ['example', 'subpath**'] -> ['example', 'subpath']; return true\n  if (typeof lastSegment !== 'string') return false;\n  var match = /^([^\\*]+)\\*\\*$/.exec(lastSegment);\n  if (!match) return false;\n  segments[lastIndex] = match[1];\n  return true;\n}\n",
    "var Model = require('./Model');\n\nexports.mixin = {};\n\nModel.prototype._splitPath = function(subpath) {\n  var path = this.path(subpath);\n  return (path && path.split('.')) || [];\n};\n\n/**\n * Returns the path equivalent to the path of the current scoped model plus\n * (optionally) a suffix subpath\n *\n * @optional @param {String} subpath\n * @return {String} absolute path\n * @api public\n */\nModel.prototype.path = function(subpath) {\n  if (subpath == null || subpath === '') return (this._at) ? this._at : '';\n  if (typeof subpath === 'string' || typeof subpath === 'number') {\n    return (this._at) ? this._at + '.' + subpath : '' + subpath;\n  }\n  if (typeof subpath.path === 'function') return subpath.path();\n};\n\nModel.prototype.isPath = function(subpath) {\n  return this.path(subpath) != null;\n};\n\nModel.prototype.scope = function(path) {\n  if (arguments.length > 1) {\n    for (var i = 1; i < arguments.length; i++) {\n      path = path + '.' + arguments[i];\n    }\n  }\n  return createScoped(this, path);\n};\n\n/**\n * Create a model object scoped to a particular path.\n * Example:\n *     var user = model.at('users.1');\n *     user.set('username', 'brian');\n *     user.on('push', 'todos', function(todo) {\n *       // ...\n *     });\n *\n *  @param {String} segment\n *  @return {Model} a scoped model\n *  @api public\n */\nModel.prototype.at = function(subpath) {\n  if (arguments.length > 1) {\n    for (var i = 1; i < arguments.length; i++) {\n      subpath = subpath + '.' + arguments[i];\n    }\n  }\n  var path = this.path(subpath);\n  return createScoped(this, path);\n};\n\nfunction createScoped(model, path) {\n  var scoped = model._child();\n  scoped._at = path;\n  return scoped;\n}\n\n/**\n * Returns a model scope that is a number of levels above the current scoped\n * path. Number of levels defaults to 1, so this method called without\n * arguments returns the model scope's parent model scope.\n *\n * @optional @param {Number} levels\n * @return {Model} a scoped model\n */\nModel.prototype.parent = function(levels) {\n  if (levels == null) levels = 1;\n  var segments = this._splitPath();\n  var len = Math.max(0, segments.length - levels);\n  var path = segments.slice(0, len).join('.');\n  return this.scope(path);\n};\n\n/**\n * Returns the last property segment of the current model scope path\n *\n * @optional @param {String} path\n * @return {String}\n */\nModel.prototype.leaf = function(path) {\n  if (!path) path = this.path();\n  var i = path.lastIndexOf('.');\n  return path.slice(i + 1);\n};\n",
    "module.exports = Doc;\n\nfunction Doc(model, collectionName, id) {\n  this.collectionName = collectionName;\n  this.id = id;\n  this.collectionData = model && model.data[collectionName];\n}\n\nDoc.prototype.path = function(segments) {\n  var path = this.collectionName + '.' + this.id;\n  if (segments && segments.length) path += '.' + segments.join('.');\n  return path;\n};\n\nDoc.prototype._errorMessage = function(description, segments, value) {\n  return description + ' at ' + this.path(segments) + ': ' +\n    JSON.stringify(value, null, 2);\n};\n",
    "var Doc = require('./Doc');\nvar util = require('../util');\n\nmodule.exports = LocalDoc;\n\nfunction LocalDoc(model, collectionName, id, data) {\n  Doc.call(this, model, collectionName, id);\n  this.data = data;\n  this._updateCollectionData();\n}\n\nLocalDoc.prototype = new Doc();\n\nLocalDoc.prototype._updateCollectionData = function() {\n  this.collectionData[this.id] = this.data;\n};\n\nLocalDoc.prototype.create = function(value, cb) {\n  if (this.data !== undefined) {\n    var message = this._errorMessage('create on local document with data', null, this.data);\n    var err = new Error(message);\n    return cb(err);\n  }\n  this.data = value;\n  this._updateCollectionData();\n  cb();\n};\n\nLocalDoc.prototype.set = function(segments, value, cb) {\n  function set(node, key) {\n    var previous = node[key];\n    node[key] = value;\n    return previous;\n  }\n  return this._apply(segments, set, cb);\n};\n\nLocalDoc.prototype.del = function(segments, cb) {\n  // Don't do anything if the value is already undefined, since\n  // apply creates objects as it traverses, and the del method\n  // should not create anything\n  var previous = this.get(segments);\n  if (previous === undefined) {\n    cb();\n    return;\n  }\n  function del(node, key) {\n    delete node[key];\n    return previous;\n  }\n  return this._apply(segments, del, cb);\n};\n\nLocalDoc.prototype.increment = function(segments, byNumber, cb) {\n  var self = this;\n  function validate(value) {\n    if (typeof value === 'number' || value == null) return;\n    return new TypeError(self._errorMessage(\n      'increment on non-number', segments, value\n    ));\n  }\n  function increment(node, key) {\n    var value = (node[key] || 0) + byNumber;\n    node[key] = value;\n    return value;\n  }\n  return this._validatedApply(segments, validate, increment, cb);\n};\n\nLocalDoc.prototype.push = function(segments, value, cb) {\n  function push(arr) {\n    return arr.push(value);\n  }\n  return this._arrayApply(segments, push, cb);\n};\n\nLocalDoc.prototype.unshift = function(segments, value, cb) {\n  function unshift(arr) {\n    return arr.unshift(value);\n  }\n  return this._arrayApply(segments, unshift, cb);\n};\n\nLocalDoc.prototype.insert = function(segments, index, values, cb) {\n  function insert(arr) {\n    arr.splice.apply(arr, [index, 0].concat(values));\n    return arr.length;\n  }\n  return this._arrayApply(segments, insert, cb);\n};\n\nLocalDoc.prototype.pop = function(segments, cb) {\n  function pop(arr) {\n    return arr.pop();\n  }\n  return this._arrayApply(segments, pop, cb);\n};\n\nLocalDoc.prototype.shift = function(segments, cb) {\n  function shift(arr) {\n    return arr.shift();\n  }\n  return this._arrayApply(segments, shift, cb);\n};\n\nLocalDoc.prototype.remove = function(segments, index, howMany, cb) {\n  function remove(arr) {\n    return arr.splice(index, howMany);\n  }\n  return this._arrayApply(segments, remove, cb);\n};\n\nLocalDoc.prototype.move = function(segments, from, to, howMany, cb) {\n  function move(arr) {\n    // Remove from old location\n    var values = arr.splice(from, howMany);\n    // Insert in new location\n    arr.splice.apply(arr, [to, 0].concat(values));\n    return values;\n  }\n  return this._arrayApply(segments, move, cb);\n};\n\nLocalDoc.prototype.stringInsert = function(segments, index, value, cb) {\n  var self = this;\n  function validate(value) {\n    if (typeof value === 'string' || value == null) return;\n    return new TypeError(self._errorMessage(\n      'stringInsert on non-string', segments, value\n    ));\n  }\n  function stringInsert(node, key) {\n    var previous = node[key];\n    if (previous == null) {\n      node[key] = value;\n      return previous;\n    }\n    node[key] = previous.slice(0, index) + value + previous.slice(index);\n    return previous;\n  }\n  return this._validatedApply(segments, validate, stringInsert, cb);\n};\n\nLocalDoc.prototype.stringRemove = function(segments, index, howMany, cb) {\n  var self = this;\n  function validate(value) {\n    if (typeof value === 'string' || value == null) return;\n    return new TypeError(self._errorMessage(\n      'stringRemove on non-string', segments, value\n    ));\n  }\n  function stringRemove(node, key) {\n    var previous = node[key];\n    if (previous == null) return previous;\n    if (index < 0) index += previous.length;\n    node[key] = previous.slice(0, index) + previous.slice(index + howMany);\n    return previous;\n  }\n  return this._validatedApply(segments, validate, stringRemove, cb);\n};\n\nLocalDoc.prototype.get = function(segments) {\n  return util.lookup(segments, this.data);\n};\n\n/**\n * @param {Array} segments is the array representing a path\n * @param {Function} fn(node, key) applies a mutation on node[key]\n * @return {Object} returns the return value of fn(node, key)\n */\nLocalDoc.prototype._createImplied = function(segments, fn) {\n  var node = this;\n  var key = 'data';\n  var i = 0;\n  var nextKey = segments[i++];\n  while (nextKey != null) {\n    // Get or create implied object or array\n    node = node[key] || (node[key] = /^\\d+$/.test(nextKey) ? [] : {});\n    key = nextKey;\n    nextKey = segments[i++];\n  }\n  return fn(node, key);\n};\n\nLocalDoc.prototype._apply = function(segments, fn, cb) {\n  var out = this._createImplied(segments, fn);\n  this._updateCollectionData();\n  cb();\n  return out;\n};\n\nLocalDoc.prototype._validatedApply = function(segments, validate, fn, cb) {\n  var out = this._createImplied(segments, function(node, key) {\n    var err = validate(node[key]);\n    if (err) return cb(err);\n    return fn(node, key);\n  });\n  this._updateCollectionData();\n  cb();\n  return out;\n};\n\nLocalDoc.prototype._arrayApply = function(segments, fn, cb) {\n  // Lookup a pointer to the property or nested property &\n  // return the current value or create a new array\n  var arr = this._createImplied(segments, nodeCreateArray);\n\n  if (!Array.isArray(arr)) {\n    var message = this._errorMessage(fn.name + ' on non-array', segments, arr);\n    var err = new TypeError(message);\n    return cb(err);\n  }\n  var out = fn(arr);\n  this._updateCollectionData();\n  cb();\n  return out;\n};\n\nfunction nodeCreateArray(node, key) {\n  var node = node[key] || (node[key] = []);\n  return node;\n}\n",
    "var Model = require('./Model');\nvar LocalDoc = require('./LocalDoc');\nvar util = require('../util');\n\nfunction CollectionMap() {}\nfunction ModelData() {}\nfunction DocMap() {}\nfunction CollectionData() {}\n\nModel.INITS.push(function(model) {\n  model.root.collections = new CollectionMap();\n  model.root.data = new ModelData();\n});\n\nModel.prototype.getCollection = function(collectionName) {\n  return this.root.collections[collectionName];\n};\nModel.prototype.getDoc = function(collectionName, id) {\n  var collection = this.root.collections[collectionName];\n  return collection && collection.docs[id];\n};\nModel.prototype.get = function(subpath) {\n  var segments = this._splitPath(subpath);\n  return this._get(segments);\n};\nModel.prototype._get = function(segments) {\n  return util.lookup(segments, this.root.data);\n};\nModel.prototype.getCopy = function(subpath) {\n  var segments = this._splitPath(subpath);\n  return this._getCopy(segments);\n};\nModel.prototype._getCopy = function(segments) {\n  var value = this._get(segments);\n  return util.copy(value);\n};\nModel.prototype.getDeepCopy = function(subpath) {\n  var segments = this._splitPath(subpath);\n  return this._getDeepCopy(segments);\n};\nModel.prototype._getDeepCopy = function(segments) {\n  var value = this._get(segments);\n  return util.deepCopy(value);\n};\nModel.prototype.getOrCreateCollection = function(name) {\n  var collection = this.root.collections[name];\n  if (collection) return collection;\n  var Doc = this._getDocConstructor(name);\n  collection = new Collection(this.root, name, Doc);\n  this.root.collections[name] = collection;\n  return collection;\n};\nModel.prototype._getDocConstructor = function() {\n  // Only create local documents. This is overriden in ./connection.js, so that\n  // the RemoteDoc behavior can be selectively included\n  return LocalDoc;\n};\n\n/**\n * Returns an existing document with id in a collection. If the document does\n * not exist, then creates the document with id in a collection and returns the\n * new document.\n * @param {String} collectionName\n * @param {String} id\n * @param {Object} [data] data to create if doc with id does not exist in collection\n */\nModel.prototype.getOrCreateDoc = function(collectionName, id, data) {\n  var collection = this.getOrCreateCollection(collectionName);\n  return collection.docs[id] || collection.add(id, data);\n};\n\n/**\n * @param {String} subpath\n */\nModel.prototype.destroy = function(subpath) {\n  var segments = this._splitPath(subpath);\n  // Silently remove all types of listeners within subpath\n  var silentModel = this.silent();\n  silentModel.removeAllListeners(null, subpath);\n  silentModel._removeAllRefs(segments);\n  silentModel._stopAll(segments);\n  silentModel._removeAllFilters(segments);\n  // Silently remove all model data within subpath\n  if (segments.length === 0) {\n    this.root.collections = new CollectionMap();\n    // Delete each property of data instead of creating a new object so that\n    // it is possible to continue using a reference to the original data object\n    var data = this.root.data;\n    for (var key in data) {\n      delete data[key];\n    }\n  } else if (segments.length === 1) {\n    var collection = this.getCollection(segments[0]);\n    collection && collection.destroy();\n  } else {\n    silentModel._del(segments);\n  }\n};\n\nfunction Collection(model, name, Doc) {\n  this.model = model;\n  this.name = name;\n  this.Doc = Doc;\n  this.docs = new DocMap();\n  this.data = model.data[name] = new CollectionData();\n}\n\n/**\n * Adds a document with `id` and `data` to `this` Collection.\n * @param {String} id\n * @param {Object} data\n * @return {LocalDoc|RemoteDoc} doc\n */\nCollection.prototype.add = function(id, data) {\n  var doc = new this.Doc(this.model, this.name, id, data, this);\n  this.docs[id] = doc;\n  return doc;\n};\nCollection.prototype.destroy = function() {\n  delete this.model.collections[this.name];\n  delete this.model.data[this.name];\n};\n\n/**\n * Removes the document with `id` from `this` Collection. If there are no more\n * documents in the Collection after the given document is removed, then this\n * also destroys the Collection.\n * @param {String} id\n */\nCollection.prototype.remove = function(id) {\n  delete this.docs[id];\n  delete this.data[id];\n  if (noKeys(this.docs)) this.destroy();\n};\n\n/**\n * Returns an object that maps doc ids to fully resolved documents.\n * @return {Object}\n */\nCollection.prototype.get = function() {\n  return this.data;\n};\n\nfunction noKeys(object) {\n  // eslint-disable-next-line no-unused-vars\n  for (var key in object) {\n    return false;\n  }\n  return true;\n}\n",
    "var util = require('../util');\nvar Model = require('./Model');\n\nModel.prototype._mutate = function(segments, fn, cb) {\n  cb = this.wrapCallback(cb);\n  var collectionName = segments[0];\n  var id = segments[1];\n  if (!collectionName || !id) {\n    var message = fn.name + ' must be performed under a collection ' +\n      'and document id. Invalid path: ' + segments.join('.');\n    return cb(new Error(message));\n  }\n  var doc = this.getOrCreateDoc(collectionName, id);\n  var docSegments = segments.slice(2);\n  if (this._preventCompose && doc.shareDoc) {\n    var oldPreventCompose = doc.shareDoc.preventCompose;\n    doc.shareDoc.preventCompose = true;\n    var out = fn(doc, docSegments, cb);\n    doc.shareDoc.preventCompose = oldPreventCompose;\n    return out;\n  }\n  return fn(doc, docSegments, cb);\n};\n\nModel.prototype.set = function() {\n  var subpath, value, cb;\n  if (arguments.length === 1) {\n    value = arguments[0];\n  } else if (arguments.length === 2) {\n    subpath = arguments[0];\n    value = arguments[1];\n  } else {\n    subpath = arguments[0];\n    value = arguments[1];\n    cb = arguments[2];\n  }\n  var segments = this._splitPath(subpath);\n  return this._set(segments, value, cb);\n};\nModel.prototype._set = function(segments, value, cb) {\n  segments = this._dereference(segments);\n  var model = this;\n  function set(doc, docSegments, fnCb) {\n    var previous = doc.set(docSegments, value, fnCb);\n    // On setting the entire doc, remote docs sometimes do a copy to add the\n    // id without it being stored in the database by ShareJS\n    if (docSegments.length === 0) value = doc.get(docSegments);\n    model.emit('change', segments, [value, previous, model._pass]);\n    return previous;\n  }\n  return this._mutate(segments, set, cb);\n};\n\nModel.prototype.setNull = function() {\n  var subpath, value, cb;\n  if (arguments.length === 1) {\n    value = arguments[0];\n  } else if (arguments.length === 2) {\n    subpath = arguments[0];\n    value = arguments[1];\n  } else {\n    subpath = arguments[0];\n    value = arguments[1];\n    cb = arguments[2];\n  }\n  var segments = this._splitPath(subpath);\n  return this._setNull(segments, value, cb);\n};\nModel.prototype._setNull = function(segments, value, cb) {\n  segments = this._dereference(segments);\n  var model = this;\n  function setNull(doc, docSegments, fnCb) {\n    var previous = doc.get(docSegments);\n    if (previous != null) {\n      fnCb();\n      return previous;\n    }\n    doc.set(docSegments, value, fnCb);\n    model.emit('change', segments, [value, previous, model._pass]);\n    return value;\n  }\n  return this._mutate(segments, setNull, cb);\n};\n\nModel.prototype.setEach = function() {\n  var subpath, object, cb;\n  if (arguments.length === 1) {\n    object = arguments[0];\n  } else if (arguments.length === 2) {\n    subpath = arguments[0];\n    object = arguments[1];\n  } else {\n    subpath = arguments[0];\n    object = arguments[1];\n    cb = arguments[2];\n  }\n  var segments = this._splitPath(subpath);\n  return this._setEach(segments, object, cb);\n};\nModel.prototype._setEach = function(segments, object, cb) {\n  segments = this._dereference(segments);\n  var group = util.asyncGroup(this.wrapCallback(cb));\n  for (var key in object) {\n    var value = object[key];\n    this._set(segments.concat(key), value, group());\n  }\n};\n\nModel.prototype.create = function() {\n  var subpath, value, cb;\n  if (arguments.length === 0) {\n    value = {};\n  } else if (arguments.length === 1) {\n    if (typeof arguments[0] === 'function') {\n      value = {};\n      cb = arguments[0];\n    } else {\n      value = arguments[0];\n    }\n  } else if (arguments.length === 2) {\n    if (typeof arguments[1] === 'function') {\n      value = arguments[0];\n      cb = arguments[1];\n    } else {\n      subpath = arguments[0];\n      value = arguments[1];\n    }\n  } else {\n    subpath = arguments[0];\n    value = arguments[1];\n    cb = arguments[2];\n  }\n  var segments = this._splitPath(subpath);\n  return this._create(segments, value, cb);\n};\nModel.prototype._create = function(segments, value, cb) {\n  segments = this._dereference(segments);\n  if (segments.length !== 2) {\n    var message = 'create may only be used on a document path. ' +\n      'Invalid path: ' + segments.join('.');\n    cb = this.wrapCallback(cb);\n    return cb(new Error(message));\n  }\n  var model = this;\n  function create(doc, docSegments, fnCb) {\n    var previous;\n    doc.create(value, fnCb);\n    // On creating the doc, remote docs do a copy to add the id without\n    // it being stored in the database by ShareJS\n    value = doc.get();\n    model.emit('change', segments, [value, previous, model._pass]);\n  }\n  this._mutate(segments, create, cb);\n};\n\nModel.prototype.createNull = function() {\n  var subpath, value, cb;\n  if (arguments.length === 0) {\n    value = {};\n  } else if (arguments.length === 1) {\n    if (typeof arguments[0] === 'function') {\n      value = {};\n      cb = arguments[0];\n    } else {\n      value = arguments[0];\n    }\n  } else if (arguments.length === 2) {\n    if (typeof arguments[1] === 'function') {\n      value = arguments[0];\n      cb = arguments[1];\n    } else {\n      subpath = arguments[0];\n      value = arguments[1];\n    }\n  } else {\n    subpath = arguments[0];\n    value = arguments[1];\n    cb = arguments[2];\n  }\n  var segments = this._splitPath(subpath);\n  return this._createNull(segments, value, cb);\n};\nModel.prototype._createNull = function(segments, value, cb) {\n  segments = this._dereference(segments);\n  var doc = this.getDoc(segments[0], segments[1]);\n  if (doc && doc.get() != null) return;\n  this._create(segments, value, cb);\n};\n\nModel.prototype.add = function() {\n  var subpath, value, cb;\n  if (arguments.length === 0) {\n    value = {};\n  } else if (arguments.length === 1) {\n    if (typeof arguments[0] === 'function') {\n      value = {};\n      cb = arguments[0];\n    } else {\n      value = arguments[0];\n    }\n  } else if (arguments.length === 2) {\n    if (typeof arguments[1] === 'function') {\n      value = arguments[0];\n      cb = arguments[1];\n    } else {\n      subpath = arguments[0];\n      value = arguments[1];\n    }\n  } else {\n    subpath = arguments[0];\n    value = arguments[1];\n    cb = arguments[2];\n  }\n  var segments = this._splitPath(subpath);\n  return this._add(segments, value, cb);\n};\nModel.prototype._add = function(segments, value, cb) {\n  if (typeof value !== 'object') {\n    var message = 'add requires an object value. Invalid value: ' + value;\n    cb = this.wrapCallback(cb);\n    return cb(new Error(message));\n  }\n  var id = value.id || this.id();\n  value.id = id;\n  segments = this._dereference(segments.concat(id));\n  var model = this;\n  function add(doc, docSegments, fnCb) {\n    var previous;\n    if (docSegments.length) {\n      previous = doc.set(docSegments, value, fnCb);\n    } else {\n      doc.create(value, fnCb);\n      // On creating the doc, remote docs do a copy to add the id without\n      // it being stored in the database by ShareJS\n      value = doc.get();\n    }\n    model.emit('change', segments, [value, previous, model._pass]);\n  }\n  this._mutate(segments, add, cb);\n  return id;\n};\n\nModel.prototype.del = function() {\n  var subpath, cb;\n  if (arguments.length === 1) {\n    if (typeof arguments[0] === 'function') {\n      cb = arguments[0];\n    } else {\n      subpath = arguments[0];\n    }\n  } else {\n    subpath = arguments[0];\n    cb = arguments[1];\n  }\n  var segments = this._splitPath(subpath);\n  return this._del(segments, cb);\n};\nModel.prototype._del = function(segments, cb) {\n  segments = this._dereference(segments);\n  var model = this;\n  function del(doc, docSegments, fnCb) {\n    var previous = doc.del(docSegments, fnCb);\n    // When deleting an entire document, also remove the reference to the\n    // document object from its collection\n    if (segments.length === 2) {\n      var collectionName = segments[0];\n      var id = segments[1];\n      model.root.collections[collectionName].remove(id);\n    }\n    model.emit('change', segments, [undefined, previous, model._pass]);\n    return previous;\n  }\n  return this._mutate(segments, del, cb);\n};\n\nModel.prototype.increment = function() {\n  var subpath, byNumber, cb;\n  if (arguments.length === 1) {\n    if (typeof arguments[0] === 'function') {\n      cb = arguments[0];\n    } else if (typeof arguments[0] === 'number') {\n      byNumber = arguments[0];\n    } else {\n      subpath = arguments[0];\n    }\n  } else if (arguments.length === 2) {\n    if (typeof arguments[1] === 'function') {\n      cb = arguments[1];\n      if (typeof arguments[0] === 'number') {\n        byNumber = arguments[0];\n      } else {\n        subpath = arguments[0];\n      }\n    } else {\n      subpath = arguments[0];\n      byNumber = arguments[1];\n    }\n  } else {\n    subpath = arguments[0];\n    byNumber = arguments[1];\n    cb = arguments[2];\n  }\n  var segments = this._splitPath(subpath);\n  return this._increment(segments, byNumber, cb);\n};\nModel.prototype._increment = function(segments, byNumber, cb) {\n  segments = this._dereference(segments);\n  if (byNumber == null) byNumber = 1;\n  var model = this;\n  function increment(doc, docSegments, fnCb) {\n    var value = doc.increment(docSegments, byNumber, fnCb);\n    var previous = value - byNumber;\n    model.emit('change', segments, [value, previous, model._pass]);\n    return value;\n  }\n  return this._mutate(segments, increment, cb);\n};\n\nModel.prototype.push = function() {\n  var subpath, value, cb;\n  if (arguments.length === 1) {\n    value = arguments[0];\n  } else if (arguments.length === 2) {\n    subpath = arguments[0];\n    value = arguments[1];\n  } else {\n    subpath = arguments[0];\n    value = arguments[1];\n    cb = arguments[2];\n  }\n  var segments = this._splitPath(subpath);\n  return this._push(segments, value, cb);\n};\nModel.prototype._push = function(segments, value, cb) {\n  var forArrayMutator = true;\n  segments = this._dereference(segments, forArrayMutator);\n  var model = this;\n  function push(doc, docSegments, fnCb) {\n    var length = doc.push(docSegments, value, fnCb);\n    model.emit('insert', segments, [length - 1, [value], model._pass]);\n    return length;\n  }\n  return this._mutate(segments, push, cb);\n};\n\nModel.prototype.unshift = function() {\n  var subpath, value, cb;\n  if (arguments.length === 1) {\n    value = arguments[0];\n  } else if (arguments.length === 2) {\n    subpath = arguments[0];\n    value = arguments[1];\n  } else {\n    subpath = arguments[0];\n    value = arguments[1];\n    cb = arguments[2];\n  }\n  var segments = this._splitPath(subpath);\n  return this._unshift(segments, value, cb);\n};\nModel.prototype._unshift = function(segments, value, cb) {\n  var forArrayMutator = true;\n  segments = this._dereference(segments, forArrayMutator);\n  var model = this;\n  function unshift(doc, docSegments, fnCb) {\n    var length = doc.unshift(docSegments, value, fnCb);\n    model.emit('insert', segments, [0, [value], model._pass]);\n    return length;\n  }\n  return this._mutate(segments, unshift, cb);\n};\n\nModel.prototype.insert = function() {\n  var subpath, index, values, cb;\n  if (arguments.length < 2) {\n    throw new Error('Not enough arguments for insert');\n  } else if (arguments.length === 2) {\n    index = arguments[0];\n    values = arguments[1];\n  } else if (arguments.length === 3) {\n    subpath = arguments[0];\n    index = arguments[1];\n    values = arguments[2];\n  } else {\n    subpath = arguments[0];\n    index = arguments[1];\n    values = arguments[2];\n    cb = arguments[3];\n  }\n  var segments = this._splitPath(subpath);\n  return this._insert(segments, +index, values, cb);\n};\nModel.prototype._insert = function(segments, index, values, cb) {\n  var forArrayMutator = true;\n  segments = this._dereference(segments, forArrayMutator);\n  var model = this;\n  function insert(doc, docSegments, fnCb) {\n    var inserted = (Array.isArray(values)) ? values : [values];\n    var length = doc.insert(docSegments, index, inserted, fnCb);\n    model.emit('insert', segments, [index, inserted, model._pass]);\n    return length;\n  }\n  return this._mutate(segments, insert, cb);\n};\n\nModel.prototype.pop = function() {\n  var subpath, cb;\n  if (arguments.length === 1) {\n    if (typeof arguments[0] === 'function') {\n      cb = arguments[0];\n    } else {\n      subpath = arguments[0];\n    }\n  } else {\n    subpath = arguments[0];\n    cb = arguments[1];\n  }\n  var segments = this._splitPath(subpath);\n  return this._pop(segments, cb);\n};\nModel.prototype._pop = function(segments, cb) {\n  var forArrayMutator = true;\n  segments = this._dereference(segments, forArrayMutator);\n  var model = this;\n  function pop(doc, docSegments, fnCb) {\n    var arr = doc.get(docSegments);\n    var length = arr && arr.length;\n    if (!length) {\n      fnCb();\n      return;\n    }\n    var value = doc.pop(docSegments, fnCb);\n    model.emit('remove', segments, [length - 1, [value], model._pass]);\n    return value;\n  }\n  return this._mutate(segments, pop, cb);\n};\n\nModel.prototype.shift = function() {\n  var subpath, cb;\n  if (arguments.length === 1) {\n    if (typeof arguments[0] === 'function') {\n      cb = arguments[0];\n    } else {\n      subpath = arguments[0];\n    }\n  } else {\n    subpath = arguments[0];\n    cb = arguments[1];\n  }\n  var segments = this._splitPath(subpath);\n  return this._shift(segments, cb);\n};\nModel.prototype._shift = function(segments, cb) {\n  var forArrayMutator = true;\n  segments = this._dereference(segments, forArrayMutator);\n  var model = this;\n  function shift(doc, docSegments, fnCb) {\n    var arr = doc.get(docSegments);\n    var length = arr && arr.length;\n    if (!length) {\n      fnCb();\n      return;\n    }\n    var value = doc.shift(docSegments, fnCb);\n    model.emit('remove', segments, [0, [value], model._pass]);\n    return value;\n  }\n  return this._mutate(segments, shift, cb);\n};\n\nModel.prototype.remove = function() {\n  var subpath, index, howMany, cb;\n  if (arguments.length < 2) {\n    index = arguments[0];\n  } else if (arguments.length === 2) {\n    if (typeof arguments[1] === 'function') {\n      cb = arguments[1];\n      if (typeof arguments[0] === 'number') {\n        index = arguments[0];\n      } else {\n        subpath = arguments[0];\n      }\n    } else {\n      // eslint-disable-next-line no-lonely-if\n      if (typeof arguments[0] === 'number') {\n        index = arguments[0];\n        howMany = arguments[1];\n      } else {\n        subpath = arguments[0];\n        index = arguments[1];\n      }\n    }\n  } else if (arguments.length === 3) {\n    if (typeof arguments[2] === 'function') {\n      cb = arguments[2];\n      if (typeof arguments[0] === 'number') {\n        index = arguments[0];\n        howMany = arguments[1];\n      } else {\n        subpath = arguments[0];\n        index = arguments[1];\n      }\n    } else {\n      subpath = arguments[0];\n      index = arguments[1];\n      howMany = arguments[2];\n    }\n  } else {\n    subpath = arguments[0];\n    index = arguments[1];\n    howMany = arguments[2];\n    cb = arguments[3];\n  }\n  var segments = this._splitPath(subpath);\n  if (index == null) index = segments.pop();\n  return this._remove(segments, +index, howMany, cb);\n};\nModel.prototype._remove = function(segments, index, howMany, cb) {\n  var forArrayMutator = true;\n  segments = this._dereference(segments, forArrayMutator);\n  if (howMany == null) howMany = 1;\n  var model = this;\n  function remove(doc, docSegments, fnCb) {\n    var removed = doc.remove(docSegments, index, howMany, fnCb);\n    model.emit('remove', segments, [index, removed, model._pass]);\n    return removed;\n  }\n  return this._mutate(segments, remove, cb);\n};\n\nModel.prototype.move = function() {\n  var subpath, from, to, howMany, cb;\n  if (arguments.length < 2) {\n    throw new Error('Not enough arguments for move');\n  } else if (arguments.length === 2) {\n    from = arguments[0];\n    to = arguments[1];\n  } else if (arguments.length === 3) {\n    if (typeof arguments[2] === 'function') {\n      from = arguments[0];\n      to = arguments[1];\n      cb = arguments[2];\n    } else if (typeof arguments[0] === 'number') {\n      from = arguments[0];\n      to = arguments[1];\n      howMany = arguments[2];\n    } else {\n      subpath = arguments[0];\n      from = arguments[1];\n      to = arguments[2];\n    }\n  } else if (arguments.length === 4) {\n    if (typeof arguments[3] === 'function') {\n      cb = arguments[3];\n      if (typeof arguments[0] === 'number') {\n        from = arguments[0];\n        to = arguments[1];\n        howMany = arguments[2];\n      } else {\n        subpath = arguments[0];\n        from = arguments[1];\n        to = arguments[2];\n      }\n    } else {\n      subpath = arguments[0];\n      from = arguments[1];\n      to = arguments[2];\n      howMany = arguments[3];\n    }\n  } else {\n    subpath = arguments[0];\n    from = arguments[1];\n    to = arguments[2];\n    howMany = arguments[3];\n    cb = arguments[4];\n  }\n  var segments = this._splitPath(subpath);\n  return this._move(segments, from, to, howMany, cb);\n};\nModel.prototype._move = function(segments, from, to, howMany, cb) {\n  var forArrayMutator = true;\n  segments = this._dereference(segments, forArrayMutator);\n  if (howMany == null) howMany = 1;\n  var model = this;\n  function move(doc, docSegments, fnCb) {\n    // Cast to numbers\n    from = +from;\n    to = +to;\n    // Convert negative indices into positive\n    if (from < 0 || to < 0) {\n      var len = doc.get(docSegments).length;\n      if (from < 0) from += len;\n      if (to < 0) to += len;\n    }\n    var moved = doc.move(docSegments, from, to, howMany, fnCb);\n    model.emit('move', segments, [from, to, moved.length, model._pass]);\n    return moved;\n  }\n  return this._mutate(segments, move, cb);\n};\n\nModel.prototype.stringInsert = function() {\n  var subpath, index, text, cb;\n  if (arguments.length < 2) {\n    throw new Error('Not enough arguments for stringInsert');\n  } else if (arguments.length === 2) {\n    index = arguments[0];\n    text = arguments[1];\n  } else if (arguments.length === 3) {\n    if (typeof arguments[2] === 'function') {\n      index = arguments[0];\n      text = arguments[1];\n      cb = arguments[2];\n    } else {\n      subpath = arguments[0];\n      index = arguments[1];\n      text = arguments[2];\n    }\n  } else {\n    subpath = arguments[0];\n    index = arguments[1];\n    text = arguments[2];\n    cb = arguments[3];\n  }\n  var segments = this._splitPath(subpath);\n  return this._stringInsert(segments, index, text, cb);\n};\nModel.prototype._stringInsert = function(segments, index, text, cb) {\n  segments = this._dereference(segments);\n  var model = this;\n  function stringInsert(doc, docSegments, fnCb) {\n    var previous = doc.stringInsert(docSegments, index, text, fnCb);\n    var value = doc.get(docSegments);\n    var pass = model.pass({$stringInsert: {index: index, text: text}})._pass;\n    model.emit('change', segments, [value, previous, pass]);\n    return;\n  }\n  return this._mutate(segments, stringInsert, cb);\n};\n\nModel.prototype.stringRemove = function() {\n  var subpath, index, howMany, cb;\n  if (arguments.length < 2) {\n    throw new Error('Not enough arguments for stringRemove');\n  } else if (arguments.length === 2) {\n    index = arguments[0];\n    howMany = arguments[1];\n  } else if (arguments.length === 3) {\n    if (typeof arguments[2] === 'function') {\n      index = arguments[0];\n      howMany = arguments[1];\n      cb = arguments[2];\n    } else {\n      subpath = arguments[0];\n      index = arguments[1];\n      howMany = arguments[2];\n    }\n  } else {\n    subpath = arguments[0];\n    index = arguments[1];\n    howMany = arguments[2];\n    cb = arguments[3];\n  }\n  var segments = this._splitPath(subpath);\n  return this._stringRemove(segments, index, howMany, cb);\n};\nModel.prototype._stringRemove = function(segments, index, howMany, cb) {\n  segments = this._dereference(segments);\n  var model = this;\n  function stringRemove(doc, docSegments, fnCb) {\n    var previous = doc.stringRemove(docSegments, index, howMany, fnCb);\n    var value = doc.get(docSegments);\n    var pass = model.pass({$stringRemove: {index: index, howMany: howMany}})._pass;\n    model.emit('change', segments, [value, previous, pass]);\n    return;\n  }\n  return this._mutate(segments, stringRemove, cb);\n};\n\nModel.prototype.subtypeSubmit = function() {\n  var subpath, subtype, subtypeOp, cb;\n  if (arguments.length < 2) {\n    throw new Error('Not enough arguments for subtypeSubmit');\n  } else if (arguments.length === 2) {\n    subtype = arguments[0];\n    subtypeOp = arguments[1];\n  } else if (arguments.length === 3) {\n    if (typeof arguments[2] === 'function') {\n      subtype = arguments[0];\n      subtypeOp = arguments[1];\n      cb = arguments[2];\n    } else {\n      subpath = arguments[0];\n      subtype = arguments[1];\n      subtypeOp = arguments[2];\n    }\n  } else {\n    subpath = arguments[0];\n    subtype = arguments[1];\n    subtypeOp = arguments[2];\n    cb = arguments[3];\n  }\n  var segments = this._splitPath(subpath);\n  return this._subtypeSubmit(segments, subtype, subtypeOp, cb);\n};\n\nModel.prototype._subtypeSubmit = function(segments, subtype, subtypeOp, cb) {\n  segments = this._dereference(segments);\n  var model = this;\n  function subtypeSubmit(doc, docSegments, fnCb) {\n    var previous = doc.subtypeSubmit(docSegments, subtype, subtypeOp, fnCb);\n    var value = doc.get(docSegments);\n    var pass = model.pass({$subtype: {type: subtype, op: subtypeOp}})._pass;\n    // Emit undefined for the previous value, since we don't really know\n    // whether or not the previous value returned by the subtypeSubmit is the\n    // same object returned by reference or not. This may cause change\n    // listeners to over-trigger, but that is usually going to be better than\n    // under-triggering\n    model.emit('change', segments, [value, undefined, pass]);\n    return previous;\n  }\n  return this._mutate(segments, subtypeSubmit, cb);\n};\n",
    "module.exports = arrayDiff;\n\n// Based on some rough benchmarking, this algorithm is about O(2n) worst case,\n// and it can compute diffs on random arrays of length 1024 in about 34ms,\n// though just a few changes on an array of length 1024 takes about 0.5ms\n\narrayDiff.InsertDiff = InsertDiff;\narrayDiff.RemoveDiff = RemoveDiff;\narrayDiff.MoveDiff = MoveDiff;\n\nfunction InsertDiff(index, values) {\n  this.index = index;\n  this.values = values;\n}\nInsertDiff.prototype.type = 'insert';\nInsertDiff.prototype.toJSON = function() {\n  return {\n    type: this.type,\n    index: this.index,\n    values: this.values\n  };\n};\n\nfunction RemoveDiff(index, howMany) {\n  this.index = index;\n  this.howMany = howMany;\n}\nRemoveDiff.prototype.type = 'remove';\nRemoveDiff.prototype.toJSON = function() {\n  return {\n    type: this.type,\n    index: this.index,\n    howMany: this.howMany\n  };\n};\n\nfunction MoveDiff(from, to, howMany) {\n  this.from = from;\n  this.to = to;\n  this.howMany = howMany;\n}\nMoveDiff.prototype.type = 'move';\nMoveDiff.prototype.toJSON = function() {\n  return {\n    type: this.type,\n    from: this.from,\n    to: this.to,\n    howMany: this.howMany\n  };\n};\n\nfunction strictEqual(a, b) {\n  return a === b;\n}\n\nfunction arrayDiff(before, after, equalFn) {\n  if (!equalFn) equalFn = strictEqual;\n\n  // Find all items in both the before and after array, and represent them\n  // as moves. Many of these \"moves\" may end up being discarded in the last\n  // pass if they are from an index to the same index, but we don't know this\n  // up front, since we haven't yet offset the indices.\n  //\n  // Also keep a map of all the indices accounted for in the before and after\n  // arrays. These maps are used next to create insert and remove diffs.\n  var beforeLength = before.length;\n  var afterLength = after.length;\n  var moves = [];\n  var beforeMarked = {};\n  var afterMarked = {};\n  for (var beforeIndex = 0; beforeIndex < beforeLength; beforeIndex++) {\n    var beforeItem = before[beforeIndex];\n    for (var afterIndex = 0; afterIndex < afterLength; afterIndex++) {\n      if (afterMarked[afterIndex]) continue;\n      if (!equalFn(beforeItem, after[afterIndex])) continue;\n      var from = beforeIndex;\n      var to = afterIndex;\n      var howMany = 0;\n      do {\n        beforeMarked[beforeIndex++] = afterMarked[afterIndex++] = true;\n        howMany++;\n      } while (\n        beforeIndex < beforeLength &&\n        afterIndex < afterLength &&\n        equalFn(before[beforeIndex], after[afterIndex]) &&\n        !afterMarked[afterIndex]\n      );\n      moves.push(new MoveDiff(from, to, howMany));\n      beforeIndex--;\n      break;\n    }\n  }\n\n  // Create a remove for all of the items in the before array that were\n  // not marked as being matched in the after array as well\n  var removes = [];\n  for (beforeIndex = 0; beforeIndex < beforeLength;) {\n    if (beforeMarked[beforeIndex]) {\n      beforeIndex++;\n      continue;\n    }\n    var index = beforeIndex;\n    var howMany = 0;\n    while (beforeIndex < beforeLength && !beforeMarked[beforeIndex++]) {\n      howMany++;\n    }\n    removes.push(new RemoveDiff(index, howMany));\n  }\n\n  // Create an insert for all of the items in the after array that were\n  // not marked as being matched in the before array as well\n  var inserts = [];\n  for (var afterIndex = 0; afterIndex < afterLength;) {\n    if (afterMarked[afterIndex]) {\n      afterIndex++;\n      continue;\n    }\n    var index = afterIndex;\n    var howMany = 0;\n    while (afterIndex < afterLength && !afterMarked[afterIndex++]) {\n      howMany++;\n    }\n    var values = after.slice(index, index + howMany);\n    inserts.push(new InsertDiff(index, values));\n  }\n\n  var insertsLength = inserts.length;\n  var removesLength = removes.length;\n  var movesLength = moves.length;\n  var i, j;\n\n  // Offset subsequent removes and moves by removes\n  var count = 0;\n  for (i = 0; i < removesLength; i++) {\n    var remove = removes[i];\n    remove.index -= count;\n    count += remove.howMany;\n    for (j = 0; j < movesLength; j++) {\n      var move = moves[j];\n      if (move.from >= remove.index) move.from -= remove.howMany;\n    }\n  }\n\n  // Offset moves by inserts\n  for (i = insertsLength; i--;) {\n    var insert = inserts[i];\n    var howMany = insert.values.length;\n    for (j = movesLength; j--;) {\n      var move = moves[j];\n      if (move.to >= insert.index) move.to -= howMany;\n    }\n  }\n\n  // Offset the to of moves by later moves\n  for (i = movesLength; i-- > 1;) {\n    var move = moves[i];\n    if (move.to === move.from) continue;\n    for (j = i; j--;) {\n      var earlier = moves[j];\n      if (earlier.to >= move.to) earlier.to -= move.howMany;\n      if (earlier.to >= move.from) earlier.to += move.howMany;\n    }\n  }\n\n  // Only output moves that end up having an effect after offsetting\n  var outputMoves = [];\n\n  // Offset the from of moves by earlier moves\n  for (i = 0; i < movesLength; i++) {\n    var move = moves[i];\n    if (move.to === move.from) continue;\n    outputMoves.push(move);\n    for (j = i + 1; j < movesLength; j++) {\n      var later = moves[j];\n      if (later.from >= move.from) later.from -= move.howMany;\n      if (later.from >= move.to) later.from += move.howMany;\n    }\n  }\n\n  return removes.concat(outputMoves, inserts);\n}\n",
    "var util = require('../util');\nvar Model = require('./Model');\nvar arrayDiff = require('arraydiff');\n\nModel.prototype.setDiff = function() {\n  var subpath, value, cb;\n  if (arguments.length === 1) {\n    value = arguments[0];\n  } else if (arguments.length === 2) {\n    subpath = arguments[0];\n    value = arguments[1];\n  } else {\n    subpath = arguments[0];\n    value = arguments[1];\n    cb = arguments[2];\n  }\n  var segments = this._splitPath(subpath);\n  return this._setDiff(segments, value, cb);\n};\nModel.prototype._setDiff = function(segments, value, cb) {\n  segments = this._dereference(segments);\n  var model = this;\n  function setDiff(doc, docSegments, fnCb) {\n    var previous = doc.get(docSegments);\n    if (util.equal(previous, value)) {\n      fnCb();\n      return previous;\n    }\n    doc.set(docSegments, value, fnCb);\n    model.emit('change', segments, [value, previous, model._pass]);\n    return previous;\n  }\n  return this._mutate(segments, setDiff, cb);\n};\n\nModel.prototype.setDiffDeep = function() {\n  var subpath, value, cb;\n  if (arguments.length === 1) {\n    value = arguments[0];\n  } else if (arguments.length === 2) {\n    subpath = arguments[0];\n    value = arguments[1];\n  } else {\n    subpath = arguments[0];\n    value = arguments[1];\n    cb = arguments[2];\n  }\n  var segments = this._splitPath(subpath);\n  return this._setDiffDeep(segments, value, cb);\n};\nModel.prototype._setDiffDeep = function(segments, value, cb) {\n  var before = this._get(segments);\n  cb = this.wrapCallback(cb);\n  var group = util.asyncGroup(cb);\n  var finished = group();\n  diffDeep(this, segments, before, value, group);\n  finished();\n};\nfunction diffDeep(model, segments, before, after, group) {\n  if (typeof before !== 'object' || !before ||\n      typeof after !== 'object' || !after) {\n    // Diff the entire value if not diffable objects\n    model._setDiff(segments, after, group());\n    return;\n  }\n  if (Array.isArray(before) && Array.isArray(after)) {\n    var diff = arrayDiff(before, after, util.deepEqual);\n    if (!diff.length) return;\n    // If the only change is a single item replacement, diff the item instead\n    if (\n      diff.length === 2 &&\n      diff[0].index === diff[1].index &&\n      diff[0] instanceof arrayDiff.RemoveDiff &&\n      diff[0].howMany === 1 &&\n      diff[1] instanceof arrayDiff.InsertDiff &&\n      diff[1].values.length === 1\n    ) {\n      var index = diff[0].index;\n      var itemSegments = segments.concat(index);\n      diffDeep(model, itemSegments, before[index], after[index], group);\n      return;\n    }\n    model._applyArrayDiff(segments, diff, group());\n    return;\n  }\n\n  // Delete keys that were in before but not after\n  for (var key in before) {\n    if (key in after) continue;\n    var itemSegments = segments.concat(key);\n    model._del(itemSegments, group());\n  }\n\n  // Diff each property in after\n  for (var key in after) {\n    if (util.deepEqual(before[key], after[key])) continue;\n    var itemSegments = segments.concat(key);\n    diffDeep(model, itemSegments, before[key], after[key], group);\n  }\n}\n\nModel.prototype.setArrayDiff = function() {\n  var subpath, value, cb;\n  if (arguments.length === 1) {\n    value = arguments[0];\n  } else if (arguments.length === 2) {\n    subpath = arguments[0];\n    value = arguments[1];\n  } else {\n    subpath = arguments[0];\n    value = arguments[1];\n    cb = arguments[2];\n  }\n  var segments = this._splitPath(subpath);\n  return this._setArrayDiff(segments, value, cb);\n};\nModel.prototype.setArrayDiffDeep = function() {\n  var subpath, value, cb;\n  if (arguments.length === 1) {\n    value = arguments[0];\n  } else if (arguments.length === 2) {\n    subpath = arguments[0];\n    value = arguments[1];\n  } else {\n    subpath = arguments[0];\n    value = arguments[1];\n    cb = arguments[2];\n  }\n  var segments = this._splitPath(subpath);\n  return this._setArrayDiffDeep(segments, value, cb);\n};\nModel.prototype._setArrayDiffDeep = function(segments, value, cb) {\n  return this._setArrayDiff(segments, value, cb, util.deepEqual);\n};\nModel.prototype._setArrayDiff = function(segments, value, cb, _equalFn) {\n  var before = this._get(segments);\n  if (before === value) return this.wrapCallback(cb)();\n  if (!Array.isArray(before) || !Array.isArray(value)) {\n    this._set(segments, value, cb);\n    return;\n  }\n  var diff = arrayDiff(before, value, _equalFn);\n  this._applyArrayDiff(segments, diff, cb);\n};\nModel.prototype._applyArrayDiff = function(segments, diff, cb) {\n  if (!diff.length) return this.wrapCallback(cb)();\n  segments = this._dereference(segments);\n  var model = this;\n  function applyArrayDiff(doc, docSegments, fnCb) {\n    var group = util.asyncGroup(fnCb);\n    for (var i = 0, len = diff.length; i < len; i++) {\n      var item = diff[i];\n      if (item instanceof arrayDiff.InsertDiff) {\n        // Insert\n        doc.insert(docSegments, item.index, item.values, group());\n        model.emit('insert', segments, [item.index, item.values, model._pass]);\n      } else if (item instanceof arrayDiff.RemoveDiff) {\n        // Remove\n        var removed = doc.remove(docSegments, item.index, item.howMany, group());\n        model.emit('remove', segments, [item.index, removed, model._pass]);\n      } else if (item instanceof arrayDiff.MoveDiff) {\n        // Move\n        var moved = doc.move(docSegments, item.from, item.to, item.howMany, group());\n        model.emit('move', segments, [item.from, item.to, moved.length, model._pass]);\n      }\n    }\n  }\n  return this._mutate(segments, applyArrayDiff, cb);\n};\n",
    "var EventEmitter = require('events').EventEmitter;\n\nexports.EventEmitter = EventEmitter;\nexports.mixin = mixin;\n\nfunction mixin(Constructor) {\n  for (var key in EventEmitter.prototype) {\n    Constructor.prototype[key] = EventEmitter.prototype[key];\n  }\n}\n",
    "var SUPPORTED_METHODS = [\n  'info',\n  'warn',\n  'error'\n];\n\nfunction Logger() {\n  var defaultMethods = {};\n  SUPPORTED_METHODS.forEach(function(method) {\n    // Deal with Chrome issue: https://bugs.chromium.org/p/chromium/issues/detail?id=179628\n    defaultMethods[method] = console[method].bind(console);\n  });\n  this.setMethods(defaultMethods);\n}\nmodule.exports = Logger;\n\nLogger.prototype.setMethods = function(overrides) {\n  overrides = overrides || {};\n  var logger = this;\n\n  SUPPORTED_METHODS.forEach(function(method) {\n    if (typeof overrides[method] === 'function') {\n      logger[method] = overrides[method];\n    }\n  });\n};\n",
    "var Logger = require('./logger');\nvar logger = new Logger();\nmodule.exports = logger;\n",
    "function ShareDBError(code, message) {\n  this.code = code;\n  this.message = message || '';\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, ShareDBError);\n  } else {\n    this.stack = new Error().stack;\n  }\n}\n\nShareDBError.prototype = Object.create(Error.prototype);\nShareDBError.prototype.constructor = ShareDBError;\nShareDBError.prototype.name = 'ShareDBError';\n\nShareDBError.CODES = {\n  ERR_APPLY_OP_VERSION_DOES_NOT_MATCH_SNAPSHOT: 'ERR_APPLY_OP_VERSION_DOES_NOT_MATCH_SNAPSHOT',\n  ERR_APPLY_SNAPSHOT_NOT_PROVIDED: 'ERR_APPLY_SNAPSHOT_NOT_PROVIDED',\n  ERR_CLIENT_ID_BADLY_FORMED: 'ERR_CLIENT_ID_BADLY_FORMED',\n  ERR_CONNECTION_STATE_TRANSITION_INVALID: 'ERR_CONNECTION_STATE_TRANSITION_INVALID',\n  ERR_DATABASE_ADAPTER_NOT_FOUND: 'ERR_DATABASE_ADAPTER_NOT_FOUND',\n  ERR_DATABASE_DOES_NOT_SUPPORT_SUBSCRIBE: 'ERR_DATABASE_DOES_NOT_SUPPORT_SUBSCRIBE',\n  ERR_DATABASE_METHOD_NOT_IMPLEMENTED: 'ERR_DATABASE_METHOD_NOT_IMPLEMENTED',\n  ERR_DEFAULT_TYPE_MISMATCH: 'ERR_DEFAULT_TYPE_MISMATCH',\n  ERR_DOC_MISSING_VERSION: 'ERR_DOC_MISSING_VERSION',\n  ERR_DOC_ALREADY_CREATED: 'ERR_DOC_ALREADY_CREATED',\n  ERR_DOC_DOES_NOT_EXIST: 'ERR_DOC_DOES_NOT_EXIST',\n  ERR_DOC_TYPE_NOT_RECOGNIZED: 'ERR_DOC_TYPE_NOT_RECOGNIZED',\n  ERR_DOC_WAS_DELETED: 'ERR_DOC_WAS_DELETED',\n  ERR_INFLIGHT_OP_MISSING: 'ERR_INFLIGHT_OP_MISSING',\n  ERR_INGESTED_SNAPSHOT_HAS_NO_VERSION: 'ERR_INGESTED_SNAPSHOT_HAS_NO_VERSION',\n  ERR_MAX_SUBMIT_RETRIES_EXCEEDED: 'ERR_MAX_SUBMIT_RETRIES_EXCEEDED',\n  ERR_MESSAGE_BADLY_FORMED: 'ERR_MESSAGE_BADLY_FORMED',\n  ERR_MILESTONE_ARGUMENT_INVALID: 'ERR_MILESTONE_ARGUMENT_INVALID',\n  ERR_OP_ALREADY_SUBMITTED: 'ERR_OP_ALREADY_SUBMITTED',\n  ERR_OP_NOT_ALLOWED_IN_PROJECTION: 'ERR_OP_NOT_ALLOWED_IN_PROJECTION',\n  ERR_OP_SUBMIT_REJECTED: 'ERR_OP_SUBMIT_REJECTED',\n  ERR_OP_VERSION_MISMATCH_AFTER_TRANSFORM: 'ERR_OP_VERSION_MISMATCH_AFTER_TRANSFORM',\n  ERR_OP_VERSION_MISMATCH_DURING_TRANSFORM: 'ERR_OP_VERSION_MISMATCH_DURING_TRANSFORM',\n  ERR_OP_VERSION_NEWER_THAN_CURRENT_SNAPSHOT: 'ERR_OP_VERSION_NEWER_THAN_CURRENT_SNAPSHOT',\n  ERR_OT_OP_BADLY_FORMED: 'ERR_OT_OP_BADLY_FORMED',\n  ERR_OT_OP_NOT_PROVIDED: 'ERR_OT_OP_NOT_PROVIDED',\n  ERR_PROTOCOL_VERSION_NOT_SUPPORTED: 'ERR_PROTOCOL_VERSION_NOT_SUPPORTED',\n  ERR_QUERY_EMITTER_LISTENER_NOT_ASSIGNED: 'ERR_QUERY_EMITTER_LISTENER_NOT_ASSIGNED',\n  /**\n   * A special error that a \"readSnapshots\" middleware implementation can use to indicate that it\n   * wishes for the ShareDB client to treat it as a silent rejection, not passing the error back to\n   * user code.\n   *\n   * For subscribes, the ShareDB client will still cancel the document subscription.\n   */\n  ERR_SNAPSHOT_READ_SILENT_REJECTION: 'ERR_SNAPSHOT_READ_SILENT_REJECTION',\n  /**\n   * A \"readSnapshots\" middleware rejected the reads of specific snapshots.\n   *\n   * This error code is mostly for server use and generally will not be encountered on the client.\n   * Instead, each specific doc that encountered an error will receive its specific error.\n   *\n   * The one exception is for queries, where a \"readSnapshots\" rejection of specific snapshots will\n   * cause the client to receive this error for the whole query, since queries don't support\n   * doc-specific errors.\n   */\n  ERR_SNAPSHOT_READS_REJECTED: 'ERR_SNAPSHOT_READS_REJECTED',\n  ERR_SUBMIT_TRANSFORM_OPS_NOT_FOUND: 'ERR_SUBMIT_TRANSFORM_OPS_NOT_FOUND',\n  ERR_TYPE_CANNOT_BE_PROJECTED: 'ERR_TYPE_CANNOT_BE_PROJECTED',\n  ERR_UNKNOWN_ERROR: 'ERR_UNKNOWN_ERROR'\n};\n\nmodule.exports = ShareDBError;\n",
    "// These methods let you build a transform function from a transformComponent\n// function for OT types like JSON0 in which operations are lists of components\n// and transforming them requires N^2 work. I find it kind of nasty that I need\n// this, but I'm not really sure what a better solution is. Maybe I should do\n// this automatically to types that don't have a compose function defined.\n\n// Add transform and transformX functions for an OT type which has\n// transformComponent defined.  transformComponent(destination array,\n// component, other component, side)\nmodule.exports = bootstrapTransform\nfunction bootstrapTransform(type, transformComponent, checkValidOp, append) {\n  var transformComponentX = function(left, right, destLeft, destRight) {\n    transformComponent(destLeft, left, right, 'left');\n    transformComponent(destRight, right, left, 'right');\n  };\n\n  var transformX = type.transformX = function(leftOp, rightOp) {\n    checkValidOp(leftOp);\n    checkValidOp(rightOp);\n    var newRightOp = [];\n\n    for (var i = 0; i < rightOp.length; i++) {\n      var rightComponent = rightOp[i];\n\n      // Generate newLeftOp by composing leftOp by rightComponent\n      var newLeftOp = [];\n      var k = 0;\n      while (k < leftOp.length) {\n        var nextC = [];\n        transformComponentX(leftOp[k], rightComponent, newLeftOp, nextC);\n        k++;\n\n        if (nextC.length === 1) {\n          rightComponent = nextC[0];\n        } else if (nextC.length === 0) {\n          for (var j = k; j < leftOp.length; j++) {\n            append(newLeftOp, leftOp[j]);\n          }\n          rightComponent = null;\n          break;\n        } else {\n          // Recurse.\n          var pair = transformX(leftOp.slice(k), nextC);\n          for (var l = 0; l < pair[0].length; l++) {\n            append(newLeftOp, pair[0][l]);\n          }\n          for (var r = 0; r < pair[1].length; r++) {\n            append(newRightOp, pair[1][r]);\n          }\n          rightComponent = null;\n          break;\n        }\n      }\n\n      if (rightComponent != null) {\n        append(newRightOp, rightComponent);\n      }\n      leftOp = newLeftOp;\n    }\n    return [leftOp, newRightOp];\n  };\n\n  // Transforms op with specified type ('left' or 'right') by otherOp.\n  type.transform = function(op, otherOp, type) {\n    if (!(type === 'left' || type === 'right'))\n      throw new Error(\"type must be 'left' or 'right'\");\n\n    if (otherOp.length === 0) return op;\n\n    if (op.length === 1 && otherOp.length === 1)\n      return transformComponent([], op[0], otherOp[0], type);\n\n    if (type === 'left')\n      return transformX(op, otherOp)[0];\n    else\n      return transformX(otherOp, op)[1];\n  };\n};\n",
    "// DEPRECATED!\n//\n// This type works, but is not exported. Its included here because the JSON0\n// embedded string operations use this library.\n\n\n// A simple text implementation\n//\n// Operations are lists of components. Each component either inserts or deletes\n// at a specified position in the document.\n//\n// Components are either:\n//  {i:'str', p:100}: Insert 'str' at position 100 in the document\n//  {d:'str', p:100}: Delete 'str' at position 100 in the document\n//\n// Components in an operation are executed sequentially, so the position of components\n// assumes previous components have already executed.\n//\n// Eg: This op:\n//   [{i:'abc', p:0}]\n// is equivalent to this op:\n//   [{i:'a', p:0}, {i:'b', p:1}, {i:'c', p:2}]\n\nvar text = module.exports = {\n  name: 'text0',\n  uri: 'http://sharejs.org/types/textv0',\n  create: function(initial) {\n    if ((initial != null) && typeof initial !== 'string') {\n      throw new Error('Initial data must be a string');\n    }\n    return initial || '';\n  }\n};\n\n/** Insert s2 into s1 at pos. */\nvar strInject = function(s1, pos, s2) {\n  return s1.slice(0, pos) + s2 + s1.slice(pos);\n};\n\n/** Check that an operation component is valid. Throws if its invalid. */\nvar checkValidComponent = function(c) {\n  if (typeof c.p !== 'number')\n    throw new Error('component missing position field');\n\n  if ((typeof c.i === 'string') === (typeof c.d === 'string'))\n    throw new Error('component needs an i or d field');\n\n  if (c.p < 0)\n    throw new Error('position cannot be negative');\n};\n\n/** Check that an operation is valid */\nvar checkValidOp = function(op) {\n  for (var i = 0; i < op.length; i++) {\n    checkValidComponent(op[i]);\n  }\n};\n\n/** Apply op to snapshot */\ntext.apply = function(snapshot, op) {\n  var deleted;\n\n  checkValidOp(op);\n  for (var i = 0; i < op.length; i++) {\n    var component = op[i];\n    if (component.i != null) {\n      snapshot = strInject(snapshot, component.p, component.i);\n    } else {\n      deleted = snapshot.slice(component.p, component.p + component.d.length);\n      if (component.d !== deleted)\n        throw new Error(\"Delete component '\" + component.d + \"' does not match deleted text '\" + deleted + \"'\");\n\n      snapshot = snapshot.slice(0, component.p) + snapshot.slice(component.p + component.d.length);\n    }\n  }\n  return snapshot;\n};\n\n/**\n * Append a component to the end of newOp. Exported for use by the random op\n * generator and the JSON0 type.\n */\nvar append = text._append = function(newOp, c) {\n  if (c.i === '' || c.d === '') return;\n\n  if (newOp.length === 0) {\n    newOp.push(c);\n  } else {\n    var last = newOp[newOp.length - 1];\n\n    if (last.i != null && c.i != null && last.p <= c.p && c.p <= last.p + last.i.length) {\n      // Compose the insert into the previous insert\n      newOp[newOp.length - 1] = {i:strInject(last.i, c.p - last.p, c.i), p:last.p};\n\n    } else if (last.d != null && c.d != null && c.p <= last.p && last.p <= c.p + c.d.length) {\n      // Compose the deletes together\n      newOp[newOp.length - 1] = {d:strInject(c.d, last.p - c.p, last.d), p:c.p};\n\n    } else {\n      newOp.push(c);\n    }\n  }\n};\n\n/** Compose op1 and op2 together */\ntext.compose = function(op1, op2) {\n  checkValidOp(op1);\n  checkValidOp(op2);\n  var newOp = op1.slice();\n  for (var i = 0; i < op2.length; i++) {\n    append(newOp, op2[i]);\n  }\n  return newOp;\n};\n\n/** Clean up an op */\ntext.normalize = function(op) {\n  var newOp = [];\n\n  // Normalize should allow ops which are a single (unwrapped) component:\n  // {i:'asdf', p:23}.\n  // There's no good way to test if something is an array:\n  // http://perfectionkills.com/instanceof-considered-harmful-or-how-to-write-a-robust-isarray/\n  // so this is probably the least bad solution.\n  if (op.i != null || op.p != null) op = [op];\n\n  for (var i = 0; i < op.length; i++) {\n    var c = op[i];\n    if (c.p == null) c.p = 0;\n\n    append(newOp, c);\n  }\n\n  return newOp;\n};\n\n// This helper method transforms a position by an op component.\n//\n// If c is an insert, insertAfter specifies whether the transform\n// is pushed after the insert (true) or before it (false).\n//\n// insertAfter is optional for deletes.\nvar transformPosition = function(pos, c, insertAfter) {\n  // This will get collapsed into a giant ternary by uglify.\n  if (c.i != null) {\n    if (c.p < pos || (c.p === pos && insertAfter)) {\n      return pos + c.i.length;\n    } else {\n      return pos;\n    }\n  } else {\n    // I think this could also be written as: Math.min(c.p, Math.min(c.p -\n    // otherC.p, otherC.d.length)) but I think its harder to read that way, and\n    // it compiles using ternary operators anyway so its no slower written like\n    // this.\n    if (pos <= c.p) {\n      return pos;\n    } else if (pos <= c.p + c.d.length) {\n      return c.p;\n    } else {\n      return pos - c.d.length;\n    }\n  }\n};\n\n// Helper method to transform a cursor position as a result of an op.\n//\n// Like transformPosition above, if c is an insert, insertAfter specifies\n// whether the cursor position is pushed after an insert (true) or before it\n// (false).\ntext.transformCursor = function(position, op, side) {\n  var insertAfter = side === 'right';\n  for (var i = 0; i < op.length; i++) {\n    position = transformPosition(position, op[i], insertAfter);\n  }\n\n  return position;\n};\n\n// Transform an op component by another op component. Asymmetric.\n// The result will be appended to destination.\n//\n// exported for use in JSON type\nvar transformComponent = text._tc = function(dest, c, otherC, side) {\n  //var cIntersect, intersectEnd, intersectStart, newC, otherIntersect, s;\n\n  checkValidComponent(c);\n  checkValidComponent(otherC);\n\n  if (c.i != null) {\n    // Insert.\n    append(dest, {i:c.i, p:transformPosition(c.p, otherC, side === 'right')});\n  } else {\n    // Delete\n    if (otherC.i != null) {\n      // Delete vs insert\n      var s = c.d;\n      if (c.p < otherC.p) {\n        append(dest, {d:s.slice(0, otherC.p - c.p), p:c.p});\n        s = s.slice(otherC.p - c.p);\n      }\n      if (s !== '')\n        append(dest, {d: s, p: c.p + otherC.i.length});\n\n    } else {\n      // Delete vs delete\n      if (c.p >= otherC.p + otherC.d.length)\n        append(dest, {d: c.d, p: c.p - otherC.d.length});\n      else if (c.p + c.d.length <= otherC.p)\n        append(dest, c);\n      else {\n        // They overlap somewhere.\n        var newC = {d: '', p: c.p};\n\n        if (c.p < otherC.p)\n          newC.d = c.d.slice(0, otherC.p - c.p);\n\n        if (c.p + c.d.length > otherC.p + otherC.d.length)\n          newC.d += c.d.slice(otherC.p + otherC.d.length - c.p);\n\n        // This is entirely optional - I'm just checking the deleted text in\n        // the two ops matches\n        var intersectStart = Math.max(c.p, otherC.p);\n        var intersectEnd = Math.min(c.p + c.d.length, otherC.p + otherC.d.length);\n        var cIntersect = c.d.slice(intersectStart - c.p, intersectEnd - c.p);\n        var otherIntersect = otherC.d.slice(intersectStart - otherC.p, intersectEnd - otherC.p);\n        if (cIntersect !== otherIntersect)\n          throw new Error('Delete ops delete different text in the same region of the document');\n\n        if (newC.d !== '') {\n          newC.p = transformPosition(newC.p, otherC);\n          append(dest, newC);\n        }\n      }\n    }\n  }\n\n  return dest;\n};\n\nvar invertComponent = function(c) {\n  return (c.i != null) ? {d:c.i, p:c.p} : {i:c.d, p:c.p};\n};\n\n// No need to use append for invert, because the components won't be able to\n// cancel one another.\ntext.invert = function(op) {\n  // Shallow copy & reverse that sucka.\n  op = op.slice().reverse();\n  for (var i = 0; i < op.length; i++) {\n    op[i] = invertComponent(op[i]);\n  }\n  return op;\n};\n\nrequire('./bootstrapTransform')(text, transformComponent, checkValidOp, append);\n",
    "/*\n This is the implementation of the JSON OT type.\n\n Spec is here: https://github.com/josephg/ShareJS/wiki/JSON-Operations\n\n Note: This is being made obsolete. It will soon be replaced by the JSON2 type.\n*/\n\n/**\n * UTILITY FUNCTIONS\n */\n\n/**\n * Checks if the passed object is an Array instance. Can't use Array.isArray\n * yet because its not supported on IE8.\n *\n * @param obj\n * @returns {boolean}\n */\nvar isArray = function(obj) {\n  return Object.prototype.toString.call(obj) == '[object Array]';\n};\n\n/**\n * Checks if the passed object is an Object instance.\n * No function call (fast) version\n *\n * @param obj\n * @returns {boolean}\n */\nvar isObject = function(obj) {\n  return (!!obj) && (obj.constructor === Object);\n};\n\n/**\n * Clones the passed object using JSON serialization (which is slow).\n *\n * hax, copied from test/types/json. Apparently this is still the fastest way\n * to deep clone an object, assuming we have browser support for JSON.  @see\n * http://jsperf.com/cloning-an-object/12\n */\nvar clone = function(o) {\n  return JSON.parse(JSON.stringify(o));\n};\n\n/**\n * JSON OT Type\n * @type {*}\n */\nvar json = {\n  name: 'json0',\n  uri: 'http://sharejs.org/types/JSONv0'\n};\n\n// You can register another OT type as a subtype in a JSON document using\n// the following function. This allows another type to handle certain\n// operations instead of the builtin JSON type.\nvar subtypes = {};\njson.registerSubtype = function(subtype) {\n  subtypes[subtype.name] = subtype;\n};\n\njson.create = function(data) {\n  // Null instead of undefined if you don't pass an argument.\n  return data === undefined ? null : clone(data);\n};\n\njson.invertComponent = function(c) {\n  var c_ = {p: c.p};\n\n  // handle subtype ops\n  if (c.t && subtypes[c.t]) {\n    c_.t = c.t;\n    c_.o = subtypes[c.t].invert(c.o);\n  }\n\n  if (c.si !== void 0) c_.sd = c.si;\n  if (c.sd !== void 0) c_.si = c.sd;\n  if (c.oi !== void 0) c_.od = c.oi;\n  if (c.od !== void 0) c_.oi = c.od;\n  if (c.li !== void 0) c_.ld = c.li;\n  if (c.ld !== void 0) c_.li = c.ld;\n  if (c.na !== void 0) c_.na = -c.na;\n\n  if (c.lm !== void 0) {\n    c_.lm = c.p[c.p.length-1];\n    c_.p = c.p.slice(0,c.p.length-1).concat([c.lm]);\n  }\n\n  return c_;\n};\n\njson.invert = function(op) {\n  var op_ = op.slice().reverse();\n  var iop = [];\n  for (var i = 0; i < op_.length; i++) {\n    iop.push(json.invertComponent(op_[i]));\n  }\n  return iop;\n};\n\njson.checkValidOp = function(op) {\n  for (var i = 0; i < op.length; i++) {\n    if (!isArray(op[i].p)) throw new Error('Missing path');\n  }\n};\n\njson.checkList = function(elem) {\n  if (!isArray(elem))\n    throw new Error('Referenced element not a list');\n};\n\njson.checkObj = function(elem) {\n  if (!isObject(elem)) {\n    throw new Error(\"Referenced element not an object (it was \" + JSON.stringify(elem) + \")\");\n  }\n};\n\n// helper functions to convert old string ops to and from subtype ops\nfunction convertFromText(c) {\n  c.t = 'text0';\n  var o = {p: c.p.pop()};\n  if (c.si != null) o.i = c.si;\n  if (c.sd != null) o.d = c.sd;\n  c.o = [o];\n}\n\nfunction convertToText(c) {\n  c.p.push(c.o[0].p);\n  if (c.o[0].i != null) c.si = c.o[0].i;\n  if (c.o[0].d != null) c.sd = c.o[0].d;\n  delete c.t;\n  delete c.o;\n}\n\njson.apply = function(snapshot, op) {\n  json.checkValidOp(op);\n\n  op = clone(op);\n\n  var container = {\n    data: snapshot\n  };\n\n  for (var i = 0; i < op.length; i++) {\n    var c = op[i];\n\n    // convert old string ops to use subtype for backwards compatibility\n    if (c.si != null || c.sd != null)\n      convertFromText(c);\n\n    var parent = null;\n    var parentKey = null;\n    var elem = container;\n    var key = 'data';\n\n    for (var j = 0; j < c.p.length; j++) {\n      var p = c.p[j];\n\n      parent = elem;\n      parentKey = key;\n      elem = elem[key];\n      key = p;\n\n      if (parent == null)\n        throw new Error('Path invalid');\n    }\n\n    // handle subtype ops\n    if (c.t && c.o !== void 0 && subtypes[c.t]) {\n      elem[key] = subtypes[c.t].apply(elem[key], c.o);\n\n    // Number add\n    } else if (c.na !== void 0) {\n      if (typeof elem[key] != 'number')\n        throw new Error('Referenced element not a number');\n\n      elem[key] += c.na;\n    }\n\n    // List replace\n    else if (c.li !== void 0 && c.ld !== void 0) {\n      json.checkList(elem);\n      // Should check the list element matches c.ld\n      elem[key] = c.li;\n    }\n\n    // List insert\n    else if (c.li !== void 0) {\n      json.checkList(elem);\n      elem.splice(key,0, c.li);\n    }\n\n    // List delete\n    else if (c.ld !== void 0) {\n      json.checkList(elem);\n      // Should check the list element matches c.ld here too.\n      elem.splice(key,1);\n    }\n\n    // List move\n    else if (c.lm !== void 0) {\n      json.checkList(elem);\n      if (c.lm != key) {\n        var e = elem[key];\n        // Remove it...\n        elem.splice(key,1);\n        // And insert it back.\n        elem.splice(c.lm,0,e);\n      }\n    }\n\n    // Object insert / replace\n    else if (c.oi !== void 0) {\n      json.checkObj(elem);\n\n      // Should check that elem[key] == c.od\n      elem[key] = c.oi;\n    }\n\n    // Object delete\n    else if (c.od !== void 0) {\n      json.checkObj(elem);\n\n      // Should check that elem[key] == c.od\n      delete elem[key];\n    }\n\n    else {\n      throw new Error('invalid / missing instruction in op');\n    }\n  }\n\n  return container.data;\n};\n\n// Helper to break an operation up into a bunch of small ops.\njson.shatter = function(op) {\n  var results = [];\n  for (var i = 0; i < op.length; i++) {\n    results.push([op[i]]);\n  }\n  return results;\n};\n\n// Helper for incrementally applying an operation to a snapshot. Calls yield\n// after each op component has been applied.\njson.incrementalApply = function(snapshot, op, _yield) {\n  for (var i = 0; i < op.length; i++) {\n    var smallOp = [op[i]];\n    snapshot = json.apply(snapshot, smallOp);\n    // I'd just call this yield, but thats a reserved keyword. Bah!\n    _yield(smallOp, snapshot);\n  }\n\n  return snapshot;\n};\n\n// Checks if two paths, p1 and p2 match.\nvar pathMatches = json.pathMatches = function(p1, p2, ignoreLast) {\n  if (p1.length != p2.length)\n    return false;\n\n  for (var i = 0; i < p1.length; i++) {\n    if (p1[i] !== p2[i] && (!ignoreLast || i !== p1.length - 1))\n      return false;\n  }\n\n  return true;\n};\n\njson.append = function(dest,c) {\n  c = clone(c);\n\n  if (dest.length === 0) {\n    dest.push(c);\n    return;\n  }\n\n  var last = dest[dest.length - 1];\n\n  // convert old string ops to use subtype for backwards compatibility\n  if ((c.si != null || c.sd != null) && (last.si != null || last.sd != null)) {\n    convertFromText(c);\n    convertFromText(last);\n  }\n\n  if (pathMatches(c.p, last.p)) {\n    // handle subtype ops\n    if (c.t && last.t && c.t === last.t && subtypes[c.t]) {\n      last.o = subtypes[c.t].compose(last.o, c.o);\n\n      // convert back to old string ops\n      if (c.si != null || c.sd != null) {\n        var p = c.p;\n        for (var i = 0; i < last.o.length - 1; i++) {\n          c.o = [last.o.pop()];\n          c.p = p.slice();\n          convertToText(c);\n          dest.push(c);\n        }\n\n        convertToText(last);\n      }\n    } else if (last.na != null && c.na != null) {\n      dest[dest.length - 1] = {p: last.p, na: last.na + c.na};\n    } else if (last.li !== undefined && c.li === undefined && c.ld === last.li) {\n      // insert immediately followed by delete becomes a noop.\n      if (last.ld !== undefined) {\n        // leave the delete part of the replace\n        delete last.li;\n      } else {\n        dest.pop();\n      }\n    } else if (last.od !== undefined && last.oi === undefined && c.oi !== undefined && c.od === undefined) {\n      last.oi = c.oi;\n    } else if (last.oi !== undefined && c.od !== undefined) {\n      // The last path component inserted something that the new component deletes (or replaces).\n      // Just merge them.\n      if (c.oi !== undefined) {\n        last.oi = c.oi;\n      } else if (last.od !== undefined) {\n        delete last.oi;\n      } else {\n        // An insert directly followed by a delete turns into a no-op and can be removed.\n        dest.pop();\n      }\n    } else if (c.lm !== undefined && c.p[c.p.length - 1] === c.lm) {\n      // don't do anything\n    } else {\n      dest.push(c);\n    }\n  } else {\n    // convert string ops back\n    if ((c.si != null || c.sd != null) && (last.si != null || last.sd != null)) {\n      convertToText(c);\n      convertToText(last);\n    }\n\n    dest.push(c);\n  }\n};\n\njson.compose = function(op1,op2) {\n  json.checkValidOp(op1);\n  json.checkValidOp(op2);\n\n  var newOp = clone(op1);\n\n  for (var i = 0; i < op2.length; i++) {\n    json.append(newOp,op2[i]);\n  }\n\n  return newOp;\n};\n\njson.normalize = function(op) {\n  var newOp = [];\n\n  op = isArray(op) ? op : [op];\n\n  for (var i = 0; i < op.length; i++) {\n    var c = op[i];\n    if (c.p == null) c.p = [];\n\n    json.append(newOp,c);\n  }\n\n  return newOp;\n};\n\n// Returns the common length of the paths of ops a and b\njson.commonLengthForOps = function(a, b) {\n  var alen = a.p.length;\n  var blen = b.p.length;\n  if (a.na != null || a.t)\n    alen++;\n\n  if (b.na != null || b.t)\n    blen++;\n\n  if (alen === 0) return -1;\n  if (blen === 0) return null;\n\n  alen--;\n  blen--;\n\n  for (var i = 0; i < alen; i++) {\n    var p = a.p[i];\n    if (i >= blen || p !== b.p[i])\n      return null;\n  }\n\n  return alen;\n};\n\n// Returns true if an op can affect the given path\njson.canOpAffectPath = function(op, path) {\n  return json.commonLengthForOps({p:path}, op) != null;\n};\n\n// transform c so it applies to a document with otherC applied.\njson.transformComponent = function(dest, c, otherC, type) {\n  c = clone(c);\n\n  var common = json.commonLengthForOps(otherC, c);\n  var common2 = json.commonLengthForOps(c, otherC);\n  var cplength = c.p.length;\n  var otherCplength = otherC.p.length;\n\n  if (c.na != null || c.t)\n    cplength++;\n\n  if (otherC.na != null || otherC.t)\n    otherCplength++;\n\n  // if c is deleting something, and that thing is changed by otherC, we need to\n  // update c to reflect that change for invertibility.\n  if (common2 != null && otherCplength > cplength && c.p[common2] == otherC.p[common2]) {\n    if (c.ld !== void 0) {\n      var oc = clone(otherC);\n      oc.p = oc.p.slice(cplength);\n      c.ld = json.apply(clone(c.ld),[oc]);\n    } else if (c.od !== void 0) {\n      var oc = clone(otherC);\n      oc.p = oc.p.slice(cplength);\n      c.od = json.apply(clone(c.od),[oc]);\n    }\n  }\n\n  if (common != null) {\n    var commonOperand = cplength == otherCplength;\n\n    // backward compatibility for old string ops\n    var oc = otherC;\n    if ((c.si != null || c.sd != null) && (otherC.si != null || otherC.sd != null)) {\n      convertFromText(c);\n      oc = clone(otherC);\n      convertFromText(oc);\n    }\n\n    // handle subtype ops\n    if (oc.t && subtypes[oc.t]) {\n      if (c.t && c.t === oc.t) {\n        var res = subtypes[c.t].transform(c.o, oc.o, type);\n\n        // convert back to old string ops\n        if (c.si != null || c.sd != null) {\n          var p = c.p;\n          for (var i = 0; i < res.length; i++) {\n            c.o = [res[i]];\n            c.p = p.slice();\n            convertToText(c);\n            json.append(dest, c);\n          }\n        } else if (!isArray(res) || res.length > 0) {\n          c.o = res;\n          json.append(dest, c);\n        }\n\n        return dest;\n      }\n    }\n\n    // transform based on otherC\n    else if (otherC.na !== void 0) {\n      // this case is handled below\n    } else if (otherC.li !== void 0 && otherC.ld !== void 0) {\n      if (otherC.p[common] === c.p[common]) {\n        // noop\n\n        if (!commonOperand) {\n          return dest;\n        } else if (c.ld !== void 0) {\n          // we're trying to delete the same element, -> noop\n          if (c.li !== void 0 && type === 'left') {\n            // we're both replacing one element with another. only one can survive\n            c.ld = clone(otherC.li);\n          } else {\n            return dest;\n          }\n        }\n      }\n    } else if (otherC.li !== void 0) {\n      if (c.li !== void 0 && c.ld === undefined && commonOperand && c.p[common] === otherC.p[common]) {\n        // in li vs. li, left wins.\n        if (type === 'right')\n          c.p[common]++;\n      } else if (otherC.p[common] <= c.p[common]) {\n        c.p[common]++;\n      }\n\n      if (c.lm !== void 0) {\n        if (commonOperand) {\n          // otherC edits the same list we edit\n          if (otherC.p[common] <= c.lm)\n            c.lm++;\n          // changing c.from is handled above.\n        }\n      }\n    } else if (otherC.ld !== void 0) {\n      if (c.lm !== void 0) {\n        if (commonOperand) {\n          if (otherC.p[common] === c.p[common]) {\n            // they deleted the thing we're trying to move\n            return dest;\n          }\n          // otherC edits the same list we edit\n          var p = otherC.p[common];\n          var from = c.p[common];\n          var to = c.lm;\n          if (p < to || (p === to && from < to))\n            c.lm--;\n\n        }\n      }\n\n      if (otherC.p[common] < c.p[common]) {\n        c.p[common]--;\n      } else if (otherC.p[common] === c.p[common]) {\n        if (otherCplength < cplength) {\n          // we're below the deleted element, so -> noop\n          return dest;\n        } else if (c.ld !== void 0) {\n          if (c.li !== void 0) {\n            // we're replacing, they're deleting. we become an insert.\n            delete c.ld;\n          } else {\n            // we're trying to delete the same element, -> noop\n            return dest;\n          }\n        }\n      }\n\n    } else if (otherC.lm !== void 0) {\n      if (c.lm !== void 0 && cplength === otherCplength) {\n        // lm vs lm, here we go!\n        var from = c.p[common];\n        var to = c.lm;\n        var otherFrom = otherC.p[common];\n        var otherTo = otherC.lm;\n        if (otherFrom !== otherTo) {\n          // if otherFrom == otherTo, we don't need to change our op.\n\n          // where did my thing go?\n          if (from === otherFrom) {\n            // they moved it! tie break.\n            if (type === 'left') {\n              c.p[common] = otherTo;\n              if (from === to) // ugh\n                c.lm = otherTo;\n            } else {\n              return dest;\n            }\n          } else {\n            // they moved around it\n            if (from > otherFrom) c.p[common]--;\n            if (from > otherTo) c.p[common]++;\n            else if (from === otherTo) {\n              if (otherFrom > otherTo) {\n                c.p[common]++;\n                if (from === to) // ugh, again\n                  c.lm++;\n              }\n            }\n\n            // step 2: where am i going to put it?\n            if (to > otherFrom) {\n              c.lm--;\n            } else if (to === otherFrom) {\n              if (to > from)\n                c.lm--;\n            }\n            if (to > otherTo) {\n              c.lm++;\n            } else if (to === otherTo) {\n              // if we're both moving in the same direction, tie break\n              if ((otherTo > otherFrom && to > from) ||\n                  (otherTo < otherFrom && to < from)) {\n                if (type === 'right') c.lm++;\n              } else {\n                if (to > from) c.lm++;\n                else if (to === otherFrom) c.lm--;\n              }\n            }\n          }\n        }\n      } else if (c.li !== void 0 && c.ld === undefined && commonOperand) {\n        // li\n        var from = otherC.p[common];\n        var to = otherC.lm;\n        p = c.p[common];\n        if (p > from) c.p[common]--;\n        if (p > to) c.p[common]++;\n      } else {\n        // ld, ld+li, si, sd, na, oi, od, oi+od, any li on an element beneath\n        // the lm\n        //\n        // i.e. things care about where their item is after the move.\n        var from = otherC.p[common];\n        var to = otherC.lm;\n        p = c.p[common];\n        if (p === from) {\n          c.p[common] = to;\n        } else {\n          if (p > from) c.p[common]--;\n          if (p > to) c.p[common]++;\n          else if (p === to && from > to) c.p[common]++;\n        }\n      }\n    }\n    else if (otherC.oi !== void 0 && otherC.od !== void 0) {\n      if (c.p[common] === otherC.p[common]) {\n        if (c.oi !== void 0 && commonOperand) {\n          // we inserted where someone else replaced\n          if (type === 'right') {\n            // left wins\n            return dest;\n          } else {\n            // we win, make our op replace what they inserted\n            c.od = otherC.oi;\n          }\n        } else {\n          // -> noop if the other component is deleting the same object (or any parent)\n          return dest;\n        }\n      }\n    } else if (otherC.oi !== void 0) {\n      if (c.oi !== void 0 && c.p[common] === otherC.p[common]) {\n        // left wins if we try to insert at the same place\n        if (type === 'left') {\n          json.append(dest,{p: c.p, od:otherC.oi});\n        } else {\n          return dest;\n        }\n      }\n    } else if (otherC.od !== void 0) {\n      if (c.p[common] == otherC.p[common]) {\n        if (!commonOperand)\n          return dest;\n        if (c.oi !== void 0) {\n          delete c.od;\n        } else {\n          return dest;\n        }\n      }\n    }\n  }\n\n  json.append(dest,c);\n  return dest;\n};\n\nrequire('./bootstrapTransform')(json, json.transformComponent, json.checkValidOp, json.append);\n\n/**\n * Register a subtype for string operations, using the text0 type.\n */\nvar text = require('./text0');\n\njson.registerSubtype(text);\nmodule.exports = json;\n\n",
    "// Only the JSON type is exported, because the text type is deprecated\n// otherwise. (If you want to use it somewhere, you're welcome to pull it out\n// into a separate module that json0 can depend on).\n\nmodule.exports = {\n  type: require('./json0')\n};\n",
    "\nexports.defaultType = require('ot-json0').type;\n\nexports.map = {};\n\nexports.register = function(type) {\n  if (type.name) exports.map[type.name] = type;\n  if (type.uri) exports.map[type.uri] = type;\n};\n\nexports.register(exports.defaultType);\n",
    "var emitter = require('../emitter');\nvar logger = require('../logger');\nvar ShareDBError = require('../error');\nvar types = require('../types');\n\nvar ERROR_CODE = ShareDBError.CODES;\n\n/**\n * A Doc is a client's view on a sharejs document.\n *\n * It is is uniquely identified by its `id` and `collection`.  Documents\n * should not be created directly. Create them with connection.get()\n *\n *\n * Subscriptions\n * -------------\n *\n * We can subscribe a document to stay in sync with the server.\n *   doc.subscribe(function(error) {\n *     doc.subscribed // = true\n *   })\n * The server now sends us all changes concerning this document and these are\n * applied to our data. If the subscription was successful the initial\n * data and version sent by the server are loaded into the document.\n *\n * To stop listening to the changes we call `doc.unsubscribe()`.\n *\n * If we just want to load the data but not stay up-to-date, we call\n *   doc.fetch(function(error) {\n *     doc.data // sent by server\n *   })\n *\n *\n * Events\n * ------\n *\n * You can use doc.on(eventName, callback) to subscribe to the following events:\n * - `before op (op, source)` Fired before a partial operation is applied to the data.\n *   It may be used to read the old data just before applying an operation\n * - `op (op, source)` Fired after every partial operation with this operation as the\n *   first argument\n * - `create (source)` The document was created. That means its type was\n *   set and it has some initial data.\n * - `del (data, source)` Fired after the document is deleted, that is\n *   the data is null. It is passed the data before delteion as an\n *   arguments\n * - `load ()` Fired when a new snapshot is ingested from a fetch, subscribe, or query\n */\n\nmodule.exports = Doc;\nfunction Doc(connection, collection, id) {\n  emitter.EventEmitter.call(this);\n\n  this.connection = connection;\n\n  this.collection = collection;\n  this.id = id;\n\n  this.version = null;\n  this.type = null;\n  this.data = undefined;\n\n  // Array of callbacks or nulls as placeholders\n  this.inflightFetch = [];\n  this.inflightSubscribe = [];\n  this.inflightUnsubscribe = [];\n  this.pendingFetch = [];\n\n  // Whether we think we are subscribed on the server. Synchronously set to\n  // false on calls to unsubscribe and disconnect. Should never be true when\n  // this.wantSubscribe is false\n  this.subscribed = false;\n  // Whether to re-establish the subscription on reconnect\n  this.wantSubscribe = false;\n\n  // The op that is currently roundtripping to the server, or null.\n  //\n  // When the connection reconnects, the inflight op is resubmitted.\n  //\n  // This has the same format as an entry in pendingOps\n  this.inflightOp = null;\n\n  // All ops that are waiting for the server to acknowledge this.inflightOp\n  // This used to just be a single operation, but creates & deletes can't be\n  // composed with regular operations.\n  //\n  // This is a list of {[create:{...}], [del:true], [op:...], callbacks:[...]}\n  this.pendingOps = [];\n\n  // The OT type of this document. An uncreated document has type `null`\n  this.type = null;\n\n  // The applyStack enables us to track any ops submitted while we are\n  // applying an op incrementally. This value is an array when we are\n  // performing an incremental apply and null otherwise. When it is an array,\n  // all submitted ops should be pushed onto it. The `_otApply` method will\n  // reset it back to null when all incremental apply loops are complete.\n  this.applyStack = null;\n\n  // Disable the default behavior of composing submitted ops. This is read at\n  // the time of op submit, so it may be toggled on before submitting a\n  // specifc op and toggled off afterward\n  this.preventCompose = false;\n}\nemitter.mixin(Doc);\n\nDoc.prototype.destroy = function(callback) {\n  var doc = this;\n  doc.whenNothingPending(function() {\n    if (doc.wantSubscribe) {\n      doc.unsubscribe(function(err) {\n        if (err) {\n          if (callback) return callback(err);\n          return doc.emit('error', err);\n        }\n        doc.connection._destroyDoc(doc);\n        if (callback) callback();\n      });\n    } else {\n      doc.connection._destroyDoc(doc);\n      if (callback) callback();\n    }\n  });\n};\n\n\n// ****** Manipulating the document data, version and type.\n\n// Set the document's type, and associated properties. Most of the logic in\n// this function exists to update the document based on any added & removed API\n// methods.\n//\n// @param newType OT type provided by the ottypes library or its name or uri\nDoc.prototype._setType = function(newType) {\n  if (typeof newType === 'string') {\n    newType = types.map[newType];\n  }\n\n  if (newType) {\n    this.type = newType;\n  } else if (newType === null) {\n    this.type = newType;\n    // If we removed the type from the object, also remove its data\n    this.data = undefined;\n  } else {\n    var err = new ShareDBError(ERROR_CODE.ERR_DOC_TYPE_NOT_RECOGNIZED, 'Missing type ' + newType);\n    return this.emit('error', err);\n  }\n};\n\n// Ingest snapshot data. This data must include a version, snapshot and type.\n// This is used both to ingest data that was exported with a webpage and data\n// that was received from the server during a fetch.\n//\n// @param snapshot.v    version\n// @param snapshot.data\n// @param snapshot.type\n// @param callback\nDoc.prototype.ingestSnapshot = function(snapshot, callback) {\n  if (!snapshot) return callback && callback();\n\n  if (typeof snapshot.v !== 'number') {\n    var err = new ShareDBError(\n      ERROR_CODE.ERR_INGESTED_SNAPSHOT_HAS_NO_VERSION,\n      'Missing version in ingested snapshot. ' + this.collection + '.' + this.id\n    );\n    if (callback) return callback(err);\n    return this.emit('error', err);\n  }\n\n  // If the doc is already created or there are ops pending, we cannot use the\n  // ingested snapshot and need ops in order to update the document\n  if (this.type || this.hasWritePending()) {\n    // The version should only be null on a created document when it was\n    // created locally without fetching\n    if (this.version == null) {\n      if (this.hasWritePending()) {\n        // If we have pending ops and we get a snapshot for a locally created\n        // document, we have to wait for the pending ops to complete, because\n        // we don't know what version to fetch ops from. It is possible that\n        // the snapshot came from our local op, but it is also possible that\n        // the doc was created remotely (which would conflict and be an error)\n        return callback && this.once('no write pending', callback);\n      }\n      // Otherwise, we've encounted an error state\n      var err = new ShareDBError(\n        ERROR_CODE.ERR_DOC_MISSING_VERSION,\n        'Cannot ingest snapshot in doc with null version. ' + this.collection + '.' + this.id\n      );\n      if (callback) return callback(err);\n      return this.emit('error', err);\n    }\n    // If we got a snapshot for a version further along than the document is\n    // currently, issue a fetch to get the latest ops and catch us up\n    if (snapshot.v > this.version) return this.fetch(callback);\n    return callback && callback();\n  }\n\n  // Ignore the snapshot if we are already at a newer version. Under no\n  // circumstance should we ever set the current version backward\n  if (this.version > snapshot.v) return callback && callback();\n\n  this.version = snapshot.v;\n  var type = (snapshot.type === undefined) ? types.defaultType : snapshot.type;\n  this._setType(type);\n  this.data = (this.type && this.type.deserialize) ?\n    this.type.deserialize(snapshot.data) :\n    snapshot.data;\n  this.emit('load');\n  callback && callback();\n};\n\nDoc.prototype.whenNothingPending = function(callback) {\n  var doc = this;\n  process.nextTick(function() {\n    if (doc.hasPending()) {\n      doc.once('nothing pending', callback);\n      return;\n    }\n    callback();\n  });\n};\n\nDoc.prototype.hasPending = function() {\n  return !!(\n    this.inflightOp ||\n    this.pendingOps.length ||\n    this.inflightFetch.length ||\n    this.inflightSubscribe.length ||\n    this.inflightUnsubscribe.length ||\n    this.pendingFetch.length\n  );\n};\n\nDoc.prototype.hasWritePending = function() {\n  return !!(this.inflightOp || this.pendingOps.length);\n};\n\nDoc.prototype._emitNothingPending = function() {\n  if (this.hasWritePending()) return;\n  this.emit('no write pending');\n  if (this.hasPending()) return;\n  this.emit('nothing pending');\n};\n\n// **** Helpers for network messages\n\nDoc.prototype._emitResponseError = function(err, callback) {\n  if (err && err.code === ERROR_CODE.ERR_SNAPSHOT_READ_SILENT_REJECTION) {\n    this.wantSubscribe = false;\n    if (callback) {\n      callback();\n    }\n    this._emitNothingPending();\n    return;\n  }\n  if (callback) {\n    callback(err);\n    this._emitNothingPending();\n    return;\n  }\n  this._emitNothingPending();\n  this.emit('error', err);\n};\n\nDoc.prototype._handleFetch = function(err, snapshot) {\n  var callback = this.inflightFetch.shift();\n  if (err) return this._emitResponseError(err, callback);\n  this.ingestSnapshot(snapshot, callback);\n  this._emitNothingPending();\n};\n\nDoc.prototype._handleSubscribe = function(err, snapshot) {\n  var callback = this.inflightSubscribe.shift();\n  if (err) return this._emitResponseError(err, callback);\n  // Indicate we are subscribed only if the client still wants to be. In the\n  // time since calling subscribe and receiving a response from the server,\n  // unsubscribe could have been called and we might already be unsubscribed\n  // but not have received the response. Also, because requests from the\n  // client are not serialized and may take different async time to process,\n  // it is possible that we could hear responses back in a different order\n  // from the order originally sent\n  if (this.wantSubscribe) this.subscribed = true;\n  this.ingestSnapshot(snapshot, callback);\n  this._emitNothingPending();\n};\n\nDoc.prototype._handleUnsubscribe = function(err) {\n  var callback = this.inflightUnsubscribe.shift();\n  if (err) return this._emitResponseError(err, callback);\n  if (callback) callback();\n  this._emitNothingPending();\n};\n\nDoc.prototype._handleOp = function(err, message) {\n  if (err) {\n    if (this.inflightOp) {\n      // The server has rejected submission of the current operation. If we get\n      // an \"Op submit rejected\" error, this was done intentionally\n      // and we should roll back but not return an error to the user.\n      if (err.code === ERROR_CODE.ERR_OP_SUBMIT_REJECTED) err = null;\n      return this._rollback(err);\n    }\n    return this.emit('error', err);\n  }\n\n  if (this.inflightOp &&\n      message.src === this.inflightOp.src &&\n      message.seq === this.inflightOp.seq) {\n    // The op has already been applied locally. Just update the version\n    // and pending state appropriately\n    this._opAcknowledged(message);\n    return;\n  }\n\n  if (this.version == null || message.v > this.version) {\n    // This will happen in normal operation if we become subscribed to a\n    // new document via a query. It can also happen if we get an op for\n    // a future version beyond the version we are expecting next. This\n    // could happen if the server doesn't publish an op for whatever reason\n    // or because of a race condition. In any case, we can send a fetch\n    // command to catch back up.\n    //\n    // Fetch only sends a new fetch command if no fetches are inflight, which\n    // will act as a natural debouncing so we don't send multiple fetch\n    // requests for many ops received at once.\n    this.fetch();\n    return;\n  }\n\n  if (message.v < this.version) {\n    // We can safely ignore the old (duplicate) operation.\n    return;\n  }\n\n  if (this.inflightOp) {\n    var transformErr = transformX(this.inflightOp, message);\n    if (transformErr) return this._hardRollback(transformErr);\n  }\n\n  for (var i = 0; i < this.pendingOps.length; i++) {\n    var transformErr = transformX(this.pendingOps[i], message);\n    if (transformErr) return this._hardRollback(transformErr);\n  }\n\n  this.version++;\n  try {\n    this._otApply(message, false);\n  } catch (error) {\n    return this._hardRollback(error);\n  }\n};\n\n// Called whenever (you guessed it!) the connection state changes. This will\n// happen when we get disconnected & reconnect.\nDoc.prototype._onConnectionStateChanged = function() {\n  if (this.connection.canSend) {\n    this.flush();\n    this._resubscribe();\n  } else {\n    if (this.inflightOp) {\n      this.pendingOps.unshift(this.inflightOp);\n      this.inflightOp = null;\n    }\n    this.subscribed = false;\n    if (this.inflightFetch.length || this.inflightSubscribe.length) {\n      this.pendingFetch = this.pendingFetch.concat(this.inflightFetch, this.inflightSubscribe);\n      this.inflightFetch.length = 0;\n      this.inflightSubscribe.length = 0;\n    }\n    if (this.inflightUnsubscribe.length) {\n      var callbacks = this.inflightUnsubscribe;\n      this.inflightUnsubscribe = [];\n      callEach(callbacks);\n    }\n  }\n};\n\nDoc.prototype._resubscribe = function() {\n  var callbacks = this.pendingFetch;\n  this.pendingFetch = [];\n\n  if (this.wantSubscribe) {\n    if (callbacks.length) {\n      this.subscribe(function(err) {\n        callEach(callbacks, err);\n      });\n      return;\n    }\n    this.subscribe();\n    return;\n  }\n\n  if (callbacks.length) {\n    this.fetch(function(err) {\n      callEach(callbacks, err);\n    });\n  }\n};\n\n// Request the current document snapshot or ops that bring us up to date\nDoc.prototype.fetch = function(callback) {\n  if (this.connection.canSend) {\n    var isDuplicate = this.connection.sendFetch(this);\n    pushActionCallback(this.inflightFetch, isDuplicate, callback);\n    return;\n  }\n  this.pendingFetch.push(callback);\n};\n\n// Fetch the initial document and keep receiving updates\nDoc.prototype.subscribe = function(callback) {\n  this.wantSubscribe = true;\n  if (this.connection.canSend) {\n    var isDuplicate = this.connection.sendSubscribe(this);\n    pushActionCallback(this.inflightSubscribe, isDuplicate, callback);\n    return;\n  }\n  this.pendingFetch.push(callback);\n};\n\n// Unsubscribe. The data will stay around in local memory, but we'll stop\n// receiving updates\nDoc.prototype.unsubscribe = function(callback) {\n  this.wantSubscribe = false;\n  // The subscribed state should be conservative in indicating when we are\n  // subscribed on the server. We'll actually be unsubscribed some time\n  // between sending the message and hearing back, but we cannot know exactly\n  // when. Thus, immediately mark us as not subscribed\n  this.subscribed = false;\n  if (this.connection.canSend) {\n    var isDuplicate = this.connection.sendUnsubscribe(this);\n    pushActionCallback(this.inflightUnsubscribe, isDuplicate, callback);\n    return;\n  }\n  if (callback) process.nextTick(callback);\n};\n\nfunction pushActionCallback(inflight, isDuplicate, callback) {\n  if (isDuplicate) {\n    var lastCallback = inflight.pop();\n    inflight.push(function(err) {\n      lastCallback && lastCallback(err);\n      callback && callback(err);\n    });\n  } else {\n    inflight.push(callback);\n  }\n}\n\n\n// Operations //\n\n// Send the next pending op to the server, if we can.\n//\n// Only one operation can be in-flight at a time. If an operation is already on\n// its way, or we're not currently connected, this method does nothing.\nDoc.prototype.flush = function() {\n  // Ignore if we can't send or we are already sending an op\n  if (!this.connection.canSend || this.inflightOp) return;\n\n  // Send first pending op unless paused\n  if (!this.paused && this.pendingOps.length) {\n    this._sendOp();\n  }\n};\n\n// Helper function to set op to contain a no-op.\nfunction setNoOp(op) {\n  delete op.op;\n  delete op.create;\n  delete op.del;\n}\n\n// Transform server op data by a client op, and vice versa. Ops are edited in place.\nfunction transformX(client, server) {\n  // Order of statements in this function matters. Be especially careful if\n  // refactoring this function\n\n  // A client delete op should dominate if both the server and the client\n  // delete the document. Thus, any ops following the client delete (such as a\n  // subsequent create) will be maintained, since the server op is transformed\n  // to a no-op\n  if (client.del) return setNoOp(server);\n\n  if (server.del) {\n    return new ShareDBError(ERROR_CODE.ERR_DOC_WAS_DELETED, 'Document was deleted');\n  }\n  if (server.create) {\n    return new ShareDBError(ERROR_CODE.ERR_DOC_ALREADY_CREATED, 'Document already created');\n  }\n\n  // Ignore no-op coming from server\n  if (!server.op) return;\n\n  // I believe that this should not occur, but check just in case\n  if (client.create) {\n    return new ShareDBError(ERROR_CODE.ERR_DOC_ALREADY_CREATED, 'Document already created');\n  }\n\n  // They both edited the document. This is the normal case for this function -\n  // as in, most of the time we'll end up down here.\n  //\n  // You should be wondering why I'm using client.type instead of this.type.\n  // The reason is, if we get ops at an old version of the document, this.type\n  // might be undefined or a totally different type. By pinning the type to the\n  // op data, we make sure the right type has its transform function called.\n  if (client.type.transformX) {\n    var result = client.type.transformX(client.op, server.op);\n    client.op = result[0];\n    server.op = result[1];\n  } else {\n    var clientOp = client.type.transform(client.op, server.op, 'left');\n    var serverOp = client.type.transform(server.op, client.op, 'right');\n    client.op = clientOp;\n    server.op = serverOp;\n  }\n};\n\n/**\n * Applies the operation to the snapshot\n *\n * If the operation is create or delete it emits `create` or `del`. Then the\n * operation is applied to the snapshot and `op` and `after op` are emitted.\n * If the type supports incremental updates and `this.incremental` is true we\n * fire `op` after every small operation.\n *\n * This is the only function to fire the above mentioned events.\n *\n * @private\n */\nDoc.prototype._otApply = function(op, source) {\n  if (op.op) {\n    if (!this.type) {\n      // Throw here, because all usage of _otApply should be wrapped with a try/catch\n      throw new ShareDBError(\n        ERROR_CODE.ERR_DOC_DOES_NOT_EXIST,\n        'Cannot apply op to uncreated document. ' + this.collection + '.' + this.id\n      );\n    }\n\n    // Iteratively apply multi-component remote operations and rollback ops\n    // (source === false) for the default JSON0 OT type. It could use\n    // type.shatter(), but since this code is so specific to use cases for the\n    // JSON0 type and ShareDB explicitly bundles the default type, we might as\n    // well write it this way and save needing to iterate through the op\n    // components twice.\n    //\n    // Ideally, we would not need this extra complexity. However, it is\n    // helpful for implementing bindings that update DOM nodes and other\n    // stateful objects by translating op events directly into corresponding\n    // mutations. Such bindings are most easily written as responding to\n    // individual op components one at a time in order, and it is important\n    // that the snapshot only include updates from the particular op component\n    // at the time of emission. Eliminating this would require rethinking how\n    // such external bindings are implemented.\n    if (!source && this.type === types.defaultType && op.op.length > 1) {\n      if (!this.applyStack) this.applyStack = [];\n      var stackLength = this.applyStack.length;\n      for (var i = 0; i < op.op.length; i++) {\n        var component = op.op[i];\n        var componentOp = {op: [component]};\n        // Transform componentOp against any ops that have been submitted\n        // sychronously inside of an op event handler since we began apply of\n        // our operation\n        for (var j = stackLength; j < this.applyStack.length; j++) {\n          var transformErr = transformX(this.applyStack[j], componentOp);\n          if (transformErr) return this._hardRollback(transformErr);\n        }\n        // Apply the individual op component\n        this.emit('before op', componentOp.op, source);\n        this.data = this.type.apply(this.data, componentOp.op);\n        this.emit('op', componentOp.op, source);\n      }\n      // Pop whatever was submitted since we started applying this op\n      this._popApplyStack(stackLength);\n      return;\n    }\n\n    // The 'before op' event enables clients to pull any necessary data out of\n    // the snapshot before it gets changed\n    this.emit('before op', op.op, source);\n    // Apply the operation to the local data, mutating it in place\n    this.data = this.type.apply(this.data, op.op);\n    // Emit an 'op' event once the local data includes the changes from the\n    // op. For locally submitted ops, this will be synchronously with\n    // submission and before the server or other clients have received the op.\n    // For ops from other clients, this will be after the op has been\n    // committed to the database and published\n    this.emit('op', op.op, source);\n    return;\n  }\n\n  if (op.create) {\n    this._setType(op.create.type);\n    this.data = (this.type.deserialize) ?\n      (this.type.createDeserialized) ?\n        this.type.createDeserialized(op.create.data) :\n        this.type.deserialize(this.type.create(op.create.data)) :\n      this.type.create(op.create.data);\n    this.emit('create', source);\n    return;\n  }\n\n  if (op.del) {\n    var oldData = this.data;\n    this._setType(null);\n    this.emit('del', oldData, source);\n    return;\n  }\n};\n\n\n// ***** Sending operations\n\n// Actually send op to the server.\nDoc.prototype._sendOp = function() {\n  // Wait until we have a src id from the server\n  var src = this.connection.id;\n  if (!src) return;\n\n  // When there is no inflightOp, send the first item in pendingOps. If\n  // there is inflightOp, try sending it again\n  if (!this.inflightOp) {\n    // Send first pending op\n    this.inflightOp = this.pendingOps.shift();\n  }\n  var op = this.inflightOp;\n  if (!op) {\n    var err = new ShareDBError(ERROR_CODE.ERR_INFLIGHT_OP_MISSING, 'No op to send on call to _sendOp');\n    return this.emit('error', err);\n  }\n\n  // Track data for retrying ops\n  op.sentAt = Date.now();\n  op.retries = (op.retries == null) ? 0 : op.retries + 1;\n\n  // The src + seq number is a unique ID representing this operation. This tuple\n  // is used on the server to detect when ops have been sent multiple times and\n  // on the client to match acknowledgement of an op back to the inflightOp.\n  // Note that the src could be different from this.connection.id after a\n  // reconnect, since an op may still be pending after the reconnection and\n  // this.connection.id will change. In case an op is sent multiple times, we\n  // also need to be careful not to override the original seq value.\n  if (op.seq == null) op.seq = this.connection.seq++;\n\n  this.connection.sendOp(this, op);\n\n  // src isn't needed on the first try, since the server session will have the\n  // same id, but it must be set on the inflightOp in case it is sent again\n  // after a reconnect and the connection's id has changed by then\n  if (op.src == null) op.src = src;\n};\n\n\n// Queues the operation for submission to the server and applies it locally.\n//\n// Internal method called to do the actual work for submit(), create() and del().\n// @private\n//\n// @param op\n// @param [op.op]\n// @param [op.del]\n// @param [op.create]\n// @param [callback] called when operation is submitted\nDoc.prototype._submit = function(op, source, callback) {\n  // Locally submitted ops must always have a truthy source\n  if (!source) source = true;\n\n  // The op contains either op, create, delete, or none of the above (a no-op).\n  if (op.op) {\n    if (!this.type) {\n      var err = new ShareDBError(\n        ERROR_CODE.ERR_DOC_DOES_NOT_EXIST,\n        'Cannot submit op. Document has not been created. ' + this.collection + '.' + this.id\n      );\n      if (callback) return callback(err);\n      return this.emit('error', err);\n    }\n    // Try to normalize the op. This removes trailing skip:0's and things like that.\n    if (this.type.normalize) op.op = this.type.normalize(op.op);\n  }\n\n  try {\n    this._pushOp(op, callback);\n    this._otApply(op, source);\n  } catch (error) {\n    return this._hardRollback(error);\n  }\n\n  // The call to flush is delayed so if submit() is called multiple times\n  // synchronously, all the ops are combined before being sent to the server.\n  var doc = this;\n  process.nextTick(function() {\n    doc.flush();\n  });\n};\n\nDoc.prototype._pushOp = function(op, callback) {\n  if (this.applyStack) {\n    // If we are in the process of incrementally applying an operation, don't\n    // compose the op and push it onto the applyStack so it can be transformed\n    // against other components from the op or ops being applied\n    this.applyStack.push(op);\n  } else {\n    // If the type supports composes, try to compose the operation onto the\n    // end of the last pending operation.\n    var composed = this._tryCompose(op);\n    if (composed) {\n      composed.callbacks.push(callback);\n      return;\n    }\n  }\n  // Push on to the pendingOps queue of ops to submit if we didn't compose\n  op.type = this.type;\n  op.callbacks = [callback];\n  this.pendingOps.push(op);\n};\n\nDoc.prototype._popApplyStack = function(to) {\n  if (to > 0) {\n    this.applyStack.length = to;\n    return;\n  }\n  // Once we have completed the outermost apply loop, reset to null and no\n  // longer add ops to the applyStack as they are submitted\n  var op = this.applyStack[0];\n  this.applyStack = null;\n  if (!op) return;\n  // Compose the ops added since the beginning of the apply stack, since we\n  // had to skip compose when they were originally pushed\n  var i = this.pendingOps.indexOf(op);\n  if (i === -1) return;\n  var ops = this.pendingOps.splice(i);\n  for (var i = 0; i < ops.length; i++) {\n    var op = ops[i];\n    var composed = this._tryCompose(op);\n    if (composed) {\n      composed.callbacks = composed.callbacks.concat(op.callbacks);\n    } else {\n      this.pendingOps.push(op);\n    }\n  }\n};\n\n// Try to compose a submitted op into the last pending op. Returns the\n// composed op if it succeeds, undefined otherwise\nDoc.prototype._tryCompose = function(op) {\n  if (this.preventCompose) return;\n\n  // We can only compose into the last pending op. Inflight ops have already\n  // been sent to the server, so we can't modify them\n  var last = this.pendingOps[this.pendingOps.length - 1];\n  if (!last || last.sentAt) return;\n\n  // Compose an op into a create by applying it. This effectively makes the op\n  // invisible, as if the document were created including the op originally\n  if (last.create && op.op) {\n    last.create.data = this.type.apply(last.create.data, op.op);\n    return last;\n  }\n\n  // Compose two ops into a single op if supported by the type. Types that\n  // support compose must be able to compose any two ops together\n  if (last.op && op.op && this.type.compose) {\n    last.op = this.type.compose(last.op, op.op);\n    return last;\n  }\n};\n\n// *** Client OT entrypoints.\n\n// Submit an operation to the document.\n//\n// @param operation handled by the OT type\n// @param options  {source: ...}\n// @param [callback] called after operation submitted\n//\n// @fires before op, op, after op\nDoc.prototype.submitOp = function(component, options, callback) {\n  if (typeof options === 'function') {\n    callback = options;\n    options = null;\n  }\n  var op = {op: component};\n  var source = options && options.source;\n  this._submit(op, source, callback);\n};\n\n// Create the document, which in ShareJS semantics means to set its type. Every\n// object implicitly exists in the database but has no data and no type. Create\n// sets the type of the object and can optionally set some initial data on the\n// object, depending on the type.\n//\n// @param data  initial\n// @param type  OT type\n// @param options  {source: ...}\n// @param callback  called when operation submitted\nDoc.prototype.create = function(data, type, options, callback) {\n  if (typeof type === 'function') {\n    callback = type;\n    options = null;\n    type = null;\n  } else if (typeof options === 'function') {\n    callback = options;\n    options = null;\n  }\n  if (!type) {\n    type = types.defaultType.uri;\n  }\n  if (this.type) {\n    var err = new ShareDBError(ERROR_CODE.ERR_DOC_ALREADY_CREATED, 'Document already exists');\n    if (callback) return callback(err);\n    return this.emit('error', err);\n  }\n  var op = {create: {type: type, data: data}};\n  var source = options && options.source;\n  this._submit(op, source, callback);\n};\n\n// Delete the document. This creates and submits a delete operation to the\n// server. Deleting resets the object's type to null and deletes its data. The\n// document still exists, and still has the version it used to have before you\n// deleted it (well, old version +1).\n//\n// @param options  {source: ...}\n// @param callback  called when operation submitted\nDoc.prototype.del = function(options, callback) {\n  if (typeof options === 'function') {\n    callback = options;\n    options = null;\n  }\n  if (!this.type) {\n    var err = new ShareDBError(ERROR_CODE.ERR_DOC_DOES_NOT_EXIST, 'Document does not exist');\n    if (callback) return callback(err);\n    return this.emit('error', err);\n  }\n  var op = {del: true};\n  var source = options && options.source;\n  this._submit(op, source, callback);\n};\n\n\n// Stops the document from sending any operations to the server.\nDoc.prototype.pause = function() {\n  this.paused = true;\n};\n\n// Continue sending operations to the server\nDoc.prototype.resume = function() {\n  this.paused = false;\n  this.flush();\n};\n\n\n// *** Receiving operations\n\n// This is called when the server acknowledges an operation from the client.\nDoc.prototype._opAcknowledged = function(message) {\n  if (this.inflightOp.create) {\n    this.version = message.v;\n  } else if (message.v !== this.version) {\n    // We should already be at the same version, because the server should\n    // have sent all the ops that have happened before acknowledging our op\n    logger.warn('Invalid version from server. Expected: ' + this.version + ' Received: ' + message.v, message);\n\n    // Fetching should get us back to a working document state\n    return this.fetch();\n  }\n\n  // The op was committed successfully. Increment the version number\n  this.version++;\n\n  this._clearInflightOp();\n};\n\nDoc.prototype._rollback = function(err) {\n  // The server has rejected submission of the current operation. Invert by\n  // just the inflight op if possible. If not possible to invert, cancel all\n  // pending ops and fetch the latest from the server to get us back into a\n  // working state, then call back\n  var op = this.inflightOp;\n\n  if (op.op && op.type.invert) {\n    op.op = op.type.invert(op.op);\n\n    // Transform the undo operation by any pending ops.\n    for (var i = 0; i < this.pendingOps.length; i++) {\n      var transformErr = transformX(this.pendingOps[i], op);\n      if (transformErr) return this._hardRollback(transformErr);\n    }\n\n    // ... and apply it locally, reverting the changes.\n    //\n    // This operation is applied to look like it comes from a remote source.\n    // I'm still not 100% sure about this functionality, because its really a\n    // local op. Basically, the problem is that if the client's op is rejected\n    // by the server, the editor window should update to reflect the undo.\n    try {\n      this._otApply(op, false);\n    } catch (error) {\n      return this._hardRollback(error);\n    }\n\n    this._clearInflightOp(err);\n    return;\n  }\n\n  this._hardRollback(err);\n};\n\nDoc.prototype._hardRollback = function(err) {\n  // Store pending ops so that we can notify their callbacks of the error.\n  // We combine the inflight op and the pending ops, because it's possible\n  // to hit a condition where we have no inflight op, but we do have pending\n  // ops. This can happen when an invalid op is submitted, which causes us\n  // to hard rollback before the pending op was flushed.\n  var pendingOps = [];\n  if (this.inflightOp) pendingOps.push(this.inflightOp);\n  pendingOps = pendingOps.concat(this.pendingOps);\n\n  // Cancel all pending ops and reset if we can't invert\n  this._setType(null);\n  this.version = null;\n  this.inflightOp = null;\n  this.pendingOps = [];\n\n  // Fetch the latest version from the server to get us back into a working state\n  var doc = this;\n  this.fetch(function() {\n    // We want to check that no errors are swallowed, so we check that:\n    // - there are callbacks to call, and\n    // - that every single pending op called a callback\n    // If there are no ops queued, or one of them didn't handle the error,\n    // then we emit the error.\n    var allOpsHadCallbacks = !!pendingOps.length;\n    for (var i = 0; i < pendingOps.length; i++) {\n      allOpsHadCallbacks = callEach(pendingOps[i].callbacks, err) && allOpsHadCallbacks;\n    }\n    if (err && !allOpsHadCallbacks) return doc.emit('error', err);\n  });\n};\n\nDoc.prototype._clearInflightOp = function(err) {\n  var inflightOp = this.inflightOp;\n\n  this.inflightOp = null;\n\n  var called = callEach(inflightOp.callbacks, err);\n\n  this.flush();\n  this._emitNothingPending();\n\n  if (err && !called) return this.emit('error', err);\n};\n\nfunction callEach(callbacks, err) {\n  var called = false;\n  for (var i = 0; i < callbacks.length; i++) {\n    var callback = callbacks[i];\n    if (callback) {\n      callback(err);\n      called = true;\n    }\n  }\n  return called;\n}\n",
    "var emitter = require('../emitter');\n\n// Queries are live requests to the database for particular sets of fields.\n//\n// The server actively tells the client when there's new data that matches\n// a set of conditions.\nmodule.exports = Query;\nfunction Query(action, connection, id, collection, query, options, callback) {\n  emitter.EventEmitter.call(this);\n\n  // 'qf' or 'qs'\n  this.action = action;\n\n  this.connection = connection;\n  this.id = id;\n  this.collection = collection;\n\n  // The query itself. For mongo, this should look something like {\"data.x\":5}\n  this.query = query;\n\n  // A list of resulting documents. These are actual documents, complete with\n  // data and all the rest. It is possible to pass in an initial results set,\n  // so that a query can be serialized and then re-established\n  this.results = null;\n  if (options && options.results) {\n    this.results = options.results;\n    delete options.results;\n  }\n  this.extra = undefined;\n\n  // Options to pass through with the query\n  this.options = options;\n\n  this.callback = callback;\n  this.ready = false;\n  this.sent = false;\n}\nemitter.mixin(Query);\n\nQuery.prototype.hasPending = function() {\n  return !this.ready;\n};\n\n// Helper for subscribe & fetch, since they share the same message format.\n//\n// This function actually issues the query.\nQuery.prototype.send = function() {\n  if (!this.connection.canSend) return;\n\n  var message = {\n    a: this.action,\n    id: this.id,\n    c: this.collection,\n    q: this.query\n  };\n  if (this.options) {\n    message.o = this.options;\n  }\n  if (this.results) {\n    // Collect the version of all the documents in the current result set so we\n    // don't need to be sent their snapshots again.\n    var results = [];\n    for (var i = 0; i < this.results.length; i++) {\n      var doc = this.results[i];\n      results.push([doc.id, doc.version]);\n    }\n    message.r = results;\n  }\n\n  this.connection.send(message);\n  this.sent = true;\n};\n\n// Destroy the query object. Any subsequent messages for the query will be\n// ignored by the connection.\nQuery.prototype.destroy = function(callback) {\n  if (this.connection.canSend && this.action === 'qs') {\n    this.connection.send({a: 'qu', id: this.id});\n  }\n  this.connection._destroyQuery(this);\n  // There is a callback for consistency, but we don't actually wait for the\n  // server's unsubscribe message currently\n  if (callback) process.nextTick(callback);\n};\n\nQuery.prototype._onConnectionStateChanged = function() {\n  if (this.connection.canSend && !this.sent) {\n    this.send();\n  } else {\n    this.sent = false;\n  }\n};\n\nQuery.prototype._handleFetch = function(err, data, extra) {\n  // Once a fetch query gets its data, it is destroyed.\n  this.connection._destroyQuery(this);\n  this._handleResponse(err, data, extra);\n};\n\nQuery.prototype._handleSubscribe = function(err, data, extra) {\n  this._handleResponse(err, data, extra);\n};\n\nQuery.prototype._handleResponse = function(err, data, extra) {\n  var callback = this.callback;\n  this.callback = null;\n  if (err) return this._finishResponse(err, callback);\n  if (!data) return this._finishResponse(null, callback);\n\n  var query = this;\n  var wait = 1;\n  var finish = function(err) {\n    if (err) return query._finishResponse(err, callback);\n    if (--wait) return;\n    query._finishResponse(null, callback);\n  };\n\n  if (Array.isArray(data)) {\n    wait += data.length;\n    this.results = this._ingestSnapshots(data, finish);\n    this.extra = extra;\n  } else {\n    for (var id in data) {\n      wait++;\n      var snapshot = data[id];\n      var doc = this.connection.get(snapshot.c || this.collection, id);\n      doc.ingestSnapshot(snapshot, finish);\n    }\n  }\n\n  finish();\n};\n\nQuery.prototype._ingestSnapshots = function(snapshots, finish) {\n  var results = [];\n  for (var i = 0; i < snapshots.length; i++) {\n    var snapshot = snapshots[i];\n    var doc = this.connection.get(snapshot.c || this.collection, snapshot.d);\n    doc.ingestSnapshot(snapshot, finish);\n    results.push(doc);\n  }\n  return results;\n};\n\nQuery.prototype._finishResponse = function(err, callback) {\n  this.emit('ready');\n  this.ready = true;\n  if (err) {\n    this.connection._destroyQuery(this);\n    if (callback) return callback(err);\n    return this.emit('error', err);\n  }\n  if (callback) callback(null, this.results, this.extra);\n};\n\nQuery.prototype._handleError = function(err) {\n  this.emit('error', err);\n};\n\nQuery.prototype._handleDiff = function(diff) {\n  // We need to go through the list twice. First, we'll ingest all the new\n  // documents. After that we'll emit events and actually update our list.\n  // This avoids race conditions around setting documents to be subscribed &\n  // unsubscribing documents in event callbacks.\n  for (var i = 0; i < diff.length; i++) {\n    var d = diff[i];\n    if (d.type === 'insert') d.values = this._ingestSnapshots(d.values);\n  }\n\n  for (var i = 0; i < diff.length; i++) {\n    var d = diff[i];\n    switch (d.type) {\n      case 'insert':\n        var newDocs = d.values;\n        Array.prototype.splice.apply(this.results, [d.index, 0].concat(newDocs));\n        this.emit('insert', newDocs, d.index);\n        break;\n      case 'remove':\n        var howMany = d.howMany || 1;\n        var removed = this.results.splice(d.index, howMany);\n        this.emit('remove', removed, d.index);\n        break;\n      case 'move':\n        var howMany = d.howMany || 1;\n        var docs = this.results.splice(d.from, howMany);\n        Array.prototype.splice.apply(this.results, [d.to, 0].concat(docs));\n        this.emit('move', docs, d.from, d.to);\n        break;\n    }\n  }\n\n  this.emit('changed', this.results);\n};\n\nQuery.prototype._handleExtra = function(extra) {\n  this.extra = extra;\n  this.emit('extra', extra);\n};\n",
    "module.exports = Snapshot;\nfunction Snapshot(id, version, type, data, meta) {\n  this.id = id;\n  this.v = version;\n  this.type = type;\n  this.data = data;\n  this.m = meta;\n}\n",
    "var Snapshot = require('../../snapshot');\nvar emitter = require('../../emitter');\n\nmodule.exports = SnapshotRequest;\n\nfunction SnapshotRequest(connection, requestId, collection, id, callback) {\n  emitter.EventEmitter.call(this);\n\n  if (typeof callback !== 'function') {\n    throw new Error('Callback is required for SnapshotRequest');\n  }\n\n  this.requestId = requestId;\n  this.connection = connection;\n  this.id = id;\n  this.collection = collection;\n  this.callback = callback;\n\n  this.sent = false;\n}\nemitter.mixin(SnapshotRequest);\n\nSnapshotRequest.prototype.send = function() {\n  if (!this.connection.canSend) {\n    return;\n  }\n\n  this.connection.send(this._message());\n  this.sent = true;\n};\n\nSnapshotRequest.prototype._onConnectionStateChanged = function() {\n  if (this.connection.canSend) {\n    if (!this.sent) this.send();\n  } else {\n    // If the connection can't send, then we've had a disconnection, and even if we've already sent\n    // the request previously, we need to re-send it over this reconnected client, so reset the\n    // sent flag to false.\n    this.sent = false;\n  }\n};\n\nSnapshotRequest.prototype._handleResponse = function(error, message) {\n  this.emit('ready');\n\n  if (error) {\n    return this.callback(error);\n  }\n\n  var metadata = message.meta ? message.meta : null;\n  var snapshot = new Snapshot(this.id, message.v, message.type, message.data, metadata);\n\n  this.callback(null, snapshot);\n};\n",
    "\nexports.doNothing = doNothing;\nfunction doNothing() {}\n\nexports.hasKeys = function(object) {\n  for (var key in object) return true;\n  return false;\n};\n\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isInteger#Polyfill\nexports.isInteger = Number.isInteger || function(value) {\n  return typeof value === 'number' &&\n    isFinite(value) &&\n    Math.floor(value) === value;\n};\n\nexports.isValidVersion = function(version) {\n  if (version === null) return true;\n  return exports.isInteger(version) && version >= 0;\n};\n\nexports.isValidTimestamp = function(timestamp) {\n  return exports.isValidVersion(timestamp);\n};\n",
    "var SnapshotRequest = require('./snapshot-request');\nvar util = require('../../util');\n\nmodule.exports = SnapshotVersionRequest;\n\nfunction SnapshotVersionRequest(connection, requestId, collection, id, version, callback) {\n  SnapshotRequest.call(this, connection, requestId, collection, id, callback);\n\n  if (!util.isValidVersion(version)) {\n    throw new Error('Snapshot version must be a positive integer or null');\n  }\n\n  this.version = version;\n}\n\nSnapshotVersionRequest.prototype = Object.create(SnapshotRequest.prototype);\n\nSnapshotVersionRequest.prototype._message = function() {\n  return {\n    a: 'nf',\n    id: this.requestId,\n    c: this.collection,\n    d: this.id,\n    v: this.version\n  };\n};\n",
    "var SnapshotRequest = require('./snapshot-request');\nvar util = require('../../util');\n\nmodule.exports = SnapshotTimestampRequest;\n\nfunction SnapshotTimestampRequest(connection, requestId, collection, id, timestamp, callback) {\n  SnapshotRequest.call(this, connection, requestId, collection, id, callback);\n\n  if (!util.isValidTimestamp(timestamp)) {\n    throw new Error('Snapshot timestamp must be a positive integer or null');\n  }\n\n  this.timestamp = timestamp;\n}\n\nSnapshotTimestampRequest.prototype = Object.create(SnapshotRequest.prototype);\n\nSnapshotTimestampRequest.prototype._message = function() {\n  return {\n    a: 'nt',\n    id: this.requestId,\n    c: this.collection,\n    d: this.id,\n    ts: this.timestamp\n  };\n};\n",
    "var Doc = require('./doc');\nvar Query = require('./query');\nvar SnapshotVersionRequest = require('./snapshot-request/snapshot-version-request');\nvar SnapshotTimestampRequest = require('./snapshot-request/snapshot-timestamp-request');\nvar emitter = require('../emitter');\nvar ShareDBError = require('../error');\nvar types = require('../types');\nvar util = require('../util');\nvar logger = require('../logger');\n\nvar ERROR_CODE = ShareDBError.CODES;\n\nfunction connectionState(socket) {\n  if (socket.readyState === 0 || socket.readyState === 1) return 'connecting';\n  return 'disconnected';\n}\n\n/**\n * Handles communication with the sharejs server and provides queries and\n * documents.\n *\n * We create a connection with a socket object\n *   connection = new sharejs.Connection(sockset)\n * The socket may be any object handling the websocket protocol. See the\n * documentation of bindToSocket() for details. We then wait for the connection\n * to connect\n *   connection.on('connected', ...)\n * and are finally able to work with shared documents\n *   connection.get('food', 'steak') // Doc\n *\n * @param socket @see bindToSocket\n */\nmodule.exports = Connection;\nfunction Connection(socket) {\n  emitter.EventEmitter.call(this);\n\n  // Map of collection -> id -> doc object for created documents.\n  // (created documents MUST BE UNIQUE)\n  this.collections = {};\n\n  // Each query and snapshot request is created with an id that the server uses when it sends us\n  // info about the request (updates, etc)\n  this.nextQueryId = 1;\n  this.nextSnapshotRequestId = 1;\n\n  // Map from query ID -> query object.\n  this.queries = {};\n\n  // Map from snapshot request ID -> snapshot request\n  this._snapshotRequests = {};\n\n  // A unique message number for the given id\n  this.seq = 1;\n\n  // Equals agent.clientId on the server\n  this.id = null;\n\n  // This direct reference from connection to agent is not used internal to\n  // ShareDB, but it is handy for server-side only user code that may cache\n  // state on the agent and read it in middleware\n  this.agent = null;\n\n  this.debug = false;\n\n  this.state = connectionState(socket);\n\n  this.bindToSocket(socket);\n}\nemitter.mixin(Connection);\n\n\n/**\n * Use socket to communicate with server\n *\n * Socket is an object that can handle the websocket protocol. This method\n * installs the onopen, onclose, onmessage and onerror handlers on the socket to\n * handle communication and sends messages by calling socket.send(message). The\n * sockets `readyState` property is used to determine the initaial state.\n *\n * @param socket Handles the websocket protocol\n * @param socket.readyState\n * @param socket.close\n * @param socket.send\n * @param socket.onopen\n * @param socket.onclose\n * @param socket.onmessage\n * @param socket.onerror\n */\nConnection.prototype.bindToSocket = function(socket) {\n  if (this.socket) {\n    this.socket.close();\n    this.socket.onmessage = null;\n    this.socket.onopen = null;\n    this.socket.onerror = null;\n    this.socket.onclose = null;\n  }\n\n  this.socket = socket;\n\n  // State of the connection. The corresponding events are emitted when this changes\n  //\n  // - 'connecting'   The connection is still being established, or we are still\n  //                    waiting on the server to send us the initialization message\n  // - 'connected'    The connection is open and we have connected to a server\n  //                    and recieved the initialization message\n  // - 'disconnected' Connection is closed, but it will reconnect automatically\n  // - 'closed'       The connection was closed by the client, and will not reconnect\n  // - 'stopped'      The connection was closed by the server, and will not reconnect\n  var newState = connectionState(socket);\n  this._setState(newState);\n\n  // This is a helper variable the document uses to see whether we're\n  // currently in a 'live' state. It is true if and only if we're connected\n  this.canSend = false;\n\n  var connection = this;\n\n  socket.onmessage = function(event) {\n    try {\n      var data = (typeof event.data === 'string') ?\n        JSON.parse(event.data) : event.data;\n    } catch (err) {\n      logger.warn('Failed to parse message', event);\n      return;\n    }\n\n    if (connection.debug) logger.info('RECV', JSON.stringify(data));\n\n    var request = {data: data};\n    connection.emit('receive', request);\n    if (!request.data) return;\n\n    try {\n      connection.handleMessage(request.data);\n    } catch (err) {\n      process.nextTick(function() {\n        connection.emit('error', err);\n      });\n    }\n  };\n\n  socket.onopen = function() {\n    connection._setState('connecting');\n  };\n\n  socket.onerror = function(err) {\n    // This isn't the same as a regular error, because it will happen normally\n    // from time to time. Your connection should probably automatically\n    // reconnect anyway, but that should be triggered off onclose not onerror.\n    // (onclose happens when onerror gets called anyway).\n    connection.emit('connection error', err);\n  };\n\n  socket.onclose = function(reason) {\n    // node-browserchannel reason values:\n    //   'Closed' - The socket was manually closed by calling socket.close()\n    //   'Stopped by server' - The server sent the stop message to tell the client not to try connecting\n    //   'Request failed' - Server didn't respond to request (temporary, usually offline)\n    //   'Unknown session ID' - Server session for client is missing (temporary, will immediately reestablish)\n\n    if (reason === 'closed' || reason === 'Closed') {\n      connection._setState('closed', reason);\n    } else if (reason === 'stopped' || reason === 'Stopped by server') {\n      connection._setState('stopped', reason);\n    } else {\n      connection._setState('disconnected', reason);\n    }\n  };\n};\n\n/**\n * @param {object} message\n * @param {String} message.a action\n */\nConnection.prototype.handleMessage = function(message) {\n  var err = null;\n  if (message.error) {\n    err = wrapErrorData(message.error, message);\n    delete message.error;\n  }\n  // Switch on the message action. Most messages are for documents and are\n  // handled in the doc class.\n  switch (message.a) {\n    case 'init':\n      // Client initialization packet\n      if (message.protocol !== 1) {\n        err = new ShareDBError(\n          ERROR_CODE.ERR_PROTOCOL_VERSION_NOT_SUPPORTED,\n          'Unsupported protocol version: ' + message.protocol\n        );\n        return this.emit('error', err);\n      }\n      if (types.map[message.type] !== types.defaultType) {\n        err = new ShareDBError(\n          ERROR_CODE.ERR_DEFAULT_TYPE_MISMATCH,\n          message.type + ' does not match the server default type'\n        );\n        return this.emit('error', err);\n      }\n      if (typeof message.id !== 'string') {\n        err = new ShareDBError(ERROR_CODE.ERR_CLIENT_ID_BADLY_FORMED, 'Client id must be a string');\n        return this.emit('error', err);\n      }\n      this.id = message.id;\n\n      this._setState('connected');\n      return;\n\n    case 'qf':\n      var query = this.queries[message.id];\n      if (query) query._handleFetch(err, message.data, message.extra);\n      return;\n    case 'qs':\n      var query = this.queries[message.id];\n      if (query) query._handleSubscribe(err, message.data, message.extra);\n      return;\n    case 'qu':\n      // Queries are removed immediately on calls to destroy, so we ignore\n      // replies to query unsubscribes. Perhaps there should be a callback for\n      // destroy, but this is currently unimplemented\n      return;\n    case 'q':\n      // Query message. Pass this to the appropriate query object.\n      var query = this.queries[message.id];\n      if (!query) return;\n      if (err) return query._handleError(err);\n      if (message.diff) query._handleDiff(message.diff);\n      if (message.hasOwnProperty('extra')) query._handleExtra(message.extra);\n      return;\n\n    case 'bf':\n      return this._handleBulkMessage(err, message, '_handleFetch');\n    case 'bs':\n      return this._handleBulkMessage(err, message, '_handleSubscribe');\n    case 'bu':\n      return this._handleBulkMessage(err, message, '_handleUnsubscribe');\n\n    case 'nf':\n    case 'nt':\n      return this._handleSnapshotFetch(err, message);\n\n    case 'f':\n      var doc = this.getExisting(message.c, message.d);\n      if (doc) doc._handleFetch(err, message.data);\n      return;\n    case 's':\n      var doc = this.getExisting(message.c, message.d);\n      if (doc) doc._handleSubscribe(err, message.data);\n      return;\n    case 'u':\n      var doc = this.getExisting(message.c, message.d);\n      if (doc) doc._handleUnsubscribe(err);\n      return;\n    case 'op':\n      var doc = this.getExisting(message.c, message.d);\n      if (doc) doc._handleOp(err, message);\n      return;\n\n    default:\n      logger.warn('Ignoring unrecognized message', message);\n  }\n};\n\nfunction wrapErrorData(errorData, fullMessage) {\n  // wrap in Error object so can be passed through event emitters\n  var err = new Error(errorData.message);\n  err.code = errorData.code;\n  if (fullMessage) {\n    // Add the message data to the error object for more context\n    err.data = fullMessage;\n  }\n  return err;\n}\n\nConnection.prototype._handleBulkMessage = function(err, message, method) {\n  if (message.data) {\n    for (var id in message.data) {\n      var dataForId = message.data[id];\n      var doc = this.getExisting(message.c, id);\n      if (doc) {\n        if (err) {\n          doc[method](err);\n        } else if (dataForId.error) {\n          // Bulk reply snapshot-specific errorr - see agent.js getMapResult\n          doc[method](wrapErrorData(dataForId.error));\n        } else {\n          doc[method](null, dataForId);\n        }\n      }\n    }\n  } else if (Array.isArray(message.b)) {\n    for (var i = 0; i < message.b.length; i++) {\n      var id = message.b[i];\n      var doc = this.getExisting(message.c, id);\n      if (doc) doc[method](err);\n    }\n  } else if (message.b) {\n    for (var id in message.b) {\n      var doc = this.getExisting(message.c, id);\n      if (doc) doc[method](err);\n    }\n  } else {\n    logger.error('Invalid bulk message', message);\n  }\n};\n\nConnection.prototype._reset = function() {\n  this.seq = 1;\n  this.id = null;\n  this.agent = null;\n};\n\n// Set the connection's state. The connection is basically a state machine.\nConnection.prototype._setState = function(newState, reason) {\n  if (this.state === newState) return;\n\n  // I made a state diagram. The only invalid transitions are getting to\n  // 'connecting' from anywhere other than 'disconnected' and getting to\n  // 'connected' from anywhere other than 'connecting'.\n  if (\n    (\n      newState === 'connecting' &&\n      this.state !== 'disconnected' &&\n      this.state !== 'stopped' &&\n      this.state !== 'closed'\n    ) || (\n      newState === 'connected' &&\n      this.state !== 'connecting'\n    )\n  ) {\n    var err = new ShareDBError(\n      ERROR_CODE.ERR_CONNECTION_STATE_TRANSITION_INVALID,\n      'Cannot transition directly from ' + this.state + ' to ' + newState\n    );\n    return this.emit('error', err);\n  }\n\n  this.state = newState;\n  this.canSend = (newState === 'connected');\n\n  if (\n    newState === 'disconnected' ||\n    newState === 'stopped' ||\n    newState === 'closed'\n  ) {\n    this._reset();\n  }\n\n  // Group subscribes together to help server make more efficient calls\n  this.startBulk();\n  // Emit the event to all queries\n  for (var id in this.queries) {\n    var query = this.queries[id];\n    query._onConnectionStateChanged();\n  }\n  // Emit the event to all documents\n  for (var collection in this.collections) {\n    var docs = this.collections[collection];\n    for (var id in docs) {\n      docs[id]._onConnectionStateChanged();\n    }\n  }\n  // Emit the event to all snapshots\n  for (var id in this._snapshotRequests) {\n    var snapshotRequest = this._snapshotRequests[id];\n    snapshotRequest._onConnectionStateChanged();\n  }\n  this.endBulk();\n\n  this.emit(newState, reason);\n  this.emit('state', newState, reason);\n};\n\nConnection.prototype.startBulk = function() {\n  if (!this.bulk) this.bulk = {};\n};\n\nConnection.prototype.endBulk = function() {\n  if (this.bulk) {\n    for (var collection in this.bulk) {\n      var actions = this.bulk[collection];\n      this._sendBulk('f', collection, actions.f);\n      this._sendBulk('s', collection, actions.s);\n      this._sendBulk('u', collection, actions.u);\n    }\n  }\n  this.bulk = null;\n};\n\nConnection.prototype._sendBulk = function(action, collection, values) {\n  if (!values) return;\n  var ids = [];\n  var versions = {};\n  var versionsCount = 0;\n  var versionId;\n  for (var id in values) {\n    var value = values[id];\n    if (value == null) {\n      ids.push(id);\n    } else {\n      versions[id] = value;\n      versionId = id;\n      versionsCount++;\n    }\n  }\n  if (ids.length === 1) {\n    var id = ids[0];\n    this.send({a: action, c: collection, d: id});\n  } else if (ids.length) {\n    this.send({a: 'b' + action, c: collection, b: ids});\n  }\n  if (versionsCount === 1) {\n    var version = versions[versionId];\n    this.send({a: action, c: collection, d: versionId, v: version});\n  } else if (versionsCount) {\n    this.send({a: 'b' + action, c: collection, b: versions});\n  }\n};\n\nConnection.prototype._sendAction = function(action, doc, version) {\n  // Ensure the doc is registered so that it receives the reply message\n  this._addDoc(doc);\n  if (this.bulk) {\n    // Bulk subscribe\n    var actions = this.bulk[doc.collection] || (this.bulk[doc.collection] = {});\n    var versions = actions[action] || (actions[action] = {});\n    var isDuplicate = versions.hasOwnProperty(doc.id);\n    versions[doc.id] = version;\n    return isDuplicate;\n  } else {\n    // Send single doc subscribe message\n    var message = {a: action, c: doc.collection, d: doc.id, v: version};\n    this.send(message);\n  }\n};\n\nConnection.prototype.sendFetch = function(doc) {\n  return this._sendAction('f', doc, doc.version);\n};\n\nConnection.prototype.sendSubscribe = function(doc) {\n  return this._sendAction('s', doc, doc.version);\n};\n\nConnection.prototype.sendUnsubscribe = function(doc) {\n  return this._sendAction('u', doc);\n};\n\nConnection.prototype.sendOp = function(doc, op) {\n  // Ensure the doc is registered so that it receives the reply message\n  this._addDoc(doc);\n  var message = {\n    a: 'op',\n    c: doc.collection,\n    d: doc.id,\n    v: doc.version,\n    src: op.src,\n    seq: op.seq\n  };\n  if (op.op) message.op = op.op;\n  if (op.create) message.create = op.create;\n  if (op.del) message.del = op.del;\n  this.send(message);\n};\n\n\n/**\n * Sends a message down the socket\n */\nConnection.prototype.send = function(message) {\n  if (this.debug) logger.info('SEND', JSON.stringify(message));\n\n  this.emit('send', message);\n  this.socket.send(JSON.stringify(message));\n};\n\n\n/**\n * Closes the socket and emits 'closed'\n */\nConnection.prototype.close = function() {\n  this.socket.close();\n};\n\nConnection.prototype.getExisting = function(collection, id) {\n  if (this.collections[collection]) return this.collections[collection][id];\n};\n\n\n/**\n * Get or create a document.\n *\n * @param collection\n * @param id\n * @return {Doc}\n */\nConnection.prototype.get = function(collection, id) {\n  var docs = this.collections[collection] ||\n    (this.collections[collection] = {});\n\n  var doc = docs[id];\n  if (!doc) {\n    doc = docs[id] = new Doc(this, collection, id);\n    this.emit('doc', doc);\n  }\n\n  return doc;\n};\n\n\n/**\n * Remove document from this.collections\n *\n * @private\n */\nConnection.prototype._destroyDoc = function(doc) {\n  var docs = this.collections[doc.collection];\n  if (!docs) return;\n\n  delete docs[doc.id];\n\n  // Delete the collection container if its empty. This could be a source of\n  // memory leaks if you slowly make a billion collections, which you probably\n  // won't do anyway, but whatever.\n  if (!util.hasKeys(docs)) {\n    delete this.collections[doc.collection];\n  }\n};\n\nConnection.prototype._addDoc = function(doc) {\n  var docs = this.collections[doc.collection];\n  if (!docs) {\n    docs = this.collections[doc.collection] = {};\n  }\n  if (docs[doc.id] !== doc) {\n    docs[doc.id] = doc;\n  }\n};\n\n// Helper for createFetchQuery and createSubscribeQuery, below.\nConnection.prototype._createQuery = function(action, collection, q, options, callback) {\n  var id = this.nextQueryId++;\n  var query = new Query(action, this, id, collection, q, options, callback);\n  this.queries[id] = query;\n  query.send();\n  return query;\n};\n\n// Internal function. Use query.destroy() to remove queries.\nConnection.prototype._destroyQuery = function(query) {\n  delete this.queries[query.id];\n};\n\n// The query options object can contain the following fields:\n//\n// db: Name of the db for the query. You can attach extraDbs to ShareDB and\n//   pick which one the query should hit using this parameter.\n\n// Create a fetch query. Fetch queries are only issued once, returning the\n// results directly into the callback.\n//\n// The callback should have the signature function(error, results, extra)\n// where results is a list of Doc objects.\nConnection.prototype.createFetchQuery = function(collection, q, options, callback) {\n  return this._createQuery('qf', collection, q, options, callback);\n};\n\n// Create a subscribe query. Subscribe queries return with the initial data\n// through the callback, then update themselves whenever the query result set\n// changes via their own event emitter.\n//\n// If present, the callback should have the signature function(error, results, extra)\n// where results is a list of Doc objects.\nConnection.prototype.createSubscribeQuery = function(collection, q, options, callback) {\n  return this._createQuery('qs', collection, q, options, callback);\n};\n\nConnection.prototype.hasPending = function() {\n  return !!(\n    this._firstDoc(hasPending) ||\n    this._firstQuery(hasPending) ||\n    this._firstSnapshotRequest()\n  );\n};\nfunction hasPending(object) {\n  return object.hasPending();\n}\n\nConnection.prototype.hasWritePending = function() {\n  return !!this._firstDoc(hasWritePending);\n};\nfunction hasWritePending(object) {\n  return object.hasWritePending();\n}\n\nConnection.prototype.whenNothingPending = function(callback) {\n  var doc = this._firstDoc(hasPending);\n  if (doc) {\n    // If a document is found with a pending operation, wait for it to emit\n    // that nothing is pending anymore, and then recheck all documents again.\n    // We have to recheck all documents, just in case another mutation has\n    // been made in the meantime as a result of an event callback\n    doc.once('nothing pending', this._nothingPendingRetry(callback));\n    return;\n  }\n  var query = this._firstQuery(hasPending);\n  if (query) {\n    query.once('ready', this._nothingPendingRetry(callback));\n    return;\n  }\n  var snapshotRequest = this._firstSnapshotRequest();\n  if (snapshotRequest) {\n    snapshotRequest.once('ready', this._nothingPendingRetry(callback));\n    return;\n  }\n  // Call back when no pending operations\n  process.nextTick(callback);\n};\nConnection.prototype._nothingPendingRetry = function(callback) {\n  var connection = this;\n  return function() {\n    process.nextTick(function() {\n      connection.whenNothingPending(callback);\n    });\n  };\n};\n\nConnection.prototype._firstDoc = function(fn) {\n  for (var collection in this.collections) {\n    var docs = this.collections[collection];\n    for (var id in docs) {\n      var doc = docs[id];\n      if (fn(doc)) {\n        return doc;\n      }\n    }\n  }\n};\n\nConnection.prototype._firstQuery = function(fn) {\n  for (var id in this.queries) {\n    var query = this.queries[id];\n    if (fn(query)) {\n      return query;\n    }\n  }\n};\n\nConnection.prototype._firstSnapshotRequest = function() {\n  for (var id in this._snapshotRequests) {\n    return this._snapshotRequests[id];\n  }\n};\n\n/**\n * Fetch a read-only snapshot at a given version\n *\n * @param collection - the collection name of the snapshot\n * @param id - the ID of the snapshot\n * @param version (optional) - the version number to fetch. If null, the latest version is fetched.\n * @param callback - (error, snapshot) => void, where snapshot takes the following schema:\n *\n * {\n *   id: string;         // ID of the snapshot\n *   v: number;          // version number of the snapshot\n *   type: string;       // the OT type of the snapshot, or null if it doesn't exist or is deleted\n *   data: any;          // the snapshot\n * }\n *\n */\nConnection.prototype.fetchSnapshot = function(collection, id, version, callback) {\n  if (typeof version === 'function') {\n    callback = version;\n    version = null;\n  }\n\n  var requestId = this.nextSnapshotRequestId++;\n  var snapshotRequest = new SnapshotVersionRequest(this, requestId, collection, id, version, callback);\n  this._snapshotRequests[snapshotRequest.requestId] = snapshotRequest;\n  snapshotRequest.send();\n};\n\n/**\n * Fetch a read-only snapshot at a given timestamp\n *\n * @param collection - the collection name of the snapshot\n * @param id - the ID of the snapshot\n * @param timestamp (optional) - the timestamp to fetch. If null, the latest version is fetched.\n * @param callback - (error, snapshot) => void, where snapshot takes the following schema:\n *\n * {\n *   id: string;         // ID of the snapshot\n *   v: number;          // version number of the snapshot\n *   type: string;       // the OT type of the snapshot, or null if it doesn't exist or is deleted\n *   data: any;          // the snapshot\n * }\n *\n */\nConnection.prototype.fetchSnapshotByTimestamp = function(collection, id, timestamp, callback) {\n  if (typeof timestamp === 'function') {\n    callback = timestamp;\n    timestamp = null;\n  }\n\n  var requestId = this.nextSnapshotRequestId++;\n  var snapshotRequest = new SnapshotTimestampRequest(this, requestId, collection, id, timestamp, callback);\n  this._snapshotRequests[snapshotRequest.requestId] = snapshotRequest;\n  snapshotRequest.send();\n};\n\nConnection.prototype._handleSnapshotFetch = function(error, message) {\n  var snapshotRequest = this._snapshotRequests[message.id];\n  if (!snapshotRequest) return;\n  delete this._snapshotRequests[message.id];\n  snapshotRequest._handleResponse(error, message);\n};\n",
    "exports.Connection = require('./connection');\nexports.Doc = require('./doc');\nexports.Error = require('../error');\nexports.Query = require('./query');\nexports.types = require('../types');\nexports.logger = require('../logger');\n",
    "/**\n * RemoteDoc adapts the ShareJS operation protocol to Racer's mutator\n * interface.\n *\n * 1. It maps Racer's mutator methods to outgoing ShareJS operations.\n * 2. It maps incoming ShareJS operations to Racer events.\n */\n\nvar Doc = require('./Doc');\nvar util = require('../util');\n\nmodule.exports = RemoteDoc;\n\nfunction RemoteDoc(model, collectionName, id, snapshot, collection) {\n  // This is a bit messy, but we have to immediately register this doc on the\n  // collection that added it, so that when we create the shareDoc and the\n  // connection emits the 'doc' event, we'll find this doc instead of\n  // creating a new one\n  if (collection) collection.docs[id] = this;\n\n  Doc.call(this, model, collectionName, id);\n  this.model = model.pass({$remote: true});\n  this.debugMutations = model.root.debug.remoteMutations;\n\n  // Get or create the Share document. Note that we must have already added\n  // this doc to the collection to avoid creating a duplicate doc\n  this.shareDoc = model.root.connection.get(collectionName, id);\n  this.shareDoc.ingestSnapshot(snapshot);\n  this._initShareDoc();\n}\n\nRemoteDoc.prototype = new Doc();\n\nRemoteDoc.prototype._initShareDoc = function() {\n  var doc = this;\n  var model = this.model;\n  var collectionName = this.collectionName;\n  var id = this.id;\n  var shareDoc = this.shareDoc;\n  // Override submitOp to disable all writes and perform a dry-run\n  if (model.root.debug.disableSubmit) {\n    shareDoc.submitOp = function() {};\n    shareDoc.create = function() {};\n    shareDoc.del = function() {};\n  }\n  // Subscribe to doc events\n  shareDoc.on('op', function(op, isLocal) {\n    // Don't emit on local operations, since they are emitted in the mutator\n    if (isLocal) return;\n    doc._updateCollectionData();\n    doc._onOp(op);\n  });\n  shareDoc.on('del', function(previous, isLocal) {\n    // Calling the shareDoc.del method does not emit an operation event,\n    // so we create the appropriate event here.\n    if (isLocal) return;\n    delete doc.collectionData[id];\n    model.emit('change', [collectionName, id], [undefined, previous, model._pass]);\n  });\n  shareDoc.on('create', function(isLocal) {\n    // Local creates should not emit an event, since they only happen\n    // implicitly as a result of another mutation, and that operation will\n    // emit the appropriate event. Remote creates can set the snapshot data\n    // without emitting an operation event, so an event needs to be emitted\n    // for them.\n    if (isLocal) return;\n    doc._updateCollectionData();\n    var value = shareDoc.data;\n    model.emit('change', [collectionName, id], [value, undefined, model._pass]);\n  });\n  shareDoc.on('error', function(err) {\n    model._emitError(err, collectionName + '.' + id);\n  });\n  shareDoc.on('load', function() {\n    doc._updateCollectionData();\n    var value = shareDoc.data;\n    // If we subscribe to an uncreated document, no need to emit 'load' event\n    if (value === undefined) return;\n    model.emit('load', [collectionName, id], [value, model._pass]);\n  });\n  this._updateCollectionData();\n};\n\nRemoteDoc.prototype._updateCollectionData = function() {\n  var data = this.shareDoc.data;\n  if (typeof data === 'object' && !Array.isArray(data) && data !== null) {\n    data.id = this.id;\n  }\n  this.collectionData[this.id] = data;\n};\n\nRemoteDoc.prototype.create = function(value, cb) {\n  if (this.debugMutations) {\n    console.log('RemoteDoc create', this.path(), value);\n  }\n  // We copy the snapshot data at time of create to prevent the id added\n  // outside of ShareJS from getting stored in the data\n  var data = util.deepCopy(value);\n  if (data) delete data.id;\n  this.shareDoc.create(data, cb);\n  // The id value will get added to the data that was passed in\n  this.shareDoc.data = value;\n  this._updateCollectionData();\n  this.model._context.createDoc(this.collectionName, this.id);\n  return;\n};\n\nRemoteDoc.prototype.set = function(segments, value, cb) {\n  if (this.debugMutations) {\n    console.log('RemoteDoc set', this.path(segments), value);\n  }\n  var previous = this._createImplied(segments);\n  var lastSegment = segments[segments.length - 1];\n  if (previous instanceof ImpliedOp) {\n    previous.value[lastSegment] = value;\n    this.shareDoc.submitOp(previous.op, cb);\n    this._updateCollectionData();\n    return;\n  }\n  var op = (util.isArrayIndex(lastSegment)) ?\n    [new ListReplaceOp(segments.slice(0, -1), lastSegment, previous, value)] :\n    [new ObjectReplaceOp(segments, previous, value)];\n  this.shareDoc.submitOp(op, cb);\n  this._updateCollectionData();\n  return previous;\n};\n\nRemoteDoc.prototype.del = function(segments, cb) {\n  if (this.debugMutations) {\n    console.log('RemoteDoc del', this.path(segments));\n  }\n  if (segments.length === 0) {\n    var previous = this.get();\n    this.shareDoc.del(cb);\n    delete this.collectionData[this.id];\n    return previous;\n  }\n  // Don't do anything if the value is already undefined, since\n  // the del method should not create anything\n  var previous = this.get(segments);\n  if (previous === undefined) {\n    cb();\n    return;\n  }\n  var op = [new ObjectDeleteOp(segments, previous)];\n  this.shareDoc.submitOp(op, cb);\n  this._updateCollectionData();\n  return previous;\n};\n\nRemoteDoc.prototype.increment = function(segments, byNumber, cb) {\n  if (this.debugMutations) {\n    console.log('RemoteDoc increment', this.path(segments), byNumber);\n  }\n  var previous = this._createImplied(segments);\n  if (previous instanceof ImpliedOp) {\n    var lastSegment = segments[segments.length - 1];\n    previous.value[lastSegment] = byNumber;\n    this.shareDoc.submitOp(previous.op, cb);\n    this._updateCollectionData();\n    return byNumber;\n  }\n  if (previous == null) {\n    var lastSegment = segments[segments.length - 1];\n    var op = (util.isArrayIndex(lastSegment)) ?\n      [new ListInsertOp(segments.slice(0, -1), lastSegment, byNumber)] :\n      [new ObjectInsertOp(segments, byNumber)];\n    this.shareDoc.submitOp(op, cb);\n    this._updateCollectionData();\n    return byNumber;\n  }\n  var op = [new IncrementOp(segments, byNumber)];\n  this.shareDoc.submitOp(op, cb);\n  this._updateCollectionData();\n  return previous + byNumber;\n};\n\nRemoteDoc.prototype.push = function(segments, value, cb) {\n  if (this.debugMutations) {\n    console.log('RemoteDoc push', this.path(segments), value);\n  }\n  var shareDoc = this.shareDoc;\n  function push(arr, fnCb) {\n    var op = [new ListInsertOp(segments, arr.length, value)];\n    shareDoc.submitOp(op, fnCb);\n    return arr.length;\n  }\n  return this._arrayApply(segments, push, cb);\n};\n\nRemoteDoc.prototype.unshift = function(segments, value, cb) {\n  if (this.debugMutations) {\n    console.log('RemoteDoc unshift', this.path(segments), value);\n  }\n  var shareDoc = this.shareDoc;\n  function unshift(arr, fnCb) {\n    var op = [new ListInsertOp(segments, 0, value)];\n    shareDoc.submitOp(op, fnCb);\n    return arr.length;\n  }\n  return this._arrayApply(segments, unshift, cb);\n};\n\nRemoteDoc.prototype.insert = function(segments, index, values, cb) {\n  if (this.debugMutations) {\n    console.log('RemoteDoc insert', this.path(segments), index, values);\n  }\n  var shareDoc = this.shareDoc;\n  function insert(arr, fnCb) {\n    var op = createInsertOp(segments, index, values);\n    shareDoc.submitOp(op, fnCb);\n    return arr.length;\n  }\n  return this._arrayApply(segments, insert, cb);\n};\n\nfunction createInsertOp(segments, index, values) {\n  if (!Array.isArray(values)) {\n    return [new ListInsertOp(segments, index, values)];\n  }\n  var op = [];\n  for (var i = 0, len = values.length; i < len; i++) {\n    op.push(new ListInsertOp(segments, index++, values[i]));\n  }\n  return op;\n}\n\nRemoteDoc.prototype.pop = function(segments, cb) {\n  if (this.debugMutations) {\n    console.log('RemoteDoc pop', this.path(segments));\n  }\n  var shareDoc = this.shareDoc;\n  function pop(arr, fnCb) {\n    var index = arr.length - 1;\n    var value = arr[index];\n    var op = [new ListRemoveOp(segments, index, value)];\n    shareDoc.submitOp(op, fnCb);\n    return value;\n  }\n  return this._arrayApply(segments, pop, cb);\n};\n\nRemoteDoc.prototype.shift = function(segments, cb) {\n  if (this.debugMutations) {\n    console.log('RemoteDoc shift', this.path(segments));\n  }\n  var shareDoc = this.shareDoc;\n  function shift(arr, fnCb) {\n    var value = arr[0];\n    var op = [new ListRemoveOp(segments, 0, value)];\n    shareDoc.submitOp(op, fnCb);\n    return value;\n  }\n  return this._arrayApply(segments, shift, cb);\n};\n\nRemoteDoc.prototype.remove = function(segments, index, howMany, cb) {\n  if (this.debugMutations) {\n    console.log('RemoteDoc remove', this.path(segments), index, howMany);\n  }\n  var shareDoc = this.shareDoc;\n  function remove(arr, fnCb) {\n    var values = arr.slice(index, index + howMany);\n    var op = [];\n    for (var i = 0, len = values.length; i < len; i++) {\n      op.push(new ListRemoveOp(segments, index, values[i]));\n    }\n    shareDoc.submitOp(op, fnCb);\n    return values;\n  }\n  return this._arrayApply(segments, remove, cb);\n};\n\nRemoteDoc.prototype.move = function(segments, from, to, howMany, cb) {\n  if (this.debugMutations) {\n    console.log('RemoteDoc move', this.path(segments), from, to, howMany);\n  }\n  var shareDoc = this.shareDoc;\n  function move(arr, fnCb) {\n    // Get the return value\n    var values = arr.slice(from, from + howMany);\n\n    // Build an op that moves each item individually\n    var op = [];\n    for (var i = 0; i < howMany; i++) {\n      op.push(new ListMoveOp(segments, (from < to) ? from : from + howMany - 1, (from < to) ? to + howMany - 1 : to));\n    }\n    shareDoc.submitOp(op, fnCb);\n\n    return values;\n  }\n  return this._arrayApply(segments, move, cb);\n};\n\nRemoteDoc.prototype.stringInsert = function(segments, index, value, cb) {\n  if (this.debugMutations) {\n    console.log('RemoteDoc stringInsert', this.path(segments), index, value);\n  }\n  var previous = this._createImplied(segments);\n  if (previous instanceof ImpliedOp) {\n    var lastSegment = segments[segments.length - 1];\n    previous.value[lastSegment] = value;\n    this.shareDoc.submitOp(previous.op, cb);\n    this._updateCollectionData();\n    return;\n  }\n  if (previous == null) {\n    var lastSegment = segments[segments.length - 1];\n    var op = (util.isArrayIndex(lastSegment)) ?\n      [new ListInsertOp(segments.slice(0, -1), lastSegment, value)] :\n      [new ObjectInsertOp(segments, value)];\n    this.shareDoc.submitOp(op, cb);\n    this._updateCollectionData();\n    return previous;\n  }\n  var op = [new StringInsertOp(segments, index, value)];\n  this.shareDoc.submitOp(op, cb);\n  this._updateCollectionData();\n  return previous;\n};\n\nRemoteDoc.prototype.stringRemove = function(segments, index, howMany, cb) {\n  if (this.debugMutations) {\n    console.log('RemoteDoc stringRemove', this.path(segments), index, howMany);\n  }\n  var previous = this._createImplied(segments);\n  if (previous instanceof ImpliedOp) return;\n  if (previous == null) return previous;\n  var removed = previous.slice(index, index + howMany);\n  var op = [new StringRemoveOp(segments, index, removed)];\n  this.shareDoc.submitOp(op, cb);\n  this._updateCollectionData();\n  return previous;\n};\n\nRemoteDoc.prototype.subtypeSubmit = function(segments, subtype, subtypeOp, cb) {\n  if (this.debugMutations) {\n    console.log('RemoteDoc subtypeSubmit', this.path(segments), subtype, subtypeOp);\n  }\n  var previous = this._createImplied(segments);\n  if (previous instanceof ImpliedOp) {\n    this.shareDoc.submitOp(previous.op);\n    previous = undefined;\n  }\n  var op = new SubtypeOp(segments, subtype, subtypeOp);\n  this.shareDoc.submitOp(op, cb);\n  this._updateCollectionData();\n  return previous;\n};\n\nRemoteDoc.prototype.get = function(segments) {\n  return util.lookup(segments, this.shareDoc.data);\n};\n\nRemoteDoc.prototype._createImplied = function(segments) {\n  if (!this.shareDoc.type) {\n    throw new Error('Mutation on uncreated remote document');\n  }\n  var parent = this.shareDoc;\n  var key = 'data';\n  var node = parent[key];\n  var i = 0;\n  var nextKey = segments[i++];\n  var op, value;\n  while (nextKey != null) {\n    if (!node) {\n      if (op) {\n        value = value[key] = util.isArrayIndex(nextKey) ? [] : {};\n      } else {\n        value = util.isArrayIndex(nextKey) ? [] : {};\n        if (Array.isArray(parent)) {\n          if (key >= parent.length) {\n            op = new ListInsertOp(segments.slice(0, i - 2), key, value);\n          } else {\n            op = new ListReplaceOp(segments.slice(0, i - 2), key, node, value);\n          }\n        } else {\n          op = new ObjectInsertOp(segments.slice(0, i - 1), value);\n        }\n      }\n      node = value;\n    }\n    parent = node;\n    key = nextKey;\n    node = parent[key];\n    nextKey = segments[i++];\n  }\n  if (op) return new ImpliedOp(op, value);\n  return node;\n};\n\nfunction ImpliedOp(op, value) {\n  this.op = op;\n  this.value = value;\n}\n\nRemoteDoc.prototype._arrayApply = function(segments, fn, cb) {\n  var arr = this._createImplied(segments);\n  if (arr instanceof ImpliedOp) {\n    this.shareDoc.submitOp(arr.op);\n    arr = this.get(segments);\n  }\n  if (arr == null) {\n    var lastSegment = segments[segments.length - 1];\n    var op = (util.isArrayIndex(lastSegment)) ?\n      [new ListInsertOp(segments.slice(0, -1), lastSegment, [])] :\n      [new ObjectInsertOp(segments, [])];\n    this.shareDoc.submitOp(op);\n    arr = this.get(segments);\n  }\n\n  if (!Array.isArray(arr)) {\n    var message = this._errorMessage(fn.name + ' on non-array', segments, arr);\n    var err = new TypeError(message);\n    return cb(err);\n  }\n  var out = fn(arr, cb);\n  this._updateCollectionData();\n  return out;\n};\n\nRemoteDoc.prototype._onOp = function(op) {\n  var item;\n  if (op.length === 1) {\n    // ShareDB docs shatter json0 ops into single components during apply\n    item = op[0];\n  } else if (op.length === 0) {\n    // Ignore no-ops\n    return;\n  } else {\n    try {\n      op = JSON.stringify(op);\n    } catch (err) {}\n    throw new Error('Received op with multiple components from ShareDB ' + op);\n  }\n  var segments = [this.collectionName, this.id].concat(item.p);\n  var model = this.model;\n\n  // ObjectReplaceOp, ObjectInsertOp, or ObjectDeleteOp\n  if (defined(item.oi) || defined(item.od)) {\n    var value = item.oi;\n    var previous = item.od;\n    model.emit('change', segments, [value, previous, model._pass]);\n\n  // ListReplaceOp\n  } else if (defined(item.li) && defined(item.ld)) {\n    var value = item.li;\n    var previous = item.ld;\n    model.emit('change', segments, [value, previous, model._pass]);\n\n  // ListInsertOp\n  } else if (defined(item.li)) {\n    var index = segments[segments.length - 1];\n    var values = [item.li];\n    model.emit('insert', segments.slice(0, -1), [index, values, model._pass]);\n\n  // ListRemoveOp\n  } else if (defined(item.ld)) {\n    var index = segments[segments.length - 1];\n    var removed = [item.ld];\n    model.emit('remove', segments.slice(0, -1), [index, removed, model._pass]);\n\n  // ListMoveOp\n  } else if (defined(item.lm)) {\n    var from = segments[segments.length - 1];\n    var to = item.lm;\n    var howMany = 1;\n    model.emit('move', segments.slice(0, -1), [from, to, howMany, model._pass]);\n\n  // StringInsertOp\n  } else if (defined(item.si)) {\n    var index = segments[segments.length - 1];\n    var text = item.si;\n    segments = segments.slice(0, -1);\n    var value = model._get(segments);\n    var previous = value.slice(0, index) + value.slice(index + text.length);\n    var pass = model.pass({$stringInsert: {index: index, text: text}})._pass;\n    model.emit('change', segments, [value, previous, pass]);\n\n  // StringRemoveOp\n  } else if (defined(item.sd)) {\n    var index = segments[segments.length - 1];\n    var text = item.sd;\n    var howMany = text.length;\n    segments = segments.slice(0, -1);\n    var value = model._get(segments);\n    var previous = value.slice(0, index) + text + value.slice(index);\n    var pass = model.pass({$stringRemove: {index: index, howMany: howMany}})._pass;\n    model.emit('change', segments, [value, previous, pass]);\n\n  // IncrementOp\n  } else if (defined(item.na)) {\n    var value = this.get(item.p);\n    var previous = value - item.na;\n    model.emit('change', segments, [value, previous, model._pass]);\n\n  // SubtypeOp\n  } else if (defined(item.t)) {\n    var value = this.get(item.p);\n    // Since this is generic to all subtypes, we don't know how to get a copy\n    // of the previous value efficiently. We could make a copy eagerly, but\n    // given that embedded types are likely to be used for custom editors,\n    // we'll assume they primarily use the returned op and are unlikely to\n    // need the previous snapshot data\n    var previous = undefined;\n    var type = item.t;\n    var op = item.o;\n    var pass = model.pass({$subtype: {type: type, op: op}})._pass;\n    model.emit('change', segments, [value, previous, pass]);\n  }\n};\n\nfunction ObjectReplaceOp(segments, before, after) {\n  this.p = util.castSegments(segments);\n  this.od = before;\n  this.oi = (after === undefined) ? null : after;\n}\nfunction ObjectInsertOp(segments, value) {\n  this.p = util.castSegments(segments);\n  this.oi = (value === undefined) ? null : value;\n}\nfunction ObjectDeleteOp(segments, value) {\n  this.p = util.castSegments(segments);\n  this.od = (value === undefined) ? null : value;\n}\nfunction ListReplaceOp(segments, index, before, after) {\n  this.p = util.castSegments(segments.concat(index));\n  this.ld = before;\n  this.li = (after === undefined) ? null : after;\n}\nfunction ListInsertOp(segments, index, value) {\n  this.p = util.castSegments(segments.concat(index));\n  this.li = (value === undefined) ? null : value;\n}\nfunction ListRemoveOp(segments, index, value) {\n  this.p = util.castSegments(segments.concat(index));\n  this.ld = (value === undefined) ? null : value;\n}\nfunction ListMoveOp(segments, from, to) {\n  this.p = util.castSegments(segments.concat(from));\n  this.lm = to;\n}\nfunction StringInsertOp(segments, index, value) {\n  this.p = util.castSegments(segments.concat(index));\n  this.si = value;\n}\nfunction StringRemoveOp(segments, index, value) {\n  this.p = util.castSegments(segments.concat(index));\n  this.sd = value;\n}\nfunction IncrementOp(segments, byNumber) {\n  this.p = util.castSegments(segments);\n  this.na = byNumber;\n}\nfunction SubtypeOp(segments, subtype, subtypeOp) {\n  this.p = util.castSegments(segments);\n  this.t = subtype;\n  this.o = subtypeOp;\n}\n\nfunction defined(value) {\n  return value !== undefined;\n}\n",
    "var Connection = require('sharedb/lib/client').Connection;\nvar Model = require('./Model');\nvar LocalDoc = require('./LocalDoc');\nvar RemoteDoc = require('./RemoteDoc');\n\nModel.INITS.push(function(model) {\n  model.root._preventCompose = false;\n});\n\nModel.prototype.preventCompose = function() {\n  var model = this._child();\n  model._preventCompose = true;\n  return model;\n};\n\nModel.prototype.allowCompose = function() {\n  var model = this._child();\n  model._preventCompose = false;\n  return model;\n};\n\nModel.prototype.createConnection = function(bundle) {\n  // Model::_createSocket should be defined by the socket plugin\n  this.root.socket = this._createSocket(bundle);\n\n  // The Share connection will bind to the socket by defining the onopen,\n  // onmessage, etc. methods\n  var model = this;\n  this.root.connection = new Connection(this.root.socket);\n  this.root.connection.on('state', function(state, reason) {\n    model._setDiff(['$connection', 'state'], state);\n    model._setDiff(['$connection', 'reason'], reason);\n  });\n  this._set(['$connection', 'state'], 'connected');\n\n  this._finishCreateConnection();\n};\n\nModel.prototype._finishCreateConnection = function() {\n  var model = this;\n  this.root.connection.on('error', function(err) {\n    model._emitError(err);\n  });\n  // Share docs can be created by queries, so we need to register them\n  // with Racer as soon as they are created to capture their events\n  this.root.connection.on('doc', function(shareDoc) {\n    model.getOrCreateDoc(shareDoc.collection, shareDoc.id);\n  });\n};\n\nModel.prototype.connect = function() {\n  this.root.socket.open();\n};\nModel.prototype.disconnect = function() {\n  this.root.socket.close();\n};\nModel.prototype.reconnect = function() {\n  this.disconnect();\n  this.connect();\n};\n// Clean delayed disconnect\nModel.prototype.close = function(cb) {\n  cb = this.wrapCallback(cb);\n  var model = this;\n  this.whenNothingPending(function() {\n    model.root.socket.close();\n    cb();\n  });\n};\n\n// Returns a reference to the ShareDB agent if it is connected directly on the\n// server. Will return null if the ShareDB connection has been disconnected or\n// if we are not in the same process and we do not have a reference to the\n// server-side agent object\nModel.prototype.getAgent = function() {\n  return this.root.connection.agent;\n};\n\nModel.prototype._isLocal = function(name) {\n  // Whether the collection is local or remote is determined by its name.\n  // Collections starting with an underscore ('_') are for user-defined local\n  // collections, those starting with a dollar sign ('$'') are for\n  // framework-defined local collections, and all others are remote.\n  var firstCharcter = name.charAt(0);\n  return firstCharcter === '_' || firstCharcter === '$';\n};\n\nModel.prototype._getDocConstructor = function(name) {\n  return (this._isLocal(name)) ? LocalDoc : RemoteDoc;\n};\n\nModel.prototype.hasPending = function() {\n  return this.root.connection.hasPending();\n};\nModel.prototype.hasWritePending = function() {\n  return this.root.connection.hasWritePending();\n};\nModel.prototype.whenNothingPending = function(cb) {\n  return this.root.connection.whenNothingPending(cb);\n};\n",
    "var util = require('../util');\nvar Model = require('./Model');\nvar defaultType = require('sharedb/lib/client').types.defaultType;\n\nmodule.exports = Query;\n\nModel.INITS.push(function(model) {\n  model.root._queries = new Queries();\n});\n\nModel.prototype.query = function(collectionName, expression, options) {\n  // DEPRECATED: Passing in a string as the third argument specifies the db\n  // option for backward compatibility\n  if (typeof options === 'string') {\n    options = {db: options};\n  }\n  return this._getOrCreateQuery(collectionName, expression, options, Query);\n};\n\n/**\n * If an existing query is present with the same `collectionName`, `expression`,\n * and `options`, then returns the existing query; otherwise, constructs and\n * returns a new query using `QueryConstructor`.\n *\n * @param {string} collectionName\n * @param {*} expression\n * @param {*} options\n * @param {new (model: Model, collectionName: string, expression: any, options: any) => Query} QueryConstructor -\n *   constructor function for a Query, to create one if not already present on this model\n */\nModel.prototype._getOrCreateQuery = function(collectionName, expression, options, QueryConstructor) {\n  expression = this.sanitizeQuery(expression);\n  var query = this.root._queries.get(collectionName, expression, options);\n  if (query) return query;\n  query = new QueryConstructor(this, collectionName, expression, options);\n  this.root._queries.add(query);\n  return query;\n};\n\n// This method replaces undefined in query objects with null, because\n// undefined properties are removed in JSON stringify. This can be dangerous\n// in queries, where presenece of a property may indicate that it should be a\n// filter and absence means that all values are accepted. We aren't checking\n// for cycles, which aren't allowed in JSON, so this could throw a max call\n// stack error\nModel.prototype.sanitizeQuery = function(expression) {\n  if (expression && typeof expression === 'object') {\n    for (var key in expression) {\n      if (expression.hasOwnProperty(key)) {\n        var value = expression[key];\n        if (value === undefined) {\n          expression[key] = null;\n        } else {\n          this.sanitizeQuery(value);\n        }\n      }\n    }\n  }\n  return expression;\n};\n\n// Called during initialization of the bundle on page load.\nModel.prototype._initQueries = function(items) {\n  var queries = this.root._queries;\n  for (var i = 0; i < items.length; i++) {\n    var item = items[i];\n    var counts = item[0];\n    var collectionName = item[1];\n    var expression = item[2];\n    var results = item[3] || [];\n    var options = item[4];\n    var extra = item[5];\n    var query = this.root._queries.get(collectionName, expression, options);\n    if (!query) {\n      query = new Query(this, collectionName, expression, options);\n      queries.add(query);\n    }\n\n    query._setExtra(extra);\n\n    var ids = [];\n    for (var resultIndex = 0; resultIndex < results.length; resultIndex++) {\n      var result = results[resultIndex];\n      if (typeof result === 'string') {\n        ids.push(result);\n        continue;\n      }\n      var data = result[0];\n      var v = result[1];\n      var id = result[2] || data.id;\n      var type = result[3];\n      ids.push(id);\n      var snapshot = {data: data, v: v, type: type};\n      this.getOrCreateDoc(collectionName, id, snapshot);\n    }\n    query._addMapIds(ids);\n    this._set(query.idsSegments, ids);\n\n    for (var countIndex = 0; countIndex < counts.length; countIndex++) {\n      var count = counts[countIndex];\n      var subscribed = count[0] || 0;\n      var fetched = count[1] || 0;\n      var contextId = count[2];\n      if (contextId) query.model.setContext(contextId);\n      while (subscribed--) {\n        query.subscribe();\n      }\n      query.fetchCount += fetched;\n      while (fetched--) {\n        query.model._context.fetchQuery(query);\n      }\n    }\n  }\n};\n\nfunction Queries() {\n  // Map is a flattened map of queries by hash. Currently used in contexts\n  this.map = {};\n  // Collections is a nested map of queries by collection then hash\n  this.collections = {};\n}\nQueries.prototype.add = function(query) {\n  this.map[query.hash] = query;\n  var collection = this.collections[query.collectionName] ||\n    (this.collections[query.collectionName] = {});\n  collection[query.hash] = query;\n};\nQueries.prototype.remove = function(query) {\n  delete this.map[query.hash];\n  var collection = this.collections[query.collectionName];\n  if (!collection) return;\n  delete collection[query.hash];\n  // Check if the collection still has any keys\n  // eslint-disable-next-line no-unused-vars\n  for (var key in collection) return;\n  delete this.collections[query.collectionName];\n};\nQueries.prototype.get = function(collectionName, expression, options) {\n  var hash = queryHash(collectionName, expression, options);\n  return this.map[hash];\n};\nQueries.prototype.toJSON = function() {\n  var out = [];\n  for (var hash in this.map) {\n    var query = this.map[hash];\n    if (query.subscribeCount || query.fetchCount) {\n      out.push(query.serialize());\n    }\n  }\n  return out;\n};\n\nfunction Query(model, collectionName, expression, options) {\n  this.model = model.pass({$query: this});\n  this.collectionName = collectionName;\n  this.expression = expression;\n  this.options = options;\n  this.hash = queryHash(collectionName, expression, options);\n  this.segments = ['$queries', this.hash];\n  this.idsSegments = ['$queries', this.hash, 'ids'];\n  this.extraSegments = ['$queries', this.hash, 'extra'];\n\n  this._pendingSubscribeCallbacks = [];\n\n  // These are used to help cleanup appropriately when calling unsubscribe and\n  // unfetch. A query won't be fully cleaned up until unfetch and unsubscribe\n  // are called the same number of times that fetch and subscribe were called.\n  this.subscribeCount = 0;\n  this.fetchCount = 0;\n\n  this.created = false;\n  this.shareQuery = null;\n\n  // idMap is checked in maybeUnload to see if the query is currently holding\n  // a reference to an id in its results set. This map is duplicative of the\n  // actual results id list stored in the model, but we are maintaining it,\n  // because otherwise maybeUnload would be looping through the entire results\n  // set of each query on the same collection for every doc checked\n  //\n  // Map of id -> count of ids\n  this.idMap = {};\n}\n\nQuery.prototype.create = function() {\n  this.created = true;\n  this.model.root._queries.add(this);\n};\n\nQuery.prototype.destroy = function() {\n  var ids = this.getIds();\n  this.created = false;\n  if (this.shareQuery) {\n    this.shareQuery.destroy();\n    this.shareQuery = null;\n  }\n  this.model.root._queries.remove(this);\n  this.idMap = {};\n  this.model._del(this.segments);\n  this._maybeUnloadDocs(ids);\n};\n\nQuery.prototype.fetch = function(cb) {\n  cb = this.model.wrapCallback(cb);\n  this.model._context.fetchQuery(this);\n\n  this.fetchCount++;\n\n  if (!this.created) this.create();\n\n  var query = this;\n  function fetchCb(err, results, extra) {\n    if (err) return cb(err);\n    query._setExtra(extra);\n    query._setResults(results);\n    cb();\n  }\n  this.model.root.connection.createFetchQuery(\n    this.collectionName,\n    this.expression,\n    this.options,\n    fetchCb\n  );\n  return this;\n};\n\nQuery.prototype.subscribe = function(cb) {\n  cb = this.model.wrapCallback(cb);\n  this.model._context.subscribeQuery(this);\n\n  if (this.subscribeCount++) {\n    var query = this;\n    process.nextTick(function() {\n      var data = query.model._get(query.segments);\n      if (data) {\n        cb();\n      } else {\n        query._pendingSubscribeCallbacks.push(cb);\n      }\n    });\n    return this;\n  }\n\n  if (!this.created) this.create();\n\n  var options = (this.options) ? util.copy(this.options) : {};\n  options.results = this._getShareResults();\n\n  // When doing server-side rendering, we actually do a fetch the first time\n  // that subscribe is called, but keep track of the state as if subscribe\n  // were called for proper initialization in the client\n  if (this.model.root.fetchOnly) {\n    this._shareFetchedSubscribe(options, cb);\n  } else {\n    this._shareSubscribe(options, cb);\n  }\n\n  return this;\n};\n\nQuery.prototype._subscribeCb = function(cb) {\n  var query = this;\n  return function subscribeCb(err, results, extra) {\n    if (err) return query._flushSubscribeCallbacks(err, cb);\n    query._setExtra(extra);\n    query._setResults(results);\n    query._flushSubscribeCallbacks(null, cb);\n  };\n};\n\nQuery.prototype._shareFetchedSubscribe = function(options, cb) {\n  this.model.root.connection.createFetchQuery(\n    this.collectionName,\n    this.expression,\n    options,\n    this._subscribeCb(cb)\n  );\n};\n\nQuery.prototype._shareSubscribe = function(options, cb) {\n  var query = this;\n  // Sanity check, though this shouldn't happen\n  if (this.shareQuery) {\n    this.shareQuery.destroy();\n  }\n  this.shareQuery = this.model.root.connection.createSubscribeQuery(\n    this.collectionName,\n    this.expression,\n    options,\n    this._subscribeCb(cb)\n  );\n  this.shareQuery.on('insert', function(shareDocs, index) {\n    var ids = resultsIds(shareDocs);\n    query._addMapIds(ids);\n    query.model._insert(query.idsSegments, index, ids);\n  });\n  this.shareQuery.on('remove', function(shareDocs, index) {\n    var ids = resultsIds(shareDocs);\n    query._removeMapIds(ids);\n    query.model._remove(query.idsSegments, index, shareDocs.length);\n  });\n  this.shareQuery.on('move', function(shareDocs, from, to) {\n    query.model._move(query.idsSegments, from, to, shareDocs.length);\n  });\n  this.shareQuery.on('extra', function(extra) {\n    query.model._setDiffDeep(query.extraSegments, extra);\n  });\n  this.shareQuery.on('error', function(err) {\n    query.model._emitError(err, query.hash);\n  });\n};\n\nQuery.prototype._removeMapIds = function(ids) {\n  for (var i = ids.length; i--;) {\n    var id = ids[i];\n    if (this.idMap[id] > 1) {\n      this.idMap[id]--;\n    } else {\n      delete this.idMap[id];\n    }\n  }\n  // Technically this isn't quite right and we might not wait the full unload\n  // delay if someone else calls maybeUnload for the same doc id. However,\n  // it is a lot easier to implement than delaying the removal until later and\n  // dealing with adds that might happen in the meantime. This will probably\n  // work to avoid thrashing subscribe/unsubscribe in expected cases\n  if (this.model.root.unloadDelay) {\n    var query = this;\n    setTimeout(function() {\n      query._maybeUnloadDocs(ids);\n    }, this.model.root.unloadDelay);\n    return;\n  }\n  this._maybeUnloadDocs(ids);\n};\nQuery.prototype._addMapIds = function(ids) {\n  for (var i = ids.length; i--;) {\n    var id = ids[i];\n    this.idMap[id] = (this.idMap[id] || 0) + 1;\n  }\n};\nQuery.prototype._diffMapIds = function(ids) {\n  var addedIds = [];\n  var removedIds = [];\n  var newMap = {};\n  for (var i = ids.length; i--;) {\n    var id = ids[i];\n    newMap[id] = true;\n    if (this.idMap[id]) continue;\n    addedIds.push(id);\n  }\n  for (var id in this.idMap) {\n    if (newMap[id]) continue;\n    removedIds.push(id);\n  }\n  if (addedIds.length) this._addMapIds(addedIds);\n  if (removedIds.length) this._removeMapIds(removedIds);\n};\nQuery.prototype._setExtra = function(extra) {\n  if (extra === undefined) return;\n  this.model._setDiffDeep(this.extraSegments, extra);\n};\nQuery.prototype._setResults = function(results) {\n  var ids = resultsIds(results);\n  this._setResultIds(ids);\n};\nQuery.prototype._setResultIds = function(ids) {\n  this._diffMapIds(ids);\n  this.model._setArrayDiff(this.idsSegments, ids);\n};\nQuery.prototype._maybeUnloadDocs = function(ids) {\n  for (var i = 0; i < ids.length; i++) {\n    var id = ids[i];\n    this.model._maybeUnloadDoc(this.collectionName, id);\n  }\n};\n\n// Flushes `_pendingSubscribeCallbacks`, calling each callback in the array,\n// with an optional error to pass into each. `_pendingSubscribeCallbacks` will\n// be empty after this runs.\nQuery.prototype._flushSubscribeCallbacks = function(err, cb) {\n  cb(err);\n  var pendingCallback;\n  while ((pendingCallback = this._pendingSubscribeCallbacks.shift())) {\n    pendingCallback(err);\n  }\n};\n\nQuery.prototype.unfetch = function(cb) {\n  cb = this.model.wrapCallback(cb);\n  this.model._context.unfetchQuery(this);\n\n  // No effect if the query is not currently fetched\n  if (!this.fetchCount) {\n    cb();\n    return this;\n  }\n\n  var query = this;\n  if (this.model.root.unloadDelay) {\n    setTimeout(finishUnfetchQuery, this.model.root.unloadDelay);\n  } else {\n    finishUnfetchQuery();\n  }\n  function finishUnfetchQuery() {\n    var count = --query.fetchCount;\n    if (count) return cb(null, count);\n    // Cleanup when no fetches or subscribes remain\n    if (!query.subscribeCount) query.destroy();\n    cb(null, 0);\n  }\n  return this;\n};\n\nQuery.prototype.unsubscribe = function(cb) {\n  cb = this.model.wrapCallback(cb);\n  this.model._context.unsubscribeQuery(this);\n\n  // No effect if the query is not currently subscribed\n  if (!this.subscribeCount) {\n    cb();\n    return this;\n  }\n\n  var query = this;\n  if (this.model.root.unloadDelay) {\n    setTimeout(finishUnsubscribeQuery, this.model.root.unloadDelay);\n  } else {\n    finishUnsubscribeQuery();\n  }\n  function finishUnsubscribeQuery() {\n    var count = --query.subscribeCount;\n    if (count) return cb(null, count);\n\n    if (query.shareQuery) {\n      query.shareQuery.destroy();\n      query.shareQuery = null;\n    }\n\n    unsubscribeQueryCallback();\n  }\n  function unsubscribeQueryCallback(err) {\n    if (err) return cb(err);\n    // Cleanup when no fetches or subscribes remain\n    if (!query.fetchCount) query.destroy();\n    cb(null, 0);\n  }\n  return this;\n};\n\nQuery.prototype._getShareResults = function() {\n  var ids = this.model._get(this.idsSegments);\n  if (!ids) return;\n\n  var collection = this.model.getCollection(this.collectionName);\n  if (!collection) return;\n\n  var results = [];\n  for (var i = 0; i < ids.length; i++) {\n    var id = ids[i];\n    var doc = collection.docs[id];\n    results.push(doc && doc.shareDoc);\n  }\n  return results;\n};\n\nQuery.prototype.get = function() {\n  var results = [];\n  var data = this.model._get(this.segments);\n  if (!data) {\n    console.warn('You must fetch or subscribe to a query before getting its results.');\n    return results;\n  }\n  var ids = data.ids;\n  if (!ids) return results;\n\n  var collection = this.model.getCollection(this.collectionName);\n  for (var i = 0, l = ids.length; i < l; i++) {\n    var id = ids[i];\n    var doc = collection && collection.docs[id];\n    results.push(doc && doc.get());\n  }\n  return results;\n};\n\nQuery.prototype.getIds = function() {\n  return this.model._get(this.idsSegments) || [];\n};\n\nQuery.prototype.getExtra = function() {\n  return this.model._get(this.extraSegments);\n};\n\nQuery.prototype.ref = function(from) {\n  var idsPath = this.idsSegments.join('.');\n  return this.model.refList(from, this.collectionName, idsPath);\n};\n\nQuery.prototype.refIds = function(from) {\n  var idsPath = this.idsSegments.join('.');\n  return this.model.root.ref(from, idsPath);\n};\n\nQuery.prototype.refExtra = function(from, relPath) {\n  var extraPath = this.extraSegments.join('.');\n  if (relPath) extraPath += '.' + relPath;\n  return this.model.root.ref(from, extraPath);\n};\n\nQuery.prototype.serialize = function() {\n  var ids = this.getIds();\n  var collection = this.model.getCollection(this.collectionName);\n  var results;\n  if (collection) {\n    results = [];\n    for (var i = 0; i < ids.length; i++) {\n      var id = ids[i];\n      var doc = collection.docs[id];\n      if (doc) {\n        delete collection.docs[id];\n        var data = doc.shareDoc.data;\n        var result = [data, doc.shareDoc.version];\n        if (!data || data.id !== id) {\n          result[2] = id;\n        }\n        if (doc.shareDoc.type !== defaultType) {\n          result[3] = doc.shareDoc.type && doc.shareDoc.type.name;\n        }\n        results.push(result);\n      } else {\n        results.push(id);\n      }\n    }\n  }\n  var counts = [];\n  var contexts = this.model.root._contexts;\n  for (var key in contexts) {\n    var context = contexts[key];\n    var subscribed = context.subscribedQueries[this.hash] || 0;\n    var fetched = context.fetchedQueries[this.hash] || 0;\n    if (subscribed || fetched) {\n      if (key !== 'root') {\n        counts.push([subscribed, fetched, key]);\n      } else if (fetched) {\n        counts.push([subscribed, fetched]);\n      } else {\n        counts.push([subscribed]);\n      }\n    }\n  }\n  var serialized = [\n    counts,\n    this.collectionName,\n    this.expression,\n    results,\n    this.options,\n    this.getExtra()\n  ];\n  while (serialized[serialized.length - 1] == null) {\n    serialized.pop();\n  }\n  return serialized;\n};\n\nfunction queryHash(collectionName, expression, options) {\n  var args = [collectionName, expression, options];\n  return JSON.stringify(args).replace(/\\./g, '|');\n}\n\nfunction resultsIds(results) {\n  var ids = [];\n  for (var i = 0; i < results.length; i++) {\n    var shareDoc = results[i];\n    ids.push(shareDoc.id);\n  }\n  return ids;\n}\n",
    "module.exports = CollectionCounter;\n\nfunction CollectionCounter() {\n  this.reset();\n}\nCollectionCounter.prototype.reset = function() {\n  this.collections = {};\n};\nCollectionCounter.prototype.get = function(collectionName, id) {\n  var collection = this.collections[collectionName];\n  return collection && collection[id];\n};\nCollectionCounter.prototype.increment = function(collectionName, id) {\n  var collection = this.collections[collectionName] ||\n    (this.collections[collectionName] = {});\n  var count = (collection[id] || 0) + 1;\n  collection[id] = count;\n  return count;\n};\nCollectionCounter.prototype.decrement = function(collectionName, id) {\n  var collection = this.collections[collectionName];\n  var count = collection && collection[id];\n  if (count == null) return;\n  if (count > 1) {\n    count--;\n    collection[id] = count;\n    return count;\n  }\n  delete collection[id];\n  // Check if the collection still has any keys\n  // eslint-disable-next-line no-unused-vars\n  for (var key in collection) return 0;\n  delete this.collections[collectionName];\n  return 0;\n};\nCollectionCounter.prototype.toJSON = function() {\n  // Check to see if we have any keys\n  // eslint-disable-next-line no-unused-vars\n  for (var key in this.collections) {\n    return this.collections;\n  }\n  return;\n};\n",
    "var util = require('../util');\nvar Model = require('./Model');\nvar Query = require('./Query');\nvar CollectionCounter = require('./CollectionCounter');\n\nModel.INITS.push(function(model, options) {\n  model.root.fetchOnly = options.fetchOnly;\n  model.root.unloadDelay = options.unloadDelay || (util.isServer) ? 0 : 1000;\n\n  // Track the total number of active fetches per doc\n  model.root._fetchedDocs = new CollectionCounter();\n  // Track the total number of active susbscribes per doc\n  model.root._subscribedDocs = new CollectionCounter();\n});\n\nModel.prototype.fetch = function() {\n  this._forSubscribable(arguments, 'fetch');\n  return this;\n};\nModel.prototype.unfetch = function() {\n  this._forSubscribable(arguments, 'unfetch');\n  return this;\n};\nModel.prototype.subscribe = function() {\n  this._forSubscribable(arguments, 'subscribe');\n  return this;\n};\nModel.prototype.unsubscribe = function() {\n  this._forSubscribable(arguments, 'unsubscribe');\n  return this;\n};\n\nModel.prototype._forSubscribable = function(argumentsObject, method) {\n  var args, cb;\n  if (!argumentsObject.length) {\n    // Use this model's scope if no arguments\n    args = [null];\n  } else if (typeof argumentsObject[0] === 'function') {\n    // Use this model's scope if the first argument is a callback\n    args = [null];\n    cb = argumentsObject[0];\n  } else if (Array.isArray(argumentsObject[0])) {\n    // Items can be passed in as an array\n    args = argumentsObject[0];\n    cb = argumentsObject[1];\n  } else {\n    // Or as multiple arguments\n    args = Array.prototype.slice.call(argumentsObject);\n    var last = args[args.length - 1];\n    if (typeof last === 'function') cb = args.pop();\n  }\n\n  var group = util.asyncGroup(this.wrapCallback(cb));\n  var finished = group();\n  var docMethod = method + 'Doc';\n\n  this.root.connection.startBulk();\n  for (var i = 0; i < args.length; i++) {\n    var item = args[i];\n    if (item instanceof Query) {\n      item[method](group());\n    } else {\n      var segments = this._dereference(this._splitPath(item));\n      if (segments.length === 2) {\n        // Do the appropriate method for a single document.\n        this[docMethod](segments[0], segments[1], group());\n      } else {\n        var message = 'Cannot ' + method + ' to path: ' + segments.join('.');\n        group()(new Error(message));\n      }\n    }\n  }\n  this.root.connection.endBulk();\n  process.nextTick(finished);\n};\n\nModel.prototype.fetchDoc = function(collectionName, id, cb) {\n  cb = this.wrapCallback(cb);\n\n  // Maintain a count of fetches so that we can unload the document\n  // when there are no remaining fetches or subscribes for that document\n  this._context.fetchDoc(collectionName, id);\n  this.root._fetchedDocs.increment(collectionName, id);\n\n  // Fetch\n  var doc = this.getOrCreateDoc(collectionName, id);\n  doc.shareDoc.fetch(cb);\n};\n\nModel.prototype.subscribeDoc = function(collectionName, id, cb) {\n  cb = this.wrapCallback(cb);\n\n  // Maintain a count of subscribes so that we can unload the document\n  // when there are no remaining fetches or subscribes for that document\n  this._context.subscribeDoc(collectionName, id);\n  this.root._subscribedDocs.increment(collectionName, id);\n\n  var doc = this.getOrCreateDoc(collectionName, id);\n  // Early return if we know we are already subscribed\n  if (doc.shareDoc.subscribed) {\n    return cb();\n  }\n  // Subscribe\n  if (this.root.fetchOnly) {\n    doc.shareDoc.fetch(cb);\n  } else {\n    doc.shareDoc.subscribe(cb);\n  }\n};\n\nModel.prototype.unfetchDoc = function(collectionName, id, cb) {\n  cb = this.wrapCallback(cb);\n  this._context.unfetchDoc(collectionName, id);\n\n  // No effect if the document is not currently fetched\n  if (!this.root._fetchedDocs.get(collectionName, id)) return cb();\n\n  var model = this;\n  if (this.root.unloadDelay) {\n    setTimeout(finishUnfetchDoc, this.root.unloadDelay);\n  } else {\n    finishUnfetchDoc();\n  }\n  function finishUnfetchDoc() {\n    var count = model.root._fetchedDocs.decrement(collectionName, id);\n    if (count) return cb(null, count);\n    model._maybeUnloadDoc(collectionName, id);\n    cb(null, 0);\n  }\n};\n\nModel.prototype.unsubscribeDoc = function(collectionName, id, cb) {\n  cb = this.wrapCallback(cb);\n  this._context.unsubscribeDoc(collectionName, id);\n\n  // No effect if the document is not currently subscribed\n  if (!this.root._subscribedDocs.get(collectionName, id)) return cb();\n\n  var model = this;\n  if (this.root.unloadDelay) {\n    setTimeout(finishUnsubscribeDoc, this.root.unloadDelay);\n  } else {\n    finishUnsubscribeDoc();\n  }\n  function finishUnsubscribeDoc() {\n    var count = model.root._subscribedDocs.decrement(collectionName, id);\n    // If there are more remaining subscriptions, only decrement the count\n    // and callback with how many subscriptions are remaining\n    if (count) return cb(null, count);\n\n    // If there is only one remaining subscription, actually unsubscribe\n    if (model.root.fetchOnly) {\n      unsubscribeDocCallback();\n    } else {\n      var doc = model.getDoc(collectionName, id);\n      var shareDoc = doc && doc.shareDoc;\n      if (!shareDoc) return unsubscribeDocCallback();\n      shareDoc.unsubscribe(unsubscribeDocCallback);\n    }\n  }\n  function unsubscribeDocCallback(err) {\n    model._maybeUnloadDoc(collectionName, id);\n    if (err) return cb(err);\n    cb(null, 0);\n  }\n};\n\n// Removes the document from the local model if the model no longer has any\n// remaining fetches or subscribes via a query or direct loading\nModel.prototype._maybeUnloadDoc = function(collectionName, id) {\n  var doc = this.getDoc(collectionName, id);\n  if (!doc) return;\n\n  // If there is a query or direct fetch or subscribe that is holding reference\n  // to this doc, leave it loaded\n  if (this._hasDocReferences(collectionName, id)) return;\n  // Calling sharedDoc.destroy() will remove it from the connection only when\n  // there aren't any operations, fetches, or subscribes pending on the doc.\n  // Thus, if we remove the doc from Racer's model but don't remove it from\n  // ShareDB, we can end up with an inconsistent state, with the data existing\n  // in ShareDB not reflected in the racer model data\n  if (doc.shareDoc && doc.shareDoc.hasPending()) return;\n\n  var previous = doc.get();\n\n  // Remove doc from Racer\n  this.root.collections[collectionName].remove(id);\n  // Remove doc from Share\n  if (doc.shareDoc) doc.shareDoc.destroy();\n\n  this.emit('unload', [collectionName, id], [previous, this._pass]);\n};\n\nModel.prototype._hasDocReferences = function(collectionName, id) {\n  // Check if any fetched or subscribed queries currently have the\n  // id in their results\n  var queries = this.root._queries.collections[collectionName];\n  if (queries) {\n    for (var hash in queries) {\n      var query = queries[hash];\n      if (!query.subscribeCount && !query.fetchCount) continue;\n      if (query.idMap[id] > 0) return true;\n    }\n  }\n\n  // Check if document currently has direct fetch or subscribe\n  if (\n    this.root._fetchedDocs.get(collectionName, id) ||\n    this.root._subscribedDocs.get(collectionName, id)\n  ) return true;\n\n  return false;\n};\n",
    "/**\n * Contexts are useful for keeping track of the origin of subscribes.\n */\n\nvar Model = require('./Model');\nvar CollectionCounter = require('./CollectionCounter');\n\nModel.INITS.push(function(model) {\n  model.root._contexts = new Contexts();\n  model.root.setContext('root');\n});\n\nModel.prototype.context = function(id) {\n  var model = this._child();\n  model.setContext(id);\n  return model;\n};\n\nModel.prototype.setContext = function(id) {\n  this._context = this.getOrCreateContext(id);\n};\n\nModel.prototype.getOrCreateContext = function(id) {\n  var context = this.root._contexts[id] ||\n    (this.root._contexts[id] = new Context(this, id));\n  return context;\n};\n\nModel.prototype.unload = function(id) {\n  var context = (id) ? this.root._contexts[id] : this._context;\n  context && context.unload();\n};\n\nModel.prototype.unloadAll = function() {\n  var contexts = this.root._contexts;\n  for (var key in contexts) {\n    contexts[key].unload();\n  }\n};\n\nfunction Contexts() {}\n\nfunction FetchedQueries() {}\nfunction SubscribedQueries() {}\n\nfunction Context(model, id) {\n  this.model = model;\n  this.id = id;\n  this.fetchedDocs = new CollectionCounter();\n  this.subscribedDocs = new CollectionCounter();\n  this.createdDocs = new CollectionCounter();\n  this.fetchedQueries = new FetchedQueries();\n  this.subscribedQueries = new SubscribedQueries();\n}\n\nContext.prototype.toJSON = function() {\n  var fetchedDocs = this.fetchedDocs.toJSON();\n  var subscribedDocs = this.subscribedDocs.toJSON();\n  var createdDocs = this.createdDocs.toJSON();\n  if (!fetchedDocs && !subscribedDocs && !createdDocs) return;\n  return {\n    fetchedDocs: fetchedDocs,\n    subscribedDocs: subscribedDocs,\n    createdDocs: createdDocs\n  };\n};\n\nContext.prototype.fetchDoc = function(collectionName, id) {\n  this.fetchedDocs.increment(collectionName, id);\n};\nContext.prototype.subscribeDoc = function(collectionName, id) {\n  this.subscribedDocs.increment(collectionName, id);\n};\nContext.prototype.unfetchDoc = function(collectionName, id) {\n  this.fetchedDocs.decrement(collectionName, id);\n};\nContext.prototype.unsubscribeDoc = function(collectionName, id) {\n  this.subscribedDocs.decrement(collectionName, id);\n};\nContext.prototype.createDoc = function(collectionName, id) {\n  this.createdDocs.increment(collectionName, id);\n};\nContext.prototype.fetchQuery = function(query) {\n  mapIncrement(this.fetchedQueries, query.hash);\n};\nContext.prototype.subscribeQuery = function(query) {\n  mapIncrement(this.subscribedQueries, query.hash);\n};\nContext.prototype.unfetchQuery = function(query) {\n  mapDecrement(this.fetchedQueries, query.hash);\n};\nContext.prototype.unsubscribeQuery = function(query) {\n  mapDecrement(this.subscribedQueries, query.hash);\n};\nfunction mapIncrement(map, key) {\n  map[key] = (map[key] || 0) + 1;\n}\nfunction mapDecrement(map, key) {\n  map[key] && map[key]--;\n  if (!map[key]) delete map[key];\n}\n\nContext.prototype.unload = function() {\n  var model = this.model;\n  for (var hash in this.fetchedQueries) {\n    var query = model.root._queries.map[hash];\n    if (!query) continue;\n    var count = this.fetchedQueries[hash];\n    while (count--) query.unfetch();\n  }\n  for (var hash in this.subscribedQueries) {\n    var query = model.root._queries.map[hash];\n    if (!query) continue;\n    var count = this.subscribedQueries[hash];\n    while (count--) query.unsubscribe();\n  }\n  for (var collectionName in this.fetchedDocs.collections) {\n    var collection = this.fetchedDocs.collections[collectionName];\n    for (var id in collection) {\n      var count = collection[id];\n      while (count--) model.unfetchDoc(collectionName, id);\n    }\n  }\n  for (var collectionName in this.subscribedDocs.collections) {\n    var collection = this.subscribedDocs.collections[collectionName];\n    for (var id in collection) {\n      var count = collection[id];\n      while (count--) model.unsubscribeDoc(collectionName, id);\n    }\n  }\n  for (var collectionName in this.createdDocs.collections) {\n    var collection = this.createdDocs.collections[collectionName];\n    for (var id in collection) {\n      model._maybeUnloadDoc(collectionName, id);\n    }\n  }\n  this.createdDocs.reset();\n};\n",
    "var defaultFns = module.exports = new DefaultFns();\n\ndefaultFns.reverse = new FnPair(getReverse, setReverse);\ndefaultFns.asc = asc;\ndefaultFns.desc = desc;\n\nfunction DefaultFns() {}\nfunction FnPair(get, set) {\n  this.get = get;\n  this.set = set;\n}\n\nfunction getReverse(array) {\n  return array && array.slice().reverse();\n}\nfunction setReverse(values) {\n  return {0: getReverse(values)};\n}\n\nfunction asc(a, b) {\n  if (a < b) return -1;\n  if (a > b) return 1;\n  return 0;\n}\nfunction desc(a, b) {\n  if (a > b) return -1;\n  if (a < b) return 1;\n  return 0;\n}\n",
    "var util = require('../util');\nvar Model = require('./Model');\nvar defaultFns = require('./defaultFns');\n\nfunction NamedFns() {}\n\nModel.INITS.push(function(model) {\n  model.root._namedFns = new NamedFns();\n  model.root._fns = new Fns(model);\n  model.on('all', fnListener);\n  function fnListener(segments, eventArgs) {\n    var pass = eventArgs[eventArgs.length - 1];\n    var map = model.root._fns.fromMap;\n    for (var path in map) {\n      var fn = map[path];\n      if (pass.$fn === fn) continue;\n      if (util.mayImpactAny(fn.inputsSegments, segments)) {\n        // Mutation affecting input path\n        fn.onInput(pass);\n      } else if (util.mayImpact(fn.fromSegments, segments)) {\n        // Mutation affecting output path\n        fn.onOutput(pass);\n      }\n    }\n  }\n});\n\nModel.prototype.fn = function(name, fns) {\n  this.root._namedFns[name] = fns;\n};\n\nfunction parseStartArguments(model, args, hasPath) {\n  var last = args.pop();\n  var fns, name;\n  if (typeof last === 'string') {\n    name = last;\n  } else {\n    fns = last;\n  }\n  // For `Model#start`, the first parameter is the output path.\n  var path;\n  if (hasPath) {\n    path = model.path(args.shift());\n  }\n  // The second-to-last original argument could be an options object.\n  // If it's not an array and not path-like, then it's an options object.\n  last = args[args.length - 1];\n  var options;\n  if (!Array.isArray(last) && !model.isPath(last)) {\n    options = args.pop();\n  }\n\n  // `args` is just the input paths at this point.\n  var inputs;\n  if (args.length === 1 && Array.isArray(args[0])) {\n    // Inputs provided as one array:\n    //   model.start(outPath, [inPath1, inPath2], fn);\n    inputs = args[0];\n  } else {\n    // Inputs provided as var-args:\n    //   model.start(outPath, inPath1, inPath2, fn);\n    inputs = args;\n  }\n\n  // Normalize each input into a string path.\n  var i = inputs.length;\n  while (i--) {\n    inputs[i] = model.path(inputs[i]);\n  }\n  return {\n    name: name,\n    path: path,\n    inputPaths: inputs,\n    fns: fns,\n    options: options\n  };\n}\n\nModel.prototype.evaluate = function() {\n  var args = Array.prototype.slice.call(arguments);\n  var parsed = parseStartArguments(this, args, false);\n  return this.root._fns.get(parsed.name, parsed.inputPaths, parsed.fns, parsed.options);\n};\n\nModel.prototype.start = function() {\n  var args = Array.prototype.slice.call(arguments);\n  var parsed = parseStartArguments(this, args, true);\n  return this.root._fns.start(parsed.name, parsed.path, parsed.inputPaths, parsed.fns, parsed.options);\n};\n\nModel.prototype.stop = function(subpath) {\n  var path = this.path(subpath);\n  this._stop(path);\n};\nModel.prototype._stop = function(fromPath) {\n  this.root._fns.stop(fromPath);\n};\n\nModel.prototype.stopAll = function(subpath) {\n  var segments = this._splitPath(subpath);\n  this._stopAll(segments);\n};\nModel.prototype._stopAll = function(segments) {\n  var fns = this.root._fns.fromMap;\n  for (var from in fns) {\n    var fromSegments = fns[from].fromSegments;\n    if (util.contains(segments, fromSegments)) {\n      this._stop(from);\n    }\n  }\n};\n\nfunction FromMap() {}\nfunction Fns(model) {\n  this.model = model;\n  this.nameMap = model.root._namedFns;\n  this.fromMap = new FromMap();\n}\n\nFns.prototype.get = function(name, inputPaths, fns, options) {\n  fns || (fns = this.nameMap[name] || defaultFns[name]);\n  var fn = new Fn(this.model, name, null, inputPaths, fns, options);\n  return fn.get();\n};\n\nFns.prototype.start = function(name, path, inputPaths, fns, options) {\n  fns || (fns = this.nameMap[name] || defaultFns[name]);\n  var fn = new Fn(this.model, name, path, inputPaths, fns, options);\n  this.fromMap[path] = fn;\n  return fn._onInput();\n};\n\nFns.prototype.stop = function(path) {\n  var fn = this.fromMap[path];\n  delete this.fromMap[path];\n  return fn;\n};\n\nFns.prototype.toJSON = function() {\n  var out = [];\n  for (var from in this.fromMap) {\n    var fn = this.fromMap[from];\n    // Don't try to bundle non-named functions that were started via\n    // model.start directly instead of by name\n    if (!fn.name) continue;\n    var args = [fn.from].concat(fn.inputPaths);\n    if (fn.options) args.push(fn.options);\n    args.push(fn.name);\n    out.push(args);\n  }\n  return out;\n};\n\nfunction Fn(model, name, from, inputPaths, fns, options) {\n  this.model = model.pass({$fn: this});\n  this.name = name;\n  this.from = from;\n  this.inputPaths = inputPaths;\n  this.options = options;\n  if (!fns) {\n    throw new TypeError('Model function not found: ' + name);\n  }\n  this.getFn = fns.get || fns;\n  this.setFn = fns.set;\n  this.fromSegments = from && from.split('.');\n  this.inputsSegments = [];\n  for (var i = 0; i < this.inputPaths.length; i++) {\n    var segments = this.inputPaths[i].split('.');\n    this.inputsSegments.push(segments);\n  }\n\n  // Copy can be 'output', 'input', 'both', or 'none'\n  var copy = (options && options.copy) || 'output';\n  this.copyInput = (copy === 'input' || copy === 'both');\n  this.copyOutput = (copy === 'output' || copy === 'both');\n\n  // Mode can be 'diffDeep', 'diff', 'arrayDeep', or 'array'\n  this.mode = (options && options.mode) || 'diffDeep';\n\n  this.async = !!(options && options.async);\n  this.eventPending = false;\n}\n\nFn.prototype.apply = function(fn, inputs) {\n  for (var i = 0, len = this.inputsSegments.length; i < len; i++) {\n    var input = this.model._get(this.inputsSegments[i]);\n    inputs.push(this.copyInput ? util.deepCopy(input) : input);\n  }\n  return fn.apply(this.model, inputs);\n};\n\nFn.prototype.get = function() {\n  return this.apply(this.getFn, []);\n};\n\nFn.prototype.set = function(value, pass) {\n  if (!this.setFn) return;\n  var out = this.apply(this.setFn, [value]);\n  if (!out) return;\n  var inputsSegments = this.inputsSegments;\n  var model = this.model.pass(pass, true);\n  for (var key in out) {\n    var value = (this.copyOutput) ? util.deepCopy(out[key]) : out[key];\n    this._setValue(model, inputsSegments[key], value);\n  }\n};\n\nFn.prototype.onInput = function(pass) {\n  if (this.async) {\n    if (this.eventPending) return;\n    this.eventPending = true;\n    var fn = this;\n    process.nextTick(function() {\n      fn._onInput(pass);\n      fn.eventPending = false;\n    });\n    return;\n  }\n  return this._onInput(pass);\n};\n\nFn.prototype._onInput = function(pass) {\n  var value = (this.copyOutput) ? util.deepCopy(this.get()) : this.get();\n  this._setValue(this.model.pass(pass, true), this.fromSegments, value);\n  return value;\n};\n\nFn.prototype.onOutput = function(pass) {\n  var value = this.model._get(this.fromSegments);\n  return this.set(value, pass);\n};\n\nFn.prototype._setValue = function(model, segments, value) {\n  if (this.mode === 'diffDeep') {\n    model._setDiffDeep(segments, value);\n  } else if (this.mode === 'arrayDeep') {\n    model._setArrayDiffDeep(segments, value);\n  } else if (this.mode === 'array') {\n    model._setArrayDiff(segments, value);\n  } else {\n    model._setDiff(segments, value);\n  }\n};\n",
    "var util = require('../util');\nvar Model = require('./Model');\nvar defaultFns = require('./defaultFns');\n\nModel.INITS.push(function(model) {\n  model.root._filters = new Filters(model);\n  model.on('all', filterListener);\n  function filterListener(segments, eventArgs) {\n    var pass = eventArgs[eventArgs.length - 1];\n    var map = model.root._filters.fromMap;\n    for (var path in map) {\n      var filter = map[path];\n      if (pass.$filter === filter) continue;\n      if (\n        util.mayImpact(filter.segments, segments) ||\n        (filter.inputsSegments && util.mayImpactAny(filter.inputsSegments, segments))\n      ) {\n        filter.update(pass);\n      }\n    }\n  }\n});\n\nfunction parseFilterArguments(model, args) {\n  var fn = args.pop();\n  var options;\n  if (!model.isPath(args[args.length - 1])) {\n    options = args.pop();\n  }\n  var path = model.path(args.shift());\n  var i = args.length;\n  while (i--) {\n    args[i] = model.path(args[i]);\n  }\n  return {\n    path: path,\n    inputPaths: (args.length) ? args : null,\n    options: options,\n    fn: fn\n  };\n}\n\nModel.prototype.filter = function() {\n  var args = Array.prototype.slice.call(arguments);\n  var parsed = parseFilterArguments(this, args);\n  return this.root._filters.add(\n    parsed.path,\n    parsed.fn,\n    null,\n    parsed.inputPaths,\n    parsed.options\n  );\n};\n\nModel.prototype.sort = function() {\n  var args = Array.prototype.slice.call(arguments);\n  var parsed = parseFilterArguments(this, args);\n  return this.root._filters.add(\n    parsed.path,\n    null,\n    parsed.fn || 'asc',\n    parsed.inputPaths,\n    parsed.options\n  );\n};\n\nModel.prototype.removeAllFilters = function(subpath) {\n  var segments = this._splitPath(subpath);\n  this._removeAllFilters(segments);\n};\nModel.prototype._removeAllFilters = function(segments) {\n  var filters = this.root._filters.fromMap;\n  for (var from in filters) {\n    if (util.contains(segments, filters[from].fromSegments)) {\n      filters[from].destroy();\n    }\n  }\n};\n\nfunction FromMap() {}\nfunction Filters(model) {\n  this.model = model;\n  this.fromMap = new FromMap();\n}\n\nFilters.prototype.add = function(path, filterFn, sortFn, inputPaths, options) {\n  return new Filter(this, path, filterFn, sortFn, inputPaths, options);\n};\n\nFilters.prototype.toJSON = function() {\n  var out = [];\n  for (var from in this.fromMap) {\n    var filter = this.fromMap[from];\n    // Don't try to bundle if functions were passed directly instead of by name\n    if (!filter.bundle) continue;\n    var args = [from, filter.path, filter.filterName, filter.sortName, filter.inputPaths];\n    if (filter.options) args.push(filter.options);\n    out.push(args);\n  }\n  return out;\n};\n\nfunction Filter(filters, path, filterFn, sortFn, inputPaths, options) {\n  this.filters = filters;\n  this.model = filters.model.pass({$filter: this});\n  this.path = path;\n  this.segments = path.split('.');\n  this.filterName = null;\n  this.sortName = null;\n  this.bundle = true;\n  this.filterFn = null;\n  this.sortFn = null;\n  this.inputPaths = inputPaths;\n  this.inputsSegments = null;\n  if (inputPaths) {\n    this.inputsSegments = [];\n    for (var i = 0; i < this.inputPaths.length; i++) {\n      var segments = this.inputPaths[i].split('.');\n      this.inputsSegments.push(segments);\n    }\n  }\n  this.options = options;\n  this.skip = options && options.skip;\n  this.limit = options && options.limit;\n  if (filterFn) this.filter(filterFn);\n  if (sortFn) this.sort(sortFn);\n  this.idsSegments = null;\n  this.from = null;\n  this.fromSegments = null;\n}\n\nFilter.prototype.filter = function(fn) {\n  if (typeof fn === 'function') {\n    this.filterFn = fn;\n    this.bundle = false;\n    return this;\n  } else if (typeof fn === 'string') {\n    this.filterName = fn;\n    this.filterFn = this.model.root._namedFns[fn] || defaultFns[fn];\n    if (!this.filterFn) {\n      throw new TypeError('Filter function not found: ' + fn);\n    }\n  }\n  return this;\n};\n\nFilter.prototype.sort = function(fn) {\n  if (!fn) fn = 'asc';\n  if (typeof fn === 'function') {\n    this.sortFn = fn;\n    this.bundle = false;\n    return this;\n  } else if (typeof fn === 'string') {\n    this.sortName = fn;\n    this.sortFn = this.model.root._namedFns[fn] || defaultFns[fn];\n    if (!this.sortFn) {\n      throw new TypeError('Sort function not found: ' + fn);\n    }\n  }\n  return this;\n};\n\nFilter.prototype._slice = function(results) {\n  if (this.skip == null && this.limit == null) return results;\n  var begin = this.skip || 0;\n  // A limit of zero is equivalent to setting no limit\n  var end;\n  if (this.limit) end = begin + this.limit;\n  return results.slice(begin, end);\n};\n\nFilter.prototype.getInputs = function() {\n  if (!this.inputsSegments) return;\n  var inputs = [];\n  for (var i = 0, len = this.inputsSegments.length; i < len; i++) {\n    var input = this.model._get(this.inputsSegments[i]);\n    inputs.push(input);\n  }\n  return inputs;\n};\n\nFilter.prototype.callFilter = function(items, key, inputs) {\n  var item = items[key];\n  return (inputs) ?\n    this.filterFn.apply(this.model, [item, key, items].concat(inputs)) :\n    this.filterFn.call(this.model, item, key, items);\n};\n\nFilter.prototype.ids = function() {\n  var items = this.model._get(this.segments);\n  var ids = [];\n  if (!items) return ids;\n  if (Array.isArray(items)) {\n    throw new Error('model.filter is not currently supported on arrays');\n  }\n  if (this.filterFn) {\n    var inputs = this.getInputs();\n    for (var key in items) {\n      if (items.hasOwnProperty(key) && this.callFilter(items, key, inputs)) {\n        ids.push(key);\n      }\n    }\n  } else {\n    ids = Object.keys(items);\n  }\n  var sortFn = this.sortFn;\n  if (sortFn) {\n    ids.sort(function(a, b) {\n      return sortFn(items[a], items[b]);\n    });\n  }\n  return this._slice(ids);\n};\n\nFilter.prototype.get = function() {\n  var items = this.model._get(this.segments);\n  var results = [];\n  if (Array.isArray(items)) {\n    throw new Error('model.filter is not currently supported on arrays');\n  }\n  if (this.filterFn) {\n    var inputs = this.getInputs();\n    for (var key in items) {\n      if (items.hasOwnProperty(key) && this.callFilter(items, key, inputs)) {\n        results.push(items[key]);\n      }\n    }\n  } else {\n    for (var key in items) {\n      if (items.hasOwnProperty(key)) {\n        results.push(items[key]);\n      }\n    }\n  }\n  if (this.sortFn) results.sort(this.sortFn);\n  return this._slice(results);\n};\n\nFilter.prototype.update = function(pass) {\n  var ids = this.ids();\n  this.model.pass(pass, true)._setArrayDiff(this.idsSegments, ids);\n};\n\nFilter.prototype.ref = function(from) {\n  from = this.model.path(from);\n  this.from = from;\n  this.fromSegments = from.split('.');\n  this.filters.fromMap[from] = this;\n  this.idsSegments = ['$filters', from.replace(/\\./g, '|')];\n  this.update();\n  return this.model.refList(from, this.path, this.idsSegments.join('.'));\n};\n\nFilter.prototype.destroy = function() {\n  delete this.filters.fromMap[this.from];\n  this.model._removeRef(this.idsSegments);\n  this.model._del(this.idsSegments);\n};\n",
    "var util = require('../util');\nvar Model = require('./Model');\n\nModel.INITS.push(function(model) {\n  var root = model.root;\n  root._refLists = new RefLists();\n  for (var type in Model.MUTATOR_EVENTS) {\n    addListener(root, type);\n  }\n});\n\nfunction addListener(model, type) {\n  model.on(type + 'Immediate', refListListener);\n  function refListListener(segments, eventArgs) {\n    var pass = eventArgs[eventArgs.length - 1];\n    // Check for updates on or underneath paths\n    var fromMap = model._refLists.fromMap;\n    for (var from in fromMap) {\n      var refList = fromMap[from];\n      if (pass.$refList === refList) continue;\n      refList.onMutation(type, segments, eventArgs);\n    }\n  }\n}\n\n/**\n * @param {String} type\n * @param {Array} segments\n * @param {Array} eventArgs\n * @param {RefList} refList\n */\nfunction patchFromEvent(type, segments, eventArgs, refList) {\n  var fromLength = refList.fromSegments.length;\n  var segmentsLength = segments.length;\n  var pass = eventArgs[eventArgs.length - 1];\n  var model = refList.model.pass(pass, true);\n\n  // Mutation on the `from` output itself\n  if (segmentsLength === fromLength) {\n    if (type === 'insert') {\n      var index = eventArgs[0];\n      var values = eventArgs[1];\n      var ids = setNewToValues(model, refList, values);\n      model._insert(refList.idsSegments, index, ids);\n      return;\n    }\n\n    if (type === 'remove') {\n      var index = eventArgs[0];\n      var howMany = eventArgs[1].length;\n      var ids = model._remove(refList.idsSegments, index, howMany);\n      // Delete the appropriate items underneath `to` if the `deleteRemoved`\n      // option was set true\n      if (refList.deleteRemoved) {\n        for (var i = 0; i < ids.length; i++) {\n          var item = refList.itemById(ids[i]);\n          model._del(refList.toSegmentsByItem(item));\n        }\n      }\n      return;\n    }\n\n    if (type === 'move') {\n      var from = eventArgs[0];\n      var to = eventArgs[1];\n      var howMany = eventArgs[2];\n      model._move(refList.idsSegments, from, to, howMany);\n      return;\n    }\n\n    // Change of the entire output\n    var values = (type === 'change') ?\n      eventArgs[0] : model._get(refList.fromSegments);\n    // Set ids to empty list if output is set to null\n    if (!values) {\n      model._set(refList.idsSegments, []);\n      return;\n    }\n    // If the entire output is set, create a list of ids based on the output,\n    // and update the corresponding items\n    var ids = setNewToValues(model, refList, values);\n    model._set(refList.idsSegments, ids);\n    return;\n  }\n\n  // If mutation is on a parent of `from`, we might need to re-create the\n  // entire refList output\n  if (segmentsLength < fromLength) {\n    model._setArrayDiff(refList.fromSegments, refList.get());\n    return;\n  }\n\n  var index = segments[fromLength];\n  var value = model._get(refList.fromSegments.concat(index));\n  var toSegments = refList.toSegmentsByItem(value);\n\n  // Mutation underneath a child of the `from` object.\n  if (segmentsLength > fromLength + 1) {\n    throw new Error('Mutation on descendant of refList `from`' +\n      ' should have been dereferenced: ' + segments.join('.'));\n  }\n\n  // Otherwise, mutation of a child of the `from` object\n\n  // If changing the item itself, it will also have to be re-set on the\n  // original object\n  if (type === 'change') {\n    model._set(toSegments, value);\n    updateIdForValue(model, refList, index, value);\n    return;\n  }\n  if (type === 'insert' || type === 'remove' || type === 'move') {\n    throw new Error('Array mutation on child of refList `from`' +\n      'should have been dereferenced: ' + segments.join('.'));\n  }\n}\n\n/**\n * @private\n * @param {Model} model\n * @param {RefList} refList\n * @param {Array} values\n */\nfunction setNewToValues(model, refList, values) {\n  var ids = [];\n  for (var i = 0; i < values.length; i++) {\n    var value = values[i];\n    var id = refList.idByItem(value);\n    if (id === undefined && typeof value === 'object') {\n      id = value.id = model.id();\n    }\n    var toSegments = refList.toSegmentsByItem(value);\n    if (id === undefined || toSegments === undefined) {\n      throw new Error('Unable to add item to refList: ' + value);\n    }\n    if (model._get(toSegments) !== value) {\n      model._set(toSegments, value);\n    }\n    ids.push(id);\n  }\n  return ids;\n}\nfunction updateIdForValue(model, refList, index, value) {\n  var id = refList.idByItem(value);\n  var outSegments = refList.idsSegments.concat(index);\n  model._set(outSegments, id);\n}\n\nfunction patchToEvent(type, segments, eventArgs, refList) {\n  var toLength = refList.toSegments.length;\n  var segmentsLength = segments.length;\n  var pass = eventArgs[eventArgs.length - 1];\n  var model = refList.model.pass(pass, true);\n\n  // Mutation on the `to` object itself\n  if (segmentsLength === toLength) {\n    if (type === 'insert') {\n      var values = eventArgs[1];\n      for (var i = 0; i < values.length; i++) {\n        var value = values[i];\n        var indices = refList.indicesByItem(value);\n        if (!indices) continue;\n        for (var j = 0; j < indices.length; j++) {\n          var outSegments = refList.fromSegments.concat(indices[j]);\n          model._set(outSegments, value);\n        }\n      }\n      return;\n    }\n\n    if (type === 'remove') {\n      var removeIndex = eventArgs[0];\n      var values = eventArgs[1];\n      var howMany = values.length;\n      for (var i = removeIndex, len = removeIndex + howMany; i < len; i++) {\n        var indices = refList.indicesByItem(values[i]);\n        if (!indices) continue;\n        for (var j = 0, indicesLen = indices.length; j < indicesLen; j++) {\n          var outSegments = refList.fromSegments.concat(indices[j]);\n          model._set(outSegments, undefined);\n        }\n      }\n      return;\n    }\n\n    if (type === 'move') {\n      // Moving items in the `to` object should have no effect on the output\n      return;\n    }\n  }\n\n  // Mutation on or above the `to` object\n  if (segmentsLength <= toLength) {\n    // If the entire `to` object is updated, we need to re-create the\n    // entire refList output and apply what is different\n    model._setArrayDiff(refList.fromSegments, refList.get());\n    return;\n  }\n\n  // Mutation underneath a child of the `to` object. The item will already\n  // be up to date, since it is under an object reference. Just re-emit\n  if (segmentsLength > toLength + 1) {\n    var value = model._get(segments.slice(0, toLength + 1));\n    var indices = refList.indicesByItem(value);\n    if (!indices) return;\n    var remaining = segments.slice(toLength + 1);\n    for (var i = 0; i < indices.length; i++) {\n      var index = indices[i];\n      var dereferenced = refList.fromSegments.concat(index, remaining);\n      dereferenced = model._dereference(dereferenced, null, refList);\n      eventArgs = eventArgs.slice();\n      eventArgs[eventArgs.length - 1] = model._pass;\n      model.emit(type, dereferenced, eventArgs);\n    }\n    return;\n  }\n\n  // Otherwise, mutation of a child of the `to` object\n\n  // If changing the item itself, it will also have to be re-set on the\n  // array created by the refList\n  if (type === 'change' || type === 'load' || type === 'unload') {\n    var value, previous;\n    if (type === 'change') {\n      value = eventArgs[0];\n      previous = eventArgs[1];\n    } else if (type === 'load') {\n      value = eventArgs[0];\n      previous = undefined;\n    } else if (type === 'unload') {\n      value = undefined;\n      previous = eventArgs[0];\n    }\n    var newIndices = refList.indicesByItem(value);\n    var oldIndices = refList.indicesByItem(previous);\n    if (!newIndices && !oldIndices) return;\n    if (oldIndices && !equivalentArrays(oldIndices, newIndices)) {\n      // The changed item used to refer to some indices, but no longer does\n      for (var i = 0; i < oldIndices.length; i++) {\n        var outSegments = refList.fromSegments.concat(oldIndices[i]);\n        model._set(outSegments, undefined);\n      }\n    }\n    if (newIndices) {\n      for (var i = 0; i < newIndices.length; i++) {\n        var outSegments = refList.fromSegments.concat(newIndices[i]);\n        model._set(outSegments, value);\n      }\n    }\n    return;\n  }\n\n  var value = model._get(segments.slice(0, toLength + 1));\n  var indices = refList.indicesByItem(value);\n  if (!indices) return;\n\n  if (type === 'insert' || type === 'remove' || type === 'move') {\n    // Array mutations will have already been updated via an object\n    // reference, so only re-emit\n    for (var i = 0; i < indices.length; i++) {\n      var dereferenced = refList.fromSegments.concat(indices[i]);\n      dereferenced = model._dereference(dereferenced, null, refList);\n      eventArgs = eventArgs.slice();\n      eventArgs[eventArgs.length - 1] = model._pass;\n      model.emit(type, dereferenced, eventArgs);\n    }\n  }\n}\nfunction equivalentArrays(a, b) {\n  if (!a || !b) return false;\n  if (a.length !== b.length) return false;\n  for (var i = 0; i < a.length; i++) {\n    if (a[i] !== b[i]) return false;\n  }\n  return true;\n}\n\nfunction patchIdsEvent(type, segments, eventArgs, refList) {\n  var idsLength = refList.idsSegments.length;\n  var segmentsLength = segments.length;\n  var pass = eventArgs[eventArgs.length - 1];\n  var model = refList.model.pass(pass, true);\n\n  // An array mutation of the ids should be mirrored with a like change in\n  // the output array\n  if (segmentsLength === idsLength) {\n    if (type === 'insert') {\n      var index = eventArgs[0];\n      var inserted = eventArgs[1];\n      var values = [];\n      for (var i = 0; i < inserted.length; i++) {\n        var value = refList.itemById(inserted[i]);\n        values.push(value);\n      }\n      model._insert(refList.fromSegments, index, values);\n      return;\n    }\n\n    if (type === 'remove') {\n      var index = eventArgs[0];\n      var howMany = eventArgs[1].length;\n      model._remove(refList.fromSegments, index, howMany);\n      return;\n    }\n\n    if (type === 'move') {\n      var from = eventArgs[0];\n      var to = eventArgs[1];\n      var howMany = eventArgs[2];\n      model._move(refList.fromSegments, from, to, howMany);\n      return;\n    }\n  }\n\n  // Mutation on the `ids` list itself\n  if (segmentsLength <= idsLength) {\n    // If the entire `ids` array is updated, we need to re-create the\n    // entire refList output and apply what is different\n    model._setArrayDiff(refList.fromSegments, refList.get());\n    return;\n  }\n\n  // Otherwise, direct mutation of a child in the `ids` object or mutation\n  // underneath an item in the `ids` list. Update the item for the appropriate\n  // id if it has changed\n  var index = segments[idsLength];\n  var id = refList.idByIndex(index);\n  var item = refList.itemById(id);\n  var itemSegments = refList.fromSegments.concat(index);\n  if (model._get(itemSegments) !== item) {\n    model._set(itemSegments, item);\n  }\n}\n\nModel.prototype.refList = function() {\n  var from, to, ids, options;\n  if (arguments.length === 2) {\n    to = arguments[0];\n    ids = arguments[1];\n  } else if (arguments.length === 3) {\n    if (this.isPath(arguments[2])) {\n      from = arguments[0];\n      to = arguments[1];\n      ids = arguments[2];\n    } else {\n      to = arguments[0];\n      ids = arguments[1];\n      options = arguments[2];\n    }\n  } else {\n    from = arguments[0];\n    to = arguments[1];\n    ids = arguments[2];\n    options = arguments[3];\n  }\n  var fromPath = this.path(from);\n  var toPath;\n  if (Array.isArray(to)) {\n    toPath = [];\n    for (var i = 0; i < to.length; i++) {\n      toPath.push(this.path(to[i]));\n    }\n  } else {\n    toPath = this.path(to);\n  }\n  var idsPath = this.path(ids);\n  var refList = new RefList(this.root, fromPath, toPath, idsPath, options);\n  this.root._refLists.remove(fromPath);\n  refList.model._setArrayDiff(refList.fromSegments, refList.get());\n  this.root._refLists.add(refList);\n  return this.scope(fromPath);\n};\n\nfunction RefList(model, from, to, ids, options) {\n  this.model = model && model.pass({$refList: this});\n  this.from = from;\n  this.to = to;\n  this.ids = ids;\n  this.fromSegments = from && from.split('.');\n  this.toSegments = to && to.split('.');\n  this.idsSegments = ids && ids.split('.');\n  this.options = options;\n  this.deleteRemoved = options && options.deleteRemoved;\n}\n\n// The default implementation assumes that the ids array is a flat list of\n// keys on the to object. Ideally, this mapping could be customized via\n// inheriting from RefList and overriding these methods without having to\n// modify the above event handling code.\n//\n// In the default refList implementation, `key` and `id` are equal.\n//\n// Terms in the below methods:\n//   `item`  - Object on the `to` path, which gets mirrored on the `from` path\n//   `key`   - The property under `to` at which an item is located\n//   `id`    - String or object in the array at the `ids` path\n//   `index` - The index of an id, which corresponds to an index on `from`\nRefList.prototype.get = function() {\n  var ids = this.model._get(this.idsSegments);\n  if (!ids) return [];\n  var items = this.model._get(this.toSegments);\n  var out = [];\n  for (var i = 0; i < ids.length; i++) {\n    var key = ids[i];\n    out.push(items && items[key]);\n  }\n  return out;\n};\nRefList.prototype.dereference = function(segments, i) {\n  var remaining = segments.slice(i + 1);\n  var key = this.idByIndex(remaining[0]);\n  if (key == null) return [];\n  remaining[0] = key;\n  return this.toSegments.concat(remaining);\n};\nRefList.prototype.toSegmentsByItem = function(item) {\n  var key = this.idByItem(item);\n  if (key === undefined) return;\n  return this.toSegments.concat(key);\n};\nRefList.prototype.idByItem = function(item) {\n  if (item && item.id) return item.id;\n  var items = this.model._get(this.toSegments);\n  for (var key in items) {\n    if (item === items[key]) return key;\n  }\n};\nRefList.prototype.indicesByItem = function(item) {\n  var id = this.idByItem(item);\n  var ids = this.model._get(this.idsSegments);\n  if (!ids) return;\n  var indices;\n  var index = -1;\n  for (;;) {\n    index = ids.indexOf(id, index + 1);\n    if (index === -1) break;\n    if (indices) {\n      indices.push(index);\n    } else {\n      indices = [index];\n    }\n  }\n  return indices;\n};\nRefList.prototype.itemById = function(id) {\n  return this.model._get(this.toSegments.concat(id));\n};\nRefList.prototype.idByIndex = function(index) {\n  return this.model._get(this.idsSegments.concat(index));\n};\nRefList.prototype.onMutation = function(type, segments, eventArgs) {\n  if (util.mayImpact(this.toSegments, segments)) {\n    patchToEvent(type, segments, eventArgs, this);\n  } else if (util.mayImpact(this.idsSegments, segments)) {\n    patchIdsEvent(type, segments, eventArgs, this);\n  } else if (util.mayImpact(this.fromSegments, segments)) {\n    patchFromEvent(type, segments, eventArgs, this);\n  }\n};\n\nfunction FromMap() {}\n\nfunction RefLists() {\n  this.fromMap = new FromMap();\n}\n\nRefLists.prototype.add = function(refList) {\n  this.fromMap[refList.from] = refList;\n};\n\nRefLists.prototype.remove = function(from) {\n  var refList = this.fromMap[from];\n  delete this.fromMap[from];\n  return refList;\n};\n\nRefLists.prototype.toJSON = function() {\n  var out = [];\n  for (var from in this.fromMap) {\n    var refList = this.fromMap[from];\n    out.push([refList.from, refList.to, refList.ids, refList.options]);\n  }\n  return out;\n};\n",
    "var util = require('../util');\nvar Model = require('./Model');\n\nModel.INITS.push(function(model) {\n  var root = model.root;\n  root._refs = new Refs();\n  addIndexListeners(root);\n  addListener(root, 'change', refChange);\n  addListener(root, 'load', refLoad);\n  addListener(root, 'unload', refUnload);\n  addListener(root, 'insert', refInsert);\n  addListener(root, 'remove', refRemove);\n  addListener(root, 'move', refMove);\n});\n\nfunction addIndexListeners(model) {\n  model.on('insertImmediate', function refInsertIndex(segments, eventArgs) {\n    var index = eventArgs[0];\n    var howMany = eventArgs[1].length;\n    function patchInsert(refIndex) {\n      return (index <= refIndex) ? refIndex + howMany : refIndex;\n    }\n    onIndexChange(segments, patchInsert);\n  });\n  model.on('removeImmediate', function refRemoveIndex(segments, eventArgs) {\n    var index = eventArgs[0];\n    var howMany = eventArgs[1].length;\n    function patchRemove(refIndex) {\n      return (index <= refIndex) ? refIndex - howMany : refIndex;\n    }\n    onIndexChange(segments, patchRemove);\n  });\n  model.on('moveImmediate', function refMoveIndex(segments, eventArgs) {\n    var from = eventArgs[0];\n    var to = eventArgs[1];\n    var howMany = eventArgs[2];\n    function patchMove(refIndex) {\n      // If the index was moved itself\n      if (from <= refIndex && refIndex < from + howMany) {\n        return refIndex + to - from;\n      }\n      // Remove part of a move\n      if (from <= refIndex) refIndex -= howMany;\n      // Insert part of a move\n      if (to <= refIndex) refIndex += howMany;\n      return refIndex;\n    }\n    onIndexChange(segments, patchMove);\n  });\n  function onIndexChange(segments, patch) {\n    var fromMap = model._refs.fromMap;\n    for (var from in fromMap) {\n      var ref = fromMap[from];\n      if (!(ref.updateIndices &&\n        util.contains(segments, ref.toSegments) &&\n        ref.toSegments.length > segments.length)) continue;\n      var index = +ref.toSegments[segments.length];\n      var patched = patch(index);\n      if (index === patched) continue;\n      model._refs.remove(from);\n      ref.toSegments[segments.length] = '' + patched;\n      ref.to = ref.toSegments.join('.');\n      model._refs.add(ref);\n    }\n  }\n}\n\nfunction refChange(model, dereferenced, eventArgs, segments) {\n  var value = eventArgs[0];\n  // Detect if we are deleting vs. setting to undefined\n  if (value === undefined) {\n    var parentSegments = segments.slice();\n    var last = parentSegments.pop();\n    var parent = model._get(parentSegments);\n    if (!parent || !(last in parent)) {\n      model._del(dereferenced);\n      return;\n    }\n  }\n  model._set(dereferenced, value);\n}\nfunction refLoad(model, dereferenced, eventArgs) {\n  var value = eventArgs[0];\n  model._set(dereferenced, value);\n}\nfunction refUnload(model, dereferenced) {\n  model._del(dereferenced);\n}\nfunction refInsert(model, dereferenced, eventArgs) {\n  var index = eventArgs[0];\n  var values = eventArgs[1];\n  model._insert(dereferenced, index, values);\n}\nfunction refRemove(model, dereferenced, eventArgs) {\n  var index = eventArgs[0];\n  var howMany = eventArgs[1].length;\n  model._remove(dereferenced, index, howMany);\n}\nfunction refMove(model, dereferenced, eventArgs) {\n  var from = eventArgs[0];\n  var to = eventArgs[1];\n  var howMany = eventArgs[2];\n  model._move(dereferenced, from, to, howMany);\n}\n\nfunction addListener(model, type, fn) {\n  model.on(type + 'Immediate', refListener);\n  function refListener(segments, eventArgs) {\n    var pass = eventArgs[eventArgs.length - 1];\n    // Find cases where an event is emitted on a path where a reference\n    // is pointing. All original mutations happen on the fully dereferenced\n    // location, so this detection only needs to happen in one direction\n    var toMap = model._refs.toMap;\n    var subpath;\n    for (var i = 0, len = segments.length; i < len; i++) {\n      subpath = (subpath) ? subpath + '.' + segments[i] : segments[i];\n      // If a ref is found pointing to a matching subpath, re-emit on the\n      // place where the reference is coming from as if the mutation also\n      // occured at that path\n      var refs = toMap[subpath];\n      if (!refs) continue;\n\n      // Shallow clone refs in case a ref is removed while going through\n      // the loop\n      refs = refs.slice();\n      var remaining = segments.slice(i + 1);\n      for (var refIndex = 0, numRefs = refs.length; refIndex < numRefs; refIndex++) {\n        var ref = refs[refIndex];\n        var dereferenced = ref.fromSegments.concat(remaining);\n        // The value may already be up to date via object reference. If so,\n        // simply re-emit the event. Otherwise, perform the same mutation on\n        // the ref's path\n        if (model._get(dereferenced) === model._get(segments)) {\n          model.emit(type, dereferenced, eventArgs);\n        } else {\n          var setterModel = ref.model.pass(pass, true);\n          setterModel._dereference = noopDereference;\n          fn(setterModel, dereferenced, eventArgs, segments);\n        }\n      }\n    }\n    // If a ref points to a child of a matching subpath, get the value in\n    // case it has changed and set if different\n    var parentToMap = model._refs.parentToMap;\n    var refs = parentToMap[subpath];\n    if (!refs) return;\n    for (var refIndex = 0, numRefs = refs.length; refIndex < numRefs; refIndex++) {\n      var ref = refs[refIndex];\n      var value = model._get(ref.toSegments);\n      var previous = model._get(ref.fromSegments);\n      if (previous !== value) {\n        var setterModel = ref.model.pass(pass, true);\n        setterModel._dereference = noopDereference;\n        setterModel._set(ref.fromSegments, value);\n      }\n    }\n  }\n}\n\nModel.prototype._canRefTo = function(value) {\n  return this.isPath(value) || (value && typeof value.ref === 'function');\n};\n\nModel.prototype.ref = function() {\n  var from, to, options;\n  if (arguments.length === 1) {\n    to = arguments[0];\n  } else if (arguments.length === 2) {\n    if (this._canRefTo(arguments[1])) {\n      from = arguments[0];\n      to = arguments[1];\n    } else {\n      to = arguments[0];\n      options = arguments[1];\n    }\n  } else {\n    from = arguments[0];\n    to = arguments[1];\n    options = arguments[2];\n  }\n  var fromPath = this.path(from);\n  var toPath = this.path(to);\n  // Make ref to reffable object, such as query or filter\n  if (!toPath) return to.ref(fromPath);\n  var ref = new Ref(this.root, fromPath, toPath, options);\n  if (ref.fromSegments.length < 2) {\n    throw new Error('ref must be performed under a collection ' +\n      'and document id. Invalid path: ' + fromPath);\n  }\n  this.root._refs.remove(fromPath);\n  this.root._refLists.remove(fromPath);\n  var value = this.get(to);\n  ref.model._set(ref.fromSegments, value);\n  this.root._refs.add(ref);\n  return this.scope(fromPath);\n};\n\nModel.prototype.removeRef = function(subpath) {\n  var segments = this._splitPath(subpath);\n  var fromPath = segments.join('.');\n  this._removeRef(segments, fromPath);\n};\nModel.prototype._removeRef = function(segments, fromPath) {\n  this.root._refs.remove(fromPath);\n  this.root._refLists.remove(fromPath);\n  this._del(segments);\n};\n\nModel.prototype.removeAllRefs = function(subpath) {\n  var segments = this._splitPath(subpath);\n  this._removeAllRefs(segments);\n};\nModel.prototype._removeAllRefs = function(segments) {\n  this._removeMapRefs(segments, this.root._refs.fromMap);\n  this._removeMapRefs(segments, this.root._refLists.fromMap);\n};\nModel.prototype._removeMapRefs = function(segments, map) {\n  for (var from in map) {\n    var fromSegments = map[from].fromSegments;\n    if (util.contains(segments, fromSegments)) {\n      this._removeRef(fromSegments, from);\n    }\n  }\n};\n\nModel.prototype.dereference = function(subpath) {\n  var segments = this._splitPath(subpath);\n  return this._dereference(segments).join('.');\n};\n\nModel.prototype._dereference = function(segments, forArrayMutator, ignore) {\n  if (segments.length === 0) return segments;\n  var refs = this.root._refs.fromMap;\n  var refLists = this.root._refLists.fromMap;\n  var doAgain;\n  do {\n    var subpath = '';\n    doAgain = false;\n    for (var i = 0, len = segments.length; i < len; i++) {\n      subpath = (subpath) ? subpath + '.' + segments[i] : segments[i];\n\n      var ref = refs[subpath];\n      if (ref) {\n        var remaining = segments.slice(i + 1);\n        segments = ref.toSegments.concat(remaining);\n        doAgain = true;\n        break;\n      }\n\n      var refList = refLists[subpath];\n      if (refList && refList !== ignore) {\n        var belowDescendant = i + 2 < len;\n        var belowChild = i + 1 < len;\n        if (!(belowDescendant || forArrayMutator && belowChild)) continue;\n        segments = refList.dereference(segments, i);\n        doAgain = true;\n        break;\n      }\n    }\n  } while (doAgain);\n  // If a dereference fails, return a path that will result in a null value\n  // instead of a path to everything in the model\n  if (segments.length === 0) return ['$null'];\n  return segments;\n};\n\nfunction noopDereference(segments) {\n  return segments;\n}\n\nfunction Ref(model, from, to, options) {\n  this.model = model && model.pass({$ref: this});\n  this.from = from;\n  this.to = to;\n  this.fromSegments = from.split('.');\n  this.toSegments = to.split('.');\n  this.parentTos = [];\n  for (var i = 1, len = this.toSegments.length; i < len; i++) {\n    var parentTo = this.toSegments.slice(0, i).join('.');\n    this.parentTos.push(parentTo);\n  }\n  this.updateIndices = options && options.updateIndices;\n}\nfunction FromMap() {}\nfunction ToMap() {}\n\nfunction Refs() {\n  this.fromMap = new FromMap();\n  this.toMap = new ToMap();\n  this.parentToMap = new ToMap();\n}\n\nRefs.prototype.add = function(ref) {\n  this.fromMap[ref.from] = ref;\n  listMapAdd(this.toMap, ref.to, ref);\n  for (var i = 0, len = ref.parentTos.length; i < len; i++) {\n    listMapAdd(this.parentToMap, ref.parentTos[i], ref);\n  }\n};\n\nRefs.prototype.remove = function(from) {\n  var ref = this.fromMap[from];\n  if (!ref) return;\n  delete this.fromMap[from];\n  listMapRemove(this.toMap, ref.to, ref);\n  for (var i = 0, len = ref.parentTos.length; i < len; i++) {\n    listMapRemove(this.parentToMap, ref.parentTos[i], ref);\n  }\n  return ref;\n};\n\nRefs.prototype.toJSON = function() {\n  var out = [];\n  for (var from in this.fromMap) {\n    var ref = this.fromMap[from];\n    out.push([ref.from, ref.to]);\n  }\n  return out;\n};\n\nfunction listMapAdd(map, name, item) {\n  map[name] || (map[name] = []);\n  map[name].push(item);\n}\n\nfunction listMapRemove(map, name, item) {\n  var items = map[name];\n  if (!items) return;\n  var index = items.indexOf(item);\n  if (index === -1) return;\n  items.splice(index, 1);\n  if (!items.length) delete map[name];\n}\n",
    "module.exports = require('./Model');\nvar util = require('../util');\n\n// Extend model on both server and client //\nrequire('./unbundle');\nrequire('./events');\nrequire('./paths');\nrequire('./collections');\nrequire('./mutators');\nrequire('./setDiff');\n\nrequire('./connection');\nrequire('./subscriptions');\nrequire('./Query');\nrequire('./contexts');\n\nrequire('./fn');\nrequire('./filter');\nrequire('./refList');\nrequire('./ref');\n\n// Extend model for server //\nutil.serverRequire(module, './bundle');\nutil.serverRequire(module, './connection.server');\n",
    "var EventEmitter = require('events').EventEmitter;\nvar Model = require('./Model');\nvar util = require('./util');\n\nmodule.exports = Racer;\n\nfunction Racer() {\n  EventEmitter.call(this);\n}\n\nutil.mergeInto(Racer.prototype, EventEmitter.prototype);\n\n// Make classes accessible for use by plugins and tests\nRacer.prototype.Model = Model;\nRacer.prototype.util = util;\n\n// Support plugins on racer instances\nRacer.prototype.use = util.use;\nRacer.prototype.serverUse = util.serverUse;\n\nRacer.prototype.createModel = function(data) {\n  var model = new Model();\n  if (data) {\n    model.createConnection(data);\n    model.unbundle(data);\n  }\n  return model;\n};\n\nutil.serverRequire(module, './Racer.server');\n",
    "var Racer = require('./Racer');\nmodule.exports = new Racer();\n",
    "(function(){\nvar f, aa = aa || {}, l = this;\nfunction ba(a) {\n  a = a.split(\".\");\n  for (var b = l, c;c = a.shift();) {\n    if (null != b[c]) {\n      b = b[c];\n    } else {\n      return null;\n    }\n  }\n  return b;\n}\nfunction ca() {\n}\nfunction da(a) {\n  var b = typeof a;\n  if (\"object\" == b) {\n    if (a) {\n      if (a instanceof Array) {\n        return \"array\";\n      }\n      if (a instanceof Object) {\n        return b;\n      }\n      var c = Object.prototype.toString.call(a);\n      if (\"[object Window]\" == c) {\n        return \"object\";\n      }\n      if (\"[object Array]\" == c || \"number\" == typeof a.length && \"undefined\" != typeof a.splice && \"undefined\" != typeof a.propertyIsEnumerable && !a.propertyIsEnumerable(\"splice\")) {\n        return \"array\";\n      }\n      if (\"[object Function]\" == c || \"undefined\" != typeof a.call && \"undefined\" != typeof a.propertyIsEnumerable && !a.propertyIsEnumerable(\"call\")) {\n        return \"function\";\n      }\n    } else {\n      return \"null\";\n    }\n  } else {\n    if (\"function\" == b && \"undefined\" == typeof a.call) {\n      return \"object\";\n    }\n  }\n  return b;\n}\nfunction m(a) {\n  return \"array\" == da(a);\n}\nfunction ea(a) {\n  var b = da(a);\n  return \"array\" == b || \"object\" == b && \"number\" == typeof a.length;\n}\nfunction n(a) {\n  return \"string\" == typeof a;\n}\nfunction fa(a) {\n  return \"function\" == da(a);\n}\nvar ga = \"closure_uid_\" + (1E9 * Math.random() >>> 0), ha = 0;\nfunction ia(a, b, c) {\n  return a.call.apply(a.bind, arguments);\n}\nfunction ja(a, b, c) {\n  if (!a) {\n    throw Error();\n  }\n  if (2 < arguments.length) {\n    var d = Array.prototype.slice.call(arguments, 2);\n    return function() {\n      var c = Array.prototype.slice.call(arguments);\n      Array.prototype.unshift.apply(c, d);\n      return a.apply(b, c);\n    };\n  }\n  return function() {\n    return a.apply(b, arguments);\n  };\n}\nfunction p(a, b, c) {\n  p = Function.prototype.bind && -1 != Function.prototype.bind.toString().indexOf(\"native code\") ? ia : ja;\n  return p.apply(null, arguments);\n}\nvar q = Date.now || function() {\n  return+new Date;\n};\nfunction s(a, b) {\n  function c() {\n  }\n  c.prototype = b.prototype;\n  a.pa = b.prototype;\n  a.prototype = new c;\n  a.Hc = function(a, c, g) {\n    var h = Array.prototype.slice.call(arguments, 2);\n    return b.prototype[c].apply(a, h);\n  };\n}\n;function ka(a, b) {\n  for (var c = a.split(\"%s\"), d = \"\", e = Array.prototype.slice.call(arguments, 1);e.length && 1 < c.length;) {\n    d += c.shift() + e.shift();\n  }\n  return d + c.join(\"%s\");\n}\nfunction la(a) {\n  if (!ma.test(a)) {\n    return a;\n  }\n  -1 != a.indexOf(\"&\") && (a = a.replace(na, \"&amp;\"));\n  -1 != a.indexOf(\"<\") && (a = a.replace(oa, \"&lt;\"));\n  -1 != a.indexOf(\">\") && (a = a.replace(pa, \"&gt;\"));\n  -1 != a.indexOf('\"') && (a = a.replace(qa, \"&quot;\"));\n  -1 != a.indexOf(\"'\") && (a = a.replace(ra, \"&#39;\"));\n  return a;\n}\nvar na = /&/g, oa = /</g, pa = />/g, qa = /\"/g, ra = /'/g, ma = /[&<>\"']/;\nfunction sa() {\n  return Math.floor(2147483648 * Math.random()).toString(36) + Math.abs(Math.floor(2147483648 * Math.random()) ^ q()).toString(36);\n}\nfunction ta(a, b) {\n  return a < b ? -1 : a > b ? 1 : 0;\n}\n;var x, ua, va, wa;\nfunction xa() {\n  return l.navigator ? l.navigator.userAgent : null;\n}\nwa = va = ua = x = !1;\nvar ya;\nif (ya = xa()) {\n  var za = l.navigator;\n  x = 0 == ya.lastIndexOf(\"Opera\", 0);\n  ua = !x && (-1 != ya.indexOf(\"MSIE\") || -1 != ya.indexOf(\"Trident\"));\n  va = !x && -1 != ya.indexOf(\"WebKit\");\n  wa = !x && !va && !ua && \"Gecko\" == za.product;\n}\nvar Aa = x, y = ua, Ba = wa, z = va;\nfunction Ca() {\n  var a = l.document;\n  return a ? a.documentMode : void 0;\n}\nvar Da;\na: {\n  var Ea = \"\", Fa;\n  if (Aa && l.opera) {\n    var Ga = l.opera.version, Ea = \"function\" == typeof Ga ? Ga() : Ga\n  } else {\n    if (Ba ? Fa = /rv\\:([^\\);]+)(\\)|;)/ : y ? Fa = /\\b(?:MSIE|rv)[: ]([^\\);]+)(\\)|;)/ : z && (Fa = /WebKit\\/(\\S+)/), Fa) {\n      var Ha = Fa.exec(xa()), Ea = Ha ? Ha[1] : \"\"\n    }\n  }\n  if (y) {\n    var Ia = Ca();\n    if (Ia > parseFloat(Ea)) {\n      Da = String(Ia);\n      break a;\n    }\n  }\n  Da = Ea;\n}\nvar Ja = {};\nfunction A(a) {\n  var b;\n  if (!(b = Ja[a])) {\n    b = 0;\n    for (var c = String(Da).replace(/^[\\s\\xa0]+|[\\s\\xa0]+$/g, \"\").split(\".\"), d = String(a).replace(/^[\\s\\xa0]+|[\\s\\xa0]+$/g, \"\").split(\".\"), e = Math.max(c.length, d.length), g = 0;0 == b && g < e;g++) {\n      var h = c[g] || \"\", k = d[g] || \"\", u = RegExp(\"(\\\\d*)(\\\\D*)\", \"g\"), K = RegExp(\"(\\\\d*)(\\\\D*)\", \"g\");\n      do {\n        var v = u.exec(h) || [\"\", \"\", \"\"], r = K.exec(k) || [\"\", \"\", \"\"];\n        if (0 == v[0].length && 0 == r[0].length) {\n          break;\n        }\n        b = ta(0 == v[1].length ? 0 : parseInt(v[1], 10), 0 == r[1].length ? 0 : parseInt(r[1], 10)) || ta(0 == v[2].length, 0 == r[2].length) || ta(v[2], r[2]);\n      } while (0 == b);\n    }\n    b = Ja[a] = 0 <= b;\n  }\n  return b;\n}\nvar La = l.document, Ma = La && y ? Ca() || (\"CSS1Compat\" == La.compatMode ? parseInt(Da, 10) : 5) : void 0;\nfunction Na(a) {\n  Error.captureStackTrace ? Error.captureStackTrace(this, Na) : this.stack = Error().stack || \"\";\n  a && (this.message = String(a));\n}\ns(Na, Error);\nNa.prototype.name = \"CustomError\";\nfunction Oa(a, b) {\n  b.unshift(a);\n  Na.call(this, ka.apply(null, b));\n  b.shift();\n}\ns(Oa, Na);\nOa.prototype.name = \"AssertionError\";\nfunction Pa(a, b) {\n  throw new Oa(\"Failure\" + (a ? \": \" + a : \"\"), Array.prototype.slice.call(arguments, 1));\n}\n;var Qa = RegExp(\"^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\\\?([^#]*))?(?:#(.*))?$\");\nfunction Ra(a) {\n  if (Sa) {\n    Sa = !1;\n    var b = l.location;\n    if (b) {\n      var c = b.href;\n      if (c && (c = (c = Ra(c)[3] || null) && decodeURIComponent(c)) && c != b.hostname) {\n        throw Sa = !0, Error();\n      }\n    }\n  }\n  return a.match(Qa);\n}\nvar Sa = z;\nfunction Ta(a) {\n  var b = [], c = 0, d;\n  for (d in a) {\n    b[c++] = a[d];\n  }\n  return b;\n}\nfunction Ua(a) {\n  var b = [], c = 0, d;\n  for (d in a) {\n    b[c++] = d;\n  }\n  return b;\n}\nvar Va = \"constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf\".split(\" \");\nfunction Wa(a, b) {\n  for (var c, d, e = 1;e < arguments.length;e++) {\n    d = arguments[e];\n    for (c in d) {\n      a[c] = d[c];\n    }\n    for (var g = 0;g < Va.length;g++) {\n      c = Va[g], Object.prototype.hasOwnProperty.call(d, c) && (a[c] = d[c]);\n    }\n  }\n}\n;var B = Array.prototype, Xa = B.indexOf ? function(a, b, c) {\n  return B.indexOf.call(a, b, c);\n} : function(a, b, c) {\n  c = null == c ? 0 : 0 > c ? Math.max(0, a.length + c) : c;\n  if (n(a)) {\n    return n(b) && 1 == b.length ? a.indexOf(b, c) : -1;\n  }\n  for (;c < a.length;c++) {\n    if (c in a && a[c] === b) {\n      return c;\n    }\n  }\n  return-1;\n}, Ya = B.forEach ? function(a, b, c) {\n  B.forEach.call(a, b, c);\n} : function(a, b, c) {\n  for (var d = a.length, e = n(a) ? a.split(\"\") : a, g = 0;g < d;g++) {\n    g in e && b.call(c, e[g], g, a);\n  }\n};\nfunction Za(a) {\n  var b;\n  a: {\n    b = $a;\n    for (var c = a.length, d = n(a) ? a.split(\"\") : a, e = 0;e < c;e++) {\n      if (e in d && b.call(void 0, d[e], e, a)) {\n        b = e;\n        break a;\n      }\n    }\n    b = -1;\n  }\n  return 0 > b ? null : n(a) ? a.charAt(b) : a[b];\n}\nfunction ab(a) {\n  return B.concat.apply(B, arguments);\n}\nfunction bb(a) {\n  var b = a.length;\n  if (0 < b) {\n    for (var c = Array(b), d = 0;d < b;d++) {\n      c[d] = a[d];\n    }\n    return c;\n  }\n  return[];\n}\n;function cb(a, b) {\n  this.O = {};\n  this.j = [];\n  this.o = 0;\n  var c = arguments.length;\n  if (1 < c) {\n    if (c % 2) {\n      throw Error(\"Uneven number of arguments\");\n    }\n    for (var d = 0;d < c;d += 2) {\n      this.set(arguments[d], arguments[d + 1]);\n    }\n  } else {\n    if (a) {\n      a instanceof cb ? (c = a.ca(), d = a.N()) : (c = Ua(a), d = Ta(a));\n      for (var e = 0;e < c.length;e++) {\n        this.set(c[e], d[e]);\n      }\n    }\n  }\n}\nf = cb.prototype;\nf.N = function() {\n  db(this);\n  for (var a = [], b = 0;b < this.j.length;b++) {\n    a.push(this.O[this.j[b]]);\n  }\n  return a;\n};\nf.ca = function() {\n  db(this);\n  return this.j.concat();\n};\nf.wa = function(a) {\n  return C(this.O, a);\n};\nf.remove = function(a) {\n  return C(this.O, a) ? (delete this.O[a], this.o--, this.j.length > 2 * this.o && db(this), !0) : !1;\n};\nfunction db(a) {\n  if (a.o != a.j.length) {\n    for (var b = 0, c = 0;b < a.j.length;) {\n      var d = a.j[b];\n      C(a.O, d) && (a.j[c++] = d);\n      b++;\n    }\n    a.j.length = c;\n  }\n  if (a.o != a.j.length) {\n    for (var e = {}, c = b = 0;b < a.j.length;) {\n      d = a.j[b], C(e, d) || (a.j[c++] = d, e[d] = 1), b++;\n    }\n    a.j.length = c;\n  }\n}\nf.get = function(a, b) {\n  return C(this.O, a) ? this.O[a] : b;\n};\nf.set = function(a, b) {\n  C(this.O, a) || (this.o++, this.j.push(a));\n  this.O[a] = b;\n};\nf.n = function() {\n  return new cb(this);\n};\nfunction C(a, b) {\n  return Object.prototype.hasOwnProperty.call(a, b);\n}\n;function eb(a) {\n  if (\"function\" == typeof a.N) {\n    return a.N();\n  }\n  if (n(a)) {\n    return a.split(\"\");\n  }\n  if (ea(a)) {\n    for (var b = [], c = a.length, d = 0;d < c;d++) {\n      b.push(a[d]);\n    }\n    return b;\n  }\n  return Ta(a);\n}\nfunction D(a, b, c) {\n  if (\"function\" == typeof a.forEach) {\n    a.forEach(b, c);\n  } else {\n    if (ea(a) || n(a)) {\n      Ya(a, b, c);\n    } else {\n      var d;\n      if (\"function\" == typeof a.ca) {\n        d = a.ca();\n      } else {\n        if (\"function\" != typeof a.N) {\n          if (ea(a) || n(a)) {\n            d = [];\n            for (var e = a.length, g = 0;g < e;g++) {\n              d.push(g);\n            }\n          } else {\n            d = Ua(a);\n          }\n        } else {\n          d = void 0;\n        }\n      }\n      for (var e = eb(a), g = e.length, h = 0;h < g;h++) {\n        b.call(c, e[h], d && d[h], a);\n      }\n    }\n  }\n}\n;function E(a, b) {\n  var c;\n  if (a instanceof E) {\n    this.D = void 0 !== b ? b : a.D, fb(this, a.oa), c = a.eb, F(this), this.eb = c, gb(this, a.ja), hb(this, a.Ca), ib(this, a.I), jb(this, a.R.n()), c = a.Na, F(this), this.Na = c;\n  } else {\n    if (a && (c = Ra(String(a)))) {\n      this.D = !!b;\n      fb(this, c[1] || \"\", !0);\n      var d = c[2] || \"\";\n      F(this);\n      this.eb = d ? decodeURIComponent(d) : \"\";\n      gb(this, c[3] || \"\", !0);\n      hb(this, c[4]);\n      ib(this, c[5] || \"\", !0);\n      jb(this, c[6] || \"\", !0);\n      c = c[7] || \"\";\n      F(this);\n      this.Na = c ? decodeURIComponent(c) : \"\";\n    } else {\n      this.D = !!b, this.R = new kb(null, 0, this.D);\n    }\n  }\n}\nf = E.prototype;\nf.oa = \"\";\nf.eb = \"\";\nf.ja = \"\";\nf.Ca = null;\nf.I = \"\";\nf.Na = \"\";\nf.oc = !1;\nf.D = !1;\nf.toString = function() {\n  var a = [], b = this.oa;\n  b && a.push(lb(b, mb), \":\");\n  if (b = this.ja) {\n    a.push(\"//\");\n    var c = this.eb;\n    c && a.push(lb(c, mb), \"@\");\n    a.push(encodeURIComponent(String(b)));\n    b = this.Ca;\n    null != b && a.push(\":\", String(b));\n  }\n  if (b = this.I) {\n    this.ja && \"/\" != b.charAt(0) && a.push(\"/\"), a.push(lb(b, \"/\" == b.charAt(0) ? nb : ob));\n  }\n  (b = this.R.toString()) && a.push(\"?\", b);\n  (b = this.Na) && a.push(\"#\", lb(b, pb));\n  return a.join(\"\");\n};\nf.n = function() {\n  return new E(this);\n};\nfunction fb(a, b, c) {\n  F(a);\n  a.oa = c ? b ? decodeURIComponent(b) : \"\" : b;\n  a.oa && (a.oa = a.oa.replace(/:$/, \"\"));\n}\nfunction gb(a, b, c) {\n  F(a);\n  a.ja = c ? b ? decodeURIComponent(b) : \"\" : b;\n}\nfunction hb(a, b) {\n  F(a);\n  if (b) {\n    b = Number(b);\n    if (isNaN(b) || 0 > b) {\n      throw Error(\"Bad port number \" + b);\n    }\n    a.Ca = b;\n  } else {\n    a.Ca = null;\n  }\n}\nfunction ib(a, b, c) {\n  F(a);\n  a.I = c ? b ? decodeURIComponent(b) : \"\" : b;\n}\nfunction jb(a, b, c) {\n  F(a);\n  b instanceof kb ? (a.R = b, a.R.ub(a.D)) : (c || (b = lb(b, qb)), a.R = new kb(b, 0, a.D));\n}\nfunction G(a, b, c) {\n  F(a);\n  a.R.set(b, c);\n}\nfunction rb(a, b, c) {\n  F(a);\n  m(c) || (c = [String(c)]);\n  sb(a.R, b, c);\n}\nfunction H(a) {\n  F(a);\n  G(a, \"zx\", sa());\n  return a;\n}\nfunction F(a) {\n  if (a.oc) {\n    throw Error(\"Tried to modify a read-only Uri\");\n  }\n}\nf.ub = function(a) {\n  this.D = a;\n  this.R && this.R.ub(a);\n  return this;\n};\nfunction tb(a) {\n  return a instanceof E ? a.n() : new E(a, void 0);\n}\nfunction ub(a, b, c, d) {\n  var e = new E(null, void 0);\n  a && fb(e, a);\n  b && gb(e, b);\n  c && hb(e, c);\n  d && ib(e, d);\n  return e;\n}\nfunction lb(a, b) {\n  return n(a) ? encodeURI(a).replace(b, vb) : null;\n}\nfunction vb(a) {\n  a = a.charCodeAt(0);\n  return \"%\" + (a >> 4 & 15).toString(16) + (a & 15).toString(16);\n}\nvar mb = /[#\\/\\?@]/g, ob = /[\\#\\?:]/g, nb = /[\\#\\?]/g, qb = /[\\#\\?@]/g, pb = /#/g;\nfunction kb(a, b, c) {\n  this.C = a || null;\n  this.D = !!c;\n}\nfunction I(a) {\n  if (!a.h && (a.h = new cb, a.o = 0, a.C)) {\n    for (var b = a.C.split(\"&\"), c = 0;c < b.length;c++) {\n      var d = b[c].indexOf(\"=\"), e = null, g = null;\n      0 <= d ? (e = b[c].substring(0, d), g = b[c].substring(d + 1)) : e = b[c];\n      e = decodeURIComponent(e.replace(/\\+/g, \" \"));\n      e = J(a, e);\n      a.add(e, g ? decodeURIComponent(g.replace(/\\+/g, \" \")) : \"\");\n    }\n  }\n}\nf = kb.prototype;\nf.h = null;\nf.o = null;\nf.add = function(a, b) {\n  I(this);\n  this.C = null;\n  a = J(this, a);\n  var c = this.h.get(a);\n  c || this.h.set(a, c = []);\n  c.push(b);\n  this.o++;\n  return this;\n};\nf.remove = function(a) {\n  I(this);\n  a = J(this, a);\n  return this.h.wa(a) ? (this.C = null, this.o -= this.h.get(a).length, this.h.remove(a)) : !1;\n};\nf.wa = function(a) {\n  I(this);\n  a = J(this, a);\n  return this.h.wa(a);\n};\nf.ca = function() {\n  I(this);\n  for (var a = this.h.N(), b = this.h.ca(), c = [], d = 0;d < b.length;d++) {\n    for (var e = a[d], g = 0;g < e.length;g++) {\n      c.push(b[d]);\n    }\n  }\n  return c;\n};\nf.N = function(a) {\n  I(this);\n  var b = [];\n  if (n(a)) {\n    this.wa(a) && (b = ab(b, this.h.get(J(this, a))));\n  } else {\n    a = this.h.N();\n    for (var c = 0;c < a.length;c++) {\n      b = ab(b, a[c]);\n    }\n  }\n  return b;\n};\nf.set = function(a, b) {\n  I(this);\n  this.C = null;\n  a = J(this, a);\n  this.wa(a) && (this.o -= this.h.get(a).length);\n  this.h.set(a, [b]);\n  this.o++;\n  return this;\n};\nf.get = function(a, b) {\n  var c = a ? this.N(a) : [];\n  return 0 < c.length ? String(c[0]) : b;\n};\nfunction sb(a, b, c) {\n  a.remove(b);\n  0 < c.length && (a.C = null, a.h.set(J(a, b), bb(c)), a.o += c.length);\n}\nf.toString = function() {\n  if (this.C) {\n    return this.C;\n  }\n  if (!this.h) {\n    return \"\";\n  }\n  for (var a = [], b = this.h.ca(), c = 0;c < b.length;c++) {\n    for (var d = b[c], e = encodeURIComponent(String(d)), d = this.N(d), g = 0;g < d.length;g++) {\n      var h = e;\n      \"\" !== d[g] && (h += \"=\" + encodeURIComponent(String(d[g])));\n      a.push(h);\n    }\n  }\n  return this.C = a.join(\"&\");\n};\nf.n = function() {\n  var a = new kb;\n  a.C = this.C;\n  this.h && (a.h = this.h.n(), a.o = this.o);\n  return a;\n};\nfunction J(a, b) {\n  var c = String(b);\n  a.D && (c = c.toLowerCase());\n  return c;\n}\nf.ub = function(a) {\n  a && !this.D && (I(this), this.C = null, D(this.h, function(a, c) {\n    var d = c.toLowerCase();\n    c != d && (this.remove(c), sb(this, d, a));\n  }, this));\n  this.D = a;\n};\nfunction wb(a) {\n  a = String(a);\n  if (/^\\s*$/.test(a) ? 0 : /^[\\],:{}\\s\\u2028\\u2029]*$/.test(a.replace(/\\\\[\"\\\\\\/bfnrtu]/g, \"@\").replace(/\"[^\"\\\\\\n\\r\\u2028\\u2029\\x00-\\x08\\x0a-\\x1f]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g, \"]\").replace(/(?:^|:|,)(?:[\\s\\u2028\\u2029]*\\[)+/g, \"\"))) {\n    try {\n      return eval(\"(\" + a + \")\");\n    } catch (b) {\n    }\n  }\n  throw Error(\"Invalid JSON string: \" + a);\n}\nfunction xb(a) {\n  return eval(\"(\" + a + \")\");\n}\nfunction yb(a) {\n  var b = [];\n  zb(new Ab, a, b);\n  return b.join(\"\");\n}\nfunction Ab() {\n  this.Ya = void 0;\n}\nfunction zb(a, b, c) {\n  switch(typeof b) {\n    case \"string\":\n      Bb(b, c);\n      break;\n    case \"number\":\n      c.push(isFinite(b) && !isNaN(b) ? b : \"null\");\n      break;\n    case \"boolean\":\n      c.push(b);\n      break;\n    case \"undefined\":\n      c.push(\"null\");\n      break;\n    case \"object\":\n      if (null == b) {\n        c.push(\"null\");\n        break;\n      }\n      if (m(b)) {\n        var d = b.length;\n        c.push(\"[\");\n        for (var e = \"\", g = 0;g < d;g++) {\n          c.push(e), e = b[g], zb(a, a.Ya ? a.Ya.call(b, String(g), e) : e, c), e = \",\";\n        }\n        c.push(\"]\");\n        break;\n      }\n      c.push(\"{\");\n      d = \"\";\n      for (g in b) {\n        Object.prototype.hasOwnProperty.call(b, g) && (e = b[g], \"function\" != typeof e && (c.push(d), Bb(g, c), c.push(\":\"), zb(a, a.Ya ? a.Ya.call(b, g, e) : e, c), d = \",\"));\n      }\n      c.push(\"}\");\n      break;\n    case \"function\":\n      break;\n    default:\n      throw Error(\"Unknown type: \" + typeof b);;\n  }\n}\nvar Cb = {'\"':'\\\\\"', \"\\\\\":\"\\\\\\\\\", \"/\":\"\\\\/\", \"\\b\":\"\\\\b\", \"\\f\":\"\\\\f\", \"\\n\":\"\\\\n\", \"\\r\":\"\\\\r\", \"\\t\":\"\\\\t\", \"\\x0B\":\"\\\\u000b\"}, Db = /\\uffff/.test(\"\\uffff\") ? /[\\\\\\\"\\x00-\\x1f\\x7f-\\uffff]/g : /[\\\\\\\"\\x00-\\x1f\\x7f-\\xff]/g;\nfunction Bb(a, b) {\n  b.push('\"', a.replace(Db, function(a) {\n    if (a in Cb) {\n      return Cb[a];\n    }\n    var b = a.charCodeAt(0), e = \"\\\\u\";\n    16 > b ? e += \"000\" : 256 > b ? e += \"00\" : 4096 > b && (e += \"0\");\n    return Cb[a] = e + b.toString(16);\n  }), '\"');\n}\n;function Eb(a) {\n  return Fb(a || arguments.callee.caller, []);\n}\nfunction Fb(a, b) {\n  var c = [];\n  if (0 <= Xa(b, a)) {\n    c.push(\"[...circular reference...]\");\n  } else {\n    if (a && 50 > b.length) {\n      c.push(Gb(a) + \"(\");\n      for (var d = a.arguments, e = 0;e < d.length;e++) {\n        0 < e && c.push(\", \");\n        var g;\n        g = d[e];\n        switch(typeof g) {\n          case \"object\":\n            g = g ? \"object\" : \"null\";\n            break;\n          case \"string\":\n            break;\n          case \"number\":\n            g = String(g);\n            break;\n          case \"boolean\":\n            g = g ? \"true\" : \"false\";\n            break;\n          case \"function\":\n            g = (g = Gb(g)) ? g : \"[fn]\";\n            break;\n          default:\n            g = typeof g;\n        }\n        40 < g.length && (g = g.substr(0, 40) + \"...\");\n        c.push(g);\n      }\n      b.push(a);\n      c.push(\")\\n\");\n      try {\n        c.push(Fb(a.caller, b));\n      } catch (h) {\n        c.push(\"[exception trying to get caller]\\n\");\n      }\n    } else {\n      a ? c.push(\"[...long stack...]\") : c.push(\"[end]\");\n    }\n  }\n  return c.join(\"\");\n}\nfunction Gb(a) {\n  if (Hb[a]) {\n    return Hb[a];\n  }\n  a = String(a);\n  if (!Hb[a]) {\n    var b = /function ([^\\(]+)/.exec(a);\n    Hb[a] = b ? b[1] : \"[Anonymous]\";\n  }\n  return Hb[a];\n}\nvar Hb = {};\nfunction Ib(a, b, c, d, e) {\n  this.reset(a, b, c, d, e);\n}\nIb.prototype.Fb = null;\nIb.prototype.Eb = null;\nvar Jb = 0;\nIb.prototype.reset = function(a, b, c, d, e) {\n  \"number\" == typeof e || Jb++;\n  d || q();\n  this.Aa = a;\n  this.qc = b;\n  delete this.Fb;\n  delete this.Eb;\n};\nIb.prototype.$b = function(a) {\n  this.Aa = a;\n};\nfunction L(a) {\n  this.rc = a;\n}\nL.prototype.Sa = null;\nL.prototype.Aa = null;\nL.prototype.jb = null;\nL.prototype.Jb = null;\nfunction Kb(a, b) {\n  this.name = a;\n  this.value = b;\n}\nKb.prototype.toString = function() {\n  return this.name;\n};\nvar Lb = new Kb(\"SEVERE\", 1E3), Mb = new Kb(\"WARNING\", 900), Nb = new Kb(\"INFO\", 800), Ob = new Kb(\"CONFIG\", 700), Pb = new Kb(\"FINE\", 500);\nf = L.prototype;\nf.getParent = function() {\n  return this.Sa;\n};\nf.$b = function(a) {\n  this.Aa = a;\n};\nfunction Qb(a) {\n  if (a.Aa) {\n    return a.Aa;\n  }\n  if (a.Sa) {\n    return Qb(a.Sa);\n  }\n  Pa(\"Root logger has no level set.\");\n  return null;\n}\nf.log = function(a, b, c) {\n  if (a.value >= Qb(this).value) {\n    for (fa(b) && (b = b()), a = this.mc(a, b, c), b = \"log:\" + a.qc, l.console && (l.console.timeStamp ? l.console.timeStamp(b) : l.console.markTimeline && l.console.markTimeline(b)), l.msWriteProfilerMark && l.msWriteProfilerMark(b), b = this;b;) {\n      c = b;\n      var d = a;\n      if (c.Jb) {\n        for (var e = 0, g = void 0;g = c.Jb[e];e++) {\n          g(d);\n        }\n      }\n      b = b.getParent();\n    }\n  }\n};\nf.mc = function(a, b, c) {\n  var d = new Ib(a, String(b), this.rc);\n  if (c) {\n    d.Fb = c;\n    var e;\n    var g = arguments.callee.caller;\n    try {\n      var h;\n      var k = ba(\"window.location.href\");\n      if (n(c)) {\n        h = {message:c, name:\"Unknown error\", lineNumber:\"Not available\", fileName:k, stack:\"Not available\"};\n      } else {\n        var u, K, v = !1;\n        try {\n          u = c.lineNumber || c.Ic || \"Not available\";\n        } catch (r) {\n          u = \"Not available\", v = !0;\n        }\n        try {\n          K = c.fileName || c.filename || c.sourceURL || l.$googDebugFname || k;\n        } catch (Ka) {\n          K = \"Not available\", v = !0;\n        }\n        h = !v && c.lineNumber && c.fileName && c.stack && c.message && c.name ? c : {message:c.message || \"Not available\", name:c.name || \"UnknownError\", lineNumber:u, fileName:K, stack:c.stack || \"Not available\"};\n      }\n      e = \"Message: \" + la(h.message) + '\\nUrl: <a href=\"view-source:' + h.fileName + '\" target=\"_new\">' + h.fileName + \"</a>\\nLine: \" + h.lineNumber + \"\\n\\nBrowser stack:\\n\" + la(h.stack + \"-> \") + \"[end]\\n\\nJS stack traversal:\\n\" + la(Eb(g) + \"-> \");\n    } catch (w) {\n      e = \"Exception trying to expose exception! You win, we lose. \" + w;\n    }\n    d.Eb = e;\n  }\n  return d;\n};\nf.J = function(a, b) {\n  this.log(Lb, a, b);\n};\nf.Z = function(a, b) {\n  this.log(Mb, a, b);\n};\nf.info = function(a, b) {\n  this.log(Nb, a, b);\n};\nvar Rb = {}, Sb = null;\nfunction Tb(a) {\n  Sb || (Sb = new L(\"\"), Rb[\"\"] = Sb, Sb.$b(Ob));\n  var b;\n  if (!(b = Rb[a])) {\n    b = new L(a);\n    var c = a.lastIndexOf(\".\"), d = a.substr(c + 1), c = Tb(a.substr(0, c));\n    c.jb || (c.jb = {});\n    c.jb[d] = b;\n    b.Sa = c;\n    Rb[a] = b;\n  }\n  return b;\n}\n;function M(a, b) {\n  a && a.log(Pb, b, void 0);\n}\n;function N() {\n  this.r = Tb(\"goog.net.BrowserChannel\");\n}\nfunction Ub(a, b, c, d) {\n  a.info(\"XMLHTTP TEXT (\" + b + \"): \" + Vb(a, c) + (d ? \" \" + d : \"\"));\n}\nN.prototype.debug = function(a) {\n  this.info(a);\n};\nfunction Wb(a, b, c) {\n  a.J((c || \"Exception\") + b);\n}\nN.prototype.info = function(a) {\n  var b = this.r;\n  b && b.info(a, void 0);\n};\nN.prototype.Z = function(a) {\n  var b = this.r;\n  b && b.Z(a, void 0);\n};\nN.prototype.J = function(a) {\n  var b = this.r;\n  b && b.J(a, void 0);\n};\nfunction Vb(a, b) {\n  if (!b || b == Xb) {\n    return b;\n  }\n  try {\n    var c = xb(b);\n    if (c) {\n      for (var d = 0;d < c.length;d++) {\n        if (m(c[d])) {\n          var e = c[d];\n          if (!(2 > e.length)) {\n            var g = e[1];\n            if (m(g) && !(1 > g.length)) {\n              var h = g[0];\n              if (\"noop\" != h && \"stop\" != h) {\n                for (var k = 1;k < g.length;k++) {\n                  g[k] = \"\";\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n    return yb(c);\n  } catch (u) {\n    return a.debug(\"Exception parsing expected JS array - probably was not JS\"), b;\n  }\n}\n;function Yb(a, b) {\n  this.P = b ? xb : wb;\n}\nYb.prototype.parse = function(a) {\n  return this.P(a);\n};\nfunction O() {\n  0 != Zb && ($b[this[ga] || (this[ga] = ++ha)] = this);\n}\nvar Zb = 0, $b = {};\nO.prototype.mb = !1;\nO.prototype.Ja = function() {\n  if (!this.mb && (this.mb = !0, this.u(), 0 != Zb)) {\n    var a = this[ga] || (this[ga] = ++ha);\n    delete $b[a];\n  }\n};\nO.prototype.u = function() {\n  if (this.Pb) {\n    for (;this.Pb.length;) {\n      this.Pb.shift()();\n    }\n  }\n};\nvar ac = \"closure_listenable_\" + (1E6 * Math.random() | 0);\nfunction bc(a) {\n  try {\n    return!(!a || !a[ac]);\n  } catch (b) {\n    return!1;\n  }\n}\nvar cc = 0;\nfunction dc(a, b, c, d, e) {\n  this.fa = a;\n  this.Ua = null;\n  this.src = b;\n  this.type = c;\n  this.capture = !!d;\n  this.Oa = e;\n  this.key = ++cc;\n  this.na = this.Ia = !1;\n}\nfunction ec(a) {\n  a.na = !0;\n  a.fa = null;\n  a.Ua = null;\n  a.src = null;\n  a.Oa = null;\n}\n;function P(a) {\n  this.src = a;\n  this.s = {};\n  this.Ga = 0;\n}\nP.prototype.add = function(a, b, c, d, e) {\n  var g = this.s[a];\n  g || (g = this.s[a] = [], this.Ga++);\n  var h = fc(g, b, d, e);\n  -1 < h ? (a = g[h], c || (a.Ia = !1)) : (a = new dc(b, this.src, a, !!d, e), a.Ia = c, g.push(a));\n  return a;\n};\nP.prototype.remove = function(a, b, c, d) {\n  if (!(a in this.s)) {\n    return!1;\n  }\n  var e = this.s[a];\n  b = fc(e, b, c, d);\n  return-1 < b ? (ec(e[b]), B.splice.call(e, b, 1), 0 == e.length && (delete this.s[a], this.Ga--), !0) : !1;\n};\nfunction gc(a, b) {\n  var c = b.type;\n  if (!(c in a.s)) {\n    return!1;\n  }\n  var d = a.s[c], e = Xa(d, b), g;\n  (g = 0 <= e) && B.splice.call(d, e, 1);\n  g && (ec(b), 0 == a.s[c].length && (delete a.s[c], a.Ga--));\n  return g;\n}\nP.prototype.Xa = function(a) {\n  var b = 0, c;\n  for (c in this.s) {\n    if (!a || c == a) {\n      for (var d = this.s[c], e = 0;e < d.length;e++) {\n        ++b, ec(d[e]);\n      }\n      delete this.s[c];\n      this.Ga--;\n    }\n  }\n  return b;\n};\nP.prototype.ya = function(a, b, c, d) {\n  a = this.s[a];\n  var e = -1;\n  a && (e = fc(a, b, c, d));\n  return-1 < e ? a[e] : null;\n};\nfunction fc(a, b, c, d) {\n  for (var e = 0;e < a.length;++e) {\n    var g = a[e];\n    if (!g.na && g.fa == b && g.capture == !!c && g.Oa == d) {\n      return e;\n    }\n  }\n  return-1;\n}\n;var hc = !y || y && 9 <= Ma, ic = y && !A(\"9\");\n!z || A(\"528\");\nBa && A(\"1.9b\") || y && A(\"8\") || Aa && A(\"9.5\") || z && A(\"528\");\nBa && !A(\"8\") || y && A(\"9\");\nfunction Q(a, b) {\n  this.type = a;\n  this.currentTarget = this.target = b;\n}\nf = Q.prototype;\nf.u = function() {\n};\nf.Ja = function() {\n};\nf.ga = !1;\nf.defaultPrevented = !1;\nf.Yb = !0;\nf.preventDefault = function() {\n  this.defaultPrevented = !0;\n  this.Yb = !1;\n};\nfunction jc(a) {\n  jc[\" \"](a);\n  return a;\n}\njc[\" \"] = ca;\nfunction kc(a, b) {\n  Q.call(this, a ? a.type : \"\");\n  this.relatedTarget = this.currentTarget = this.target = null;\n  this.charCode = this.keyCode = this.button = this.screenY = this.screenX = this.clientY = this.clientX = this.offsetY = this.offsetX = 0;\n  this.metaKey = this.shiftKey = this.altKey = this.ctrlKey = !1;\n  this.Db = this.state = null;\n  if (a) {\n    var c = this.type = a.type;\n    this.target = a.target || a.srcElement;\n    this.currentTarget = b;\n    var d = a.relatedTarget;\n    if (d) {\n      if (Ba) {\n        var e;\n        a: {\n          try {\n            jc(d.nodeName);\n            e = !0;\n            break a;\n          } catch (g) {\n          }\n          e = !1;\n        }\n        e || (d = null);\n      }\n    } else {\n      \"mouseover\" == c ? d = a.fromElement : \"mouseout\" == c && (d = a.toElement);\n    }\n    this.relatedTarget = d;\n    this.offsetX = z || void 0 !== a.offsetX ? a.offsetX : a.layerX;\n    this.offsetY = z || void 0 !== a.offsetY ? a.offsetY : a.layerY;\n    this.clientX = void 0 !== a.clientX ? a.clientX : a.pageX;\n    this.clientY = void 0 !== a.clientY ? a.clientY : a.pageY;\n    this.screenX = a.screenX || 0;\n    this.screenY = a.screenY || 0;\n    this.button = a.button;\n    this.keyCode = a.keyCode || 0;\n    this.charCode = a.charCode || (\"keypress\" == c ? a.keyCode : 0);\n    this.ctrlKey = a.ctrlKey;\n    this.altKey = a.altKey;\n    this.shiftKey = a.shiftKey;\n    this.metaKey = a.metaKey;\n    this.state = a.state;\n    this.Db = a;\n    a.defaultPrevented && this.preventDefault();\n    delete this.ga;\n  }\n}\ns(kc, Q);\nkc.prototype.preventDefault = function() {\n  kc.pa.preventDefault.call(this);\n  var a = this.Db;\n  if (a.preventDefault) {\n    a.preventDefault();\n  } else {\n    if (a.returnValue = !1, ic) {\n      try {\n        if (a.ctrlKey || 112 <= a.keyCode && 123 >= a.keyCode) {\n          a.keyCode = -1;\n        }\n      } catch (b) {\n      }\n    }\n  }\n};\nkc.prototype.u = function() {\n};\nvar lc = \"closure_lm_\" + (1E6 * Math.random() | 0), mc = {}, nc = 0;\nfunction oc(a, b, c, d, e) {\n  if (m(b)) {\n    for (var g = 0;g < b.length;g++) {\n      oc(a, b[g], c, d, e);\n    }\n    return null;\n  }\n  c = pc(c);\n  if (bc(a)) {\n    a = a.Ra(b, c, d, e);\n  } else {\n    if (!b) {\n      throw Error(\"Invalid event type\");\n    }\n    var g = !!d, h = qc(a);\n    h || (a[lc] = h = new P(a));\n    c = h.add(b, c, !1, d, e);\n    c.Ua || (d = rc(), c.Ua = d, d.src = a, d.fa = c, a.addEventListener ? a.addEventListener(b, d, g) : a.attachEvent(b in mc ? mc[b] : mc[b] = \"on\" + b, d), nc++);\n    a = c;\n  }\n  return a;\n}\nfunction rc() {\n  var a = sc, b = hc ? function(c) {\n    return a.call(b.src, b.fa, c);\n  } : function(c) {\n    c = a.call(b.src, b.fa, c);\n    if (!c) {\n      return c;\n    }\n  };\n  return b;\n}\nfunction tc(a, b, c, d, e) {\n  if (m(b)) {\n    for (var g = 0;g < b.length;g++) {\n      tc(a, b[g], c, d, e);\n    }\n  } else {\n    c = pc(c), bc(a) ? a.vb(b, c, d, e) : a && (a = qc(a)) && (b = a.ya(b, c, !!d, e)) && uc(b);\n  }\n}\nfunction uc(a) {\n  if (\"number\" == typeof a || !a || a.na) {\n    return!1;\n  }\n  var b = a.src;\n  if (bc(b)) {\n    return gc(b.W, a);\n  }\n  var c = a.type, d = a.Ua;\n  b.removeEventListener ? b.removeEventListener(c, d, a.capture) : b.detachEvent && b.detachEvent(c in mc ? mc[c] : mc[c] = \"on\" + c, d);\n  nc--;\n  (c = qc(b)) ? (gc(c, a), 0 == c.Ga && (c.src = null, b[lc] = null)) : ec(a);\n  return!0;\n}\nfunction vc(a, b, c, d) {\n  var e = 1;\n  if (a = qc(a)) {\n    if (b = a.s[b]) {\n      for (b = bb(b), a = 0;a < b.length;a++) {\n        var g = b[a];\n        g && g.capture == c && !g.na && (e &= !1 !== wc(g, d));\n      }\n    }\n  }\n  return Boolean(e);\n}\nfunction wc(a, b) {\n  var c = a.fa, d = a.Oa || a.src;\n  a.Ia && uc(a);\n  return c.call(d, b);\n}\nfunction sc(a, b) {\n  if (a.na) {\n    return!0;\n  }\n  if (!hc) {\n    var c = b || ba(\"window.event\"), d = new kc(c, this), e = !0;\n    if (!(0 > c.keyCode || void 0 != c.returnValue)) {\n      a: {\n        var g = !1;\n        if (0 == c.keyCode) {\n          try {\n            c.keyCode = -1;\n            break a;\n          } catch (h) {\n            g = !0;\n          }\n        }\n        if (g || void 0 == c.returnValue) {\n          c.returnValue = !0;\n        }\n      }\n      c = [];\n      for (g = d.currentTarget;g;g = g.parentNode) {\n        c.push(g);\n      }\n      for (var g = a.type, k = c.length - 1;!d.ga && 0 <= k;k--) {\n        d.currentTarget = c[k], e &= vc(c[k], g, !0, d);\n      }\n      for (k = 0;!d.ga && k < c.length;k++) {\n        d.currentTarget = c[k], e &= vc(c[k], g, !1, d);\n      }\n    }\n    return e;\n  }\n  return wc(a, new kc(b, this));\n}\nfunction qc(a) {\n  a = a[lc];\n  return a instanceof P ? a : null;\n}\nvar xc = \"__closure_events_fn_\" + (1E9 * Math.random() >>> 0);\nfunction pc(a) {\n  return fa(a) ? a : a[xc] || (a[xc] = function(b) {\n    return a.handleEvent(b);\n  });\n}\n;function R() {\n  O.call(this);\n  this.W = new P(this);\n  this.fc = this;\n}\ns(R, O);\nR.prototype[ac] = !0;\nf = R.prototype;\nf.tb = null;\nf.addEventListener = function(a, b, c, d) {\n  oc(this, a, b, c, d);\n};\nf.removeEventListener = function(a, b, c, d) {\n  tc(this, a, b, c, d);\n};\nf.dispatchEvent = function(a) {\n  var b, c = this.tb;\n  if (c) {\n    for (b = [];c;c = c.tb) {\n      b.push(c);\n    }\n  }\n  var c = this.fc, d = a.type || a;\n  if (n(a)) {\n    a = new Q(a, c);\n  } else {\n    if (a instanceof Q) {\n      a.target = a.target || c;\n    } else {\n      var e = a;\n      a = new Q(d, c);\n      Wa(a, e);\n    }\n  }\n  var e = !0, g;\n  if (b) {\n    for (var h = b.length - 1;!a.ga && 0 <= h;h--) {\n      g = a.currentTarget = b[h], e = yc(g, d, !0, a) && e;\n    }\n  }\n  a.ga || (g = a.currentTarget = c, e = yc(g, d, !0, a) && e, a.ga || (e = yc(g, d, !1, a) && e));\n  if (b) {\n    for (h = 0;!a.ga && h < b.length;h++) {\n      g = a.currentTarget = b[h], e = yc(g, d, !1, a) && e;\n    }\n  }\n  return e;\n};\nf.u = function() {\n  R.pa.u.call(this);\n  this.W && this.W.Xa(void 0);\n  this.tb = null;\n};\nf.Ra = function(a, b, c, d) {\n  return this.W.add(String(a), b, !1, c, d);\n};\nf.vb = function(a, b, c, d) {\n  return this.W.remove(String(a), b, c, d);\n};\nfunction yc(a, b, c, d) {\n  b = a.W.s[String(b)];\n  if (!b) {\n    return!0;\n  }\n  b = bb(b);\n  for (var e = !0, g = 0;g < b.length;++g) {\n    var h = b[g];\n    if (h && !h.na && h.capture == c) {\n      var k = h.fa, u = h.Oa || h.src;\n      h.Ia && gc(a.W, h);\n      e = !1 !== k.call(u, d) && e;\n    }\n  }\n  return e && !1 != d.Yb;\n}\nf.ya = function(a, b, c, d) {\n  return this.W.ya(String(a), b, c, d);\n};\nfunction zc(a, b) {\n  R.call(this);\n  this.ea = a || 1;\n  this.ra = b || l;\n  this.ib = p(this.Gc, this);\n  this.sb = q();\n}\ns(zc, R);\nf = zc.prototype;\nf.enabled = !1;\nf.l = null;\nf.setInterval = function(a) {\n  this.ea = a;\n  this.l && this.enabled ? (this.stop(), this.start()) : this.l && this.stop();\n};\nf.Gc = function() {\n  if (this.enabled) {\n    var a = q() - this.sb;\n    0 < a && a < 0.8 * this.ea ? this.l = this.ra.setTimeout(this.ib, this.ea - a) : (this.l && (this.ra.clearTimeout(this.l), this.l = null), this.dispatchEvent(Ac), this.enabled && (this.l = this.ra.setTimeout(this.ib, this.ea), this.sb = q()));\n  }\n};\nf.start = function() {\n  this.enabled = !0;\n  this.l || (this.l = this.ra.setTimeout(this.ib, this.ea), this.sb = q());\n};\nf.stop = function() {\n  this.enabled = !1;\n  this.l && (this.ra.clearTimeout(this.l), this.l = null);\n};\nf.u = function() {\n  zc.pa.u.call(this);\n  this.stop();\n  delete this.ra;\n};\nvar Ac = \"tick\";\nfunction Bc(a, b, c) {\n  if (fa(a)) {\n    c && (a = p(a, c));\n  } else {\n    if (a && \"function\" == typeof a.handleEvent) {\n      a = p(a.handleEvent, a);\n    } else {\n      throw Error(\"Invalid listener argument\");\n    }\n  }\n  return 2147483647 < b ? -1 : l.setTimeout(a, b || 0);\n}\n;function Cc() {\n}\nCc.prototype.Ab = null;\nfunction Dc(a) {\n  var b;\n  (b = a.Ab) || (b = {}, Ec(a) && (b[0] = !0, b[1] = !0), b = a.Ab = b);\n  return b;\n}\n;var Fc;\nfunction Gc() {\n}\ns(Gc, Cc);\nfunction Hc(a) {\n  return(a = Ec(a)) ? new ActiveXObject(a) : new XMLHttpRequest;\n}\nfunction Ec(a) {\n  if (!a.Kb && \"undefined\" == typeof XMLHttpRequest && \"undefined\" != typeof ActiveXObject) {\n    for (var b = [\"MSXML2.XMLHTTP.6.0\", \"MSXML2.XMLHTTP.3.0\", \"MSXML2.XMLHTTP\", \"Microsoft.XMLHTTP\"], c = 0;c < b.length;c++) {\n      var d = b[c];\n      try {\n        return new ActiveXObject(d), a.Kb = d;\n      } catch (e) {\n      }\n    }\n    throw Error(\"Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed\");\n  }\n  return a.Kb;\n}\nFc = new Gc;\nfunction Ic(a) {\n  R.call(this);\n  this.headers = new cb;\n  this.gb = a || null;\n  this.T = !1;\n  this.fb = this.f = null;\n  this.Mb = this.Qa = \"\";\n  this.ka = 0;\n  this.q = \"\";\n  this.da = this.qb = this.Pa = this.nb = !1;\n  this.Fa = 0;\n  this.bb = null;\n  this.Xb = Jc;\n  this.cb = this.dc = !1;\n}\ns(Ic, R);\nvar Jc = \"\";\nIc.prototype.r = Tb(\"goog.net.XhrIo\");\nvar Kc = /^https?$/i, Lc = [\"POST\", \"PUT\"];\nf = Ic.prototype;\nf.send = function(a, b, c, d) {\n  if (this.f) {\n    throw Error(\"[goog.net.XhrIo] Object is active with another request=\" + this.Qa + \"; newUri=\" + a);\n  }\n  b = b ? b.toUpperCase() : \"GET\";\n  this.Qa = a;\n  this.q = \"\";\n  this.ka = 0;\n  this.Mb = b;\n  this.nb = !1;\n  this.T = !0;\n  this.f = this.gb ? Hc(this.gb) : Hc(Fc);\n  this.fb = this.gb ? Dc(this.gb) : Dc(Fc);\n  this.f.onreadystatechange = p(this.Qb, this);\n  try {\n    M(this.r, S(this, \"Opening Xhr\")), this.qb = !0, this.f.open(b, a, !0), this.qb = !1;\n  } catch (e) {\n    M(this.r, S(this, \"Error opening Xhr: \" + e.message));\n    Mc(this, e);\n    return;\n  }\n  a = c || \"\";\n  var g = this.headers.n();\n  d && D(d, function(a, b) {\n    g.set(b, a);\n  });\n  d = Za(g.ca());\n  c = l.FormData && a instanceof l.FormData;\n  !(0 <= Xa(Lc, b)) || d || c || g.set(\"Content-Type\", \"application/x-www-form-urlencoded;charset=utf-8\");\n  D(g, function(a, b) {\n    this.f.setRequestHeader(b, a);\n  }, this);\n  this.Xb && (this.f.responseType = this.Xb);\n  \"withCredentials\" in this.f && (this.f.withCredentials = this.dc);\n  try {\n    Nc(this), 0 < this.Fa && (this.cb = Oc(this.f), M(this.r, S(this, \"Will abort after \" + this.Fa + \"ms if incomplete, xhr2 \" + this.cb)), this.cb ? (this.f.timeout = this.Fa, this.f.ontimeout = p(this.qa, this)) : this.bb = Bc(this.qa, this.Fa, this)), M(this.r, S(this, \"Sending request\")), this.Pa = !0, this.f.send(a), this.Pa = !1;\n  } catch (h) {\n    M(this.r, S(this, \"Send error: \" + h.message)), Mc(this, h);\n  }\n};\nfunction Oc(a) {\n  return y && A(9) && \"number\" == typeof a.timeout && void 0 !== a.ontimeout;\n}\nfunction $a(a) {\n  return \"content-type\" == a.toLowerCase();\n}\nf.qa = function() {\n  \"undefined\" != typeof aa && this.f && (this.q = \"Timed out after \" + this.Fa + \"ms, aborting\", this.ka = 8, M(this.r, S(this, this.q)), this.dispatchEvent(\"timeout\"), this.abort(8));\n};\nfunction Mc(a, b) {\n  a.T = !1;\n  a.f && (a.da = !0, a.f.abort(), a.da = !1);\n  a.q = b;\n  a.ka = 5;\n  Pc(a);\n  Qc(a);\n}\nfunction Pc(a) {\n  a.nb || (a.nb = !0, a.dispatchEvent(\"complete\"), a.dispatchEvent(\"error\"));\n}\nf.abort = function(a) {\n  this.f && this.T && (M(this.r, S(this, \"Aborting\")), this.T = !1, this.da = !0, this.f.abort(), this.da = !1, this.ka = a || 7, this.dispatchEvent(\"complete\"), this.dispatchEvent(\"abort\"), Qc(this));\n};\nf.u = function() {\n  this.f && (this.T && (this.T = !1, this.da = !0, this.f.abort(), this.da = !1), Qc(this, !0));\n  Ic.pa.u.call(this);\n};\nf.Qb = function() {\n  this.mb || (this.qb || this.Pa || this.da ? Rc(this) : this.uc());\n};\nf.uc = function() {\n  Rc(this);\n};\nfunction Rc(a) {\n  if (a.T && \"undefined\" != typeof aa) {\n    if (a.fb[1] && 4 == T(a) && 2 == Sc(a)) {\n      M(a.r, S(a, \"Local request error detected and ignored\"));\n    } else {\n      if (a.Pa && 4 == T(a)) {\n        Bc(a.Qb, 0, a);\n      } else {\n        if (a.dispatchEvent(\"readystatechange\"), 4 == T(a)) {\n          M(a.r, S(a, \"Request complete\"));\n          a.T = !1;\n          try {\n            var b = Sc(a), c, d;\n            a: {\n              switch(b) {\n                case 200:\n                ;\n                case 201:\n                ;\n                case 202:\n                ;\n                case 204:\n                ;\n                case 206:\n                ;\n                case 304:\n                ;\n                case 1223:\n                  d = !0;\n                  break a;\n                default:\n                  d = !1;\n              }\n            }\n            if (!(c = d)) {\n              var e;\n              if (e = 0 === b) {\n                var g = Ra(String(a.Qa))[1] || null;\n                if (!g && self.location) {\n                  var h = self.location.protocol, g = h.substr(0, h.length - 1)\n                }\n                e = !Kc.test(g ? g.toLowerCase() : \"\");\n              }\n              c = e;\n            }\n            if (c) {\n              a.dispatchEvent(\"complete\"), a.dispatchEvent(\"success\");\n            } else {\n              a.ka = 6;\n              var k;\n              try {\n                k = 2 < T(a) ? a.f.statusText : \"\";\n              } catch (u) {\n                M(a.r, \"Can not get status: \" + u.message), k = \"\";\n              }\n              a.q = k + \" [\" + Sc(a) + \"]\";\n              Pc(a);\n            }\n          } finally {\n            Qc(a);\n          }\n        }\n      }\n    }\n  }\n}\nfunction Qc(a, b) {\n  if (a.f) {\n    Nc(a);\n    var c = a.f, d = a.fb[0] ? ca : null;\n    a.f = null;\n    a.fb = null;\n    b || a.dispatchEvent(\"ready\");\n    try {\n      c.onreadystatechange = d;\n    } catch (e) {\n      (c = a.r) && c.J(\"Problem encountered resetting onreadystatechange: \" + e.message, void 0);\n    }\n  }\n}\nfunction Nc(a) {\n  a.f && a.cb && (a.f.ontimeout = null);\n  \"number\" == typeof a.bb && (l.clearTimeout(a.bb), a.bb = null);\n}\nf.isActive = function() {\n  return!!this.f;\n};\nfunction T(a) {\n  return a.f ? a.f.readyState : 0;\n}\nfunction Sc(a) {\n  try {\n    return 2 < T(a) ? a.f.status : -1;\n  } catch (b) {\n    return(a = a.r) && a.Z(\"Can not get status: \" + b.message, void 0), -1;\n  }\n}\nfunction Tc(a) {\n  try {\n    return a.f ? a.f.responseText : \"\";\n  } catch (b) {\n    return M(a.r, \"Can not get responseText: \" + b.message), \"\";\n  }\n}\nf.Ib = function() {\n  return n(this.q) ? this.q : String(this.q);\n};\nfunction S(a, b) {\n  return b + \" [\" + a.Mb + \" \" + a.Qa + \" \" + Sc(a) + \"]\";\n}\n;function Uc() {\n  this.Wb = q();\n}\nnew Uc;\nUc.prototype.set = function(a) {\n  this.Wb = a;\n};\nUc.prototype.reset = function() {\n  this.set(q());\n};\nUc.prototype.get = function() {\n  return this.Wb;\n};\nfunction Vc(a) {\n  O.call(this);\n  this.e = a;\n  this.j = {};\n}\ns(Vc, O);\nvar Wc = [];\nf = Vc.prototype;\nf.Ra = function(a, b, c, d) {\n  m(b) || (Wc[0] = b, b = Wc);\n  for (var e = 0;e < b.length;e++) {\n    var g = oc(a, b[e], c || this.handleEvent, d || !1, this.e || this);\n    if (!g) {\n      break;\n    }\n    this.j[g.key] = g;\n  }\n  return this;\n};\nf.vb = function(a, b, c, d, e) {\n  if (m(b)) {\n    for (var g = 0;g < b.length;g++) {\n      this.vb(a, b[g], c, d, e);\n    }\n  } else {\n    c = c || this.handleEvent, e = e || this.e || this, c = pc(c), d = !!d, b = bc(a) ? a.ya(b, c, d, e) : a ? (a = qc(a)) ? a.ya(b, c, d, e) : null : null, b && (uc(b), delete this.j[b.key]);\n  }\n  return this;\n};\nf.Xa = function() {\n  var a = this.j, b = uc, c;\n  for (c in a) {\n    b.call(void 0, a[c], c, a);\n  }\n  this.j = {};\n};\nf.u = function() {\n  Vc.pa.u.call(this);\n  this.Xa();\n};\nf.handleEvent = function() {\n  throw Error(\"EventHandler.handleEvent not implemented\");\n};\nfunction Xc(a, b, c) {\n  O.call(this);\n  this.pc = a;\n  this.ea = b;\n  this.e = c;\n  this.jc = p(this.vc, this);\n}\ns(Xc, O);\nf = Xc.prototype;\nf.Za = !1;\nf.Vb = 0;\nf.l = null;\nf.stop = function() {\n  this.l && (l.clearTimeout(this.l), this.l = null, this.Za = !1);\n};\nf.u = function() {\n  Xc.pa.u.call(this);\n  this.stop();\n};\nf.vc = function() {\n  this.l = null;\n  this.Za && !this.Vb && (this.Za = !1, Yc(this));\n};\nfunction Yc(a) {\n  a.l = Bc(a.jc, a.ea);\n  a.pc.call(a.e);\n}\n;function U(a, b, c, d, e) {\n  this.b = a;\n  this.a = b;\n  this.Y = c;\n  this.B = d;\n  this.Ea = e || 1;\n  this.qa = Zc;\n  this.ob = new Vc(this);\n  this.Ta = new zc;\n  this.Ta.setInterval($c);\n}\nf = U.prototype;\nf.v = null;\nf.F = !1;\nf.ua = null;\nf.xb = null;\nf.Da = null;\nf.sa = null;\nf.U = null;\nf.w = null;\nf.X = null;\nf.k = null;\nf.Ha = 0;\nf.K = null;\nf.ta = null;\nf.q = null;\nf.g = -1;\nf.Zb = !0;\nf.$ = !1;\nf.ma = 0;\nf.Va = null;\nvar Zc = 45E3, $c = 250;\nfunction ad(a, b) {\n  switch(a) {\n    case 0:\n      return \"Non-200 return code (\" + b + \")\";\n    case 1:\n      return \"XMLHTTP failure (no data)\";\n    case 2:\n      return \"HttpConnection timeout\";\n    default:\n      return \"Unknown error\";\n  }\n}\nvar bd = {}, dd = {};\nfunction ed() {\n  return!y || y && 10 <= Ma;\n}\nf = U.prototype;\nf.S = function(a) {\n  this.v = a;\n};\nf.setTimeout = function(a) {\n  this.qa = a;\n};\nf.bc = function(a) {\n  this.ma = a;\n};\nfunction fd(a, b, c) {\n  a.sa = 1;\n  a.U = H(b.n());\n  a.X = c;\n  a.Cb = !0;\n  gd(a, null);\n}\nfunction hd(a, b, c, d, e) {\n  a.sa = 1;\n  a.U = H(b.n());\n  a.X = null;\n  a.Cb = c;\n  e && (a.Zb = !1);\n  gd(a, d);\n}\nfunction gd(a, b) {\n  a.Da = q();\n  id(a);\n  a.w = a.U.n();\n  rb(a.w, \"t\", a.Ea);\n  a.Ha = 0;\n  a.k = a.b.lb(a.b.$a() ? b : null);\n  0 < a.ma && (a.Va = new Xc(p(a.ec, a, a.k), a.ma));\n  a.ob.Ra(a.k, \"readystatechange\", a.Bc);\n  var c;\n  if (a.v) {\n    c = a.v;\n    var d = {}, e;\n    for (e in c) {\n      d[e] = c[e];\n    }\n    c = d;\n  } else {\n    c = {};\n  }\n  a.X ? (a.ta = \"POST\", c[\"Content-Type\"] = \"application/x-www-form-urlencoded\", a.k.send(a.w, a.ta, a.X, c)) : (a.ta = \"GET\", a.Zb && !z && (c.Connection = \"close\"), a.k.send(a.w, a.ta, null, c));\n  a.b.H(jd);\n  if (d = a.X) {\n    for (c = \"\", d = d.split(\"&\"), e = 0;e < d.length;e++) {\n      var g = d[e].split(\"=\");\n      if (1 < g.length) {\n        var h = g[0], g = g[1], k = h.split(\"_\");\n        c = 2 <= k.length && \"type\" == k[1] ? c + (h + \"=\" + g + \"&\") : c + (h + \"=redacted&\");\n      }\n    }\n  } else {\n    c = null;\n  }\n  a.a.info(\"XMLHTTP REQ (\" + a.B + \") [attempt \" + a.Ea + \"]: \" + a.ta + \"\\n\" + a.w + \"\\n\" + c);\n}\nf.Bc = function(a) {\n  a = a.target;\n  var b = this.Va;\n  b && 3 == T(a) ? (this.a.debug(\"Throttling readystatechange.\"), b.l || b.Vb ? b.Za = !0 : Yc(b)) : this.ec(a);\n};\nf.ec = function(a) {\n  try {\n    if (a == this.k) {\n      a: {\n        var b = T(this.k), c = this.k.ka, d = Sc(this.k);\n        if (!ed() || z && !A(\"420+\")) {\n          if (4 > b) {\n            break a;\n          }\n        } else {\n          if (3 > b || 3 == b && !Aa && !Tc(this.k)) {\n            break a;\n          }\n        }\n        this.$ || 4 != b || 7 == c || (8 == c || 0 >= d ? this.b.H(kd) : this.b.H(ld));\n        md(this);\n        var e = Sc(this.k);\n        this.g = e;\n        var g = Tc(this.k);\n        g || this.a.debug(\"No response text for uri \" + this.w + \" status \" + e);\n        this.F = 200 == e;\n        this.a.info(\"XMLHTTP RESP (\" + this.B + \") [ attempt \" + this.Ea + \"]: \" + this.ta + \"\\n\" + this.w + \"\\n\" + b + \" \" + e);\n        this.F ? (4 == b && V(this), this.Cb ? (nd(this, b, g), Aa && this.F && 3 == b && (this.ob.Ra(this.Ta, Ac, this.Ac), this.Ta.start())) : (Ub(this.a, this.B, g, null), od(this, g)), this.F && !this.$ && (4 == b ? this.b.la(this) : (this.F = !1, id(this)))) : (400 == e && 0 < g.indexOf(\"Unknown SID\") ? (this.q = 3, W(), this.a.Z(\"XMLHTTP Unknown SID (\" + this.B + \")\")) : (this.q = 0, W(), this.a.Z(\"XMLHTTP Bad status \" + e + \" (\" + this.B + \")\")), V(this), pd(this));\n      }\n    } else {\n      this.a.Z(\"Called back with an unexpected xmlhttp\");\n    }\n  } catch (h) {\n    this.a.debug(\"Failed call to OnXmlHttpReadyStateChanged_\"), this.k && Tc(this.k) ? Wb(this.a, h, \"ResponseText: \" + Tc(this.k)) : Wb(this.a, h, \"No response text\");\n  } finally {\n  }\n};\nfunction nd(a, b, c) {\n  for (var d = !0;!a.$ && a.Ha < c.length;) {\n    var e = qd(a, c);\n    if (e == dd) {\n      4 == b && (a.q = 4, W(), d = !1);\n      Ub(a.a, a.B, null, \"[Incomplete Response]\");\n      break;\n    } else {\n      if (e == bd) {\n        a.q = 4;\n        W();\n        Ub(a.a, a.B, c, \"[Invalid Chunk]\");\n        d = !1;\n        break;\n      } else {\n        Ub(a.a, a.B, e, null), od(a, e);\n      }\n    }\n  }\n  4 == b && 0 == c.length && (a.q = 1, W(), d = !1);\n  a.F = a.F && d;\n  d || (Ub(a.a, a.B, c, \"[Invalid Chunked Response]\"), V(a), pd(a));\n}\nf.Ac = function() {\n  var a = T(this.k), b = Tc(this.k);\n  this.Ha < b.length && (md(this), nd(this, a, b), this.F && 4 != a && id(this));\n};\nfunction qd(a, b) {\n  var c = a.Ha, d = b.indexOf(\"\\n\", c);\n  if (-1 == d) {\n    return dd;\n  }\n  c = Number(b.substring(c, d));\n  if (isNaN(c)) {\n    return bd;\n  }\n  d += 1;\n  if (d + c > b.length) {\n    return dd;\n  }\n  var e = b.substr(d, c);\n  a.Ha = d + c;\n  return e;\n}\nfunction rd(a, b) {\n  a.Da = q();\n  id(a);\n  var c = b ? window.location.hostname : \"\";\n  a.w = a.U.n();\n  G(a.w, \"DOMAIN\", c);\n  G(a.w, \"t\", a.Ea);\n  try {\n    a.K = new ActiveXObject(\"htmlfile\");\n  } catch (d) {\n    a.a.J(\"ActiveX blocked\");\n    V(a);\n    a.q = 7;\n    W();\n    pd(a);\n    return;\n  }\n  var e = \"<html><body>\";\n  b && (e += '<script>document.domain=\"' + c + '\"\\x3c/script>');\n  e += \"</body></html>\";\n  a.K.open();\n  a.K.write(e);\n  a.K.close();\n  a.K.parentWindow.m = p(a.yc, a);\n  a.K.parentWindow.d = p(a.Ub, a, !0);\n  a.K.parentWindow.rpcClose = p(a.Ub, a, !1);\n  c = a.K.createElement(\"div\");\n  a.K.parentWindow.document.body.appendChild(c);\n  c.innerHTML = '<iframe src=\"' + a.w + '\"></iframe>';\n  a.a.info(\"TRIDENT REQ (\" + a.B + \") [ attempt \" + a.Ea + \"]: GET\\n\" + a.w);\n  a.b.H(jd);\n}\nf.yc = function(a) {\n  Y(p(this.xc, this, a), 0);\n};\nf.xc = function(a) {\n  if (!this.$) {\n    var b = this.a;\n    b.info(\"TRIDENT TEXT (\" + this.B + \"): \" + Vb(b, a));\n    md(this);\n    od(this, a);\n    id(this);\n  }\n};\nf.Ub = function(a) {\n  Y(p(this.wc, this, a), 0);\n};\nf.wc = function(a) {\n  this.$ || (this.a.info(\"TRIDENT TEXT (\" + this.B + \"): \" + a ? \"success\" : \"failure\"), V(this), this.F = a, this.b.la(this), this.b.H(sd));\n};\nf.nc = function() {\n  md(this);\n  this.b.la(this);\n};\nf.cancel = function() {\n  this.$ = !0;\n  V(this);\n};\nfunction id(a) {\n  a.xb = q() + a.qa;\n  td(a, a.qa);\n}\nfunction td(a, b) {\n  if (null != a.ua) {\n    throw Error(\"WatchDog timer not null\");\n  }\n  a.ua = Y(p(a.zc, a), b);\n}\nfunction md(a) {\n  a.ua && (l.clearTimeout(a.ua), a.ua = null);\n}\nf.zc = function() {\n  this.ua = null;\n  var a = q();\n  0 <= a - this.xb ? (this.F && this.a.J(\"Received watchdog timeout even though request loaded successfully\"), this.a.info(\"TIMEOUT: \" + this.w), 2 != this.sa && this.b.H(kd), V(this), this.q = 2, W(), pd(this)) : (this.a.Z(\"WatchDog timer called too early\"), td(this, this.xb - a));\n};\nfunction pd(a) {\n  a.b.Lb() || a.$ || a.b.la(a);\n}\nfunction V(a) {\n  md(a);\n  var b = a.Va;\n  b && \"function\" == typeof b.Ja && b.Ja();\n  a.Va = null;\n  a.Ta.stop();\n  a.ob.Xa();\n  a.k && (b = a.k, a.k = null, b.abort(), b.Ja());\n  a.K && (a.K = null);\n}\nf.Ib = function() {\n  return this.q;\n};\nfunction od(a, b) {\n  try {\n    a.b.Rb(a, b), a.b.H(sd);\n  } catch (c) {\n    Wb(a.a, c, \"Error in httprequest callback\");\n  }\n}\n;function ud(a, b, c, d, e) {\n  (new N).debug(\"TestLoadImageWithRetries: \" + e);\n  if (0 == d) {\n    c(!1);\n  } else {\n    var g = e || 0;\n    d--;\n    vd(a, b, function(e) {\n      e ? c(!0) : l.setTimeout(function() {\n        ud(a, b, c, d, g);\n      }, g);\n    });\n  }\n}\nfunction vd(a, b, c) {\n  function d(a, b) {\n    return function() {\n      try {\n        e.debug(\"TestLoadImage: \" + b), g.onload = null, g.onerror = null, g.onabort = null, g.ontimeout = null, l.clearTimeout(h), c(a);\n      } catch (d) {\n        Wb(e, d);\n      }\n    };\n  }\n  var e = new N;\n  e.debug(\"TestLoadImage: loading \" + a);\n  var g = new Image, h = null;\n  g.onload = d(!0, \"loaded\");\n  g.onerror = d(!1, \"error\");\n  g.onabort = d(!1, \"abort\");\n  g.ontimeout = d(!1, \"timeout\");\n  h = l.setTimeout(function() {\n    if (g.ontimeout) {\n      g.ontimeout();\n    }\n  }, b);\n  g.src = a;\n}\n;function wd(a, b) {\n  this.b = a;\n  this.a = b;\n  this.P = new Yb(0, !0);\n}\nf = wd.prototype;\nf.v = null;\nf.A = null;\nf.Wa = !1;\nf.cc = null;\nf.La = null;\nf.rb = null;\nf.I = null;\nf.c = null;\nf.g = -1;\nf.L = null;\nf.va = null;\nf.S = function(a) {\n  this.v = a;\n};\nf.ac = function(a) {\n  this.P = a;\n};\nf.kb = function(a) {\n  this.I = a;\n  a = xd(this.b, this.I);\n  W();\n  this.cc = q();\n  var b = this.b.Gb;\n  null != b ? (this.L = this.b.correctHostPrefix(b[0]), (this.va = b[1]) ? (this.c = 1, yd(this)) : (this.c = 2, zd(this))) : (rb(a, \"MODE\", \"init\"), this.A = new U(this, this.a, void 0, void 0, void 0), this.A.S(this.v), hd(this.A, a, !1, null, !0), this.c = 0);\n};\nfunction yd(a) {\n  var b = Ad(a.b, a.va, \"/mail/images/cleardot.gif\");\n  H(b);\n  ud(b.toString(), 5E3, p(a.kc, a), 3, 2E3);\n  a.H(jd);\n}\nf.kc = function(a) {\n  if (a) {\n    this.c = 2, zd(this);\n  } else {\n    W();\n    var b = this.b;\n    b.a.debug(\"Test Connection Blocked\");\n    b.g = b.V.g;\n    Z(b, 9);\n  }\n  a && this.H(ld);\n};\nfunction zd(a) {\n  a.a.debug(\"TestConnection: starting stage 2\");\n  var b = a.b.Dc;\n  if (null != b) {\n    a.a.debug(\"TestConnection: skipping stage 2, precomputed result is \" + b ? \"Buffered\" : \"Unbuffered\"), W(), b ? (W(), Bd(a.b, a, !1)) : (W(), Bd(a.b, a, !0));\n  } else {\n    if (a.A = new U(a, a.a, void 0, void 0, void 0), a.A.S(a.v), b = Cd(a.b, a.L, a.I), W(), ed()) {\n      rb(b, \"TYPE\", \"xmlhttp\"), hd(a.A, b, !1, a.L, !1);\n    } else {\n      rb(b, \"TYPE\", \"html\");\n      var c = a.A;\n      a = Boolean(a.L);\n      c.sa = 3;\n      c.U = H(b.n());\n      rd(c, a);\n    }\n  }\n}\nf.lb = function(a) {\n  return this.b.lb(a);\n};\nf.abort = function() {\n  this.A && (this.A.cancel(), this.A = null);\n  this.g = -1;\n};\nf.Lb = function() {\n  return!1;\n};\nf.Rb = function(a, b) {\n  this.g = a.g;\n  if (0 == this.c) {\n    if (this.a.debug(\"TestConnection: Got data for stage 1\"), b) {\n      try {\n        var c = this.P.parse(b);\n      } catch (d) {\n        Wb(this.a, d);\n        Dd(this.b, this);\n        return;\n      }\n      this.L = this.b.correctHostPrefix(c[0]);\n      this.va = c[1];\n    } else {\n      this.a.debug(\"TestConnection: Null responseText\"), Dd(this.b, this);\n    }\n  } else {\n    if (2 == this.c) {\n      if (this.Wa) {\n        W(), this.rb = q();\n      } else {\n        if (\"11111\" == b) {\n          if (W(), this.Wa = !0, this.La = q(), c = this.La - this.cc, ed() || 500 > c) {\n            this.g = 200, this.A.cancel(), this.a.debug(\"Test connection succeeded; using streaming connection\"), W(), Bd(this.b, this, !0);\n          }\n        } else {\n          W(), this.La = this.rb = q(), this.Wa = !1;\n        }\n      }\n    }\n  }\n};\nf.la = function() {\n  this.g = this.A.g;\n  if (!this.A.F) {\n    this.a.debug(\"TestConnection: request failed, in state \" + this.c), 0 == this.c ? W() : 2 == this.c && W(), Dd(this.b, this);\n  } else {\n    if (0 == this.c) {\n      this.a.debug(\"TestConnection: request complete for initial check\"), this.va ? (this.c = 1, yd(this)) : (this.c = 2, zd(this));\n    } else {\n      if (2 == this.c) {\n        this.a.debug(\"TestConnection: request complete for stage 2\");\n        var a = !1;\n        (a = ed() ? this.Wa : 200 > this.rb - this.La ? !1 : !0) ? (this.a.debug(\"Test connection succeeded; using streaming connection\"), W(), Bd(this.b, this, !0)) : (this.a.debug(\"Test connection failed; not using streaming\"), W(), Bd(this.b, this, !1));\n      }\n    }\n  }\n};\nf.$a = function() {\n  return this.b.$a();\n};\nf.isActive = function() {\n  return this.b.isActive();\n};\nf.H = function(a) {\n  this.b.H(a);\n};\nfunction Ed(a, b, c) {\n  this.Bb = a || null;\n  this.c = Fd;\n  this.t = [];\n  this.Q = [];\n  this.a = new N;\n  this.P = new Yb(0, !0);\n  this.Gb = b || null;\n  this.Dc = null != c ? c : null;\n}\nfunction Gd(a, b) {\n  this.Ob = a;\n  this.map = b;\n}\nf = Ed.prototype;\nf.v = null;\nf.xa = null;\nf.p = null;\nf.i = null;\nf.I = null;\nf.Ma = null;\nf.zb = null;\nf.L = null;\nf.hc = !0;\nf.Ba = 0;\nf.sc = 0;\nf.Ka = !1;\nf.e = null;\nf.G = null;\nf.M = null;\nf.aa = null;\nf.V = null;\nf.wb = null;\nf.gc = !0;\nf.za = -1;\nf.Nb = -1;\nf.g = -1;\nf.ba = 0;\nf.ha = 0;\nf.ic = 5E3;\nf.Cc = 1E4;\nf.pb = 2;\nf.Hb = 2E4;\nf.ma = 0;\nf.ab = !1;\nf.ia = 8;\nvar Fd = 1, Hd = new R;\nfunction Id(a) {\n  Q.call(this, \"statevent\", a);\n}\ns(Id, Q);\nfunction Jd(a, b) {\n  Q.call(this, \"timingevent\", a);\n  this.size = b;\n}\ns(Jd, Q);\nvar jd = 1, ld = 2, kd = 3, sd = 4;\nfunction Kd(a) {\n  Q.call(this, \"serverreachability\", a);\n}\ns(Kd, Q);\nvar Xb = \"y2f%\";\nf = Ed.prototype;\nf.kb = function(a, b, c, d, e) {\n  this.a.debug(\"connect()\");\n  W();\n  this.I = b;\n  this.xa = c || {};\n  d && void 0 !== e && (this.xa.OSID = d, this.xa.OAID = e);\n  this.a.debug(\"connectTest_()\");\n  Ld(this) && (this.V = new wd(this, this.a), this.V.S(this.v), this.V.ac(this.P), this.V.kb(a));\n};\nf.disconnect = function() {\n  this.a.debug(\"disconnect()\");\n  Md(this);\n  if (3 == this.c) {\n    var a = this.Ba++, b = this.Ma.n();\n    G(b, \"SID\", this.Y);\n    G(b, \"RID\", a);\n    G(b, \"TYPE\", \"terminate\");\n    Nd(this, b);\n    a = new U(this, this.a, this.Y, a, void 0);\n    a.sa = 2;\n    a.U = H(b.n());\n    b = new Image;\n    b.src = a.U;\n    b.onload = b.onerror = p(a.nc, a);\n    a.Da = q();\n    id(a);\n  }\n  Od(this);\n};\nfunction Md(a) {\n  a.V && (a.V.abort(), a.V = null);\n  a.i && (a.i.cancel(), a.i = null);\n  a.M && (l.clearTimeout(a.M), a.M = null);\n  Pd(a);\n  a.p && (a.p.cancel(), a.p = null);\n  a.G && (l.clearTimeout(a.G), a.G = null);\n}\nf.S = function(a) {\n  this.v = a;\n};\nf.bc = function(a) {\n  this.ma = a;\n};\nf.Lb = function() {\n  return 0 == this.c;\n};\nf.ac = function(a) {\n  this.P = a;\n};\nfunction Qd(a) {\n  a.p || a.G || (a.G = Y(p(a.Tb, a), 0), a.ba = 0);\n}\nf.Tb = function(a) {\n  this.G = null;\n  this.a.debug(\"startForwardChannel_\");\n  if (Ld(this)) {\n    if (this.c == Fd) {\n      if (a) {\n        this.a.J(\"Not supposed to retry the open\");\n      } else {\n        this.a.debug(\"open_()\");\n        this.Ba = Math.floor(1E5 * Math.random());\n        a = this.Ba++;\n        var b = new U(this, this.a, \"\", a, void 0);\n        b.S(this.v);\n        var c = Rd(this), d = this.Ma.n();\n        G(d, \"RID\", a);\n        this.Bb && G(d, \"CVER\", this.Bb);\n        Nd(this, d);\n        fd(b, d, c);\n        this.p = b;\n        this.c = 2;\n      }\n    } else {\n      3 == this.c && (a ? Sd(this, a) : 0 == this.t.length ? this.a.debug(\"startForwardChannel_ returned: nothing to send\") : this.p ? this.a.J(\"startForwardChannel_ returned: connection already in progress\") : (Sd(this), this.a.debug(\"startForwardChannel_ finished, sent request\")));\n    }\n  }\n};\nfunction Sd(a, b) {\n  var c, d;\n  b ? 6 < a.ia ? (a.t = a.Q.concat(a.t), a.Q.length = 0, c = a.Ba - 1, d = Rd(a)) : (c = b.B, d = b.X) : (c = a.Ba++, d = Rd(a));\n  var e = a.Ma.n();\n  G(e, \"SID\", a.Y);\n  G(e, \"RID\", c);\n  G(e, \"AID\", a.za);\n  Nd(a, e);\n  c = new U(a, a.a, a.Y, c, a.ba + 1);\n  c.S(a.v);\n  c.setTimeout(Math.round(0.5 * a.Hb) + Math.round(0.5 * a.Hb * Math.random()));\n  a.p = c;\n  fd(c, e, d);\n}\nfunction Nd(a, b) {\n  if (a.e) {\n    var c = a.e.getAdditionalParams(a);\n    c && D(c, function(a, c) {\n      G(b, c, a);\n    });\n  }\n}\nfunction Rd(a) {\n  var b = Math.min(a.t.length, 1E3), c = [\"count=\" + b], d;\n  6 < a.ia && 0 < b ? (d = a.t[0].Ob, c.push(\"ofs=\" + d)) : d = 0;\n  for (var e = 0;e < b;e++) {\n    var g = a.t[e].Ob, h = a.t[e].map, g = 6 >= a.ia ? e : g - d;\n    try {\n      D(h, function(a, b) {\n        c.push(\"req\" + g + \"_\" + b + \"=\" + encodeURIComponent(a));\n      });\n    } catch (k) {\n      c.push(\"req\" + g + \"_type=\" + encodeURIComponent(\"_badmap\")), a.e && a.e.badMapError(a, h);\n    }\n  }\n  a.Q = a.Q.concat(a.t.splice(0, b));\n  return c.join(\"&\");\n}\nfunction Td(a) {\n  a.i || a.M || (a.yb = 1, a.M = Y(p(a.Sb, a), 0), a.ha = 0);\n}\nfunction Ud(a) {\n  if (a.i || a.M) {\n    return a.a.J(\"Request already in progress\"), !1;\n  }\n  if (3 <= a.ha) {\n    return!1;\n  }\n  a.a.debug(\"Going to retry GET\");\n  a.yb++;\n  a.M = Y(p(a.Sb, a), Vd(a, a.ha));\n  a.ha++;\n  return!0;\n}\nf.Sb = function() {\n  this.M = null;\n  if (Ld(this)) {\n    this.a.debug(\"Creating new HttpRequest\");\n    this.i = new U(this, this.a, this.Y, \"rpc\", this.yb);\n    this.i.S(this.v);\n    this.i.bc(this.ma);\n    var a = this.zb.n();\n    G(a, \"RID\", \"rpc\");\n    G(a, \"SID\", this.Y);\n    G(a, \"CI\", this.wb ? \"0\" : \"1\");\n    G(a, \"AID\", this.za);\n    Nd(this, a);\n    if (ed()) {\n      G(a, \"TYPE\", \"xmlhttp\"), hd(this.i, a, !0, this.L, !1);\n    } else {\n      G(a, \"TYPE\", \"html\");\n      var b = this.i, c = Boolean(this.L);\n      b.sa = 3;\n      b.U = H(a.n());\n      rd(b, c);\n    }\n    this.a.debug(\"New Request created\");\n  }\n};\nfunction Ld(a) {\n  if (a.e) {\n    var b = a.e.okToMakeRequest(a);\n    if (0 != b) {\n      return a.a.debug(\"Handler returned error code from okToMakeRequest\"), Z(a, b), !1;\n    }\n  }\n  return!0;\n}\nfunction Bd(a, b, c) {\n  a.a.debug(\"Test Connection Finished\");\n  a.wb = a.gc && c;\n  a.g = b.g;\n  a.a.debug(\"connectChannel_()\");\n  a.lc(Fd, 0);\n  a.Ma = xd(a, a.I);\n  Qd(a);\n}\nfunction Dd(a, b) {\n  a.a.debug(\"Test Connection Failed\");\n  a.g = b.g;\n  Z(a, 2);\n}\nf.Rb = function(a, b) {\n  if (0 != this.c && (this.i == a || this.p == a)) {\n    if (this.g = a.g, this.p == a && 3 == this.c) {\n      if (7 < this.ia) {\n        var c;\n        try {\n          c = this.P.parse(b);\n        } catch (d) {\n          c = null;\n        }\n        if (m(c) && 3 == c.length) {\n          var e = c;\n          if (0 == e[0]) {\n            a: {\n              if (this.a.debug(\"Server claims our backchannel is missing.\"), this.M) {\n                this.a.debug(\"But we are currently starting the request.\");\n              } else {\n                if (this.i) {\n                  if (this.i.Da + 3E3 < this.p.Da) {\n                    Pd(this), this.i.cancel(), this.i = null;\n                  } else {\n                    break a;\n                  }\n                } else {\n                  this.a.Z(\"We do not have a BackChannel established\");\n                }\n                Ud(this);\n                W();\n              }\n            }\n          } else {\n            this.Nb = e[1], c = this.Nb - this.za, 0 < c && (e = e[2], this.a.debug(e + \" bytes (in \" + c + \" arrays) are outstanding on the BackChannel\"), 37500 > e && this.wb && 0 == this.ha && !this.aa && (this.aa = Y(p(this.tc, this), 6E3)));\n          }\n        } else {\n          this.a.debug(\"Bad POST response data returned\"), Z(this, 11);\n        }\n      } else {\n        b != Xb && (this.a.debug(\"Bad data returned - missing/invald magic cookie\"), Z(this, 11));\n      }\n    } else {\n      if (this.i == a && Pd(this), !/^[\\s\\xa0]*$/.test(b)) {\n        c = this.P.parse(b);\n        for (var e = this.e && this.e.channelHandleMultipleArrays ? [] : null, g = 0;g < c.length;g++) {\n          var h = c[g];\n          this.za = h[0];\n          h = h[1];\n          2 == this.c ? \"c\" == h[0] ? (this.Y = h[1], this.L = this.correctHostPrefix(h[2]), h = h[3], this.ia = null != h ? h : 6, this.c = 3, this.e && this.e.channelOpened(this), this.zb = Cd(this, this.L, this.I), Td(this)) : \"stop\" == h[0] && Z(this, 7) : 3 == this.c && (\"stop\" == h[0] ? (e && 0 != e.length && (this.e.channelHandleMultipleArrays(this, e), e.length = 0), Z(this, 7)) : \"noop\" != h[0] && (e ? e.push(h) : this.e && this.e.channelHandleArray(this, h)), this.ha = 0);\n        }\n        e && 0 != e.length && this.e.channelHandleMultipleArrays(this, e);\n      }\n    }\n  }\n};\nf.correctHostPrefix = function(a) {\n  return this.hc ? this.e ? this.e.correctHostPrefix(a) : a : null;\n};\nf.tc = function() {\n  null != this.aa && (this.aa = null, this.i.cancel(), this.i = null, Ud(this), W());\n};\nfunction Pd(a) {\n  null != a.aa && (l.clearTimeout(a.aa), a.aa = null);\n}\nf.la = function(a) {\n  this.a.debug(\"Request complete\");\n  var b;\n  if (this.i == a) {\n    Pd(this), this.i = null, b = 2;\n  } else {\n    if (this.p == a) {\n      this.p = null, b = 1;\n    } else {\n      return;\n    }\n  }\n  this.g = a.g;\n  if (0 != this.c) {\n    if (a.F) {\n      1 == b ? (q(), Hd.dispatchEvent(new Jd(Hd, a.X ? a.X.length : 0)), Qd(this), this.Q.length = 0) : Td(this);\n    } else {\n      var c = a.Ib();\n      if (3 == c || 7 == c || 0 == c && 0 < this.g) {\n        this.a.debug(\"Not retrying due to error type\");\n      } else {\n        this.a.debug(\"Maybe retrying, last error: \" + ad(c, this.g));\n        var d;\n        if (d = 1 == b) {\n          this.p || this.G ? (this.a.J(\"Request already in progress\"), d = !1) : this.c == Fd || this.ba >= (this.Ka ? 0 : this.pb) ? d = !1 : (this.a.debug(\"Going to retry POST\"), this.G = Y(p(this.Tb, this, a), Vd(this, this.ba)), this.ba++, d = !0);\n        }\n        if (d || 2 == b && Ud(this)) {\n          return;\n        }\n        this.a.debug(\"Exceeded max number of retries\");\n      }\n      this.a.debug(\"Error: HTTP request failed\");\n      switch(c) {\n        case 1:\n          Z(this, 5);\n          break;\n        case 4:\n          Z(this, 10);\n          break;\n        case 3:\n          Z(this, 6);\n          break;\n        case 7:\n          Z(this, 12);\n          break;\n        default:\n          Z(this, 2);\n      }\n    }\n  }\n};\nfunction Vd(a, b) {\n  var c = a.ic + Math.floor(Math.random() * a.Cc);\n  a.isActive() || (a.a.debug(\"Inactive channel\"), c *= 2);\n  return c * b;\n}\nf.lc = function(a) {\n  if (!(0 <= Xa(arguments, this.c))) {\n    throw Error(\"Unexpected channel state: \" + this.c);\n  }\n};\nfunction Z(a, b) {\n  a.a.info(\"Error code \" + b);\n  if (2 == b || 9 == b) {\n    var c = null;\n    a.e && (c = a.e.getNetworkTestImageUri(a));\n    var d = p(a.Fc, a);\n    c || (c = new E(\"//www.google.com/images/cleardot.gif\"), H(c));\n    vd(c.toString(), 1E4, d);\n  } else {\n    W();\n  }\n  Wd(a, b);\n}\nf.Fc = function(a) {\n  a ? (this.a.info(\"Successfully pinged google.com\"), W()) : (this.a.info(\"Failed to ping google.com\"), W(), Wd(this, 8));\n};\nfunction Wd(a, b) {\n  a.a.debug(\"HttpChannel: error - \" + b);\n  a.c = 0;\n  a.e && a.e.channelError(a, b);\n  Od(a);\n  Md(a);\n}\nfunction Od(a) {\n  a.c = 0;\n  a.g = -1;\n  if (a.e) {\n    if (0 == a.Q.length && 0 == a.t.length) {\n      a.e.channelClosed(a);\n    } else {\n      a.a.debug(\"Number of undelivered maps, pending: \" + a.Q.length + \", outgoing: \" + a.t.length);\n      var b = bb(a.Q), c = bb(a.t);\n      a.Q.length = 0;\n      a.t.length = 0;\n      a.e.channelClosed(a, b, c);\n    }\n  }\n}\nfunction xd(a, b) {\n  var c = Ad(a, null, b);\n  a.a.debug(\"GetForwardChannelUri: \" + c);\n  return c;\n}\nfunction Cd(a, b, c) {\n  b = Ad(a, a.$a() ? b : null, c);\n  a.a.debug(\"GetBackChannelUri: \" + b);\n  return b;\n}\nfunction Ad(a, b, c) {\n  var d = tb(c);\n  if (\"\" != d.ja) {\n    b && gb(d, b + \".\" + d.ja), hb(d, d.Ca);\n  } else {\n    var e = window.location, d = ub(e.protocol, b ? b + \".\" + e.hostname : e.hostname, e.port, c)\n  }\n  a.xa && D(a.xa, function(a, b) {\n    G(d, b, a);\n  });\n  G(d, \"VER\", a.ia);\n  Nd(a, d);\n  return d;\n}\nf.lb = function(a) {\n  if (a && !this.ab) {\n    throw Error(\"Can't create secondary domain capable XhrIo object.\");\n  }\n  a = new Ic;\n  a.dc = this.ab;\n  return a;\n};\nf.isActive = function() {\n  return!!this.e && this.e.isActive(this);\n};\nfunction Y(a, b) {\n  if (!fa(a)) {\n    throw Error(\"Fn must not be null and must be a function\");\n  }\n  return l.setTimeout(function() {\n    a();\n  }, b);\n}\nf.H = function() {\n  Hd.dispatchEvent(new Kd(Hd));\n};\nfunction W() {\n  Hd.dispatchEvent(new Id(Hd));\n}\nf.$a = function() {\n  return this.ab || !ed();\n};\nfunction Xd() {\n}\nf = Xd.prototype;\nf.channelHandleMultipleArrays = null;\nf.okToMakeRequest = function() {\n  return 0;\n};\nf.channelOpened = function() {\n};\nf.channelHandleArray = function() {\n};\nf.channelError = function() {\n};\nf.channelClosed = function() {\n};\nf.getAdditionalParams = function() {\n  return{};\n};\nf.getNetworkTestImageUri = function() {\n  return null;\n};\nf.isActive = function() {\n  return!0;\n};\nf.badMapError = function() {\n};\nf.correctHostPrefix = function(a) {\n  return a;\n};\nvar $, Yd;\nYd = {0:\"Ok\", 4:\"User is logging out\", 6:\"Unknown session ID\", 7:\"Stopped by server\", 8:\"General network error\", 2:\"Request failed\", 9:\"Blocked by a network administrator\", 5:\"No data from server\", 10:\"Got bad data from the server\", 11:\"Got a bad response from the server\"};\n$ = function(a, b) {\n  var c, d, e, g, h, k, u, K, v, r, Ka, w, X, cd;\n  if (!(this instanceof $)) {\n    return new $(a, b);\n  }\n  r = this;\n  a || (a = \"channel\");\n  a.match(/:\\/\\//) && a.replace(/^ws/, \"http\");\n  b || (b = {});\n  m(b || \"string\" === typeof b) && (b = {});\n  K = b.reconnectTime || 3E3;\n  c = b.extraHeaders || null;\n  d = b.extraParams || null;\n  null !== b.affinity && (d || (d = {}), b.affinityParam || (b.affinityParam = \"a\"), this.affinity = b.affinity || sa(), d[b.affinityParam] = this.affinity);\n  X = function(a) {\n    r.readyState = r.readyState = a;\n  };\n  X(this.CLOSED);\n  w = null;\n  k = null != (cd = b.prev) ? cd.Ec : void 0;\n  e = function(a, b, c, d, e) {\n    try {\n      return \"function\" === typeof r[a] ? r[a](c, d, e) : void 0;\n    } catch (g) {\n      throw \"undefined\" !== typeof console && null !== console && console.error(g.stack), g;\n    }\n  };\n  g = new Xd;\n  g.channelOpened = function() {\n    k = w;\n    X($.OPEN);\n    return e(\"onopen\");\n  };\n  h = null;\n  g.channelError = function(a, b) {\n    var c;\n    c = Yd[b];\n    h = b;\n    r.readyState !== $.CLOSED && X($.hb);\n    return e(\"onerror\", 0, c, b);\n  };\n  v = null;\n  g.channelClosed = function(a, c, d) {\n    var g;\n    if (r.readyState !== $.CLOSED) {\n      return w = null, a = h ? Yd[h] : \"Closed\", X($.CLOSED), b.reconnect && 7 !== h && 0 !== h && (g = 6 === h ? 0 : K, clearTimeout(v), v = setTimeout(u, g)), e(\"onclose\", 0, a, c, d), h = null;\n    }\n  };\n  g.channelHandleArray = function(a, b) {\n    return e(\"onmessage\", 0, {type:\"message\", data:b});\n  };\n  u = function() {\n    if (w) {\n      throw Error(\"Reconnect() called from invalid state\");\n    }\n    X($.CONNECTING);\n    e(\"onconnecting\");\n    clearTimeout(v);\n    r.Ec = w = new Ed(b.appVersion, null != k ? k.Gb : void 0);\n    b.crossDomainXhr && (w.ab = !0);\n    w.e = g;\n    c && w.S(c);\n    h = null;\n    if (b.failFast) {\n      var t = w;\n      t.Ka = !0;\n      t.a.info(\"setFailFast: true\");\n      (t.p || t.G) && t.ba > (t.Ka ? 0 : t.pb) && (t.a.info(\"Retry count \" + t.ba + \" > new maxRetries \" + (t.Ka ? 0 : t.pb) + \". Fail immediately!\"), t.p ? (t.p.cancel(), t.la(t.p)) : (l.clearTimeout(t.G), t.G = null, Z(t, 2)));\n    }\n    return w.kb(\"\" + a + \"/test\", \"\" + a + \"/bind\", d, null != k ? k.Y : void 0, null != k ? k.za : void 0);\n  };\n  this.open = function() {\n    if (r.readyState !== r.CLOSED) {\n      throw Error(\"Already open\");\n    }\n    return u();\n  };\n  this.close = function() {\n    clearTimeout(v);\n    h = 0;\n    if (r.readyState !== $.CLOSED) {\n      return X($.hb), w.disconnect();\n    }\n  };\n  this.sendMap = Ka = function(a) {\n    var b;\n    if ((b = r.readyState) !== $.hb && b !== $.CLOSED) {\n      b = w;\n      if (0 == b.c) {\n        throw Error(\"Invalid operation: sending map when state is closed\");\n      }\n      1E3 == b.t.length && b.a.J(\"Already have 1000 queued maps upon queueing \" + yb(a));\n      b.t.push(new Gd(b.sc++, a));\n      2 != b.c && 3 != b.c || Qd(b);\n    }\n  };\n  this.send = function(a) {\n    return \"string\" === typeof a ? Ka({_S:a}) : Ka({JSON:yb(a)});\n  };\n  u();\n};\n$.prototype.canSendWhileConnecting = $.canSendWhileConnecting = !0;\n$.prototype.canSendJSON = $.canSendJSON = !0;\n$.prototype.CONNECTING = $.CONNECTING = $.CONNECTING = 0;\n$.prototype.OPEN = $.OPEN = $.OPEN = 1;\n$.prototype.CLOSING = $.CLOSING = $.hb = 2;\n$.prototype.CLOSED = $.CLOSED = $.CLOSED = 3;\n(\"undefined\" !== typeof exports && null !== exports ? exports : window).BCSocket = $;\n\n})();\n",
    "module.exports = Socket;\n\nvar BCSocket = require('browserchannel/dist/bcsocket-uncompressed').BCSocket;\n\nfunction Socket(options) {\n  this._options = options;\n  this._messageQueue = [];\n  this._connectedOnce = false;\n  this._attemptNum = 0;\n  this._url = getWebSocketURL(options);\n\n  if (supportWebSockets() && !options.browserChannelOnly) {\n    this._createWebSocket();\n  } else {\n    this._createBrowserChannel();\n  }\n}\n\nSocket.prototype._createWebSocket = function() {\n\n  this._type = 'websocket';\n  this._socket = new WebSocket(this._url);\n\n  this.open = this._createWebSocket.bind(this);\n  this._syncState();\n\n  this._socket.onmessage = this._ws_onmessage.bind(this);\n  this._socket.onopen = this._ws_onopen.bind(this);\n  this._socket.onclose = this._ws_onclose.bind(this);\n\n};\n\nSocket.prototype._createBrowserChannel = function() {\n  this._type = 'browserchannel';\n  this._socket = BCSocket(this._options.base, this._options);\n\n  this.open = this._createBrowserChannel.bind(this);\n  this._syncState();\n\n  this._socket.onmessage = this._bc_onmessage.bind(this);\n  this._socket.onopen = this._bc_onopen.bind(this);\n  this._socket.onclose = this._bc_onclose.bind(this);\n};\n\nSocket.prototype._ws_onmessage = function(message) {\n  this._syncState();\n  message.data = JSON.parse(message.data);\n  this.onmessage && this.onmessage(message);\n};\n\nSocket.prototype._ws_onopen = function(event) {\n  this._attemptNum = 0;\n  this._connectedOnce = true;\n\n  this._syncState();\n  this._flushQueue();\n\n  this.onopen && this.onopen(event);\n};\n\nSocket.prototype._ws_onclose = function(event) {\n  this._syncState();\n  console.log('WebSocket: connection is broken', event);\n\n  this.onclose && this.onclose(event);\n\n  if (!this._connectedOnce) {\n    return this._createBrowserChannel();\n  }\n\n  var socket = this;\n\n  if (this._options.reconnect && !event.wasClean) {\n    setTimeout(function(){\n      if (socket.readyState === socket.CLOSED) {\n        socket._createWebSocket();\n      }\n    }, this._getTimeout());\n  }\n  this._attemptNum++;\n};\n\nSocket.prototype._getTimeout = function(){\n  var base = this._options.timeout;\n  var increment = this._options.timeoutIncrement * this._attemptNum;\n  var maxTimeout = base + increment;\n  return getRandom(maxTimeout / 3, maxTimeout);\n};\n\nSocket.prototype._bc_onmessage = function(data) {\n  this._syncState();\n  this.onmessage && this.onmessage(data);\n};\n\nSocket.prototype._bc_onopen = function(event) {\n  this._syncState();\n  this.onopen && this.onopen(event);\n};\n\nSocket.prototype._bc_onclose = function(event) {\n  this._syncState();\n  this.onclose && this.onclose(event);\n};\n\nSocket.prototype._flushQueue = function(){\n  while (this._messageQueue.length !== 0) {\n    var data = this._messageQueue.shift();\n    this._send(data);\n  }\n};\n\nSocket.prototype._send = function(data){\n  if (this._type === 'websocket' && (typeof data !== 'string')) data = JSON.stringify(data);\n\n  this._socket.send(data);\n};\n\nSocket.prototype.send = function(data){\n  if (this._type === 'websocket') {\n    if (this._socket.readyState === WebSocket.OPEN && this._messageQueue.length === 0) {\n      this._send(data);\n    } else {\n      this._messageQueue.push(data);\n    }\n  } else {\n    this._send(data);\n  }\n};\n\nSocket.prototype.close = function(){\n  this._socket.close();\n};\n\nSocket.prototype._syncState = function(){\n  this.readyState = this._socket.readyState;\n};\n\nSocket.prototype.reconnect = function(){\n  if (this._type === 'websocket' && this.readyState === this.CLOSED){\n    this._createWebSocket();\n  }\n};\n\n// ShareJS constants\nSocket.prototype.canSendWhileConnecting = true;\nSocket.prototype.canSendJSON = true;\n\n// WebSocket constants\nSocket.prototype.CONNECTING = 0;\nSocket.prototype.OPEN = 1;\nSocket.prototype.CLOSING = 2;\nSocket.prototype.CLOSED = 3;\n\nfunction getRandom(min, max){\n  return Math.random() * (max - min) + min;\n}\n\nfunction supportWebSockets(){\n  // The condition is from Modernizr\n  // https://github.com/Modernizr/Modernizr/blob/master/feature-detects/websockets.js#L28\n  return 'WebSocket' in window && window.WebSocket.CLOSING === 2;\n}\n\nfunction getWebSocketURL(options){\n  var port;\n\n  if (window.location && window.location.port) {\n    port = \":\" + window.location.port;\n  }\n\n  var srvPort = options.srvPort;\n  var srvSecurePort = options.srvSecurePort;\n\n  var srvHost = options.srvHost || window.location.hostname;\n  var srvProtocol = options.srvProtocol || window.location.protocol;\n\n  var protocol = (srvProtocol === 'https:' ? 'wss:' : 'ws:');\n\n  if (protocol === 'ws:' && srvPort) {\n    port = \":\" + srvPort;\n  } else if (protocol === 'wss:' && srvSecurePort) {\n    port = \":\" + srvSecurePort;\n  }\n  return protocol + '//' + srvHost + (port || \"\") + options.base;\n}\n\n// Maybe need to use reconnection timing algorithm from\n// http://blog.johnryding.com/post/78544969349/how-to-reconnect-web-sockets-in-a-realtime-web-app\n",
    "var racer = require('racer');\nvar Socket = require('./socket');\nvar CLIENT_OPTIONS = JSON.parse('{\"base\":\"/channel\",\"reconnect\":true,\"browserChannelOnly\":false,\"timeout\":10000,\"timeoutIncrement\":10000}');\n\nracer.Model.prototype._createSocket = function(bundle) {\n  return new Socket(CLIENT_OPTIONS);\n};\n\n",
    ";/*! showdown v 1.9.1 - 02-11-2019 */\r\n(function(){\r\n/**\n * Created by Tivie on 13-07-2015.\n */\n\nfunction getDefaultOpts (simple) {\n  'use strict';\n\n  var defaultOptions = {\n    omitExtraWLInCodeBlocks: {\n      defaultValue: false,\n      describe: 'Omit the default extra whiteline added to code blocks',\n      type: 'boolean'\n    },\n    noHeaderId: {\n      defaultValue: false,\n      describe: 'Turn on/off generated header id',\n      type: 'boolean'\n    },\n    prefixHeaderId: {\n      defaultValue: false,\n      describe: 'Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic \\'section-\\' prefix',\n      type: 'string'\n    },\n    rawPrefixHeaderId: {\n      defaultValue: false,\n      describe: 'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the \" char is used in the prefix)',\n      type: 'boolean'\n    },\n    ghCompatibleHeaderId: {\n      defaultValue: false,\n      describe: 'Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)',\n      type: 'boolean'\n    },\n    rawHeaderId: {\n      defaultValue: false,\n      describe: 'Remove only spaces, \\' and \" from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids',\n      type: 'boolean'\n    },\n    headerLevelStart: {\n      defaultValue: false,\n      describe: 'The header blocks level start',\n      type: 'integer'\n    },\n    parseImgDimensions: {\n      defaultValue: false,\n      describe: 'Turn on/off image dimension parsing',\n      type: 'boolean'\n    },\n    simplifiedAutoLink: {\n      defaultValue: false,\n      describe: 'Turn on/off GFM autolink style',\n      type: 'boolean'\n    },\n    excludeTrailingPunctuationFromURLs: {\n      defaultValue: false,\n      describe: 'Excludes trailing punctuation from links generated with autoLinking',\n      type: 'boolean'\n    },\n    literalMidWordUnderscores: {\n      defaultValue: false,\n      describe: 'Parse midword underscores as literal underscores',\n      type: 'boolean'\n    },\n    literalMidWordAsterisks: {\n      defaultValue: false,\n      describe: 'Parse midword asterisks as literal asterisks',\n      type: 'boolean'\n    },\n    strikethrough: {\n      defaultValue: false,\n      describe: 'Turn on/off strikethrough support',\n      type: 'boolean'\n    },\n    tables: {\n      defaultValue: false,\n      describe: 'Turn on/off tables support',\n      type: 'boolean'\n    },\n    tablesHeaderId: {\n      defaultValue: false,\n      describe: 'Add an id to table headers',\n      type: 'boolean'\n    },\n    ghCodeBlocks: {\n      defaultValue: true,\n      describe: 'Turn on/off GFM fenced code blocks support',\n      type: 'boolean'\n    },\n    tasklists: {\n      defaultValue: false,\n      describe: 'Turn on/off GFM tasklist support',\n      type: 'boolean'\n    },\n    smoothLivePreview: {\n      defaultValue: false,\n      describe: 'Prevents weird effects in live previews due to incomplete input',\n      type: 'boolean'\n    },\n    smartIndentationFix: {\n      defaultValue: false,\n      description: 'Tries to smartly fix indentation in es6 strings',\n      type: 'boolean'\n    },\n    disableForced4SpacesIndentedSublists: {\n      defaultValue: false,\n      description: 'Disables the requirement of indenting nested sublists by 4 spaces',\n      type: 'boolean'\n    },\n    simpleLineBreaks: {\n      defaultValue: false,\n      description: 'Parses simple line breaks as <br> (GFM Style)',\n      type: 'boolean'\n    },\n    requireSpaceBeforeHeadingText: {\n      defaultValue: false,\n      description: 'Makes adding a space between `#` and the header text mandatory (GFM Style)',\n      type: 'boolean'\n    },\n    ghMentions: {\n      defaultValue: false,\n      description: 'Enables github @mentions',\n      type: 'boolean'\n    },\n    ghMentionsLink: {\n      defaultValue: 'https://github.com/{u}',\n      description: 'Changes the link generated by @mentions. Only applies if ghMentions option is enabled.',\n      type: 'string'\n    },\n    encodeEmails: {\n      defaultValue: true,\n      description: 'Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities',\n      type: 'boolean'\n    },\n    openLinksInNewWindow: {\n      defaultValue: false,\n      description: 'Open all links in new windows',\n      type: 'boolean'\n    },\n    backslashEscapesHTMLTags: {\n      defaultValue: false,\n      description: 'Support for HTML Tag escaping. ex: \\<div>foo\\</div>',\n      type: 'boolean'\n    },\n    emoji: {\n      defaultValue: false,\n      description: 'Enable emoji support. Ex: `this is a :smile: emoji`',\n      type: 'boolean'\n    },\n    underline: {\n      defaultValue: false,\n      description: 'Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`',\n      type: 'boolean'\n    },\n    completeHTMLDocument: {\n      defaultValue: false,\n      description: 'Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags',\n      type: 'boolean'\n    },\n    metadata: {\n      defaultValue: false,\n      description: 'Enable support for document metadata (defined at the top of the document between `` and `` or between `---` and `---`).',\n      type: 'boolean'\n    },\n    splitAdjacentBlockquotes: {\n      defaultValue: false,\n      description: 'Split adjacent blockquote blocks',\n      type: 'boolean'\n    }\n  };\n  if (simple === false) {\n    return JSON.parse(JSON.stringify(defaultOptions));\n  }\n  var ret = {};\n  for (var opt in defaultOptions) {\n    if (defaultOptions.hasOwnProperty(opt)) {\n      ret[opt] = defaultOptions[opt].defaultValue;\n    }\n  }\n  return ret;\n}\n\nfunction allOptionsOn () {\n  'use strict';\n  var options = getDefaultOpts(true),\n      ret = {};\n  for (var opt in options) {\n    if (options.hasOwnProperty(opt)) {\n      ret[opt] = true;\n    }\n  }\n  return ret;\n}\n\r\n/**\n * Created by Tivie on 06-01-2015.\n */\n\n// Private properties\nvar showdown = {},\n    parsers = {},\n    extensions = {},\n    globalOptions = getDefaultOpts(true),\n    setFlavor = 'vanilla',\n    flavor = {\n      github: {\n        omitExtraWLInCodeBlocks:              true,\n        simplifiedAutoLink:                   true,\n        excludeTrailingPunctuationFromURLs:   true,\n        literalMidWordUnderscores:            true,\n        strikethrough:                        true,\n        tables:                               true,\n        tablesHeaderId:                       true,\n        ghCodeBlocks:                         true,\n        tasklists:                            true,\n        disableForced4SpacesIndentedSublists: true,\n        simpleLineBreaks:                     true,\n        requireSpaceBeforeHeadingText:        true,\n        ghCompatibleHeaderId:                 true,\n        ghMentions:                           true,\n        backslashEscapesHTMLTags:             true,\n        emoji:                                true,\n        splitAdjacentBlockquotes:             true\n      },\n      original: {\n        noHeaderId:                           true,\n        ghCodeBlocks:                         false\n      },\n      ghost: {\n        omitExtraWLInCodeBlocks:              true,\n        parseImgDimensions:                   true,\n        simplifiedAutoLink:                   true,\n        excludeTrailingPunctuationFromURLs:   true,\n        literalMidWordUnderscores:            true,\n        strikethrough:                        true,\n        tables:                               true,\n        tablesHeaderId:                       true,\n        ghCodeBlocks:                         true,\n        tasklists:                            true,\n        smoothLivePreview:                    true,\n        simpleLineBreaks:                     true,\n        requireSpaceBeforeHeadingText:        true,\n        ghMentions:                           false,\n        encodeEmails:                         true\n      },\n      vanilla: getDefaultOpts(true),\n      allOn: allOptionsOn()\n    };\n\n/**\n * helper namespace\n * @type {{}}\n */\nshowdown.helper = {};\n\n/**\n * TODO LEGACY SUPPORT CODE\n * @type {{}}\n */\nshowdown.extensions = {};\n\n/**\n * Set a global option\n * @static\n * @param {string} key\n * @param {*} value\n * @returns {showdown}\n */\nshowdown.setOption = function (key, value) {\n  'use strict';\n  globalOptions[key] = value;\n  return this;\n};\n\n/**\n * Get a global option\n * @static\n * @param {string} key\n * @returns {*}\n */\nshowdown.getOption = function (key) {\n  'use strict';\n  return globalOptions[key];\n};\n\n/**\n * Get the global options\n * @static\n * @returns {{}}\n */\nshowdown.getOptions = function () {\n  'use strict';\n  return globalOptions;\n};\n\n/**\n * Reset global options to the default values\n * @static\n */\nshowdown.resetOptions = function () {\n  'use strict';\n  globalOptions = getDefaultOpts(true);\n};\n\n/**\n * Set the flavor showdown should use as default\n * @param {string} name\n */\nshowdown.setFlavor = function (name) {\n  'use strict';\n  if (!flavor.hasOwnProperty(name)) {\n    throw Error(name + ' flavor was not found');\n  }\n  showdown.resetOptions();\n  var preset = flavor[name];\n  setFlavor = name;\n  for (var option in preset) {\n    if (preset.hasOwnProperty(option)) {\n      globalOptions[option] = preset[option];\n    }\n  }\n};\n\n/**\n * Get the currently set flavor\n * @returns {string}\n */\nshowdown.getFlavor = function () {\n  'use strict';\n  return setFlavor;\n};\n\n/**\n * Get the options of a specified flavor. Returns undefined if the flavor was not found\n * @param {string} name Name of the flavor\n * @returns {{}|undefined}\n */\nshowdown.getFlavorOptions = function (name) {\n  'use strict';\n  if (flavor.hasOwnProperty(name)) {\n    return flavor[name];\n  }\n};\n\n/**\n * Get the default options\n * @static\n * @param {boolean} [simple=true]\n * @returns {{}}\n */\nshowdown.getDefaultOptions = function (simple) {\n  'use strict';\n  return getDefaultOpts(simple);\n};\n\n/**\n * Get or set a subParser\n *\n * subParser(name)       - Get a registered subParser\n * subParser(name, func) - Register a subParser\n * @static\n * @param {string} name\n * @param {function} [func]\n * @returns {*}\n */\nshowdown.subParser = function (name, func) {\n  'use strict';\n  if (showdown.helper.isString(name)) {\n    if (typeof func !== 'undefined') {\n      parsers[name] = func;\n    } else {\n      if (parsers.hasOwnProperty(name)) {\n        return parsers[name];\n      } else {\n        throw Error('SubParser named ' + name + ' not registered!');\n      }\n    }\n  }\n};\n\n/**\n * Gets or registers an extension\n * @static\n * @param {string} name\n * @param {object|function=} ext\n * @returns {*}\n */\nshowdown.extension = function (name, ext) {\n  'use strict';\n\n  if (!showdown.helper.isString(name)) {\n    throw Error('Extension \\'name\\' must be a string');\n  }\n\n  name = showdown.helper.stdExtName(name);\n\n  // Getter\n  if (showdown.helper.isUndefined(ext)) {\n    if (!extensions.hasOwnProperty(name)) {\n      throw Error('Extension named ' + name + ' is not registered!');\n    }\n    return extensions[name];\n\n    // Setter\n  } else {\n    // Expand extension if it's wrapped in a function\n    if (typeof ext === 'function') {\n      ext = ext();\n    }\n\n    // Ensure extension is an array\n    if (!showdown.helper.isArray(ext)) {\n      ext = [ext];\n    }\n\n    var validExtension = validate(ext, name);\n\n    if (validExtension.valid) {\n      extensions[name] = ext;\n    } else {\n      throw Error(validExtension.error);\n    }\n  }\n};\n\n/**\n * Gets all extensions registered\n * @returns {{}}\n */\nshowdown.getAllExtensions = function () {\n  'use strict';\n  return extensions;\n};\n\n/**\n * Remove an extension\n * @param {string} name\n */\nshowdown.removeExtension = function (name) {\n  'use strict';\n  delete extensions[name];\n};\n\n/**\n * Removes all extensions\n */\nshowdown.resetExtensions = function () {\n  'use strict';\n  extensions = {};\n};\n\n/**\n * Validate extension\n * @param {array} extension\n * @param {string} name\n * @returns {{valid: boolean, error: string}}\n */\nfunction validate (extension, name) {\n  'use strict';\n\n  var errMsg = (name) ? 'Error in ' + name + ' extension->' : 'Error in unnamed extension',\n      ret = {\n        valid: true,\n        error: ''\n      };\n\n  if (!showdown.helper.isArray(extension)) {\n    extension = [extension];\n  }\n\n  for (var i = 0; i < extension.length; ++i) {\n    var baseMsg = errMsg + ' sub-extension ' + i + ': ',\n        ext = extension[i];\n    if (typeof ext !== 'object') {\n      ret.valid = false;\n      ret.error = baseMsg + 'must be an object, but ' + typeof ext + ' given';\n      return ret;\n    }\n\n    if (!showdown.helper.isString(ext.type)) {\n      ret.valid = false;\n      ret.error = baseMsg + 'property \"type\" must be a string, but ' + typeof ext.type + ' given';\n      return ret;\n    }\n\n    var type = ext.type = ext.type.toLowerCase();\n\n    // normalize extension type\n    if (type === 'language') {\n      type = ext.type = 'lang';\n    }\n\n    if (type === 'html') {\n      type = ext.type = 'output';\n    }\n\n    if (type !== 'lang' && type !== 'output' && type !== 'listener') {\n      ret.valid = false;\n      ret.error = baseMsg + 'type ' + type + ' is not recognized. Valid values: \"lang/language\", \"output/html\" or \"listener\"';\n      return ret;\n    }\n\n    if (type === 'listener') {\n      if (showdown.helper.isUndefined(ext.listeners)) {\n        ret.valid = false;\n        ret.error = baseMsg + '. Extensions of type \"listener\" must have a property called \"listeners\"';\n        return ret;\n      }\n    } else {\n      if (showdown.helper.isUndefined(ext.filter) && showdown.helper.isUndefined(ext.regex)) {\n        ret.valid = false;\n        ret.error = baseMsg + type + ' extensions must define either a \"regex\" property or a \"filter\" method';\n        return ret;\n      }\n    }\n\n    if (ext.listeners) {\n      if (typeof ext.listeners !== 'object') {\n        ret.valid = false;\n        ret.error = baseMsg + '\"listeners\" property must be an object but ' + typeof ext.listeners + ' given';\n        return ret;\n      }\n      for (var ln in ext.listeners) {\n        if (ext.listeners.hasOwnProperty(ln)) {\n          if (typeof ext.listeners[ln] !== 'function') {\n            ret.valid = false;\n            ret.error = baseMsg + '\"listeners\" property must be an hash of [event name]: [callback]. listeners.' + ln +\n              ' must be a function but ' + typeof ext.listeners[ln] + ' given';\n            return ret;\n          }\n        }\n      }\n    }\n\n    if (ext.filter) {\n      if (typeof ext.filter !== 'function') {\n        ret.valid = false;\n        ret.error = baseMsg + '\"filter\" must be a function, but ' + typeof ext.filter + ' given';\n        return ret;\n      }\n    } else if (ext.regex) {\n      if (showdown.helper.isString(ext.regex)) {\n        ext.regex = new RegExp(ext.regex, 'g');\n      }\n      if (!(ext.regex instanceof RegExp)) {\n        ret.valid = false;\n        ret.error = baseMsg + '\"regex\" property must either be a string or a RegExp object, but ' + typeof ext.regex + ' given';\n        return ret;\n      }\n      if (showdown.helper.isUndefined(ext.replace)) {\n        ret.valid = false;\n        ret.error = baseMsg + '\"regex\" extensions must implement a replace string or function';\n        return ret;\n      }\n    }\n  }\n  return ret;\n}\n\n/**\n * Validate extension\n * @param {object} ext\n * @returns {boolean}\n */\nshowdown.validateExtension = function (ext) {\n  'use strict';\n\n  var validateExtension = validate(ext, null);\n  if (!validateExtension.valid) {\n    console.warn(validateExtension.error);\n    return false;\n  }\n  return true;\n};\n\r\n/**\n * showdownjs helper functions\n */\n\nif (!showdown.hasOwnProperty('helper')) {\n  showdown.helper = {};\n}\n\n/**\n * Check if var is string\n * @static\n * @param {string} a\n * @returns {boolean}\n */\nshowdown.helper.isString = function (a) {\n  'use strict';\n  return (typeof a === 'string' || a instanceof String);\n};\n\n/**\n * Check if var is a function\n * @static\n * @param {*} a\n * @returns {boolean}\n */\nshowdown.helper.isFunction = function (a) {\n  'use strict';\n  var getType = {};\n  return a && getType.toString.call(a) === '[object Function]';\n};\n\n/**\n * isArray helper function\n * @static\n * @param {*} a\n * @returns {boolean}\n */\nshowdown.helper.isArray = function (a) {\n  'use strict';\n  return Array.isArray(a);\n};\n\n/**\n * Check if value is undefined\n * @static\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n */\nshowdown.helper.isUndefined = function (value) {\n  'use strict';\n  return typeof value === 'undefined';\n};\n\n/**\n * ForEach helper function\n * Iterates over Arrays and Objects (own properties only)\n * @static\n * @param {*} obj\n * @param {function} callback Accepts 3 params: 1. value, 2. key, 3. the original array/object\n */\nshowdown.helper.forEach = function (obj, callback) {\n  'use strict';\n  // check if obj is defined\n  if (showdown.helper.isUndefined(obj)) {\n    throw new Error('obj param is required');\n  }\n\n  if (showdown.helper.isUndefined(callback)) {\n    throw new Error('callback param is required');\n  }\n\n  if (!showdown.helper.isFunction(callback)) {\n    throw new Error('callback param must be a function/closure');\n  }\n\n  if (typeof obj.forEach === 'function') {\n    obj.forEach(callback);\n  } else if (showdown.helper.isArray(obj)) {\n    for (var i = 0; i < obj.length; i++) {\n      callback(obj[i], i, obj);\n    }\n  } else if (typeof (obj) === 'object') {\n    for (var prop in obj) {\n      if (obj.hasOwnProperty(prop)) {\n        callback(obj[prop], prop, obj);\n      }\n    }\n  } else {\n    throw new Error('obj does not seem to be an array or an iterable object');\n  }\n};\n\n/**\n * Standardidize extension name\n * @static\n * @param {string} s extension name\n * @returns {string}\n */\nshowdown.helper.stdExtName = function (s) {\n  'use strict';\n  return s.replace(/[_?*+\\/\\\\.^-]/g, '').replace(/\\s/g, '').toLowerCase();\n};\n\nfunction escapeCharactersCallback (wholeMatch, m1) {\n  'use strict';\n  var charCodeToEscape = m1.charCodeAt(0);\n  return 'E' + charCodeToEscape + 'E';\n}\n\n/**\n * Callback used to escape characters when passing through String.replace\n * @static\n * @param {string} wholeMatch\n * @param {string} m1\n * @returns {string}\n */\nshowdown.helper.escapeCharactersCallback = escapeCharactersCallback;\n\n/**\n * Escape characters in a string\n * @static\n * @param {string} text\n * @param {string} charsToEscape\n * @param {boolean} afterBackslash\n * @returns {XML|string|void|*}\n */\nshowdown.helper.escapeCharacters = function (text, charsToEscape, afterBackslash) {\n  'use strict';\n  // First we have to escape the escape characters so that\n  // we can build a character class out of them\n  var regexString = '([' + charsToEscape.replace(/([\\[\\]\\\\])/g, '\\\\$1') + '])';\n\n  if (afterBackslash) {\n    regexString = '\\\\\\\\' + regexString;\n  }\n\n  var regex = new RegExp(regexString, 'g');\n  text = text.replace(regex, escapeCharactersCallback);\n\n  return text;\n};\n\n/**\n * Unescape HTML entities\n * @param txt\n * @returns {string}\n */\nshowdown.helper.unescapeHTMLEntities = function (txt) {\n  'use strict';\n\n  return txt\n    .replace(/&quot;/g, '\"')\n    .replace(/&lt;/g, '<')\n    .replace(/&gt;/g, '>')\n    .replace(/&amp;/g, '&');\n};\n\nvar rgxFindMatchPos = function (str, left, right, flags) {\n  'use strict';\n  var f = flags || '',\n      g = f.indexOf('g') > -1,\n      x = new RegExp(left + '|' + right, 'g' + f.replace(/g/g, '')),\n      l = new RegExp(left, f.replace(/g/g, '')),\n      pos = [],\n      t, s, m, start, end;\n\n  do {\n    t = 0;\n    while ((m = x.exec(str))) {\n      if (l.test(m[0])) {\n        if (!(t++)) {\n          s = x.lastIndex;\n          start = s - m[0].length;\n        }\n      } else if (t) {\n        if (!--t) {\n          end = m.index + m[0].length;\n          var obj = {\n            left: {start: start, end: s},\n            match: {start: s, end: m.index},\n            right: {start: m.index, end: end},\n            wholeMatch: {start: start, end: end}\n          };\n          pos.push(obj);\n          if (!g) {\n            return pos;\n          }\n        }\n      }\n    }\n  } while (t && (x.lastIndex = s));\n\n  return pos;\n};\n\n/**\n * matchRecursiveRegExp\n *\n * (c) 2007 Steven Levithan <stevenlevithan.com>\n * MIT License\n *\n * Accepts a string to search, a left and right format delimiter\n * as regex patterns, and optional regex flags. Returns an array\n * of matches, allowing nested instances of left/right delimiters.\n * Use the \"g\" flag to return all matches, otherwise only the\n * first is returned. Be careful to ensure that the left and\n * right format delimiters produce mutually exclusive matches.\n * Backreferences are not supported within the right delimiter\n * due to how it is internally combined with the left delimiter.\n * When matching strings whose format delimiters are unbalanced\n * to the left or right, the output is intentionally as a\n * conventional regex library with recursion support would\n * produce, e.g. \"<<x>\" and \"<x>>\" both produce [\"x\"] when using\n * \"<\" and \">\" as the delimiters (both strings contain a single,\n * balanced instance of \"<x>\").\n *\n * examples:\n * matchRecursiveRegExp(\"test\", \"\\\\(\", \"\\\\)\")\n * returns: []\n * matchRecursiveRegExp(\"<t<<e>><s>>t<>\", \"<\", \">\", \"g\")\n * returns: [\"t<<e>><s>\", \"\"]\n * matchRecursiveRegExp(\"<div id=\\\"x\\\">test</div>\", \"<div\\\\b[^>]*>\", \"</div>\", \"gi\")\n * returns: [\"test\"]\n */\nshowdown.helper.matchRecursiveRegExp = function (str, left, right, flags) {\n  'use strict';\n\n  var matchPos = rgxFindMatchPos (str, left, right, flags),\n      results = [];\n\n  for (var i = 0; i < matchPos.length; ++i) {\n    results.push([\n      str.slice(matchPos[i].wholeMatch.start, matchPos[i].wholeMatch.end),\n      str.slice(matchPos[i].match.start, matchPos[i].match.end),\n      str.slice(matchPos[i].left.start, matchPos[i].left.end),\n      str.slice(matchPos[i].right.start, matchPos[i].right.end)\n    ]);\n  }\n  return results;\n};\n\n/**\n *\n * @param {string} str\n * @param {string|function} replacement\n * @param {string} left\n * @param {string} right\n * @param {string} flags\n * @returns {string}\n */\nshowdown.helper.replaceRecursiveRegExp = function (str, replacement, left, right, flags) {\n  'use strict';\n\n  if (!showdown.helper.isFunction(replacement)) {\n    var repStr = replacement;\n    replacement = function () {\n      return repStr;\n    };\n  }\n\n  var matchPos = rgxFindMatchPos(str, left, right, flags),\n      finalStr = str,\n      lng = matchPos.length;\n\n  if (lng > 0) {\n    var bits = [];\n    if (matchPos[0].wholeMatch.start !== 0) {\n      bits.push(str.slice(0, matchPos[0].wholeMatch.start));\n    }\n    for (var i = 0; i < lng; ++i) {\n      bits.push(\n        replacement(\n          str.slice(matchPos[i].wholeMatch.start, matchPos[i].wholeMatch.end),\n          str.slice(matchPos[i].match.start, matchPos[i].match.end),\n          str.slice(matchPos[i].left.start, matchPos[i].left.end),\n          str.slice(matchPos[i].right.start, matchPos[i].right.end)\n        )\n      );\n      if (i < lng - 1) {\n        bits.push(str.slice(matchPos[i].wholeMatch.end, matchPos[i + 1].wholeMatch.start));\n      }\n    }\n    if (matchPos[lng - 1].wholeMatch.end < str.length) {\n      bits.push(str.slice(matchPos[lng - 1].wholeMatch.end));\n    }\n    finalStr = bits.join('');\n  }\n  return finalStr;\n};\n\n/**\n * Returns the index within the passed String object of the first occurrence of the specified regex,\n * starting the search at fromIndex. Returns -1 if the value is not found.\n *\n * @param {string} str string to search\n * @param {RegExp} regex Regular expression to search\n * @param {int} [fromIndex = 0] Index to start the search\n * @returns {Number}\n * @throws InvalidArgumentError\n */\nshowdown.helper.regexIndexOf = function (str, regex, fromIndex) {\n  'use strict';\n  if (!showdown.helper.isString(str)) {\n    throw 'InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string';\n  }\n  if (regex instanceof RegExp === false) {\n    throw 'InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp';\n  }\n  var indexOf = str.substring(fromIndex || 0).search(regex);\n  return (indexOf >= 0) ? (indexOf + (fromIndex || 0)) : indexOf;\n};\n\n/**\n * Splits the passed string object at the defined index, and returns an array composed of the two substrings\n * @param {string} str string to split\n * @param {int} index index to split string at\n * @returns {[string,string]}\n * @throws InvalidArgumentError\n */\nshowdown.helper.splitAtIndex = function (str, index) {\n  'use strict';\n  if (!showdown.helper.isString(str)) {\n    throw 'InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string';\n  }\n  return [str.substring(0, index), str.substring(index)];\n};\n\n/**\n * Obfuscate an e-mail address through the use of Character Entities,\n * transforming ASCII characters into their equivalent decimal or hex entities.\n *\n * Since it has a random component, subsequent calls to this function produce different results\n *\n * @param {string} mail\n * @returns {string}\n */\nshowdown.helper.encodeEmailAddress = function (mail) {\n  'use strict';\n  var encode = [\n    function (ch) {\n      return '&#' + ch.charCodeAt(0) + ';';\n    },\n    function (ch) {\n      return '&#x' + ch.charCodeAt(0).toString(16) + ';';\n    },\n    function (ch) {\n      return ch;\n    }\n  ];\n\n  mail = mail.replace(/./g, function (ch) {\n    if (ch === '@') {\n      // this *must* be encoded. I insist.\n      ch = encode[Math.floor(Math.random() * 2)](ch);\n    } else {\n      var r = Math.random();\n      // roughly 10% raw, 45% hex, 45% dec\n      ch = (\n        r > 0.9 ? encode[2](ch) : r > 0.45 ? encode[1](ch) : encode[0](ch)\n      );\n    }\n    return ch;\n  });\n\n  return mail;\n};\n\n/**\n *\n * @param str\n * @param targetLength\n * @param padString\n * @returns {string}\n */\nshowdown.helper.padEnd = function padEnd (str, targetLength, padString) {\n  'use strict';\n  /*jshint bitwise: false*/\n  // eslint-disable-next-line space-infix-ops\n  targetLength = targetLength>>0; //floor if number or convert non-number to 0;\n  /*jshint bitwise: true*/\n  padString = String(padString || ' ');\n  if (str.length > targetLength) {\n    return String(str);\n  } else {\n    targetLength = targetLength - str.length;\n    if (targetLength > padString.length) {\n      padString += padString.repeat(targetLength / padString.length); //append to original to ensure we are longer than needed\n    }\n    return String(str) + padString.slice(0,targetLength);\n  }\n};\n\n/**\n * POLYFILLS\n */\n// use this instead of builtin is undefined for IE8 compatibility\nif (typeof console === 'undefined') {\n  console = {\n    warn: function (msg) {\n      'use strict';\n      alert(msg);\n    },\n    log: function (msg) {\n      'use strict';\n      alert(msg);\n    },\n    error: function (msg) {\n      'use strict';\n      throw msg;\n    }\n  };\n}\n\n/**\n * Common regexes.\n * We declare some common regexes to improve performance\n */\nshowdown.helper.regexes = {\n  asteriskDashAndColon: /([*_:~])/g\n};\n\n/**\n * EMOJIS LIST\n */\nshowdown.helper.emojis = {\n  '+1':'\\ud83d\\udc4d',\n  '-1':'\\ud83d\\udc4e',\n  '100':'\\ud83d\\udcaf',\n  '1234':'\\ud83d\\udd22',\n  '1st_place_medal':'\\ud83e\\udd47',\n  '2nd_place_medal':'\\ud83e\\udd48',\n  '3rd_place_medal':'\\ud83e\\udd49',\n  '8ball':'\\ud83c\\udfb1',\n  'a':'\\ud83c\\udd70\\ufe0f',\n  'ab':'\\ud83c\\udd8e',\n  'abc':'\\ud83d\\udd24',\n  'abcd':'\\ud83d\\udd21',\n  'accept':'\\ud83c\\ude51',\n  'aerial_tramway':'\\ud83d\\udea1',\n  'airplane':'\\u2708\\ufe0f',\n  'alarm_clock':'\\u23f0',\n  'alembic':'\\u2697\\ufe0f',\n  'alien':'\\ud83d\\udc7d',\n  'ambulance':'\\ud83d\\ude91',\n  'amphora':'\\ud83c\\udffa',\n  'anchor':'\\u2693\\ufe0f',\n  'angel':'\\ud83d\\udc7c',\n  'anger':'\\ud83d\\udca2',\n  'angry':'\\ud83d\\ude20',\n  'anguished':'\\ud83d\\ude27',\n  'ant':'\\ud83d\\udc1c',\n  'apple':'\\ud83c\\udf4e',\n  'aquarius':'\\u2652\\ufe0f',\n  'aries':'\\u2648\\ufe0f',\n  'arrow_backward':'\\u25c0\\ufe0f',\n  'arrow_double_down':'\\u23ec',\n  'arrow_double_up':'\\u23eb',\n  'arrow_down':'\\u2b07\\ufe0f',\n  'arrow_down_small':'\\ud83d\\udd3d',\n  'arrow_forward':'\\u25b6\\ufe0f',\n  'arrow_heading_down':'\\u2935\\ufe0f',\n  'arrow_heading_up':'\\u2934\\ufe0f',\n  'arrow_left':'\\u2b05\\ufe0f',\n  'arrow_lower_left':'\\u2199\\ufe0f',\n  'arrow_lower_right':'\\u2198\\ufe0f',\n  'arrow_right':'\\u27a1\\ufe0f',\n  'arrow_right_hook':'\\u21aa\\ufe0f',\n  'arrow_up':'\\u2b06\\ufe0f',\n  'arrow_up_down':'\\u2195\\ufe0f',\n  'arrow_up_small':'\\ud83d\\udd3c',\n  'arrow_upper_left':'\\u2196\\ufe0f',\n  'arrow_upper_right':'\\u2197\\ufe0f',\n  'arrows_clockwise':'\\ud83d\\udd03',\n  'arrows_counterclockwise':'\\ud83d\\udd04',\n  'art':'\\ud83c\\udfa8',\n  'articulated_lorry':'\\ud83d\\ude9b',\n  'artificial_satellite':'\\ud83d\\udef0',\n  'astonished':'\\ud83d\\ude32',\n  'athletic_shoe':'\\ud83d\\udc5f',\n  'atm':'\\ud83c\\udfe7',\n  'atom_symbol':'\\u269b\\ufe0f',\n  'avocado':'\\ud83e\\udd51',\n  'b':'\\ud83c\\udd71\\ufe0f',\n  'baby':'\\ud83d\\udc76',\n  'baby_bottle':'\\ud83c\\udf7c',\n  'baby_chick':'\\ud83d\\udc24',\n  'baby_symbol':'\\ud83d\\udebc',\n  'back':'\\ud83d\\udd19',\n  'bacon':'\\ud83e\\udd53',\n  'badminton':'\\ud83c\\udff8',\n  'baggage_claim':'\\ud83d\\udec4',\n  'baguette_bread':'\\ud83e\\udd56',\n  'balance_scale':'\\u2696\\ufe0f',\n  'balloon':'\\ud83c\\udf88',\n  'ballot_box':'\\ud83d\\uddf3',\n  'ballot_box_with_check':'\\u2611\\ufe0f',\n  'bamboo':'\\ud83c\\udf8d',\n  'banana':'\\ud83c\\udf4c',\n  'bangbang':'\\u203c\\ufe0f',\n  'bank':'\\ud83c\\udfe6',\n  'bar_chart':'\\ud83d\\udcca',\n  'barber':'\\ud83d\\udc88',\n  'baseball':'\\u26be\\ufe0f',\n  'basketball':'\\ud83c\\udfc0',\n  'basketball_man':'\\u26f9\\ufe0f',\n  'basketball_woman':'\\u26f9\\ufe0f&zwj;\\u2640\\ufe0f',\n  'bat':'\\ud83e\\udd87',\n  'bath':'\\ud83d\\udec0',\n  'bathtub':'\\ud83d\\udec1',\n  'battery':'\\ud83d\\udd0b',\n  'beach_umbrella':'\\ud83c\\udfd6',\n  'bear':'\\ud83d\\udc3b',\n  'bed':'\\ud83d\\udecf',\n  'bee':'\\ud83d\\udc1d',\n  'beer':'\\ud83c\\udf7a',\n  'beers':'\\ud83c\\udf7b',\n  'beetle':'\\ud83d\\udc1e',\n  'beginner':'\\ud83d\\udd30',\n  'bell':'\\ud83d\\udd14',\n  'bellhop_bell':'\\ud83d\\udece',\n  'bento':'\\ud83c\\udf71',\n  'biking_man':'\\ud83d\\udeb4',\n  'bike':'\\ud83d\\udeb2',\n  'biking_woman':'\\ud83d\\udeb4&zwj;\\u2640\\ufe0f',\n  'bikini':'\\ud83d\\udc59',\n  'biohazard':'\\u2623\\ufe0f',\n  'bird':'\\ud83d\\udc26',\n  'birthday':'\\ud83c\\udf82',\n  'black_circle':'\\u26ab\\ufe0f',\n  'black_flag':'\\ud83c\\udff4',\n  'black_heart':'\\ud83d\\udda4',\n  'black_joker':'\\ud83c\\udccf',\n  'black_large_square':'\\u2b1b\\ufe0f',\n  'black_medium_small_square':'\\u25fe\\ufe0f',\n  'black_medium_square':'\\u25fc\\ufe0f',\n  'black_nib':'\\u2712\\ufe0f',\n  'black_small_square':'\\u25aa\\ufe0f',\n  'black_square_button':'\\ud83d\\udd32',\n  'blonde_man':'\\ud83d\\udc71',\n  'blonde_woman':'\\ud83d\\udc71&zwj;\\u2640\\ufe0f',\n  'blossom':'\\ud83c\\udf3c',\n  'blowfish':'\\ud83d\\udc21',\n  'blue_book':'\\ud83d\\udcd8',\n  'blue_car':'\\ud83d\\ude99',\n  'blue_heart':'\\ud83d\\udc99',\n  'blush':'\\ud83d\\ude0a',\n  'boar':'\\ud83d\\udc17',\n  'boat':'\\u26f5\\ufe0f',\n  'bomb':'\\ud83d\\udca3',\n  'book':'\\ud83d\\udcd6',\n  'bookmark':'\\ud83d\\udd16',\n  'bookmark_tabs':'\\ud83d\\udcd1',\n  'books':'\\ud83d\\udcda',\n  'boom':'\\ud83d\\udca5',\n  'boot':'\\ud83d\\udc62',\n  'bouquet':'\\ud83d\\udc90',\n  'bowing_man':'\\ud83d\\ude47',\n  'bow_and_arrow':'\\ud83c\\udff9',\n  'bowing_woman':'\\ud83d\\ude47&zwj;\\u2640\\ufe0f',\n  'bowling':'\\ud83c\\udfb3',\n  'boxing_glove':'\\ud83e\\udd4a',\n  'boy':'\\ud83d\\udc66',\n  'bread':'\\ud83c\\udf5e',\n  'bride_with_veil':'\\ud83d\\udc70',\n  'bridge_at_night':'\\ud83c\\udf09',\n  'briefcase':'\\ud83d\\udcbc',\n  'broken_heart':'\\ud83d\\udc94',\n  'bug':'\\ud83d\\udc1b',\n  'building_construction':'\\ud83c\\udfd7',\n  'bulb':'\\ud83d\\udca1',\n  'bullettrain_front':'\\ud83d\\ude85',\n  'bullettrain_side':'\\ud83d\\ude84',\n  'burrito':'\\ud83c\\udf2f',\n  'bus':'\\ud83d\\ude8c',\n  'business_suit_levitating':'\\ud83d\\udd74',\n  'busstop':'\\ud83d\\ude8f',\n  'bust_in_silhouette':'\\ud83d\\udc64',\n  'busts_in_silhouette':'\\ud83d\\udc65',\n  'butterfly':'\\ud83e\\udd8b',\n  'cactus':'\\ud83c\\udf35',\n  'cake':'\\ud83c\\udf70',\n  'calendar':'\\ud83d\\udcc6',\n  'call_me_hand':'\\ud83e\\udd19',\n  'calling':'\\ud83d\\udcf2',\n  'camel':'\\ud83d\\udc2b',\n  'camera':'\\ud83d\\udcf7',\n  'camera_flash':'\\ud83d\\udcf8',\n  'camping':'\\ud83c\\udfd5',\n  'cancer':'\\u264b\\ufe0f',\n  'candle':'\\ud83d\\udd6f',\n  'candy':'\\ud83c\\udf6c',\n  'canoe':'\\ud83d\\udef6',\n  'capital_abcd':'\\ud83d\\udd20',\n  'capricorn':'\\u2651\\ufe0f',\n  'car':'\\ud83d\\ude97',\n  'card_file_box':'\\ud83d\\uddc3',\n  'card_index':'\\ud83d\\udcc7',\n  'card_index_dividers':'\\ud83d\\uddc2',\n  'carousel_horse':'\\ud83c\\udfa0',\n  'carrot':'\\ud83e\\udd55',\n  'cat':'\\ud83d\\udc31',\n  'cat2':'\\ud83d\\udc08',\n  'cd':'\\ud83d\\udcbf',\n  'chains':'\\u26d3',\n  'champagne':'\\ud83c\\udf7e',\n  'chart':'\\ud83d\\udcb9',\n  'chart_with_downwards_trend':'\\ud83d\\udcc9',\n  'chart_with_upwards_trend':'\\ud83d\\udcc8',\n  'checkered_flag':'\\ud83c\\udfc1',\n  'cheese':'\\ud83e\\uddc0',\n  'cherries':'\\ud83c\\udf52',\n  'cherry_blossom':'\\ud83c\\udf38',\n  'chestnut':'\\ud83c\\udf30',\n  'chicken':'\\ud83d\\udc14',\n  'children_crossing':'\\ud83d\\udeb8',\n  'chipmunk':'\\ud83d\\udc3f',\n  'chocolate_bar':'\\ud83c\\udf6b',\n  'christmas_tree':'\\ud83c\\udf84',\n  'church':'\\u26ea\\ufe0f',\n  'cinema':'\\ud83c\\udfa6',\n  'circus_tent':'\\ud83c\\udfaa',\n  'city_sunrise':'\\ud83c\\udf07',\n  'city_sunset':'\\ud83c\\udf06',\n  'cityscape':'\\ud83c\\udfd9',\n  'cl':'\\ud83c\\udd91',\n  'clamp':'\\ud83d\\udddc',\n  'clap':'\\ud83d\\udc4f',\n  'clapper':'\\ud83c\\udfac',\n  'classical_building':'\\ud83c\\udfdb',\n  'clinking_glasses':'\\ud83e\\udd42',\n  'clipboard':'\\ud83d\\udccb',\n  'clock1':'\\ud83d\\udd50',\n  'clock10':'\\ud83d\\udd59',\n  'clock1030':'\\ud83d\\udd65',\n  'clock11':'\\ud83d\\udd5a',\n  'clock1130':'\\ud83d\\udd66',\n  'clock12':'\\ud83d\\udd5b',\n  'clock1230':'\\ud83d\\udd67',\n  'clock130':'\\ud83d\\udd5c',\n  'clock2':'\\ud83d\\udd51',\n  'clock230':'\\ud83d\\udd5d',\n  'clock3':'\\ud83d\\udd52',\n  'clock330':'\\ud83d\\udd5e',\n  'clock4':'\\ud83d\\udd53',\n  'clock430':'\\ud83d\\udd5f',\n  'clock5':'\\ud83d\\udd54',\n  'clock530':'\\ud83d\\udd60',\n  'clock6':'\\ud83d\\udd55',\n  'clock630':'\\ud83d\\udd61',\n  'clock7':'\\ud83d\\udd56',\n  'clock730':'\\ud83d\\udd62',\n  'clock8':'\\ud83d\\udd57',\n  'clock830':'\\ud83d\\udd63',\n  'clock9':'\\ud83d\\udd58',\n  'clock930':'\\ud83d\\udd64',\n  'closed_book':'\\ud83d\\udcd5',\n  'closed_lock_with_key':'\\ud83d\\udd10',\n  'closed_umbrella':'\\ud83c\\udf02',\n  'cloud':'\\u2601\\ufe0f',\n  'cloud_with_lightning':'\\ud83c\\udf29',\n  'cloud_with_lightning_and_rain':'\\u26c8',\n  'cloud_with_rain':'\\ud83c\\udf27',\n  'cloud_with_snow':'\\ud83c\\udf28',\n  'clown_face':'\\ud83e\\udd21',\n  'clubs':'\\u2663\\ufe0f',\n  'cocktail':'\\ud83c\\udf78',\n  'coffee':'\\u2615\\ufe0f',\n  'coffin':'\\u26b0\\ufe0f',\n  'cold_sweat':'\\ud83d\\ude30',\n  'comet':'\\u2604\\ufe0f',\n  'computer':'\\ud83d\\udcbb',\n  'computer_mouse':'\\ud83d\\uddb1',\n  'confetti_ball':'\\ud83c\\udf8a',\n  'confounded':'\\ud83d\\ude16',\n  'confused':'\\ud83d\\ude15',\n  'congratulations':'\\u3297\\ufe0f',\n  'construction':'\\ud83d\\udea7',\n  'construction_worker_man':'\\ud83d\\udc77',\n  'construction_worker_woman':'\\ud83d\\udc77&zwj;\\u2640\\ufe0f',\n  'control_knobs':'\\ud83c\\udf9b',\n  'convenience_store':'\\ud83c\\udfea',\n  'cookie':'\\ud83c\\udf6a',\n  'cool':'\\ud83c\\udd92',\n  'policeman':'\\ud83d\\udc6e',\n  'copyright':'\\u00a9\\ufe0f',\n  'corn':'\\ud83c\\udf3d',\n  'couch_and_lamp':'\\ud83d\\udecb',\n  'couple':'\\ud83d\\udc6b',\n  'couple_with_heart_woman_man':'\\ud83d\\udc91',\n  'couple_with_heart_man_man':'\\ud83d\\udc68&zwj;\\u2764\\ufe0f&zwj;\\ud83d\\udc68',\n  'couple_with_heart_woman_woman':'\\ud83d\\udc69&zwj;\\u2764\\ufe0f&zwj;\\ud83d\\udc69',\n  'couplekiss_man_man':'\\ud83d\\udc68&zwj;\\u2764\\ufe0f&zwj;\\ud83d\\udc8b&zwj;\\ud83d\\udc68',\n  'couplekiss_man_woman':'\\ud83d\\udc8f',\n  'couplekiss_woman_woman':'\\ud83d\\udc69&zwj;\\u2764\\ufe0f&zwj;\\ud83d\\udc8b&zwj;\\ud83d\\udc69',\n  'cow':'\\ud83d\\udc2e',\n  'cow2':'\\ud83d\\udc04',\n  'cowboy_hat_face':'\\ud83e\\udd20',\n  'crab':'\\ud83e\\udd80',\n  'crayon':'\\ud83d\\udd8d',\n  'credit_card':'\\ud83d\\udcb3',\n  'crescent_moon':'\\ud83c\\udf19',\n  'cricket':'\\ud83c\\udfcf',\n  'crocodile':'\\ud83d\\udc0a',\n  'croissant':'\\ud83e\\udd50',\n  'crossed_fingers':'\\ud83e\\udd1e',\n  'crossed_flags':'\\ud83c\\udf8c',\n  'crossed_swords':'\\u2694\\ufe0f',\n  'crown':'\\ud83d\\udc51',\n  'cry':'\\ud83d\\ude22',\n  'crying_cat_face':'\\ud83d\\ude3f',\n  'crystal_ball':'\\ud83d\\udd2e',\n  'cucumber':'\\ud83e\\udd52',\n  'cupid':'\\ud83d\\udc98',\n  'curly_loop':'\\u27b0',\n  'currency_exchange':'\\ud83d\\udcb1',\n  'curry':'\\ud83c\\udf5b',\n  'custard':'\\ud83c\\udf6e',\n  'customs':'\\ud83d\\udec3',\n  'cyclone':'\\ud83c\\udf00',\n  'dagger':'\\ud83d\\udde1',\n  'dancer':'\\ud83d\\udc83',\n  'dancing_women':'\\ud83d\\udc6f',\n  'dancing_men':'\\ud83d\\udc6f&zwj;\\u2642\\ufe0f',\n  'dango':'\\ud83c\\udf61',\n  'dark_sunglasses':'\\ud83d\\udd76',\n  'dart':'\\ud83c\\udfaf',\n  'dash':'\\ud83d\\udca8',\n  'date':'\\ud83d\\udcc5',\n  'deciduous_tree':'\\ud83c\\udf33',\n  'deer':'\\ud83e\\udd8c',\n  'department_store':'\\ud83c\\udfec',\n  'derelict_house':'\\ud83c\\udfda',\n  'desert':'\\ud83c\\udfdc',\n  'desert_island':'\\ud83c\\udfdd',\n  'desktop_computer':'\\ud83d\\udda5',\n  'male_detective':'\\ud83d\\udd75\\ufe0f',\n  'diamond_shape_with_a_dot_inside':'\\ud83d\\udca0',\n  'diamonds':'\\u2666\\ufe0f',\n  'disappointed':'\\ud83d\\ude1e',\n  'disappointed_relieved':'\\ud83d\\ude25',\n  'dizzy':'\\ud83d\\udcab',\n  'dizzy_face':'\\ud83d\\ude35',\n  'do_not_litter':'\\ud83d\\udeaf',\n  'dog':'\\ud83d\\udc36',\n  'dog2':'\\ud83d\\udc15',\n  'dollar':'\\ud83d\\udcb5',\n  'dolls':'\\ud83c\\udf8e',\n  'dolphin':'\\ud83d\\udc2c',\n  'door':'\\ud83d\\udeaa',\n  'doughnut':'\\ud83c\\udf69',\n  'dove':'\\ud83d\\udd4a',\n  'dragon':'\\ud83d\\udc09',\n  'dragon_face':'\\ud83d\\udc32',\n  'dress':'\\ud83d\\udc57',\n  'dromedary_camel':'\\ud83d\\udc2a',\n  'drooling_face':'\\ud83e\\udd24',\n  'droplet':'\\ud83d\\udca7',\n  'drum':'\\ud83e\\udd41',\n  'duck':'\\ud83e\\udd86',\n  'dvd':'\\ud83d\\udcc0',\n  'e-mail':'\\ud83d\\udce7',\n  'eagle':'\\ud83e\\udd85',\n  'ear':'\\ud83d\\udc42',\n  'ear_of_rice':'\\ud83c\\udf3e',\n  'earth_africa':'\\ud83c\\udf0d',\n  'earth_americas':'\\ud83c\\udf0e',\n  'earth_asia':'\\ud83c\\udf0f',\n  'egg':'\\ud83e\\udd5a',\n  'eggplant':'\\ud83c\\udf46',\n  'eight_pointed_black_star':'\\u2734\\ufe0f',\n  'eight_spoked_asterisk':'\\u2733\\ufe0f',\n  'electric_plug':'\\ud83d\\udd0c',\n  'elephant':'\\ud83d\\udc18',\n  'email':'\\u2709\\ufe0f',\n  'end':'\\ud83d\\udd1a',\n  'envelope_with_arrow':'\\ud83d\\udce9',\n  'euro':'\\ud83d\\udcb6',\n  'european_castle':'\\ud83c\\udff0',\n  'european_post_office':'\\ud83c\\udfe4',\n  'evergreen_tree':'\\ud83c\\udf32',\n  'exclamation':'\\u2757\\ufe0f',\n  'expressionless':'\\ud83d\\ude11',\n  'eye':'\\ud83d\\udc41',\n  'eye_speech_bubble':'\\ud83d\\udc41&zwj;\\ud83d\\udde8',\n  'eyeglasses':'\\ud83d\\udc53',\n  'eyes':'\\ud83d\\udc40',\n  'face_with_head_bandage':'\\ud83e\\udd15',\n  'face_with_thermometer':'\\ud83e\\udd12',\n  'fist_oncoming':'\\ud83d\\udc4a',\n  'factory':'\\ud83c\\udfed',\n  'fallen_leaf':'\\ud83c\\udf42',\n  'family_man_woman_boy':'\\ud83d\\udc6a',\n  'family_man_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc66',\n  'family_man_boy_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc66&zwj;\\ud83d\\udc66',\n  'family_man_girl':'\\ud83d\\udc68&zwj;\\ud83d\\udc67',\n  'family_man_girl_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc66',\n  'family_man_girl_girl':'\\ud83d\\udc68&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc67',\n  'family_man_man_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc68&zwj;\\ud83d\\udc66',\n  'family_man_man_boy_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc68&zwj;\\ud83d\\udc66&zwj;\\ud83d\\udc66',\n  'family_man_man_girl':'\\ud83d\\udc68&zwj;\\ud83d\\udc68&zwj;\\ud83d\\udc67',\n  'family_man_man_girl_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc68&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc66',\n  'family_man_man_girl_girl':'\\ud83d\\udc68&zwj;\\ud83d\\udc68&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc67',\n  'family_man_woman_boy_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc66&zwj;\\ud83d\\udc66',\n  'family_man_woman_girl':'\\ud83d\\udc68&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc67',\n  'family_man_woman_girl_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc66',\n  'family_man_woman_girl_girl':'\\ud83d\\udc68&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc67',\n  'family_woman_boy':'\\ud83d\\udc69&zwj;\\ud83d\\udc66',\n  'family_woman_boy_boy':'\\ud83d\\udc69&zwj;\\ud83d\\udc66&zwj;\\ud83d\\udc66',\n  'family_woman_girl':'\\ud83d\\udc69&zwj;\\ud83d\\udc67',\n  'family_woman_girl_boy':'\\ud83d\\udc69&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc66',\n  'family_woman_girl_girl':'\\ud83d\\udc69&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc67',\n  'family_woman_woman_boy':'\\ud83d\\udc69&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc66',\n  'family_woman_woman_boy_boy':'\\ud83d\\udc69&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc66&zwj;\\ud83d\\udc66',\n  'family_woman_woman_girl':'\\ud83d\\udc69&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc67',\n  'family_woman_woman_girl_boy':'\\ud83d\\udc69&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc66',\n  'family_woman_woman_girl_girl':'\\ud83d\\udc69&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc67',\n  'fast_forward':'\\u23e9',\n  'fax':'\\ud83d\\udce0',\n  'fearful':'\\ud83d\\ude28',\n  'feet':'\\ud83d\\udc3e',\n  'female_detective':'\\ud83d\\udd75\\ufe0f&zwj;\\u2640\\ufe0f',\n  'ferris_wheel':'\\ud83c\\udfa1',\n  'ferry':'\\u26f4',\n  'field_hockey':'\\ud83c\\udfd1',\n  'file_cabinet':'\\ud83d\\uddc4',\n  'file_folder':'\\ud83d\\udcc1',\n  'film_projector':'\\ud83d\\udcfd',\n  'film_strip':'\\ud83c\\udf9e',\n  'fire':'\\ud83d\\udd25',\n  'fire_engine':'\\ud83d\\ude92',\n  'fireworks':'\\ud83c\\udf86',\n  'first_quarter_moon':'\\ud83c\\udf13',\n  'first_quarter_moon_with_face':'\\ud83c\\udf1b',\n  'fish':'\\ud83d\\udc1f',\n  'fish_cake':'\\ud83c\\udf65',\n  'fishing_pole_and_fish':'\\ud83c\\udfa3',\n  'fist_raised':'\\u270a',\n  'fist_left':'\\ud83e\\udd1b',\n  'fist_right':'\\ud83e\\udd1c',\n  'flags':'\\ud83c\\udf8f',\n  'flashlight':'\\ud83d\\udd26',\n  'fleur_de_lis':'\\u269c\\ufe0f',\n  'flight_arrival':'\\ud83d\\udeec',\n  'flight_departure':'\\ud83d\\udeeb',\n  'floppy_disk':'\\ud83d\\udcbe',\n  'flower_playing_cards':'\\ud83c\\udfb4',\n  'flushed':'\\ud83d\\ude33',\n  'fog':'\\ud83c\\udf2b',\n  'foggy':'\\ud83c\\udf01',\n  'football':'\\ud83c\\udfc8',\n  'footprints':'\\ud83d\\udc63',\n  'fork_and_knife':'\\ud83c\\udf74',\n  'fountain':'\\u26f2\\ufe0f',\n  'fountain_pen':'\\ud83d\\udd8b',\n  'four_leaf_clover':'\\ud83c\\udf40',\n  'fox_face':'\\ud83e\\udd8a',\n  'framed_picture':'\\ud83d\\uddbc',\n  'free':'\\ud83c\\udd93',\n  'fried_egg':'\\ud83c\\udf73',\n  'fried_shrimp':'\\ud83c\\udf64',\n  'fries':'\\ud83c\\udf5f',\n  'frog':'\\ud83d\\udc38',\n  'frowning':'\\ud83d\\ude26',\n  'frowning_face':'\\u2639\\ufe0f',\n  'frowning_man':'\\ud83d\\ude4d&zwj;\\u2642\\ufe0f',\n  'frowning_woman':'\\ud83d\\ude4d',\n  'middle_finger':'\\ud83d\\udd95',\n  'fuelpump':'\\u26fd\\ufe0f',\n  'full_moon':'\\ud83c\\udf15',\n  'full_moon_with_face':'\\ud83c\\udf1d',\n  'funeral_urn':'\\u26b1\\ufe0f',\n  'game_die':'\\ud83c\\udfb2',\n  'gear':'\\u2699\\ufe0f',\n  'gem':'\\ud83d\\udc8e',\n  'gemini':'\\u264a\\ufe0f',\n  'ghost':'\\ud83d\\udc7b',\n  'gift':'\\ud83c\\udf81',\n  'gift_heart':'\\ud83d\\udc9d',\n  'girl':'\\ud83d\\udc67',\n  'globe_with_meridians':'\\ud83c\\udf10',\n  'goal_net':'\\ud83e\\udd45',\n  'goat':'\\ud83d\\udc10',\n  'golf':'\\u26f3\\ufe0f',\n  'golfing_man':'\\ud83c\\udfcc\\ufe0f',\n  'golfing_woman':'\\ud83c\\udfcc\\ufe0f&zwj;\\u2640\\ufe0f',\n  'gorilla':'\\ud83e\\udd8d',\n  'grapes':'\\ud83c\\udf47',\n  'green_apple':'\\ud83c\\udf4f',\n  'green_book':'\\ud83d\\udcd7',\n  'green_heart':'\\ud83d\\udc9a',\n  'green_salad':'\\ud83e\\udd57',\n  'grey_exclamation':'\\u2755',\n  'grey_question':'\\u2754',\n  'grimacing':'\\ud83d\\ude2c',\n  'grin':'\\ud83d\\ude01',\n  'grinning':'\\ud83d\\ude00',\n  'guardsman':'\\ud83d\\udc82',\n  'guardswoman':'\\ud83d\\udc82&zwj;\\u2640\\ufe0f',\n  'guitar':'\\ud83c\\udfb8',\n  'gun':'\\ud83d\\udd2b',\n  'haircut_woman':'\\ud83d\\udc87',\n  'haircut_man':'\\ud83d\\udc87&zwj;\\u2642\\ufe0f',\n  'hamburger':'\\ud83c\\udf54',\n  'hammer':'\\ud83d\\udd28',\n  'hammer_and_pick':'\\u2692',\n  'hammer_and_wrench':'\\ud83d\\udee0',\n  'hamster':'\\ud83d\\udc39',\n  'hand':'\\u270b',\n  'handbag':'\\ud83d\\udc5c',\n  'handshake':'\\ud83e\\udd1d',\n  'hankey':'\\ud83d\\udca9',\n  'hatched_chick':'\\ud83d\\udc25',\n  'hatching_chick':'\\ud83d\\udc23',\n  'headphones':'\\ud83c\\udfa7',\n  'hear_no_evil':'\\ud83d\\ude49',\n  'heart':'\\u2764\\ufe0f',\n  'heart_decoration':'\\ud83d\\udc9f',\n  'heart_eyes':'\\ud83d\\ude0d',\n  'heart_eyes_cat':'\\ud83d\\ude3b',\n  'heartbeat':'\\ud83d\\udc93',\n  'heartpulse':'\\ud83d\\udc97',\n  'hearts':'\\u2665\\ufe0f',\n  'heavy_check_mark':'\\u2714\\ufe0f',\n  'heavy_division_sign':'\\u2797',\n  'heavy_dollar_sign':'\\ud83d\\udcb2',\n  'heavy_heart_exclamation':'\\u2763\\ufe0f',\n  'heavy_minus_sign':'\\u2796',\n  'heavy_multiplication_x':'\\u2716\\ufe0f',\n  'heavy_plus_sign':'\\u2795',\n  'helicopter':'\\ud83d\\ude81',\n  'herb':'\\ud83c\\udf3f',\n  'hibiscus':'\\ud83c\\udf3a',\n  'high_brightness':'\\ud83d\\udd06',\n  'high_heel':'\\ud83d\\udc60',\n  'hocho':'\\ud83d\\udd2a',\n  'hole':'\\ud83d\\udd73',\n  'honey_pot':'\\ud83c\\udf6f',\n  'horse':'\\ud83d\\udc34',\n  'horse_racing':'\\ud83c\\udfc7',\n  'hospital':'\\ud83c\\udfe5',\n  'hot_pepper':'\\ud83c\\udf36',\n  'hotdog':'\\ud83c\\udf2d',\n  'hotel':'\\ud83c\\udfe8',\n  'hotsprings':'\\u2668\\ufe0f',\n  'hourglass':'\\u231b\\ufe0f',\n  'hourglass_flowing_sand':'\\u23f3',\n  'house':'\\ud83c\\udfe0',\n  'house_with_garden':'\\ud83c\\udfe1',\n  'houses':'\\ud83c\\udfd8',\n  'hugs':'\\ud83e\\udd17',\n  'hushed':'\\ud83d\\ude2f',\n  'ice_cream':'\\ud83c\\udf68',\n  'ice_hockey':'\\ud83c\\udfd2',\n  'ice_skate':'\\u26f8',\n  'icecream':'\\ud83c\\udf66',\n  'id':'\\ud83c\\udd94',\n  'ideograph_advantage':'\\ud83c\\ude50',\n  'imp':'\\ud83d\\udc7f',\n  'inbox_tray':'\\ud83d\\udce5',\n  'incoming_envelope':'\\ud83d\\udce8',\n  'tipping_hand_woman':'\\ud83d\\udc81',\n  'information_source':'\\u2139\\ufe0f',\n  'innocent':'\\ud83d\\ude07',\n  'interrobang':'\\u2049\\ufe0f',\n  'iphone':'\\ud83d\\udcf1',\n  'izakaya_lantern':'\\ud83c\\udfee',\n  'jack_o_lantern':'\\ud83c\\udf83',\n  'japan':'\\ud83d\\uddfe',\n  'japanese_castle':'\\ud83c\\udfef',\n  'japanese_goblin':'\\ud83d\\udc7a',\n  'japanese_ogre':'\\ud83d\\udc79',\n  'jeans':'\\ud83d\\udc56',\n  'joy':'\\ud83d\\ude02',\n  'joy_cat':'\\ud83d\\ude39',\n  'joystick':'\\ud83d\\udd79',\n  'kaaba':'\\ud83d\\udd4b',\n  'key':'\\ud83d\\udd11',\n  'keyboard':'\\u2328\\ufe0f',\n  'keycap_ten':'\\ud83d\\udd1f',\n  'kick_scooter':'\\ud83d\\udef4',\n  'kimono':'\\ud83d\\udc58',\n  'kiss':'\\ud83d\\udc8b',\n  'kissing':'\\ud83d\\ude17',\n  'kissing_cat':'\\ud83d\\ude3d',\n  'kissing_closed_eyes':'\\ud83d\\ude1a',\n  'kissing_heart':'\\ud83d\\ude18',\n  'kissing_smiling_eyes':'\\ud83d\\ude19',\n  'kiwi_fruit':'\\ud83e\\udd5d',\n  'koala':'\\ud83d\\udc28',\n  'koko':'\\ud83c\\ude01',\n  'label':'\\ud83c\\udff7',\n  'large_blue_circle':'\\ud83d\\udd35',\n  'large_blue_diamond':'\\ud83d\\udd37',\n  'large_orange_diamond':'\\ud83d\\udd36',\n  'last_quarter_moon':'\\ud83c\\udf17',\n  'last_quarter_moon_with_face':'\\ud83c\\udf1c',\n  'latin_cross':'\\u271d\\ufe0f',\n  'laughing':'\\ud83d\\ude06',\n  'leaves':'\\ud83c\\udf43',\n  'ledger':'\\ud83d\\udcd2',\n  'left_luggage':'\\ud83d\\udec5',\n  'left_right_arrow':'\\u2194\\ufe0f',\n  'leftwards_arrow_with_hook':'\\u21a9\\ufe0f',\n  'lemon':'\\ud83c\\udf4b',\n  'leo':'\\u264c\\ufe0f',\n  'leopard':'\\ud83d\\udc06',\n  'level_slider':'\\ud83c\\udf9a',\n  'libra':'\\u264e\\ufe0f',\n  'light_rail':'\\ud83d\\ude88',\n  'link':'\\ud83d\\udd17',\n  'lion':'\\ud83e\\udd81',\n  'lips':'\\ud83d\\udc44',\n  'lipstick':'\\ud83d\\udc84',\n  'lizard':'\\ud83e\\udd8e',\n  'lock':'\\ud83d\\udd12',\n  'lock_with_ink_pen':'\\ud83d\\udd0f',\n  'lollipop':'\\ud83c\\udf6d',\n  'loop':'\\u27bf',\n  'loud_sound':'\\ud83d\\udd0a',\n  'loudspeaker':'\\ud83d\\udce2',\n  'love_hotel':'\\ud83c\\udfe9',\n  'love_letter':'\\ud83d\\udc8c',\n  'low_brightness':'\\ud83d\\udd05',\n  'lying_face':'\\ud83e\\udd25',\n  'm':'\\u24c2\\ufe0f',\n  'mag':'\\ud83d\\udd0d',\n  'mag_right':'\\ud83d\\udd0e',\n  'mahjong':'\\ud83c\\udc04\\ufe0f',\n  'mailbox':'\\ud83d\\udceb',\n  'mailbox_closed':'\\ud83d\\udcea',\n  'mailbox_with_mail':'\\ud83d\\udcec',\n  'mailbox_with_no_mail':'\\ud83d\\udced',\n  'man':'\\ud83d\\udc68',\n  'man_artist':'\\ud83d\\udc68&zwj;\\ud83c\\udfa8',\n  'man_astronaut':'\\ud83d\\udc68&zwj;\\ud83d\\ude80',\n  'man_cartwheeling':'\\ud83e\\udd38&zwj;\\u2642\\ufe0f',\n  'man_cook':'\\ud83d\\udc68&zwj;\\ud83c\\udf73',\n  'man_dancing':'\\ud83d\\udd7a',\n  'man_facepalming':'\\ud83e\\udd26&zwj;\\u2642\\ufe0f',\n  'man_factory_worker':'\\ud83d\\udc68&zwj;\\ud83c\\udfed',\n  'man_farmer':'\\ud83d\\udc68&zwj;\\ud83c\\udf3e',\n  'man_firefighter':'\\ud83d\\udc68&zwj;\\ud83d\\ude92',\n  'man_health_worker':'\\ud83d\\udc68&zwj;\\u2695\\ufe0f',\n  'man_in_tuxedo':'\\ud83e\\udd35',\n  'man_judge':'\\ud83d\\udc68&zwj;\\u2696\\ufe0f',\n  'man_juggling':'\\ud83e\\udd39&zwj;\\u2642\\ufe0f',\n  'man_mechanic':'\\ud83d\\udc68&zwj;\\ud83d\\udd27',\n  'man_office_worker':'\\ud83d\\udc68&zwj;\\ud83d\\udcbc',\n  'man_pilot':'\\ud83d\\udc68&zwj;\\u2708\\ufe0f',\n  'man_playing_handball':'\\ud83e\\udd3e&zwj;\\u2642\\ufe0f',\n  'man_playing_water_polo':'\\ud83e\\udd3d&zwj;\\u2642\\ufe0f',\n  'man_scientist':'\\ud83d\\udc68&zwj;\\ud83d\\udd2c',\n  'man_shrugging':'\\ud83e\\udd37&zwj;\\u2642\\ufe0f',\n  'man_singer':'\\ud83d\\udc68&zwj;\\ud83c\\udfa4',\n  'man_student':'\\ud83d\\udc68&zwj;\\ud83c\\udf93',\n  'man_teacher':'\\ud83d\\udc68&zwj;\\ud83c\\udfeb',\n  'man_technologist':'\\ud83d\\udc68&zwj;\\ud83d\\udcbb',\n  'man_with_gua_pi_mao':'\\ud83d\\udc72',\n  'man_with_turban':'\\ud83d\\udc73',\n  'tangerine':'\\ud83c\\udf4a',\n  'mans_shoe':'\\ud83d\\udc5e',\n  'mantelpiece_clock':'\\ud83d\\udd70',\n  'maple_leaf':'\\ud83c\\udf41',\n  'martial_arts_uniform':'\\ud83e\\udd4b',\n  'mask':'\\ud83d\\ude37',\n  'massage_woman':'\\ud83d\\udc86',\n  'massage_man':'\\ud83d\\udc86&zwj;\\u2642\\ufe0f',\n  'meat_on_bone':'\\ud83c\\udf56',\n  'medal_military':'\\ud83c\\udf96',\n  'medal_sports':'\\ud83c\\udfc5',\n  'mega':'\\ud83d\\udce3',\n  'melon':'\\ud83c\\udf48',\n  'memo':'\\ud83d\\udcdd',\n  'men_wrestling':'\\ud83e\\udd3c&zwj;\\u2642\\ufe0f',\n  'menorah':'\\ud83d\\udd4e',\n  'mens':'\\ud83d\\udeb9',\n  'metal':'\\ud83e\\udd18',\n  'metro':'\\ud83d\\ude87',\n  'microphone':'\\ud83c\\udfa4',\n  'microscope':'\\ud83d\\udd2c',\n  'milk_glass':'\\ud83e\\udd5b',\n  'milky_way':'\\ud83c\\udf0c',\n  'minibus':'\\ud83d\\ude90',\n  'minidisc':'\\ud83d\\udcbd',\n  'mobile_phone_off':'\\ud83d\\udcf4',\n  'money_mouth_face':'\\ud83e\\udd11',\n  'money_with_wings':'\\ud83d\\udcb8',\n  'moneybag':'\\ud83d\\udcb0',\n  'monkey':'\\ud83d\\udc12',\n  'monkey_face':'\\ud83d\\udc35',\n  'monorail':'\\ud83d\\ude9d',\n  'moon':'\\ud83c\\udf14',\n  'mortar_board':'\\ud83c\\udf93',\n  'mosque':'\\ud83d\\udd4c',\n  'motor_boat':'\\ud83d\\udee5',\n  'motor_scooter':'\\ud83d\\udef5',\n  'motorcycle':'\\ud83c\\udfcd',\n  'motorway':'\\ud83d\\udee3',\n  'mount_fuji':'\\ud83d\\uddfb',\n  'mountain':'\\u26f0',\n  'mountain_biking_man':'\\ud83d\\udeb5',\n  'mountain_biking_woman':'\\ud83d\\udeb5&zwj;\\u2640\\ufe0f',\n  'mountain_cableway':'\\ud83d\\udea0',\n  'mountain_railway':'\\ud83d\\ude9e',\n  'mountain_snow':'\\ud83c\\udfd4',\n  'mouse':'\\ud83d\\udc2d',\n  'mouse2':'\\ud83d\\udc01',\n  'movie_camera':'\\ud83c\\udfa5',\n  'moyai':'\\ud83d\\uddff',\n  'mrs_claus':'\\ud83e\\udd36',\n  'muscle':'\\ud83d\\udcaa',\n  'mushroom':'\\ud83c\\udf44',\n  'musical_keyboard':'\\ud83c\\udfb9',\n  'musical_note':'\\ud83c\\udfb5',\n  'musical_score':'\\ud83c\\udfbc',\n  'mute':'\\ud83d\\udd07',\n  'nail_care':'\\ud83d\\udc85',\n  'name_badge':'\\ud83d\\udcdb',\n  'national_park':'\\ud83c\\udfde',\n  'nauseated_face':'\\ud83e\\udd22',\n  'necktie':'\\ud83d\\udc54',\n  'negative_squared_cross_mark':'\\u274e',\n  'nerd_face':'\\ud83e\\udd13',\n  'neutral_face':'\\ud83d\\ude10',\n  'new':'\\ud83c\\udd95',\n  'new_moon':'\\ud83c\\udf11',\n  'new_moon_with_face':'\\ud83c\\udf1a',\n  'newspaper':'\\ud83d\\udcf0',\n  'newspaper_roll':'\\ud83d\\uddde',\n  'next_track_button':'\\u23ed',\n  'ng':'\\ud83c\\udd96',\n  'no_good_man':'\\ud83d\\ude45&zwj;\\u2642\\ufe0f',\n  'no_good_woman':'\\ud83d\\ude45',\n  'night_with_stars':'\\ud83c\\udf03',\n  'no_bell':'\\ud83d\\udd15',\n  'no_bicycles':'\\ud83d\\udeb3',\n  'no_entry':'\\u26d4\\ufe0f',\n  'no_entry_sign':'\\ud83d\\udeab',\n  'no_mobile_phones':'\\ud83d\\udcf5',\n  'no_mouth':'\\ud83d\\ude36',\n  'no_pedestrians':'\\ud83d\\udeb7',\n  'no_smoking':'\\ud83d\\udead',\n  'non-potable_water':'\\ud83d\\udeb1',\n  'nose':'\\ud83d\\udc43',\n  'notebook':'\\ud83d\\udcd3',\n  'notebook_with_decorative_cover':'\\ud83d\\udcd4',\n  'notes':'\\ud83c\\udfb6',\n  'nut_and_bolt':'\\ud83d\\udd29',\n  'o':'\\u2b55\\ufe0f',\n  'o2':'\\ud83c\\udd7e\\ufe0f',\n  'ocean':'\\ud83c\\udf0a',\n  'octopus':'\\ud83d\\udc19',\n  'oden':'\\ud83c\\udf62',\n  'office':'\\ud83c\\udfe2',\n  'oil_drum':'\\ud83d\\udee2',\n  'ok':'\\ud83c\\udd97',\n  'ok_hand':'\\ud83d\\udc4c',\n  'ok_man':'\\ud83d\\ude46&zwj;\\u2642\\ufe0f',\n  'ok_woman':'\\ud83d\\ude46',\n  'old_key':'\\ud83d\\udddd',\n  'older_man':'\\ud83d\\udc74',\n  'older_woman':'\\ud83d\\udc75',\n  'om':'\\ud83d\\udd49',\n  'on':'\\ud83d\\udd1b',\n  'oncoming_automobile':'\\ud83d\\ude98',\n  'oncoming_bus':'\\ud83d\\ude8d',\n  'oncoming_police_car':'\\ud83d\\ude94',\n  'oncoming_taxi':'\\ud83d\\ude96',\n  'open_file_folder':'\\ud83d\\udcc2',\n  'open_hands':'\\ud83d\\udc50',\n  'open_mouth':'\\ud83d\\ude2e',\n  'open_umbrella':'\\u2602\\ufe0f',\n  'ophiuchus':'\\u26ce',\n  'orange_book':'\\ud83d\\udcd9',\n  'orthodox_cross':'\\u2626\\ufe0f',\n  'outbox_tray':'\\ud83d\\udce4',\n  'owl':'\\ud83e\\udd89',\n  'ox':'\\ud83d\\udc02',\n  'package':'\\ud83d\\udce6',\n  'page_facing_up':'\\ud83d\\udcc4',\n  'page_with_curl':'\\ud83d\\udcc3',\n  'pager':'\\ud83d\\udcdf',\n  'paintbrush':'\\ud83d\\udd8c',\n  'palm_tree':'\\ud83c\\udf34',\n  'pancakes':'\\ud83e\\udd5e',\n  'panda_face':'\\ud83d\\udc3c',\n  'paperclip':'\\ud83d\\udcce',\n  'paperclips':'\\ud83d\\udd87',\n  'parasol_on_ground':'\\u26f1',\n  'parking':'\\ud83c\\udd7f\\ufe0f',\n  'part_alternation_mark':'\\u303d\\ufe0f',\n  'partly_sunny':'\\u26c5\\ufe0f',\n  'passenger_ship':'\\ud83d\\udef3',\n  'passport_control':'\\ud83d\\udec2',\n  'pause_button':'\\u23f8',\n  'peace_symbol':'\\u262e\\ufe0f',\n  'peach':'\\ud83c\\udf51',\n  'peanuts':'\\ud83e\\udd5c',\n  'pear':'\\ud83c\\udf50',\n  'pen':'\\ud83d\\udd8a',\n  'pencil2':'\\u270f\\ufe0f',\n  'penguin':'\\ud83d\\udc27',\n  'pensive':'\\ud83d\\ude14',\n  'performing_arts':'\\ud83c\\udfad',\n  'persevere':'\\ud83d\\ude23',\n  'person_fencing':'\\ud83e\\udd3a',\n  'pouting_woman':'\\ud83d\\ude4e',\n  'phone':'\\u260e\\ufe0f',\n  'pick':'\\u26cf',\n  'pig':'\\ud83d\\udc37',\n  'pig2':'\\ud83d\\udc16',\n  'pig_nose':'\\ud83d\\udc3d',\n  'pill':'\\ud83d\\udc8a',\n  'pineapple':'\\ud83c\\udf4d',\n  'ping_pong':'\\ud83c\\udfd3',\n  'pisces':'\\u2653\\ufe0f',\n  'pizza':'\\ud83c\\udf55',\n  'place_of_worship':'\\ud83d\\uded0',\n  'plate_with_cutlery':'\\ud83c\\udf7d',\n  'play_or_pause_button':'\\u23ef',\n  'point_down':'\\ud83d\\udc47',\n  'point_left':'\\ud83d\\udc48',\n  'point_right':'\\ud83d\\udc49',\n  'point_up':'\\u261d\\ufe0f',\n  'point_up_2':'\\ud83d\\udc46',\n  'police_car':'\\ud83d\\ude93',\n  'policewoman':'\\ud83d\\udc6e&zwj;\\u2640\\ufe0f',\n  'poodle':'\\ud83d\\udc29',\n  'popcorn':'\\ud83c\\udf7f',\n  'post_office':'\\ud83c\\udfe3',\n  'postal_horn':'\\ud83d\\udcef',\n  'postbox':'\\ud83d\\udcee',\n  'potable_water':'\\ud83d\\udeb0',\n  'potato':'\\ud83e\\udd54',\n  'pouch':'\\ud83d\\udc5d',\n  'poultry_leg':'\\ud83c\\udf57',\n  'pound':'\\ud83d\\udcb7',\n  'rage':'\\ud83d\\ude21',\n  'pouting_cat':'\\ud83d\\ude3e',\n  'pouting_man':'\\ud83d\\ude4e&zwj;\\u2642\\ufe0f',\n  'pray':'\\ud83d\\ude4f',\n  'prayer_beads':'\\ud83d\\udcff',\n  'pregnant_woman':'\\ud83e\\udd30',\n  'previous_track_button':'\\u23ee',\n  'prince':'\\ud83e\\udd34',\n  'princess':'\\ud83d\\udc78',\n  'printer':'\\ud83d\\udda8',\n  'purple_heart':'\\ud83d\\udc9c',\n  'purse':'\\ud83d\\udc5b',\n  'pushpin':'\\ud83d\\udccc',\n  'put_litter_in_its_place':'\\ud83d\\udeae',\n  'question':'\\u2753',\n  'rabbit':'\\ud83d\\udc30',\n  'rabbit2':'\\ud83d\\udc07',\n  'racehorse':'\\ud83d\\udc0e',\n  'racing_car':'\\ud83c\\udfce',\n  'radio':'\\ud83d\\udcfb',\n  'radio_button':'\\ud83d\\udd18',\n  'radioactive':'\\u2622\\ufe0f',\n  'railway_car':'\\ud83d\\ude83',\n  'railway_track':'\\ud83d\\udee4',\n  'rainbow':'\\ud83c\\udf08',\n  'rainbow_flag':'\\ud83c\\udff3\\ufe0f&zwj;\\ud83c\\udf08',\n  'raised_back_of_hand':'\\ud83e\\udd1a',\n  'raised_hand_with_fingers_splayed':'\\ud83d\\udd90',\n  'raised_hands':'\\ud83d\\ude4c',\n  'raising_hand_woman':'\\ud83d\\ude4b',\n  'raising_hand_man':'\\ud83d\\ude4b&zwj;\\u2642\\ufe0f',\n  'ram':'\\ud83d\\udc0f',\n  'ramen':'\\ud83c\\udf5c',\n  'rat':'\\ud83d\\udc00',\n  'record_button':'\\u23fa',\n  'recycle':'\\u267b\\ufe0f',\n  'red_circle':'\\ud83d\\udd34',\n  'registered':'\\u00ae\\ufe0f',\n  'relaxed':'\\u263a\\ufe0f',\n  'relieved':'\\ud83d\\ude0c',\n  'reminder_ribbon':'\\ud83c\\udf97',\n  'repeat':'\\ud83d\\udd01',\n  'repeat_one':'\\ud83d\\udd02',\n  'rescue_worker_helmet':'\\u26d1',\n  'restroom':'\\ud83d\\udebb',\n  'revolving_hearts':'\\ud83d\\udc9e',\n  'rewind':'\\u23ea',\n  'rhinoceros':'\\ud83e\\udd8f',\n  'ribbon':'\\ud83c\\udf80',\n  'rice':'\\ud83c\\udf5a',\n  'rice_ball':'\\ud83c\\udf59',\n  'rice_cracker':'\\ud83c\\udf58',\n  'rice_scene':'\\ud83c\\udf91',\n  'right_anger_bubble':'\\ud83d\\uddef',\n  'ring':'\\ud83d\\udc8d',\n  'robot':'\\ud83e\\udd16',\n  'rocket':'\\ud83d\\ude80',\n  'rofl':'\\ud83e\\udd23',\n  'roll_eyes':'\\ud83d\\ude44',\n  'roller_coaster':'\\ud83c\\udfa2',\n  'rooster':'\\ud83d\\udc13',\n  'rose':'\\ud83c\\udf39',\n  'rosette':'\\ud83c\\udff5',\n  'rotating_light':'\\ud83d\\udea8',\n  'round_pushpin':'\\ud83d\\udccd',\n  'rowing_man':'\\ud83d\\udea3',\n  'rowing_woman':'\\ud83d\\udea3&zwj;\\u2640\\ufe0f',\n  'rugby_football':'\\ud83c\\udfc9',\n  'running_man':'\\ud83c\\udfc3',\n  'running_shirt_with_sash':'\\ud83c\\udfbd',\n  'running_woman':'\\ud83c\\udfc3&zwj;\\u2640\\ufe0f',\n  'sa':'\\ud83c\\ude02\\ufe0f',\n  'sagittarius':'\\u2650\\ufe0f',\n  'sake':'\\ud83c\\udf76',\n  'sandal':'\\ud83d\\udc61',\n  'santa':'\\ud83c\\udf85',\n  'satellite':'\\ud83d\\udce1',\n  'saxophone':'\\ud83c\\udfb7',\n  'school':'\\ud83c\\udfeb',\n  'school_satchel':'\\ud83c\\udf92',\n  'scissors':'\\u2702\\ufe0f',\n  'scorpion':'\\ud83e\\udd82',\n  'scorpius':'\\u264f\\ufe0f',\n  'scream':'\\ud83d\\ude31',\n  'scream_cat':'\\ud83d\\ude40',\n  'scroll':'\\ud83d\\udcdc',\n  'seat':'\\ud83d\\udcba',\n  'secret':'\\u3299\\ufe0f',\n  'see_no_evil':'\\ud83d\\ude48',\n  'seedling':'\\ud83c\\udf31',\n  'selfie':'\\ud83e\\udd33',\n  'shallow_pan_of_food':'\\ud83e\\udd58',\n  'shamrock':'\\u2618\\ufe0f',\n  'shark':'\\ud83e\\udd88',\n  'shaved_ice':'\\ud83c\\udf67',\n  'sheep':'\\ud83d\\udc11',\n  'shell':'\\ud83d\\udc1a',\n  'shield':'\\ud83d\\udee1',\n  'shinto_shrine':'\\u26e9',\n  'ship':'\\ud83d\\udea2',\n  'shirt':'\\ud83d\\udc55',\n  'shopping':'\\ud83d\\udecd',\n  'shopping_cart':'\\ud83d\\uded2',\n  'shower':'\\ud83d\\udebf',\n  'shrimp':'\\ud83e\\udd90',\n  'signal_strength':'\\ud83d\\udcf6',\n  'six_pointed_star':'\\ud83d\\udd2f',\n  'ski':'\\ud83c\\udfbf',\n  'skier':'\\u26f7',\n  'skull':'\\ud83d\\udc80',\n  'skull_and_crossbones':'\\u2620\\ufe0f',\n  'sleeping':'\\ud83d\\ude34',\n  'sleeping_bed':'\\ud83d\\udecc',\n  'sleepy':'\\ud83d\\ude2a',\n  'slightly_frowning_face':'\\ud83d\\ude41',\n  'slightly_smiling_face':'\\ud83d\\ude42',\n  'slot_machine':'\\ud83c\\udfb0',\n  'small_airplane':'\\ud83d\\udee9',\n  'small_blue_diamond':'\\ud83d\\udd39',\n  'small_orange_diamond':'\\ud83d\\udd38',\n  'small_red_triangle':'\\ud83d\\udd3a',\n  'small_red_triangle_down':'\\ud83d\\udd3b',\n  'smile':'\\ud83d\\ude04',\n  'smile_cat':'\\ud83d\\ude38',\n  'smiley':'\\ud83d\\ude03',\n  'smiley_cat':'\\ud83d\\ude3a',\n  'smiling_imp':'\\ud83d\\ude08',\n  'smirk':'\\ud83d\\ude0f',\n  'smirk_cat':'\\ud83d\\ude3c',\n  'smoking':'\\ud83d\\udeac',\n  'snail':'\\ud83d\\udc0c',\n  'snake':'\\ud83d\\udc0d',\n  'sneezing_face':'\\ud83e\\udd27',\n  'snowboarder':'\\ud83c\\udfc2',\n  'snowflake':'\\u2744\\ufe0f',\n  'snowman':'\\u26c4\\ufe0f',\n  'snowman_with_snow':'\\u2603\\ufe0f',\n  'sob':'\\ud83d\\ude2d',\n  'soccer':'\\u26bd\\ufe0f',\n  'soon':'\\ud83d\\udd1c',\n  'sos':'\\ud83c\\udd98',\n  'sound':'\\ud83d\\udd09',\n  'space_invader':'\\ud83d\\udc7e',\n  'spades':'\\u2660\\ufe0f',\n  'spaghetti':'\\ud83c\\udf5d',\n  'sparkle':'\\u2747\\ufe0f',\n  'sparkler':'\\ud83c\\udf87',\n  'sparkles':'\\u2728',\n  'sparkling_heart':'\\ud83d\\udc96',\n  'speak_no_evil':'\\ud83d\\ude4a',\n  'speaker':'\\ud83d\\udd08',\n  'speaking_head':'\\ud83d\\udde3',\n  'speech_balloon':'\\ud83d\\udcac',\n  'speedboat':'\\ud83d\\udea4',\n  'spider':'\\ud83d\\udd77',\n  'spider_web':'\\ud83d\\udd78',\n  'spiral_calendar':'\\ud83d\\uddd3',\n  'spiral_notepad':'\\ud83d\\uddd2',\n  'spoon':'\\ud83e\\udd44',\n  'squid':'\\ud83e\\udd91',\n  'stadium':'\\ud83c\\udfdf',\n  'star':'\\u2b50\\ufe0f',\n  'star2':'\\ud83c\\udf1f',\n  'star_and_crescent':'\\u262a\\ufe0f',\n  'star_of_david':'\\u2721\\ufe0f',\n  'stars':'\\ud83c\\udf20',\n  'station':'\\ud83d\\ude89',\n  'statue_of_liberty':'\\ud83d\\uddfd',\n  'steam_locomotive':'\\ud83d\\ude82',\n  'stew':'\\ud83c\\udf72',\n  'stop_button':'\\u23f9',\n  'stop_sign':'\\ud83d\\uded1',\n  'stopwatch':'\\u23f1',\n  'straight_ruler':'\\ud83d\\udccf',\n  'strawberry':'\\ud83c\\udf53',\n  'stuck_out_tongue':'\\ud83d\\ude1b',\n  'stuck_out_tongue_closed_eyes':'\\ud83d\\ude1d',\n  'stuck_out_tongue_winking_eye':'\\ud83d\\ude1c',\n  'studio_microphone':'\\ud83c\\udf99',\n  'stuffed_flatbread':'\\ud83e\\udd59',\n  'sun_behind_large_cloud':'\\ud83c\\udf25',\n  'sun_behind_rain_cloud':'\\ud83c\\udf26',\n  'sun_behind_small_cloud':'\\ud83c\\udf24',\n  'sun_with_face':'\\ud83c\\udf1e',\n  'sunflower':'\\ud83c\\udf3b',\n  'sunglasses':'\\ud83d\\ude0e',\n  'sunny':'\\u2600\\ufe0f',\n  'sunrise':'\\ud83c\\udf05',\n  'sunrise_over_mountains':'\\ud83c\\udf04',\n  'surfing_man':'\\ud83c\\udfc4',\n  'surfing_woman':'\\ud83c\\udfc4&zwj;\\u2640\\ufe0f',\n  'sushi':'\\ud83c\\udf63',\n  'suspension_railway':'\\ud83d\\ude9f',\n  'sweat':'\\ud83d\\ude13',\n  'sweat_drops':'\\ud83d\\udca6',\n  'sweat_smile':'\\ud83d\\ude05',\n  'sweet_potato':'\\ud83c\\udf60',\n  'swimming_man':'\\ud83c\\udfca',\n  'swimming_woman':'\\ud83c\\udfca&zwj;\\u2640\\ufe0f',\n  'symbols':'\\ud83d\\udd23',\n  'synagogue':'\\ud83d\\udd4d',\n  'syringe':'\\ud83d\\udc89',\n  'taco':'\\ud83c\\udf2e',\n  'tada':'\\ud83c\\udf89',\n  'tanabata_tree':'\\ud83c\\udf8b',\n  'taurus':'\\u2649\\ufe0f',\n  'taxi':'\\ud83d\\ude95',\n  'tea':'\\ud83c\\udf75',\n  'telephone_receiver':'\\ud83d\\udcde',\n  'telescope':'\\ud83d\\udd2d',\n  'tennis':'\\ud83c\\udfbe',\n  'tent':'\\u26fa\\ufe0f',\n  'thermometer':'\\ud83c\\udf21',\n  'thinking':'\\ud83e\\udd14',\n  'thought_balloon':'\\ud83d\\udcad',\n  'ticket':'\\ud83c\\udfab',\n  'tickets':'\\ud83c\\udf9f',\n  'tiger':'\\ud83d\\udc2f',\n  'tiger2':'\\ud83d\\udc05',\n  'timer_clock':'\\u23f2',\n  'tipping_hand_man':'\\ud83d\\udc81&zwj;\\u2642\\ufe0f',\n  'tired_face':'\\ud83d\\ude2b',\n  'tm':'\\u2122\\ufe0f',\n  'toilet':'\\ud83d\\udebd',\n  'tokyo_tower':'\\ud83d\\uddfc',\n  'tomato':'\\ud83c\\udf45',\n  'tongue':'\\ud83d\\udc45',\n  'top':'\\ud83d\\udd1d',\n  'tophat':'\\ud83c\\udfa9',\n  'tornado':'\\ud83c\\udf2a',\n  'trackball':'\\ud83d\\uddb2',\n  'tractor':'\\ud83d\\ude9c',\n  'traffic_light':'\\ud83d\\udea5',\n  'train':'\\ud83d\\ude8b',\n  'train2':'\\ud83d\\ude86',\n  'tram':'\\ud83d\\ude8a',\n  'triangular_flag_on_post':'\\ud83d\\udea9',\n  'triangular_ruler':'\\ud83d\\udcd0',\n  'trident':'\\ud83d\\udd31',\n  'triumph':'\\ud83d\\ude24',\n  'trolleybus':'\\ud83d\\ude8e',\n  'trophy':'\\ud83c\\udfc6',\n  'tropical_drink':'\\ud83c\\udf79',\n  'tropical_fish':'\\ud83d\\udc20',\n  'truck':'\\ud83d\\ude9a',\n  'trumpet':'\\ud83c\\udfba',\n  'tulip':'\\ud83c\\udf37',\n  'tumbler_glass':'\\ud83e\\udd43',\n  'turkey':'\\ud83e\\udd83',\n  'turtle':'\\ud83d\\udc22',\n  'tv':'\\ud83d\\udcfa',\n  'twisted_rightwards_arrows':'\\ud83d\\udd00',\n  'two_hearts':'\\ud83d\\udc95',\n  'two_men_holding_hands':'\\ud83d\\udc6c',\n  'two_women_holding_hands':'\\ud83d\\udc6d',\n  'u5272':'\\ud83c\\ude39',\n  'u5408':'\\ud83c\\ude34',\n  'u55b6':'\\ud83c\\ude3a',\n  'u6307':'\\ud83c\\ude2f\\ufe0f',\n  'u6708':'\\ud83c\\ude37\\ufe0f',\n  'u6709':'\\ud83c\\ude36',\n  'u6e80':'\\ud83c\\ude35',\n  'u7121':'\\ud83c\\ude1a\\ufe0f',\n  'u7533':'\\ud83c\\ude38',\n  'u7981':'\\ud83c\\ude32',\n  'u7a7a':'\\ud83c\\ude33',\n  'umbrella':'\\u2614\\ufe0f',\n  'unamused':'\\ud83d\\ude12',\n  'underage':'\\ud83d\\udd1e',\n  'unicorn':'\\ud83e\\udd84',\n  'unlock':'\\ud83d\\udd13',\n  'up':'\\ud83c\\udd99',\n  'upside_down_face':'\\ud83d\\ude43',\n  'v':'\\u270c\\ufe0f',\n  'vertical_traffic_light':'\\ud83d\\udea6',\n  'vhs':'\\ud83d\\udcfc',\n  'vibration_mode':'\\ud83d\\udcf3',\n  'video_camera':'\\ud83d\\udcf9',\n  'video_game':'\\ud83c\\udfae',\n  'violin':'\\ud83c\\udfbb',\n  'virgo':'\\u264d\\ufe0f',\n  'volcano':'\\ud83c\\udf0b',\n  'volleyball':'\\ud83c\\udfd0',\n  'vs':'\\ud83c\\udd9a',\n  'vulcan_salute':'\\ud83d\\udd96',\n  'walking_man':'\\ud83d\\udeb6',\n  'walking_woman':'\\ud83d\\udeb6&zwj;\\u2640\\ufe0f',\n  'waning_crescent_moon':'\\ud83c\\udf18',\n  'waning_gibbous_moon':'\\ud83c\\udf16',\n  'warning':'\\u26a0\\ufe0f',\n  'wastebasket':'\\ud83d\\uddd1',\n  'watch':'\\u231a\\ufe0f',\n  'water_buffalo':'\\ud83d\\udc03',\n  'watermelon':'\\ud83c\\udf49',\n  'wave':'\\ud83d\\udc4b',\n  'wavy_dash':'\\u3030\\ufe0f',\n  'waxing_crescent_moon':'\\ud83c\\udf12',\n  'wc':'\\ud83d\\udebe',\n  'weary':'\\ud83d\\ude29',\n  'wedding':'\\ud83d\\udc92',\n  'weight_lifting_man':'\\ud83c\\udfcb\\ufe0f',\n  'weight_lifting_woman':'\\ud83c\\udfcb\\ufe0f&zwj;\\u2640\\ufe0f',\n  'whale':'\\ud83d\\udc33',\n  'whale2':'\\ud83d\\udc0b',\n  'wheel_of_dharma':'\\u2638\\ufe0f',\n  'wheelchair':'\\u267f\\ufe0f',\n  'white_check_mark':'\\u2705',\n  'white_circle':'\\u26aa\\ufe0f',\n  'white_flag':'\\ud83c\\udff3\\ufe0f',\n  'white_flower':'\\ud83d\\udcae',\n  'white_large_square':'\\u2b1c\\ufe0f',\n  'white_medium_small_square':'\\u25fd\\ufe0f',\n  'white_medium_square':'\\u25fb\\ufe0f',\n  'white_small_square':'\\u25ab\\ufe0f',\n  'white_square_button':'\\ud83d\\udd33',\n  'wilted_flower':'\\ud83e\\udd40',\n  'wind_chime':'\\ud83c\\udf90',\n  'wind_face':'\\ud83c\\udf2c',\n  'wine_glass':'\\ud83c\\udf77',\n  'wink':'\\ud83d\\ude09',\n  'wolf':'\\ud83d\\udc3a',\n  'woman':'\\ud83d\\udc69',\n  'woman_artist':'\\ud83d\\udc69&zwj;\\ud83c\\udfa8',\n  'woman_astronaut':'\\ud83d\\udc69&zwj;\\ud83d\\ude80',\n  'woman_cartwheeling':'\\ud83e\\udd38&zwj;\\u2640\\ufe0f',\n  'woman_cook':'\\ud83d\\udc69&zwj;\\ud83c\\udf73',\n  'woman_facepalming':'\\ud83e\\udd26&zwj;\\u2640\\ufe0f',\n  'woman_factory_worker':'\\ud83d\\udc69&zwj;\\ud83c\\udfed',\n  'woman_farmer':'\\ud83d\\udc69&zwj;\\ud83c\\udf3e',\n  'woman_firefighter':'\\ud83d\\udc69&zwj;\\ud83d\\ude92',\n  'woman_health_worker':'\\ud83d\\udc69&zwj;\\u2695\\ufe0f',\n  'woman_judge':'\\ud83d\\udc69&zwj;\\u2696\\ufe0f',\n  'woman_juggling':'\\ud83e\\udd39&zwj;\\u2640\\ufe0f',\n  'woman_mechanic':'\\ud83d\\udc69&zwj;\\ud83d\\udd27',\n  'woman_office_worker':'\\ud83d\\udc69&zwj;\\ud83d\\udcbc',\n  'woman_pilot':'\\ud83d\\udc69&zwj;\\u2708\\ufe0f',\n  'woman_playing_handball':'\\ud83e\\udd3e&zwj;\\u2640\\ufe0f',\n  'woman_playing_water_polo':'\\ud83e\\udd3d&zwj;\\u2640\\ufe0f',\n  'woman_scientist':'\\ud83d\\udc69&zwj;\\ud83d\\udd2c',\n  'woman_shrugging':'\\ud83e\\udd37&zwj;\\u2640\\ufe0f',\n  'woman_singer':'\\ud83d\\udc69&zwj;\\ud83c\\udfa4',\n  'woman_student':'\\ud83d\\udc69&zwj;\\ud83c\\udf93',\n  'woman_teacher':'\\ud83d\\udc69&zwj;\\ud83c\\udfeb',\n  'woman_technologist':'\\ud83d\\udc69&zwj;\\ud83d\\udcbb',\n  'woman_with_turban':'\\ud83d\\udc73&zwj;\\u2640\\ufe0f',\n  'womans_clothes':'\\ud83d\\udc5a',\n  'womans_hat':'\\ud83d\\udc52',\n  'women_wrestling':'\\ud83e\\udd3c&zwj;\\u2640\\ufe0f',\n  'womens':'\\ud83d\\udeba',\n  'world_map':'\\ud83d\\uddfa',\n  'worried':'\\ud83d\\ude1f',\n  'wrench':'\\ud83d\\udd27',\n  'writing_hand':'\\u270d\\ufe0f',\n  'x':'\\u274c',\n  'yellow_heart':'\\ud83d\\udc9b',\n  'yen':'\\ud83d\\udcb4',\n  'yin_yang':'\\u262f\\ufe0f',\n  'yum':'\\ud83d\\ude0b',\n  'zap':'\\u26a1\\ufe0f',\n  'zipper_mouth_face':'\\ud83e\\udd10',\n  'zzz':'\\ud83d\\udca4',\n\n  /* special emojis :P */\n  'octocat':  '<img alt=\":octocat:\" height=\"20\" width=\"20\" align=\"absmiddle\" src=\"https://assets-cdn.github.com/images/icons/emoji/octocat.png\">',\n  'showdown': '<span style=\"font-family: \\'Anonymous Pro\\', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;\">S</span>'\n};\n\r\n/**\n * Created by Estevao on 31-05-2015.\n */\n\n/**\n * Showdown Converter class\n * @class\n * @param {object} [converterOptions]\n * @returns {Converter}\n */\nshowdown.Converter = function (converterOptions) {\n  'use strict';\n\n  var\n      /**\n       * Options used by this converter\n       * @private\n       * @type {{}}\n       */\n      options = {},\n\n      /**\n       * Language extensions used by this converter\n       * @private\n       * @type {Array}\n       */\n      langExtensions = [],\n\n      /**\n       * Output modifiers extensions used by this converter\n       * @private\n       * @type {Array}\n       */\n      outputModifiers = [],\n\n      /**\n       * Event listeners\n       * @private\n       * @type {{}}\n       */\n      listeners = {},\n\n      /**\n       * The flavor set in this converter\n       */\n      setConvFlavor = setFlavor,\n\n      /**\n       * Metadata of the document\n       * @type {{parsed: {}, raw: string, format: string}}\n       */\n      metadata = {\n        parsed: {},\n        raw: '',\n        format: ''\n      };\n\n  _constructor();\n\n  /**\n   * Converter constructor\n   * @private\n   */\n  function _constructor () {\n    converterOptions = converterOptions || {};\n\n    for (var gOpt in globalOptions) {\n      if (globalOptions.hasOwnProperty(gOpt)) {\n        options[gOpt] = globalOptions[gOpt];\n      }\n    }\n\n    // Merge options\n    if (typeof converterOptions === 'object') {\n      for (var opt in converterOptions) {\n        if (converterOptions.hasOwnProperty(opt)) {\n          options[opt] = converterOptions[opt];\n        }\n      }\n    } else {\n      throw Error('Converter expects the passed parameter to be an object, but ' + typeof converterOptions +\n      ' was passed instead.');\n    }\n\n    if (options.extensions) {\n      showdown.helper.forEach(options.extensions, _parseExtension);\n    }\n  }\n\n  /**\n   * Parse extension\n   * @param {*} ext\n   * @param {string} [name='']\n   * @private\n   */\n  function _parseExtension (ext, name) {\n\n    name = name || null;\n    // If it's a string, the extension was previously loaded\n    if (showdown.helper.isString(ext)) {\n      ext = showdown.helper.stdExtName(ext);\n      name = ext;\n\n      // LEGACY_SUPPORT CODE\n      if (showdown.extensions[ext]) {\n        console.warn('DEPRECATION WARNING: ' + ext + ' is an old extension that uses a deprecated loading method.' +\n          'Please inform the developer that the extension should be updated!');\n        legacyExtensionLoading(showdown.extensions[ext], ext);\n        return;\n        // END LEGACY SUPPORT CODE\n\n      } else if (!showdown.helper.isUndefined(extensions[ext])) {\n        ext = extensions[ext];\n\n      } else {\n        throw Error('Extension \"' + ext + '\" could not be loaded. It was either not found or is not a valid extension.');\n      }\n    }\n\n    if (typeof ext === 'function') {\n      ext = ext();\n    }\n\n    if (!showdown.helper.isArray(ext)) {\n      ext = [ext];\n    }\n\n    var validExt = validate(ext, name);\n    if (!validExt.valid) {\n      throw Error(validExt.error);\n    }\n\n    for (var i = 0; i < ext.length; ++i) {\n      switch (ext[i].type) {\n\n        case 'lang':\n          langExtensions.push(ext[i]);\n          break;\n\n        case 'output':\n          outputModifiers.push(ext[i]);\n          break;\n      }\n      if (ext[i].hasOwnProperty('listeners')) {\n        for (var ln in ext[i].listeners) {\n          if (ext[i].listeners.hasOwnProperty(ln)) {\n            listen(ln, ext[i].listeners[ln]);\n          }\n        }\n      }\n    }\n\n  }\n\n  /**\n   * LEGACY_SUPPORT\n   * @param {*} ext\n   * @param {string} name\n   */\n  function legacyExtensionLoading (ext, name) {\n    if (typeof ext === 'function') {\n      ext = ext(new showdown.Converter());\n    }\n    if (!showdown.helper.isArray(ext)) {\n      ext = [ext];\n    }\n    var valid = validate(ext, name);\n\n    if (!valid.valid) {\n      throw Error(valid.error);\n    }\n\n    for (var i = 0; i < ext.length; ++i) {\n      switch (ext[i].type) {\n        case 'lang':\n          langExtensions.push(ext[i]);\n          break;\n        case 'output':\n          outputModifiers.push(ext[i]);\n          break;\n        default:// should never reach here\n          throw Error('Extension loader error: Type unrecognized!!!');\n      }\n    }\n  }\n\n  /**\n   * Listen to an event\n   * @param {string} name\n   * @param {function} callback\n   */\n  function listen (name, callback) {\n    if (!showdown.helper.isString(name)) {\n      throw Error('Invalid argument in converter.listen() method: name must be a string, but ' + typeof name + ' given');\n    }\n\n    if (typeof callback !== 'function') {\n      throw Error('Invalid argument in converter.listen() method: callback must be a function, but ' + typeof callback + ' given');\n    }\n\n    if (!listeners.hasOwnProperty(name)) {\n      listeners[name] = [];\n    }\n    listeners[name].push(callback);\n  }\n\n  function rTrimInputText (text) {\n    var rsp = text.match(/^\\s*/)[0].length,\n        rgx = new RegExp('^\\\\s{0,' + rsp + '}', 'gm');\n    return text.replace(rgx, '');\n  }\n\n  /**\n   * Dispatch an event\n   * @private\n   * @param {string} evtName Event name\n   * @param {string} text Text\n   * @param {{}} options Converter Options\n   * @param {{}} globals\n   * @returns {string}\n   */\n  this._dispatch = function dispatch (evtName, text, options, globals) {\n    if (listeners.hasOwnProperty(evtName)) {\n      for (var ei = 0; ei < listeners[evtName].length; ++ei) {\n        var nText = listeners[evtName][ei](evtName, text, this, options, globals);\n        if (nText && typeof nText !== 'undefined') {\n          text = nText;\n        }\n      }\n    }\n    return text;\n  };\n\n  /**\n   * Listen to an event\n   * @param {string} name\n   * @param {function} callback\n   * @returns {showdown.Converter}\n   */\n  this.listen = function (name, callback) {\n    listen(name, callback);\n    return this;\n  };\n\n  /**\n   * Converts a markdown string into HTML\n   * @param {string} text\n   * @returns {*}\n   */\n  this.makeHtml = function (text) {\n    //check if text is not falsy\n    if (!text) {\n      return text;\n    }\n\n    var globals = {\n      gHtmlBlocks:     [],\n      gHtmlMdBlocks:   [],\n      gHtmlSpans:      [],\n      gUrls:           {},\n      gTitles:         {},\n      gDimensions:     {},\n      gListLevel:      0,\n      hashLinkCounts:  {},\n      langExtensions:  langExtensions,\n      outputModifiers: outputModifiers,\n      converter:       this,\n      ghCodeBlocks:    [],\n      metadata: {\n        parsed: {},\n        raw: '',\n        format: ''\n      }\n    };\n\n    // This lets us use  trema as an escape char to avoid md5 hashes\n    // The choice of character is arbitrary; anything that isn't\n    // magic in Markdown will work.\n    text = text.replace(//g, 'T');\n\n    // Replace $ with D\n    // RegExp interprets $ as a special character\n    // when it's in a replacement string\n    text = text.replace(/\\$/g, 'D');\n\n    // Standardize line endings\n    text = text.replace(/\\r\\n/g, '\\n'); // DOS to Unix\n    text = text.replace(/\\r/g, '\\n'); // Mac to Unix\n\n    // Stardardize line spaces\n    text = text.replace(/\\u00A0/g, '&nbsp;');\n\n    if (options.smartIndentationFix) {\n      text = rTrimInputText(text);\n    }\n\n    // Make sure text begins and ends with a couple of newlines:\n    text = '\\n\\n' + text + '\\n\\n';\n\n    // detab\n    text = showdown.subParser('detab')(text, options, globals);\n\n    /**\n     * Strip any lines consisting only of spaces and tabs.\n     * This makes subsequent regexs easier to write, because we can\n     * match consecutive blank lines with /\\n+/ instead of something\n     * contorted like /[ \\t]*\\n+/\n     */\n    text = text.replace(/^[ \\t]+$/mg, '');\n\n    //run languageExtensions\n    showdown.helper.forEach(langExtensions, function (ext) {\n      text = showdown.subParser('runExtension')(ext, text, options, globals);\n    });\n\n    // run the sub parsers\n    text = showdown.subParser('metadata')(text, options, globals);\n    text = showdown.subParser('hashPreCodeTags')(text, options, globals);\n    text = showdown.subParser('githubCodeBlocks')(text, options, globals);\n    text = showdown.subParser('hashHTMLBlocks')(text, options, globals);\n    text = showdown.subParser('hashCodeTags')(text, options, globals);\n    text = showdown.subParser('stripLinkDefinitions')(text, options, globals);\n    text = showdown.subParser('blockGamut')(text, options, globals);\n    text = showdown.subParser('unhashHTMLSpans')(text, options, globals);\n    text = showdown.subParser('unescapeSpecialChars')(text, options, globals);\n\n    // attacklab: Restore dollar signs\n    text = text.replace(/D/g, '$$');\n\n    // attacklab: Restore tremas\n    text = text.replace(/T/g, '');\n\n    // render a complete html document instead of a partial if the option is enabled\n    text = showdown.subParser('completeHTMLDocument')(text, options, globals);\n\n    // Run output modifiers\n    showdown.helper.forEach(outputModifiers, function (ext) {\n      text = showdown.subParser('runExtension')(ext, text, options, globals);\n    });\n\n    // update metadata\n    metadata = globals.metadata;\n    return text;\n  };\n\n  /**\n   * Converts an HTML string into a markdown string\n   * @param src\n   * @param [HTMLParser] A WHATWG DOM and HTML parser, such as JSDOM. If none is supplied, window.document will be used.\n   * @returns {string}\n   */\n  this.makeMarkdown = this.makeMd = function (src, HTMLParser) {\n\n    // replace \\r\\n with \\n\n    src = src.replace(/\\r\\n/g, '\\n');\n    src = src.replace(/\\r/g, '\\n'); // old macs\n\n    // due to an edge case, we need to find this: > <\n    // to prevent removing of non silent white spaces\n    // ex: <em>this is</em> <strong>sparta</strong>\n    src = src.replace(/>[ \\t]+</, '>NBSP;<');\n\n    if (!HTMLParser) {\n      if (window && window.document) {\n        HTMLParser = window.document;\n      } else {\n        throw new Error('HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM');\n      }\n    }\n\n    var doc = HTMLParser.createElement('div');\n    doc.innerHTML = src;\n\n    var globals = {\n      preList: substitutePreCodeTags(doc)\n    };\n\n    // remove all newlines and collapse spaces\n    clean(doc);\n\n    // some stuff, like accidental reference links must now be escaped\n    // TODO\n    // doc.innerHTML = doc.innerHTML.replace(/\\[[\\S\\t ]]/);\n\n    var nodes = doc.childNodes,\n        mdDoc = '';\n\n    for (var i = 0; i < nodes.length; i++) {\n      mdDoc += showdown.subParser('makeMarkdown.node')(nodes[i], globals);\n    }\n\n    function clean (node) {\n      for (var n = 0; n < node.childNodes.length; ++n) {\n        var child = node.childNodes[n];\n        if (child.nodeType === 3) {\n          if (!/\\S/.test(child.nodeValue)) {\n            node.removeChild(child);\n            --n;\n          } else {\n            child.nodeValue = child.nodeValue.split('\\n').join(' ');\n            child.nodeValue = child.nodeValue.replace(/(\\s)+/g, '$1');\n          }\n        } else if (child.nodeType === 1) {\n          clean(child);\n        }\n      }\n    }\n\n    // find all pre tags and replace contents with placeholder\n    // we need this so that we can remove all indentation from html\n    // to ease up parsing\n    function substitutePreCodeTags (doc) {\n\n      var pres = doc.querySelectorAll('pre'),\n          presPH = [];\n\n      for (var i = 0; i < pres.length; ++i) {\n\n        if (pres[i].childElementCount === 1 && pres[i].firstChild.tagName.toLowerCase() === 'code') {\n          var content = pres[i].firstChild.innerHTML.trim(),\n              language = pres[i].firstChild.getAttribute('data-language') || '';\n\n          // if data-language attribute is not defined, then we look for class language-*\n          if (language === '') {\n            var classes = pres[i].firstChild.className.split(' ');\n            for (var c = 0; c < classes.length; ++c) {\n              var matches = classes[c].match(/^language-(.+)$/);\n              if (matches !== null) {\n                language = matches[1];\n                break;\n              }\n            }\n          }\n\n          // unescape html entities in content\n          content = showdown.helper.unescapeHTMLEntities(content);\n\n          presPH.push(content);\n          pres[i].outerHTML = '<precode language=\"' + language + '\" precodenum=\"' + i.toString() + '\"></precode>';\n        } else {\n          presPH.push(pres[i].innerHTML);\n          pres[i].innerHTML = '';\n          pres[i].setAttribute('prenum', i.toString());\n        }\n      }\n      return presPH;\n    }\n\n    return mdDoc;\n  };\n\n  /**\n   * Set an option of this Converter instance\n   * @param {string} key\n   * @param {*} value\n   */\n  this.setOption = function (key, value) {\n    options[key] = value;\n  };\n\n  /**\n   * Get the option of this Converter instance\n   * @param {string} key\n   * @returns {*}\n   */\n  this.getOption = function (key) {\n    return options[key];\n  };\n\n  /**\n   * Get the options of this Converter instance\n   * @returns {{}}\n   */\n  this.getOptions = function () {\n    return options;\n  };\n\n  /**\n   * Add extension to THIS converter\n   * @param {{}} extension\n   * @param {string} [name=null]\n   */\n  this.addExtension = function (extension, name) {\n    name = name || null;\n    _parseExtension(extension, name);\n  };\n\n  /**\n   * Use a global registered extension with THIS converter\n   * @param {string} extensionName Name of the previously registered extension\n   */\n  this.useExtension = function (extensionName) {\n    _parseExtension(extensionName);\n  };\n\n  /**\n   * Set the flavor THIS converter should use\n   * @param {string} name\n   */\n  this.setFlavor = function (name) {\n    if (!flavor.hasOwnProperty(name)) {\n      throw Error(name + ' flavor was not found');\n    }\n    var preset = flavor[name];\n    setConvFlavor = name;\n    for (var option in preset) {\n      if (preset.hasOwnProperty(option)) {\n        options[option] = preset[option];\n      }\n    }\n  };\n\n  /**\n   * Get the currently set flavor of this converter\n   * @returns {string}\n   */\n  this.getFlavor = function () {\n    return setConvFlavor;\n  };\n\n  /**\n   * Remove an extension from THIS converter.\n   * Note: This is a costly operation. It's better to initialize a new converter\n   * and specify the extensions you wish to use\n   * @param {Array} extension\n   */\n  this.removeExtension = function (extension) {\n    if (!showdown.helper.isArray(extension)) {\n      extension = [extension];\n    }\n    for (var a = 0; a < extension.length; ++a) {\n      var ext = extension[a];\n      for (var i = 0; i < langExtensions.length; ++i) {\n        if (langExtensions[i] === ext) {\n          langExtensions[i].splice(i, 1);\n        }\n      }\n      for (var ii = 0; ii < outputModifiers.length; ++i) {\n        if (outputModifiers[ii] === ext) {\n          outputModifiers[ii].splice(i, 1);\n        }\n      }\n    }\n  };\n\n  /**\n   * Get all extension of THIS converter\n   * @returns {{language: Array, output: Array}}\n   */\n  this.getAllExtensions = function () {\n    return {\n      language: langExtensions,\n      output: outputModifiers\n    };\n  };\n\n  /**\n   * Get the metadata of the previously parsed document\n   * @param raw\n   * @returns {string|{}}\n   */\n  this.getMetadata = function (raw) {\n    if (raw) {\n      return metadata.raw;\n    } else {\n      return metadata.parsed;\n    }\n  };\n\n  /**\n   * Get the metadata format of the previously parsed document\n   * @returns {string}\n   */\n  this.getMetadataFormat = function () {\n    return metadata.format;\n  };\n\n  /**\n   * Private: set a single key, value metadata pair\n   * @param {string} key\n   * @param {string} value\n   */\n  this._setMetadataPair = function (key, value) {\n    metadata.parsed[key] = value;\n  };\n\n  /**\n   * Private: set metadata format\n   * @param {string} format\n   */\n  this._setMetadataFormat = function (format) {\n    metadata.format = format;\n  };\n\n  /**\n   * Private: set metadata raw text\n   * @param {string} raw\n   */\n  this._setMetadataRaw = function (raw) {\n    metadata.raw = raw;\n  };\n};\n\r\n/**\n * Turn Markdown link shortcuts into XHTML <a> tags.\n */\nshowdown.subParser('anchors', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('anchors.before', text, options, globals);\n\n  var writeAnchorTag = function (wholeMatch, linkText, linkId, url, m5, m6, title) {\n    if (showdown.helper.isUndefined(title)) {\n      title = '';\n    }\n    linkId = linkId.toLowerCase();\n\n    // Special case for explicit empty url\n    if (wholeMatch.search(/\\(<?\\s*>? ?(['\"].*['\"])?\\)$/m) > -1) {\n      url = '';\n    } else if (!url) {\n      if (!linkId) {\n        // lower-case and turn embedded newlines into spaces\n        linkId = linkText.toLowerCase().replace(/ ?\\n/g, ' ');\n      }\n      url = '#' + linkId;\n\n      if (!showdown.helper.isUndefined(globals.gUrls[linkId])) {\n        url = globals.gUrls[linkId];\n        if (!showdown.helper.isUndefined(globals.gTitles[linkId])) {\n          title = globals.gTitles[linkId];\n        }\n      } else {\n        return wholeMatch;\n      }\n    }\n\n    //url = showdown.helper.escapeCharacters(url, '*_', false); // replaced line to improve performance\n    url = url.replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);\n\n    var result = '<a href=\"' + url + '\"';\n\n    if (title !== '' && title !== null) {\n      title = title.replace(/\"/g, '&quot;');\n      //title = showdown.helper.escapeCharacters(title, '*_', false); // replaced line to improve performance\n      title = title.replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);\n      result += ' title=\"' + title + '\"';\n    }\n\n    // optionLinksInNewWindow only applies\n    // to external links. Hash links (#) open in same page\n    if (options.openLinksInNewWindow && !/^#/.test(url)) {\n      // escaped _\n      result += ' rel=\"noopener noreferrer\" target=\"E95Eblank\"';\n    }\n\n    result += '>' + linkText + '</a>';\n\n    return result;\n  };\n\n  // First, handle reference-style links: [link text] [id]\n  text = text.replace(/\\[((?:\\[[^\\]]*]|[^\\[\\]])*)] ?(?:\\n *)?\\[(.*?)]()()()()/g, writeAnchorTag);\n\n  // Next, inline-style links: [link text](url \"optional title\")\n  // cases with crazy urls like ./image/cat1).png\n  text = text.replace(/\\[((?:\\[[^\\]]*]|[^\\[\\]])*)]()[ \\t]*\\([ \\t]?<([^>]*)>(?:[ \\t]*(([\"'])([^\"]*?)\\5))?[ \\t]?\\)/g,\n    writeAnchorTag);\n\n  // normal cases\n  text = text.replace(/\\[((?:\\[[^\\]]*]|[^\\[\\]])*)]()[ \\t]*\\([ \\t]?<?([\\S]+?(?:\\([\\S]*?\\)[\\S]*?)?)>?(?:[ \\t]*(([\"'])([^\"]*?)\\5))?[ \\t]?\\)/g,\n    writeAnchorTag);\n\n  // handle reference-style shortcuts: [link text]\n  // These must come last in case you've also got [link test][1]\n  // or [link test](/foo)\n  text = text.replace(/\\[([^\\[\\]]+)]()()()()()/g, writeAnchorTag);\n\n  // Lastly handle GithubMentions if option is enabled\n  if (options.ghMentions) {\n    text = text.replace(/(^|\\s)(\\\\)?(@([a-z\\d]+(?:[a-z\\d.-]+?[a-z\\d]+)*))/gmi, function (wm, st, escape, mentions, username) {\n      if (escape === '\\\\') {\n        return st + mentions;\n      }\n\n      //check if options.ghMentionsLink is a string\n      if (!showdown.helper.isString(options.ghMentionsLink)) {\n        throw new Error('ghMentionsLink option must be a string');\n      }\n      var lnk = options.ghMentionsLink.replace(/\\{u}/g, username),\n          target = '';\n      if (options.openLinksInNewWindow) {\n        target = ' rel=\"noopener noreferrer\" target=\"E95Eblank\"';\n      }\n      return st + '<a href=\"' + lnk + '\"' + target + '>' + mentions + '</a>';\n    });\n  }\n\n  text = globals.converter._dispatch('anchors.after', text, options, globals);\n  return text;\n});\n\r\n// url allowed chars [a-z\\d_.~:/?#[]@!$&'()*+,;=-]\n\nvar simpleURLRegex  = /([*~_]+|\\b)(((https?|ftp|dict):\\/\\/|www\\.)[^'\">\\s]+?\\.[^'\">\\s]+?)()(\\1)?(?=\\s|$)(?![\"<>])/gi,\n    simpleURLRegex2 = /([*~_]+|\\b)(((https?|ftp|dict):\\/\\/|www\\.)[^'\">\\s]+\\.[^'\">\\s]+?)([.!?,()\\[\\]])?(\\1)?(?=\\s|$)(?![\"<>])/gi,\n    delimUrlRegex   = /()<(((https?|ftp|dict):\\/\\/|www\\.)[^'\">\\s]+)()>()/gi,\n    simpleMailRegex = /(^|\\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\\.[-a-z0-9]+)*\\.[a-z]+)(?=$|\\s)/gmi,\n    delimMailRegex  = /<()(?:mailto:)?([-.\\w]+@[-a-z0-9]+(\\.[-a-z0-9]+)*\\.[a-z]+)>/gi,\n\n    replaceLink = function (options) {\n      'use strict';\n      return function (wm, leadingMagicChars, link, m2, m3, trailingPunctuation, trailingMagicChars) {\n        link = link.replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);\n        var lnkTxt = link,\n            append = '',\n            target = '',\n            lmc    = leadingMagicChars || '',\n            tmc    = trailingMagicChars || '';\n        if (/^www\\./i.test(link)) {\n          link = link.replace(/^www\\./i, 'http://www.');\n        }\n        if (options.excludeTrailingPunctuationFromURLs && trailingPunctuation) {\n          append = trailingPunctuation;\n        }\n        if (options.openLinksInNewWindow) {\n          target = ' rel=\"noopener noreferrer\" target=\"E95Eblank\"';\n        }\n        return lmc + '<a href=\"' + link + '\"' + target + '>' + lnkTxt + '</a>' + append + tmc;\n      };\n    },\n\n    replaceMail = function (options, globals) {\n      'use strict';\n      return function (wholeMatch, b, mail) {\n        var href = 'mailto:';\n        b = b || '';\n        mail = showdown.subParser('unescapeSpecialChars')(mail, options, globals);\n        if (options.encodeEmails) {\n          href = showdown.helper.encodeEmailAddress(href + mail);\n          mail = showdown.helper.encodeEmailAddress(mail);\n        } else {\n          href = href + mail;\n        }\n        return b + '<a href=\"' + href + '\">' + mail + '</a>';\n      };\n    };\n\nshowdown.subParser('autoLinks', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('autoLinks.before', text, options, globals);\n\n  text = text.replace(delimUrlRegex, replaceLink(options));\n  text = text.replace(delimMailRegex, replaceMail(options, globals));\n\n  text = globals.converter._dispatch('autoLinks.after', text, options, globals);\n\n  return text;\n});\n\nshowdown.subParser('simplifiedAutoLinks', function (text, options, globals) {\n  'use strict';\n\n  if (!options.simplifiedAutoLink) {\n    return text;\n  }\n\n  text = globals.converter._dispatch('simplifiedAutoLinks.before', text, options, globals);\n\n  if (options.excludeTrailingPunctuationFromURLs) {\n    text = text.replace(simpleURLRegex2, replaceLink(options));\n  } else {\n    text = text.replace(simpleURLRegex, replaceLink(options));\n  }\n  text = text.replace(simpleMailRegex, replaceMail(options, globals));\n\n  text = globals.converter._dispatch('simplifiedAutoLinks.after', text, options, globals);\n\n  return text;\n});\n\r\n/**\n * These are all the transformations that form block-level\n * tags like paragraphs, headers, and list items.\n */\nshowdown.subParser('blockGamut', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('blockGamut.before', text, options, globals);\n\n  // we parse blockquotes first so that we can have headings and hrs\n  // inside blockquotes\n  text = showdown.subParser('blockQuotes')(text, options, globals);\n  text = showdown.subParser('headers')(text, options, globals);\n\n  // Do Horizontal Rules:\n  text = showdown.subParser('horizontalRule')(text, options, globals);\n\n  text = showdown.subParser('lists')(text, options, globals);\n  text = showdown.subParser('codeBlocks')(text, options, globals);\n  text = showdown.subParser('tables')(text, options, globals);\n\n  // We already ran _HashHTMLBlocks() before, in Markdown(), but that\n  // was to escape raw HTML in the original Markdown source. This time,\n  // we're escaping the markup we've just created, so that we don't wrap\n  // <p> tags around block-level tags.\n  text = showdown.subParser('hashHTMLBlocks')(text, options, globals);\n  text = showdown.subParser('paragraphs')(text, options, globals);\n\n  text = globals.converter._dispatch('blockGamut.after', text, options, globals);\n\n  return text;\n});\n\r\nshowdown.subParser('blockQuotes', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('blockQuotes.before', text, options, globals);\n\n  // add a couple extra lines after the text and endtext mark\n  text = text + '\\n\\n';\n\n  var rgx = /(^ {0,3}>[ \\t]?.+\\n(.+\\n)*\\n*)+/gm;\n\n  if (options.splitAdjacentBlockquotes) {\n    rgx = /^ {0,3}>[\\s\\S]*?(?:\\n\\n)/gm;\n  }\n\n  text = text.replace(rgx, function (bq) {\n    // attacklab: hack around Konqueror 3.5.4 bug:\n    // \"----------bug\".replace(/^-/g,\"\") == \"bug\"\n    bq = bq.replace(/^[ \\t]*>[ \\t]?/gm, ''); // trim one level of quoting\n\n    // attacklab: clean up hack\n    bq = bq.replace(/0/g, '');\n\n    bq = bq.replace(/^[ \\t]+$/gm, ''); // trim whitespace-only lines\n    bq = showdown.subParser('githubCodeBlocks')(bq, options, globals);\n    bq = showdown.subParser('blockGamut')(bq, options, globals); // recurse\n\n    bq = bq.replace(/(^|\\n)/g, '$1  ');\n    // These leading spaces screw with <pre> content, so we need to fix that:\n    bq = bq.replace(/(\\s*<pre>[^\\r]+?<\\/pre>)/gm, function (wholeMatch, m1) {\n      var pre = m1;\n      // attacklab: hack around Konqueror 3.5.4 bug:\n      pre = pre.replace(/^  /mg, '0');\n      pre = pre.replace(/0/g, '');\n      return pre;\n    });\n\n    return showdown.subParser('hashBlock')('<blockquote>\\n' + bq + '\\n</blockquote>', options, globals);\n  });\n\n  text = globals.converter._dispatch('blockQuotes.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Process Markdown `<pre><code>` blocks.\n */\nshowdown.subParser('codeBlocks', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('codeBlocks.before', text, options, globals);\n\n  // sentinel workarounds for lack of \\A and \\Z, safari\\khtml bug\n  text += '0';\n\n  var pattern = /(?:\\n\\n|^)((?:(?:[ ]{4}|\\t).*\\n+)+)(\\n*[ ]{0,3}[^ \\t\\n]|(?=0))/g;\n  text = text.replace(pattern, function (wholeMatch, m1, m2) {\n    var codeblock = m1,\n        nextChar = m2,\n        end = '\\n';\n\n    codeblock = showdown.subParser('outdent')(codeblock, options, globals);\n    codeblock = showdown.subParser('encodeCode')(codeblock, options, globals);\n    codeblock = showdown.subParser('detab')(codeblock, options, globals);\n    codeblock = codeblock.replace(/^\\n+/g, ''); // trim leading newlines\n    codeblock = codeblock.replace(/\\n+$/g, ''); // trim trailing newlines\n\n    if (options.omitExtraWLInCodeBlocks) {\n      end = '';\n    }\n\n    codeblock = '<pre><code>' + codeblock + end + '</code></pre>';\n\n    return showdown.subParser('hashBlock')(codeblock, options, globals) + nextChar;\n  });\n\n  // strip sentinel\n  text = text.replace(/0/, '');\n\n  text = globals.converter._dispatch('codeBlocks.after', text, options, globals);\n  return text;\n});\n\r\n/**\n *\n *   *  Backtick quotes are used for <code></code> spans.\n *\n *   *  You can use multiple backticks as the delimiters if you want to\n *     include literal backticks in the code span. So, this input:\n *\n *         Just type ``foo `bar` baz`` at the prompt.\n *\n *       Will translate to:\n *\n *         <p>Just type <code>foo `bar` baz</code> at the prompt.</p>\n *\n *    There's no arbitrary limit to the number of backticks you\n *    can use as delimters. If you need three consecutive backticks\n *    in your code, use four for delimiters, etc.\n *\n *  *  You can use spaces to get literal backticks at the edges:\n *\n *         ... type `` `bar` `` ...\n *\n *       Turns to:\n *\n *         ... type <code>`bar`</code> ...\n */\nshowdown.subParser('codeSpans', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('codeSpans.before', text, options, globals);\n\n  if (typeof text === 'undefined') {\n    text = '';\n  }\n  text = text.replace(/(^|[^\\\\])(`+)([^\\r]*?[^`])\\2(?!`)/gm,\n    function (wholeMatch, m1, m2, m3) {\n      var c = m3;\n      c = c.replace(/^([ \\t]*)/g, '');\t// leading whitespace\n      c = c.replace(/[ \\t]*$/g, '');\t// trailing whitespace\n      c = showdown.subParser('encodeCode')(c, options, globals);\n      c = m1 + '<code>' + c + '</code>';\n      c = showdown.subParser('hashHTMLSpans')(c, options, globals);\n      return c;\n    }\n  );\n\n  text = globals.converter._dispatch('codeSpans.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Create a full HTML document from the processed markdown\n */\nshowdown.subParser('completeHTMLDocument', function (text, options, globals) {\n  'use strict';\n\n  if (!options.completeHTMLDocument) {\n    return text;\n  }\n\n  text = globals.converter._dispatch('completeHTMLDocument.before', text, options, globals);\n\n  var doctype = 'html',\n      doctypeParsed = '<!DOCTYPE HTML>\\n',\n      title = '',\n      charset = '<meta charset=\"utf-8\">\\n',\n      lang = '',\n      metadata = '';\n\n  if (typeof globals.metadata.parsed.doctype !== 'undefined') {\n    doctypeParsed = '<!DOCTYPE ' +  globals.metadata.parsed.doctype + '>\\n';\n    doctype = globals.metadata.parsed.doctype.toString().toLowerCase();\n    if (doctype === 'html' || doctype === 'html5') {\n      charset = '<meta charset=\"utf-8\">';\n    }\n  }\n\n  for (var meta in globals.metadata.parsed) {\n    if (globals.metadata.parsed.hasOwnProperty(meta)) {\n      switch (meta.toLowerCase()) {\n        case 'doctype':\n          break;\n\n        case 'title':\n          title = '<title>' +  globals.metadata.parsed.title + '</title>\\n';\n          break;\n\n        case 'charset':\n          if (doctype === 'html' || doctype === 'html5') {\n            charset = '<meta charset=\"' + globals.metadata.parsed.charset + '\">\\n';\n          } else {\n            charset = '<meta name=\"charset\" content=\"' + globals.metadata.parsed.charset + '\">\\n';\n          }\n          break;\n\n        case 'language':\n        case 'lang':\n          lang = ' lang=\"' + globals.metadata.parsed[meta] + '\"';\n          metadata += '<meta name=\"' + meta + '\" content=\"' + globals.metadata.parsed[meta] + '\">\\n';\n          break;\n\n        default:\n          metadata += '<meta name=\"' + meta + '\" content=\"' + globals.metadata.parsed[meta] + '\">\\n';\n      }\n    }\n  }\n\n  text = doctypeParsed + '<html' + lang + '>\\n<head>\\n' + title + charset + metadata + '</head>\\n<body>\\n' + text.trim() + '\\n</body>\\n</html>';\n\n  text = globals.converter._dispatch('completeHTMLDocument.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Convert all tabs to spaces\n */\nshowdown.subParser('detab', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('detab.before', text, options, globals);\n\n  // expand first n-1 tabs\n  text = text.replace(/\\t(?=\\t)/g, '    '); // g_tab_width\n\n  // replace the nth with two sentinels\n  text = text.replace(/\\t/g, 'AB');\n\n  // use the sentinel to anchor our regex so it doesn't explode\n  text = text.replace(/B(.+?)A/g, function (wholeMatch, m1) {\n    var leadingText = m1,\n        numSpaces = 4 - leadingText.length % 4;  // g_tab_width\n\n    // there *must* be a better way to do this:\n    for (var i = 0; i < numSpaces; i++) {\n      leadingText += ' ';\n    }\n\n    return leadingText;\n  });\n\n  // clean up sentinels\n  text = text.replace(/A/g, '    ');  // g_tab_width\n  text = text.replace(/B/g, '');\n\n  text = globals.converter._dispatch('detab.after', text, options, globals);\n  return text;\n});\n\r\nshowdown.subParser('ellipsis', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('ellipsis.before', text, options, globals);\n\n  text = text.replace(/\\.\\.\\./g, '');\n\n  text = globals.converter._dispatch('ellipsis.after', text, options, globals);\n\n  return text;\n});\n\r\n/**\n * Turn emoji codes into emojis\n *\n * List of supported emojis: https://github.com/showdownjs/showdown/wiki/Emojis\n */\nshowdown.subParser('emoji', function (text, options, globals) {\n  'use strict';\n\n  if (!options.emoji) {\n    return text;\n  }\n\n  text = globals.converter._dispatch('emoji.before', text, options, globals);\n\n  var emojiRgx = /:([\\S]+?):/g;\n\n  text = text.replace(emojiRgx, function (wm, emojiCode) {\n    if (showdown.helper.emojis.hasOwnProperty(emojiCode)) {\n      return showdown.helper.emojis[emojiCode];\n    }\n    return wm;\n  });\n\n  text = globals.converter._dispatch('emoji.after', text, options, globals);\n\n  return text;\n});\n\r\n/**\n * Smart processing for ampersands and angle brackets that need to be encoded.\n */\nshowdown.subParser('encodeAmpsAndAngles', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('encodeAmpsAndAngles.before', text, options, globals);\n\n  // Ampersand-encoding based entirely on Nat Irons's Amputator MT plugin:\n  // http://bumppo.net/projects/amputator/\n  text = text.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\\w+);)/g, '&amp;');\n\n  // Encode naked <'s\n  text = text.replace(/<(?![a-z\\/?$!])/gi, '&lt;');\n\n  // Encode <\n  text = text.replace(/</g, '&lt;');\n\n  // Encode >\n  text = text.replace(/>/g, '&gt;');\n\n  text = globals.converter._dispatch('encodeAmpsAndAngles.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Returns the string, with after processing the following backslash escape sequences.\n *\n * attacklab: The polite way to do this is with the new escapeCharacters() function:\n *\n *    text = escapeCharacters(text,\"\\\\\",true);\n *    text = escapeCharacters(text,\"`*_{}[]()>#+-.!\",true);\n *\n * ...but we're sidestepping its use of the (slow) RegExp constructor\n * as an optimization for Firefox.  This function gets called a LOT.\n */\nshowdown.subParser('encodeBackslashEscapes', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('encodeBackslashEscapes.before', text, options, globals);\n\n  text = text.replace(/\\\\(\\\\)/g, showdown.helper.escapeCharactersCallback);\n  text = text.replace(/\\\\([`*_{}\\[\\]()>#+.!~=|-])/g, showdown.helper.escapeCharactersCallback);\n\n  text = globals.converter._dispatch('encodeBackslashEscapes.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Encode/escape certain characters inside Markdown code runs.\n * The point is that in code, these characters are literals,\n * and lose their special Markdown meanings.\n */\nshowdown.subParser('encodeCode', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('encodeCode.before', text, options, globals);\n\n  // Encode all ampersands; HTML entities are not\n  // entities within a Markdown code span.\n  text = text\n    .replace(/&/g, '&amp;')\n  // Do the angle bracket song and dance:\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n  // Now, escape characters that are magic in Markdown:\n    .replace(/([*_{}\\[\\]\\\\=~-])/g, showdown.helper.escapeCharactersCallback);\n\n  text = globals.converter._dispatch('encodeCode.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Within tags -- meaning between < and > -- encode [\\ ` * _ ~ =] so they\n * don't conflict with their use in Markdown for code, italics and strong.\n */\nshowdown.subParser('escapeSpecialCharsWithinTagAttributes', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('escapeSpecialCharsWithinTagAttributes.before', text, options, globals);\n\n  // Build a regex to find HTML tags.\n  var tags     = /<\\/?[a-z\\d_:-]+(?:[\\s]+[\\s\\S]+?)?>/gi,\n      comments = /<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi;\n\n  text = text.replace(tags, function (wholeMatch) {\n    return wholeMatch\n      .replace(/(.)<\\/?code>(?=.)/g, '$1`')\n      .replace(/([\\\\`*_~=|])/g, showdown.helper.escapeCharactersCallback);\n  });\n\n  text = text.replace(comments, function (wholeMatch) {\n    return wholeMatch\n      .replace(/([\\\\`*_~=|])/g, showdown.helper.escapeCharactersCallback);\n  });\n\n  text = globals.converter._dispatch('escapeSpecialCharsWithinTagAttributes.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Handle github codeblocks prior to running HashHTML so that\n * HTML contained within the codeblock gets escaped properly\n * Example:\n * ```ruby\n *     def hello_world(x)\n *       puts \"Hello, #{x}\"\n *     end\n * ```\n */\nshowdown.subParser('githubCodeBlocks', function (text, options, globals) {\n  'use strict';\n\n  // early exit if option is not enabled\n  if (!options.ghCodeBlocks) {\n    return text;\n  }\n\n  text = globals.converter._dispatch('githubCodeBlocks.before', text, options, globals);\n\n  text += '0';\n\n  text = text.replace(/(?:^|\\n)(?: {0,3})(```+|~~~+)(?: *)([^\\s`~]*)\\n([\\s\\S]*?)\\n(?: {0,3})\\1/g, function (wholeMatch, delim, language, codeblock) {\n    var end = (options.omitExtraWLInCodeBlocks) ? '' : '\\n';\n\n    // First parse the github code block\n    codeblock = showdown.subParser('encodeCode')(codeblock, options, globals);\n    codeblock = showdown.subParser('detab')(codeblock, options, globals);\n    codeblock = codeblock.replace(/^\\n+/g, ''); // trim leading newlines\n    codeblock = codeblock.replace(/\\n+$/g, ''); // trim trailing whitespace\n\n    codeblock = '<pre><code' + (language ? ' class=\"' + language + ' language-' + language + '\"' : '') + '>' + codeblock + end + '</code></pre>';\n\n    codeblock = showdown.subParser('hashBlock')(codeblock, options, globals);\n\n    // Since GHCodeblocks can be false positives, we need to\n    // store the primitive text and the parsed text in a global var,\n    // and then return a token\n    return '\\n\\nG' + (globals.ghCodeBlocks.push({text: wholeMatch, codeblock: codeblock}) - 1) + 'G\\n\\n';\n  });\n\n  // attacklab: strip sentinel\n  text = text.replace(/0/, '');\n\n  return globals.converter._dispatch('githubCodeBlocks.after', text, options, globals);\n});\n\r\nshowdown.subParser('hashBlock', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('hashBlock.before', text, options, globals);\n  text = text.replace(/(^\\n+|\\n+$)/g, '');\n  text = '\\n\\nK' + (globals.gHtmlBlocks.push(text) - 1) + 'K\\n\\n';\n  text = globals.converter._dispatch('hashBlock.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Hash and escape <code> elements that should not be parsed as markdown\n */\nshowdown.subParser('hashCodeTags', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('hashCodeTags.before', text, options, globals);\n\n  var repFunc = function (wholeMatch, match, left, right) {\n    var codeblock = left + showdown.subParser('encodeCode')(match, options, globals) + right;\n    return 'C' + (globals.gHtmlSpans.push(codeblock) - 1) + 'C';\n  };\n\n  // Hash naked <code>\n  text = showdown.helper.replaceRecursiveRegExp(text, repFunc, '<code\\\\b[^>]*>', '</code>', 'gim');\n\n  text = globals.converter._dispatch('hashCodeTags.after', text, options, globals);\n  return text;\n});\n\r\nshowdown.subParser('hashElement', function (text, options, globals) {\n  'use strict';\n\n  return function (wholeMatch, m1) {\n    var blockText = m1;\n\n    // Undo double lines\n    blockText = blockText.replace(/\\n\\n/g, '\\n');\n    blockText = blockText.replace(/^\\n/, '');\n\n    // strip trailing blank lines\n    blockText = blockText.replace(/\\n+$/g, '');\n\n    // Replace the element text with a marker (\"KxK\" where x is its key)\n    blockText = '\\n\\nK' + (globals.gHtmlBlocks.push(blockText) - 1) + 'K\\n\\n';\n\n    return blockText;\n  };\n});\n\r\nshowdown.subParser('hashHTMLBlocks', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('hashHTMLBlocks.before', text, options, globals);\n\n  var blockTags = [\n        'pre',\n        'div',\n        'h1',\n        'h2',\n        'h3',\n        'h4',\n        'h5',\n        'h6',\n        'blockquote',\n        'table',\n        'dl',\n        'ol',\n        'ul',\n        'script',\n        'noscript',\n        'form',\n        'fieldset',\n        'iframe',\n        'math',\n        'style',\n        'section',\n        'header',\n        'footer',\n        'nav',\n        'article',\n        'aside',\n        'address',\n        'audio',\n        'canvas',\n        'figure',\n        'hgroup',\n        'output',\n        'video',\n        'p'\n      ],\n      repFunc = function (wholeMatch, match, left, right) {\n        var txt = wholeMatch;\n        // check if this html element is marked as markdown\n        // if so, it's contents should be parsed as markdown\n        if (left.search(/\\bmarkdown\\b/) !== -1) {\n          txt = left + globals.converter.makeHtml(match) + right;\n        }\n        return '\\n\\nK' + (globals.gHtmlBlocks.push(txt) - 1) + 'K\\n\\n';\n      };\n\n  if (options.backslashEscapesHTMLTags) {\n    // encode backslash escaped HTML tags\n    text = text.replace(/\\\\<(\\/?[^>]+?)>/g, function (wm, inside) {\n      return '&lt;' + inside + '&gt;';\n    });\n  }\n\n  // hash HTML Blocks\n  for (var i = 0; i < blockTags.length; ++i) {\n\n    var opTagPos,\n        rgx1     = new RegExp('^ {0,3}(<' + blockTags[i] + '\\\\b[^>]*>)', 'im'),\n        patLeft  = '<' + blockTags[i] + '\\\\b[^>]*>',\n        patRight = '</' + blockTags[i] + '>';\n    // 1. Look for the first position of the first opening HTML tag in the text\n    while ((opTagPos = showdown.helper.regexIndexOf(text, rgx1)) !== -1) {\n\n      // if the HTML tag is \\ escaped, we need to escape it and break\n\n\n      //2. Split the text in that position\n      var subTexts = showdown.helper.splitAtIndex(text, opTagPos),\n          //3. Match recursively\n          newSubText1 = showdown.helper.replaceRecursiveRegExp(subTexts[1], repFunc, patLeft, patRight, 'im');\n\n      // prevent an infinite loop\n      if (newSubText1 === subTexts[1]) {\n        break;\n      }\n      text = subTexts[0].concat(newSubText1);\n    }\n  }\n  // HR SPECIAL CASE\n  text = text.replace(/(\\n {0,3}(<(hr)\\b([^<>])*?\\/?>)[ \\t]*(?=\\n{2,}))/g,\n    showdown.subParser('hashElement')(text, options, globals));\n\n  // Special case for standalone HTML comments\n  text = showdown.helper.replaceRecursiveRegExp(text, function (txt) {\n    return '\\n\\nK' + (globals.gHtmlBlocks.push(txt) - 1) + 'K\\n\\n';\n  }, '^ {0,3}<!--', '-->', 'gm');\n\n  // PHP and ASP-style processor instructions (<?...?> and <%...%>)\n  text = text.replace(/(?:\\n\\n)( {0,3}(?:<([?%])[^\\r]*?\\2>)[ \\t]*(?=\\n{2,}))/g,\n    showdown.subParser('hashElement')(text, options, globals));\n\n  text = globals.converter._dispatch('hashHTMLBlocks.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Hash span elements that should not be parsed as markdown\n */\nshowdown.subParser('hashHTMLSpans', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('hashHTMLSpans.before', text, options, globals);\n\n  function hashHTMLSpan (html) {\n    return 'C' + (globals.gHtmlSpans.push(html) - 1) + 'C';\n  }\n\n  // Hash Self Closing tags\n  text = text.replace(/<[^>]+?\\/>/gi, function (wm) {\n    return hashHTMLSpan(wm);\n  });\n\n  // Hash tags without properties\n  text = text.replace(/<([^>]+?)>[\\s\\S]*?<\\/\\1>/g, function (wm) {\n    return hashHTMLSpan(wm);\n  });\n\n  // Hash tags with properties\n  text = text.replace(/<([^>]+?)\\s[^>]+?>[\\s\\S]*?<\\/\\1>/g, function (wm) {\n    return hashHTMLSpan(wm);\n  });\n\n  // Hash self closing tags without />\n  text = text.replace(/<[^>]+?>/gi, function (wm) {\n    return hashHTMLSpan(wm);\n  });\n\n  /*showdown.helper.matchRecursiveRegExp(text, '<code\\\\b[^>]*>', '</code>', 'gi');*/\n\n  text = globals.converter._dispatch('hashHTMLSpans.after', text, options, globals);\n  return text;\n});\n\n/**\n * Unhash HTML spans\n */\nshowdown.subParser('unhashHTMLSpans', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('unhashHTMLSpans.before', text, options, globals);\n\n  for (var i = 0; i < globals.gHtmlSpans.length; ++i) {\n    var repText = globals.gHtmlSpans[i],\n        // limiter to prevent infinite loop (assume 10 as limit for recurse)\n        limit = 0;\n\n    while (/C(\\d+)C/.test(repText)) {\n      var num = RegExp.$1;\n      repText = repText.replace('C' + num + 'C', globals.gHtmlSpans[num]);\n      if (limit === 10) {\n        console.error('maximum nesting of 10 spans reached!!!');\n        break;\n      }\n      ++limit;\n    }\n    text = text.replace('C' + i + 'C', repText);\n  }\n\n  text = globals.converter._dispatch('unhashHTMLSpans.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Hash and escape <pre><code> elements that should not be parsed as markdown\n */\nshowdown.subParser('hashPreCodeTags', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('hashPreCodeTags.before', text, options, globals);\n\n  var repFunc = function (wholeMatch, match, left, right) {\n    // encode html entities\n    var codeblock = left + showdown.subParser('encodeCode')(match, options, globals) + right;\n    return '\\n\\nG' + (globals.ghCodeBlocks.push({text: wholeMatch, codeblock: codeblock}) - 1) + 'G\\n\\n';\n  };\n\n  // Hash <pre><code>\n  text = showdown.helper.replaceRecursiveRegExp(text, repFunc, '^ {0,3}<pre\\\\b[^>]*>\\\\s*<code\\\\b[^>]*>', '^ {0,3}</code>\\\\s*</pre>', 'gim');\n\n  text = globals.converter._dispatch('hashPreCodeTags.after', text, options, globals);\n  return text;\n});\n\r\nshowdown.subParser('headers', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('headers.before', text, options, globals);\n\n  var headerLevelStart = (isNaN(parseInt(options.headerLevelStart))) ? 1 : parseInt(options.headerLevelStart),\n\n      // Set text-style headers:\n      //\tHeader 1\n      //\t========\n      //\n      //\tHeader 2\n      //\t--------\n      //\n      setextRegexH1 = (options.smoothLivePreview) ? /^(.+)[ \\t]*\\n={2,}[ \\t]*\\n+/gm : /^(.+)[ \\t]*\\n=+[ \\t]*\\n+/gm,\n      setextRegexH2 = (options.smoothLivePreview) ? /^(.+)[ \\t]*\\n-{2,}[ \\t]*\\n+/gm : /^(.+)[ \\t]*\\n-+[ \\t]*\\n+/gm;\n\n  text = text.replace(setextRegexH1, function (wholeMatch, m1) {\n\n    var spanGamut = showdown.subParser('spanGamut')(m1, options, globals),\n        hID = (options.noHeaderId) ? '' : ' id=\"' + headerId(m1) + '\"',\n        hLevel = headerLevelStart,\n        hashBlock = '<h' + hLevel + hID + '>' + spanGamut + '</h' + hLevel + '>';\n    return showdown.subParser('hashBlock')(hashBlock, options, globals);\n  });\n\n  text = text.replace(setextRegexH2, function (matchFound, m1) {\n    var spanGamut = showdown.subParser('spanGamut')(m1, options, globals),\n        hID = (options.noHeaderId) ? '' : ' id=\"' + headerId(m1) + '\"',\n        hLevel = headerLevelStart + 1,\n        hashBlock = '<h' + hLevel + hID + '>' + spanGamut + '</h' + hLevel + '>';\n    return showdown.subParser('hashBlock')(hashBlock, options, globals);\n  });\n\n  // atx-style headers:\n  //  # Header 1\n  //  ## Header 2\n  //  ## Header 2 with closing hashes ##\n  //  ...\n  //  ###### Header 6\n  //\n  var atxStyle = (options.requireSpaceBeforeHeadingText) ? /^(#{1,6})[ \\t]+(.+?)[ \\t]*#*\\n+/gm : /^(#{1,6})[ \\t]*(.+?)[ \\t]*#*\\n+/gm;\n\n  text = text.replace(atxStyle, function (wholeMatch, m1, m2) {\n    var hText = m2;\n    if (options.customizedHeaderId) {\n      hText = m2.replace(/\\s?\\{([^{]+?)}\\s*$/, '');\n    }\n\n    var span = showdown.subParser('spanGamut')(hText, options, globals),\n        hID = (options.noHeaderId) ? '' : ' id=\"' + headerId(m2) + '\"',\n        hLevel = headerLevelStart - 1 + m1.length,\n        header = '<h' + hLevel + hID + '>' + span + '</h' + hLevel + '>';\n\n    return showdown.subParser('hashBlock')(header, options, globals);\n  });\n\n  function headerId (m) {\n    var title,\n        prefix;\n\n    // It is separate from other options to allow combining prefix and customized\n    if (options.customizedHeaderId) {\n      var match = m.match(/\\{([^{]+?)}\\s*$/);\n      if (match && match[1]) {\n        m = match[1];\n      }\n    }\n\n    title = m;\n\n    // Prefix id to prevent causing inadvertent pre-existing style matches.\n    if (showdown.helper.isString(options.prefixHeaderId)) {\n      prefix = options.prefixHeaderId;\n    } else if (options.prefixHeaderId === true) {\n      prefix = 'section-';\n    } else {\n      prefix = '';\n    }\n\n    if (!options.rawPrefixHeaderId) {\n      title = prefix + title;\n    }\n\n    if (options.ghCompatibleHeaderId) {\n      title = title\n        .replace(/ /g, '-')\n        // replace previously escaped chars (&,  and $)\n        .replace(/&amp;/g, '')\n        .replace(/T/g, '')\n        .replace(/D/g, '')\n        // replace rest of the chars (&~$ are repeated as they might have been escaped)\n        // borrowed from github's redcarpet (some they should produce similar results)\n        .replace(/[&+$,\\/:;=?@\"#{}|^~\\[\\]`\\\\*)(%.!'<>]/g, '')\n        .toLowerCase();\n    } else if (options.rawHeaderId) {\n      title = title\n        .replace(/ /g, '-')\n        // replace previously escaped chars (&,  and $)\n        .replace(/&amp;/g, '&')\n        .replace(/T/g, '')\n        .replace(/D/g, '$')\n        // replace \" and '\n        .replace(/[\"']/g, '-')\n        .toLowerCase();\n    } else {\n      title = title\n        .replace(/[^\\w]/g, '')\n        .toLowerCase();\n    }\n\n    if (options.rawPrefixHeaderId) {\n      title = prefix + title;\n    }\n\n    if (globals.hashLinkCounts[title]) {\n      title = title + '-' + (globals.hashLinkCounts[title]++);\n    } else {\n      globals.hashLinkCounts[title] = 1;\n    }\n    return title;\n  }\n\n  text = globals.converter._dispatch('headers.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Turn Markdown link shortcuts into XHTML <a> tags.\n */\nshowdown.subParser('horizontalRule', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('horizontalRule.before', text, options, globals);\n\n  var key = showdown.subParser('hashBlock')('<hr />', options, globals);\n  text = text.replace(/^ {0,2}( ?-){3,}[ \\t]*$/gm, key);\n  text = text.replace(/^ {0,2}( ?\\*){3,}[ \\t]*$/gm, key);\n  text = text.replace(/^ {0,2}( ?_){3,}[ \\t]*$/gm, key);\n\n  text = globals.converter._dispatch('horizontalRule.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Turn Markdown image shortcuts into <img> tags.\n */\nshowdown.subParser('images', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('images.before', text, options, globals);\n\n  var inlineRegExp      = /!\\[([^\\]]*?)][ \\t]*()\\([ \\t]?<?([\\S]+?(?:\\([\\S]*?\\)[\\S]*?)?)>?(?: =([*\\d]+[A-Za-z%]{0,4})x([*\\d]+[A-Za-z%]{0,4}))?[ \\t]*(?:([\"'])([^\"]*?)\\6)?[ \\t]?\\)/g,\n      crazyRegExp       = /!\\[([^\\]]*?)][ \\t]*()\\([ \\t]?<([^>]*)>(?: =([*\\d]+[A-Za-z%]{0,4})x([*\\d]+[A-Za-z%]{0,4}))?[ \\t]*(?:(?:([\"'])([^\"]*?)\\6))?[ \\t]?\\)/g,\n      base64RegExp      = /!\\[([^\\]]*?)][ \\t]*()\\([ \\t]?<?(data:.+?\\/.+?;base64,[A-Za-z0-9+/=\\n]+?)>?(?: =([*\\d]+[A-Za-z%]{0,4})x([*\\d]+[A-Za-z%]{0,4}))?[ \\t]*(?:([\"'])([^\"]*?)\\6)?[ \\t]?\\)/g,\n      referenceRegExp   = /!\\[([^\\]]*?)] ?(?:\\n *)?\\[([\\s\\S]*?)]()()()()()/g,\n      refShortcutRegExp = /!\\[([^\\[\\]]+)]()()()()()/g;\n\n  function writeImageTagBase64 (wholeMatch, altText, linkId, url, width, height, m5, title) {\n    url = url.replace(/\\s/g, '');\n    return writeImageTag (wholeMatch, altText, linkId, url, width, height, m5, title);\n  }\n\n  function writeImageTag (wholeMatch, altText, linkId, url, width, height, m5, title) {\n\n    var gUrls   = globals.gUrls,\n        gTitles = globals.gTitles,\n        gDims   = globals.gDimensions;\n\n    linkId = linkId.toLowerCase();\n\n    if (!title) {\n      title = '';\n    }\n    // Special case for explicit empty url\n    if (wholeMatch.search(/\\(<?\\s*>? ?(['\"].*['\"])?\\)$/m) > -1) {\n      url = '';\n\n    } else if (url === '' || url === null) {\n      if (linkId === '' || linkId === null) {\n        // lower-case and turn embedded newlines into spaces\n        linkId = altText.toLowerCase().replace(/ ?\\n/g, ' ');\n      }\n      url = '#' + linkId;\n\n      if (!showdown.helper.isUndefined(gUrls[linkId])) {\n        url = gUrls[linkId];\n        if (!showdown.helper.isUndefined(gTitles[linkId])) {\n          title = gTitles[linkId];\n        }\n        if (!showdown.helper.isUndefined(gDims[linkId])) {\n          width = gDims[linkId].width;\n          height = gDims[linkId].height;\n        }\n      } else {\n        return wholeMatch;\n      }\n    }\n\n    altText = altText\n      .replace(/\"/g, '&quot;')\n    //altText = showdown.helper.escapeCharacters(altText, '*_', false);\n      .replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);\n    //url = showdown.helper.escapeCharacters(url, '*_', false);\n    url = url.replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);\n    var result = '<img src=\"' + url + '\" alt=\"' + altText + '\"';\n\n    if (title && showdown.helper.isString(title)) {\n      title = title\n        .replace(/\"/g, '&quot;')\n      //title = showdown.helper.escapeCharacters(title, '*_', false);\n        .replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);\n      result += ' title=\"' + title + '\"';\n    }\n\n    if (width && height) {\n      width  = (width === '*') ? 'auto' : width;\n      height = (height === '*') ? 'auto' : height;\n\n      result += ' width=\"' + width + '\"';\n      result += ' height=\"' + height + '\"';\n    }\n\n    result += ' />';\n\n    return result;\n  }\n\n  // First, handle reference-style labeled images: ![alt text][id]\n  text = text.replace(referenceRegExp, writeImageTag);\n\n  // Next, handle inline images:  ![alt text](url =<width>x<height> \"optional title\")\n\n  // base64 encoded images\n  text = text.replace(base64RegExp, writeImageTagBase64);\n\n  // cases with crazy urls like ./image/cat1).png\n  text = text.replace(crazyRegExp, writeImageTag);\n\n  // normal cases\n  text = text.replace(inlineRegExp, writeImageTag);\n\n  // handle reference-style shortcuts: ![img text]\n  text = text.replace(refShortcutRegExp, writeImageTag);\n\n  text = globals.converter._dispatch('images.after', text, options, globals);\n  return text;\n});\n\r\nshowdown.subParser('italicsAndBold', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('italicsAndBold.before', text, options, globals);\n\n  // it's faster to have 3 separate regexes for each case than have just one\n  // because of backtracing, in some cases, it could lead to an exponential effect\n  // called \"catastrophic backtrace\". Ominous!\n\n  function parseInside (txt, left, right) {\n    /*\n    if (options.simplifiedAutoLink) {\n      txt = showdown.subParser('simplifiedAutoLinks')(txt, options, globals);\n    }\n    */\n    return left + txt + right;\n  }\n\n  // Parse underscores\n  if (options.literalMidWordUnderscores) {\n    text = text.replace(/\\b___(\\S[\\s\\S]*?)___\\b/g, function (wm, txt) {\n      return parseInside (txt, '<strong><em>', '</em></strong>');\n    });\n    text = text.replace(/\\b__(\\S[\\s\\S]*?)__\\b/g, function (wm, txt) {\n      return parseInside (txt, '<strong>', '</strong>');\n    });\n    text = text.replace(/\\b_(\\S[\\s\\S]*?)_\\b/g, function (wm, txt) {\n      return parseInside (txt, '<em>', '</em>');\n    });\n  } else {\n    text = text.replace(/___(\\S[\\s\\S]*?)___/g, function (wm, m) {\n      return (/\\S$/.test(m)) ? parseInside (m, '<strong><em>', '</em></strong>') : wm;\n    });\n    text = text.replace(/__(\\S[\\s\\S]*?)__/g, function (wm, m) {\n      return (/\\S$/.test(m)) ? parseInside (m, '<strong>', '</strong>') : wm;\n    });\n    text = text.replace(/_([^\\s_][\\s\\S]*?)_/g, function (wm, m) {\n      // !/^_[^_]/.test(m) - test if it doesn't start with __ (since it seems redundant, we removed it)\n      return (/\\S$/.test(m)) ? parseInside (m, '<em>', '</em>') : wm;\n    });\n  }\n\n  // Now parse asterisks\n  if (options.literalMidWordAsterisks) {\n    text = text.replace(/([^*]|^)\\B\\*\\*\\*(\\S[\\s\\S]*?)\\*\\*\\*\\B(?!\\*)/g, function (wm, lead, txt) {\n      return parseInside (txt, lead + '<strong><em>', '</em></strong>');\n    });\n    text = text.replace(/([^*]|^)\\B\\*\\*(\\S[\\s\\S]*?)\\*\\*\\B(?!\\*)/g, function (wm, lead, txt) {\n      return parseInside (txt, lead + '<strong>', '</strong>');\n    });\n    text = text.replace(/([^*]|^)\\B\\*(\\S[\\s\\S]*?)\\*\\B(?!\\*)/g, function (wm, lead, txt) {\n      return parseInside (txt, lead + '<em>', '</em>');\n    });\n  } else {\n    text = text.replace(/\\*\\*\\*(\\S[\\s\\S]*?)\\*\\*\\*/g, function (wm, m) {\n      return (/\\S$/.test(m)) ? parseInside (m, '<strong><em>', '</em></strong>') : wm;\n    });\n    text = text.replace(/\\*\\*(\\S[\\s\\S]*?)\\*\\*/g, function (wm, m) {\n      return (/\\S$/.test(m)) ? parseInside (m, '<strong>', '</strong>') : wm;\n    });\n    text = text.replace(/\\*([^\\s*][\\s\\S]*?)\\*/g, function (wm, m) {\n      // !/^\\*[^*]/.test(m) - test if it doesn't start with ** (since it seems redundant, we removed it)\n      return (/\\S$/.test(m)) ? parseInside (m, '<em>', '</em>') : wm;\n    });\n  }\n\n\n  text = globals.converter._dispatch('italicsAndBold.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Form HTML ordered (numbered) and unordered (bulleted) lists.\n */\nshowdown.subParser('lists', function (text, options, globals) {\n  'use strict';\n\n  /**\n   * Process the contents of a single ordered or unordered list, splitting it\n   * into individual list items.\n   * @param {string} listStr\n   * @param {boolean} trimTrailing\n   * @returns {string}\n   */\n  function processListItems (listStr, trimTrailing) {\n    // The $g_list_level global keeps track of when we're inside a list.\n    // Each time we enter a list, we increment it; when we leave a list,\n    // we decrement. If it's zero, we're not in a list anymore.\n    //\n    // We do this because when we're not inside a list, we want to treat\n    // something like this:\n    //\n    //    I recommend upgrading to version\n    //    8. Oops, now this line is treated\n    //    as a sub-list.\n    //\n    // As a single paragraph, despite the fact that the second line starts\n    // with a digit-period-space sequence.\n    //\n    // Whereas when we're inside a list (or sub-list), that line will be\n    // treated as the start of a sub-list. What a kludge, huh? This is\n    // an aspect of Markdown's syntax that's hard to parse perfectly\n    // without resorting to mind-reading. Perhaps the solution is to\n    // change the syntax rules such that sub-lists must start with a\n    // starting cardinal number; e.g. \"1.\" or \"a.\".\n    globals.gListLevel++;\n\n    // trim trailing blank lines:\n    listStr = listStr.replace(/\\n{2,}$/, '\\n');\n\n    // attacklab: add sentinel to emulate \\z\n    listStr += '0';\n\n    var rgx = /(\\n)?(^ {0,3})([*+-]|\\d+[.])[ \\t]+((\\[(x|X| )?])?[ \\t]*[^\\r]+?(\\n{1,2}))(?=\\n*(0| {0,3}([*+-]|\\d+[.])[ \\t]+))/gm,\n        isParagraphed = (/\\n[ \\t]*\\n(?!0)/.test(listStr));\n\n    // Since version 1.5, nesting sublists requires 4 spaces (or 1 tab) indentation,\n    // which is a syntax breaking change\n    // activating this option reverts to old behavior\n    if (options.disableForced4SpacesIndentedSublists) {\n      rgx = /(\\n)?(^ {0,3})([*+-]|\\d+[.])[ \\t]+((\\[(x|X| )?])?[ \\t]*[^\\r]+?(\\n{1,2}))(?=\\n*(0|\\2([*+-]|\\d+[.])[ \\t]+))/gm;\n    }\n\n    listStr = listStr.replace(rgx, function (wholeMatch, m1, m2, m3, m4, taskbtn, checked) {\n      checked = (checked && checked.trim() !== '');\n\n      var item = showdown.subParser('outdent')(m4, options, globals),\n          bulletStyle = '';\n\n      // Support for github tasklists\n      if (taskbtn && options.tasklists) {\n        bulletStyle = ' class=\"task-list-item\" style=\"list-style-type: none;\"';\n        item = item.replace(/^[ \\t]*\\[(x|X| )?]/m, function () {\n          var otp = '<input type=\"checkbox\" disabled style=\"margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;\"';\n          if (checked) {\n            otp += ' checked';\n          }\n          otp += '>';\n          return otp;\n        });\n      }\n\n      // ISSUE #312\n      // This input: - - - a\n      // causes trouble to the parser, since it interprets it as:\n      // <ul><li><li><li>a</li></li></li></ul>\n      // instead of:\n      // <ul><li>- - a</li></ul>\n      // So, to prevent it, we will put a marker (A)in the beginning of the line\n      // Kind of hackish/monkey patching, but seems more effective than overcomplicating the list parser\n      item = item.replace(/^([-*+]|\\d\\.)[ \\t]+[\\S\\n ]*/g, function (wm2) {\n        return 'A' + wm2;\n      });\n\n      // m1 - Leading line or\n      // Has a double return (multi paragraph) or\n      // Has sublist\n      if (m1 || (item.search(/\\n{2,}/) > -1)) {\n        item = showdown.subParser('githubCodeBlocks')(item, options, globals);\n        item = showdown.subParser('blockGamut')(item, options, globals);\n      } else {\n        // Recursion for sub-lists:\n        item = showdown.subParser('lists')(item, options, globals);\n        item = item.replace(/\\n$/, ''); // chomp(item)\n        item = showdown.subParser('hashHTMLBlocks')(item, options, globals);\n\n        // Colapse double linebreaks\n        item = item.replace(/\\n\\n+/g, '\\n\\n');\n        if (isParagraphed) {\n          item = showdown.subParser('paragraphs')(item, options, globals);\n        } else {\n          item = showdown.subParser('spanGamut')(item, options, globals);\n        }\n      }\n\n      // now we need to remove the marker (A)\n      item = item.replace('A', '');\n      // we can finally wrap the line in list item tags\n      item =  '<li' + bulletStyle + '>' + item + '</li>\\n';\n\n      return item;\n    });\n\n    // attacklab: strip sentinel\n    listStr = listStr.replace(/0/g, '');\n\n    globals.gListLevel--;\n\n    if (trimTrailing) {\n      listStr = listStr.replace(/\\s+$/, '');\n    }\n\n    return listStr;\n  }\n\n  function styleStartNumber (list, listType) {\n    // check if ol and starts by a number different than 1\n    if (listType === 'ol') {\n      var res = list.match(/^ *(\\d+)\\./);\n      if (res && res[1] !== '1') {\n        return ' start=\"' + res[1] + '\"';\n      }\n    }\n    return '';\n  }\n\n  /**\n   * Check and parse consecutive lists (better fix for issue #142)\n   * @param {string} list\n   * @param {string} listType\n   * @param {boolean} trimTrailing\n   * @returns {string}\n   */\n  function parseConsecutiveLists (list, listType, trimTrailing) {\n    // check if we caught 2 or more consecutive lists by mistake\n    // we use the counterRgx, meaning if listType is UL we look for OL and vice versa\n    var olRgx = (options.disableForced4SpacesIndentedSublists) ? /^ ?\\d+\\.[ \\t]/gm : /^ {0,3}\\d+\\.[ \\t]/gm,\n        ulRgx = (options.disableForced4SpacesIndentedSublists) ? /^ ?[*+-][ \\t]/gm : /^ {0,3}[*+-][ \\t]/gm,\n        counterRxg = (listType === 'ul') ? olRgx : ulRgx,\n        result = '';\n\n    if (list.search(counterRxg) !== -1) {\n      (function parseCL (txt) {\n        var pos = txt.search(counterRxg),\n            style = styleStartNumber(list, listType);\n        if (pos !== -1) {\n          // slice\n          result += '\\n\\n<' + listType + style + '>\\n' + processListItems(txt.slice(0, pos), !!trimTrailing) + '</' + listType + '>\\n';\n\n          // invert counterType and listType\n          listType = (listType === 'ul') ? 'ol' : 'ul';\n          counterRxg = (listType === 'ul') ? olRgx : ulRgx;\n\n          //recurse\n          parseCL(txt.slice(pos));\n        } else {\n          result += '\\n\\n<' + listType + style + '>\\n' + processListItems(txt, !!trimTrailing) + '</' + listType + '>\\n';\n        }\n      })(list);\n    } else {\n      var style = styleStartNumber(list, listType);\n      result = '\\n\\n<' + listType + style + '>\\n' + processListItems(list, !!trimTrailing) + '</' + listType + '>\\n';\n    }\n\n    return result;\n  }\n\n  /** Start of list parsing **/\n  text = globals.converter._dispatch('lists.before', text, options, globals);\n  // add sentinel to hack around khtml/safari bug:\n  // http://bugs.webkit.org/show_bug.cgi?id=11231\n  text += '0';\n\n  if (globals.gListLevel) {\n    text = text.replace(/^(( {0,3}([*+-]|\\d+[.])[ \\t]+)[^\\r]+?(0|\\n{2,}(?=\\S)(?![ \\t]*(?:[*+-]|\\d+[.])[ \\t]+)))/gm,\n      function (wholeMatch, list, m2) {\n        var listType = (m2.search(/[*+-]/g) > -1) ? 'ul' : 'ol';\n        return parseConsecutiveLists(list, listType, true);\n      }\n    );\n  } else {\n    text = text.replace(/(\\n\\n|^\\n?)(( {0,3}([*+-]|\\d+[.])[ \\t]+)[^\\r]+?(0|\\n{2,}(?=\\S)(?![ \\t]*(?:[*+-]|\\d+[.])[ \\t]+)))/gm,\n      function (wholeMatch, m1, list, m3) {\n        var listType = (m3.search(/[*+-]/g) > -1) ? 'ul' : 'ol';\n        return parseConsecutiveLists(list, listType, false);\n      }\n    );\n  }\n\n  // strip sentinel\n  text = text.replace(/0/, '');\n  text = globals.converter._dispatch('lists.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Parse metadata at the top of the document\n */\nshowdown.subParser('metadata', function (text, options, globals) {\n  'use strict';\n\n  if (!options.metadata) {\n    return text;\n  }\n\n  text = globals.converter._dispatch('metadata.before', text, options, globals);\n\n  function parseMetadataContents (content) {\n    // raw is raw so it's not changed in any way\n    globals.metadata.raw = content;\n\n    // escape chars forbidden in html attributes\n    // double quotes\n    content = content\n      // ampersand first\n      .replace(/&/g, '&amp;')\n      // double quotes\n      .replace(/\"/g, '&quot;');\n\n    content = content.replace(/\\n {4}/g, ' ');\n    content.replace(/^([\\S ]+): +([\\s\\S]+?)$/gm, function (wm, key, value) {\n      globals.metadata.parsed[key] = value;\n      return '';\n    });\n  }\n\n  text = text.replace(/^\\s*+(\\S*?)\\n([\\s\\S]+?)\\n+\\n/, function (wholematch, format, content) {\n    parseMetadataContents(content);\n    return 'M';\n  });\n\n  text = text.replace(/^\\s*---+(\\S*?)\\n([\\s\\S]+?)\\n---+\\n/, function (wholematch, format, content) {\n    if (format) {\n      globals.metadata.format = format;\n    }\n    parseMetadataContents(content);\n    return 'M';\n  });\n\n  text = text.replace(/M/g, '');\n\n  text = globals.converter._dispatch('metadata.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Remove one level of line-leading tabs or spaces\n */\nshowdown.subParser('outdent', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('outdent.before', text, options, globals);\n\n  // attacklab: hack around Konqueror 3.5.4 bug:\n  // \"----------bug\".replace(/^-/g,\"\") == \"bug\"\n  text = text.replace(/^(\\t|[ ]{1,4})/gm, '0'); // attacklab: g_tab_width\n\n  // attacklab: clean up hack\n  text = text.replace(/0/g, '');\n\n  text = globals.converter._dispatch('outdent.after', text, options, globals);\n  return text;\n});\n\r\n/**\n *\n */\nshowdown.subParser('paragraphs', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('paragraphs.before', text, options, globals);\n  // Strip leading and trailing lines:\n  text = text.replace(/^\\n+/g, '');\n  text = text.replace(/\\n+$/g, '');\n\n  var grafs = text.split(/\\n{2,}/g),\n      grafsOut = [],\n      end = grafs.length; // Wrap <p> tags\n\n  for (var i = 0; i < end; i++) {\n    var str = grafs[i];\n    // if this is an HTML marker, copy it\n    if (str.search(/(K|G)(\\d+)\\1/g) >= 0) {\n      grafsOut.push(str);\n\n    // test for presence of characters to prevent empty lines being parsed\n    // as paragraphs (resulting in undesired extra empty paragraphs)\n    } else if (str.search(/\\S/) >= 0) {\n      str = showdown.subParser('spanGamut')(str, options, globals);\n      str = str.replace(/^([ \\t]*)/g, '<p>');\n      str += '</p>';\n      grafsOut.push(str);\n    }\n  }\n\n  /** Unhashify HTML blocks */\n  end = grafsOut.length;\n  for (i = 0; i < end; i++) {\n    var blockText = '',\n        grafsOutIt = grafsOut[i],\n        codeFlag = false;\n    // if this is a marker for an html block...\n    // use RegExp.test instead of string.search because of QML bug\n    while (/(K|G)(\\d+)\\1/.test(grafsOutIt)) {\n      var delim = RegExp.$1,\n          num   = RegExp.$2;\n\n      if (delim === 'K') {\n        blockText = globals.gHtmlBlocks[num];\n      } else {\n        // we need to check if ghBlock is a false positive\n        if (codeFlag) {\n          // use encoded version of all text\n          blockText = showdown.subParser('encodeCode')(globals.ghCodeBlocks[num].text, options, globals);\n        } else {\n          blockText = globals.ghCodeBlocks[num].codeblock;\n        }\n      }\n      blockText = blockText.replace(/\\$/g, '$$$$'); // Escape any dollar signs\n\n      grafsOutIt = grafsOutIt.replace(/(\\n\\n)?(K|G)\\d+\\2(\\n\\n)?/, blockText);\n      // Check if grafsOutIt is a pre->code\n      if (/^<pre\\b[^>]*>\\s*<code\\b[^>]*>/.test(grafsOutIt)) {\n        codeFlag = true;\n      }\n    }\n    grafsOut[i] = grafsOutIt;\n  }\n  text = grafsOut.join('\\n');\n  // Strip leading and trailing lines:\n  text = text.replace(/^\\n+/g, '');\n  text = text.replace(/\\n+$/g, '');\n  return globals.converter._dispatch('paragraphs.after', text, options, globals);\n});\n\r\n/**\n * Run extension\n */\nshowdown.subParser('runExtension', function (ext, text, options, globals) {\n  'use strict';\n\n  if (ext.filter) {\n    text = ext.filter(text, globals.converter, options);\n\n  } else if (ext.regex) {\n    // TODO remove this when old extension loading mechanism is deprecated\n    var re = ext.regex;\n    if (!(re instanceof RegExp)) {\n      re = new RegExp(re, 'g');\n    }\n    text = text.replace(re, ext.replace);\n  }\n\n  return text;\n});\n\r\n/**\n * These are all the transformations that occur *within* block-level\n * tags like paragraphs, headers, and list items.\n */\nshowdown.subParser('spanGamut', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('spanGamut.before', text, options, globals);\n  text = showdown.subParser('codeSpans')(text, options, globals);\n  text = showdown.subParser('escapeSpecialCharsWithinTagAttributes')(text, options, globals);\n  text = showdown.subParser('encodeBackslashEscapes')(text, options, globals);\n\n  // Process anchor and image tags. Images must come first,\n  // because ![foo][f] looks like an anchor.\n  text = showdown.subParser('images')(text, options, globals);\n  text = showdown.subParser('anchors')(text, options, globals);\n\n  // Make links out of things like `<http://example.com/>`\n  // Must come after anchors, because you can use < and >\n  // delimiters in inline links like [this](<url>).\n  text = showdown.subParser('autoLinks')(text, options, globals);\n  text = showdown.subParser('simplifiedAutoLinks')(text, options, globals);\n  text = showdown.subParser('emoji')(text, options, globals);\n  text = showdown.subParser('underline')(text, options, globals);\n  text = showdown.subParser('italicsAndBold')(text, options, globals);\n  text = showdown.subParser('strikethrough')(text, options, globals);\n  text = showdown.subParser('ellipsis')(text, options, globals);\n\n  // we need to hash HTML tags inside spans\n  text = showdown.subParser('hashHTMLSpans')(text, options, globals);\n\n  // now we encode amps and angles\n  text = showdown.subParser('encodeAmpsAndAngles')(text, options, globals);\n\n  // Do hard breaks\n  if (options.simpleLineBreaks) {\n    // GFM style hard breaks\n    // only add line breaks if the text does not contain a block (special case for lists)\n    if (!/\\n\\nK/.test(text)) {\n      text = text.replace(/\\n+/g, '<br />\\n');\n    }\n  } else {\n    // Vanilla hard breaks\n    text = text.replace(/  +\\n/g, '<br />\\n');\n  }\n\n  text = globals.converter._dispatch('spanGamut.after', text, options, globals);\n  return text;\n});\n\r\nshowdown.subParser('strikethrough', function (text, options, globals) {\n  'use strict';\n\n  function parseInside (txt) {\n    if (options.simplifiedAutoLink) {\n      txt = showdown.subParser('simplifiedAutoLinks')(txt, options, globals);\n    }\n    return '<del>' + txt + '</del>';\n  }\n\n  if (options.strikethrough) {\n    text = globals.converter._dispatch('strikethrough.before', text, options, globals);\n    text = text.replace(/(?:~){2}([\\s\\S]+?)(?:~){2}/g, function (wm, txt) { return parseInside(txt); });\n    text = globals.converter._dispatch('strikethrough.after', text, options, globals);\n  }\n\n  return text;\n});\n\r\n/**\n * Strips link definitions from text, stores the URLs and titles in\n * hash references.\n * Link defs are in the form: ^[id]: url \"optional title\"\n */\nshowdown.subParser('stripLinkDefinitions', function (text, options, globals) {\n  'use strict';\n\n  var regex       = /^ {0,3}\\[(.+)]:[ \\t]*\\n?[ \\t]*<?([^>\\s]+)>?(?: =([*\\d]+[A-Za-z%]{0,4})x([*\\d]+[A-Za-z%]{0,4}))?[ \\t]*\\n?[ \\t]*(?:(\\n*)[\"|'(](.+?)[\"|')][ \\t]*)?(?:\\n+|(?=0))/gm,\n      base64Regex = /^ {0,3}\\[(.+)]:[ \\t]*\\n?[ \\t]*<?(data:.+?\\/.+?;base64,[A-Za-z0-9+/=\\n]+?)>?(?: =([*\\d]+[A-Za-z%]{0,4})x([*\\d]+[A-Za-z%]{0,4}))?[ \\t]*\\n?[ \\t]*(?:(\\n*)[\"|'(](.+?)[\"|')][ \\t]*)?(?:\\n\\n|(?=0)|(?=\\n\\[))/gm;\n\n  // attacklab: sentinel workarounds for lack of \\A and \\Z, safari\\khtml bug\n  text += '0';\n\n  var replaceFunc = function (wholeMatch, linkId, url, width, height, blankLines, title) {\n    linkId = linkId.toLowerCase();\n    if (url.match(/^data:.+?\\/.+?;base64,/)) {\n      // remove newlines\n      globals.gUrls[linkId] = url.replace(/\\s/g, '');\n    } else {\n      globals.gUrls[linkId] = showdown.subParser('encodeAmpsAndAngles')(url, options, globals);  // Link IDs are case-insensitive\n    }\n\n    if (blankLines) {\n      // Oops, found blank lines, so it's not a title.\n      // Put back the parenthetical statement we stole.\n      return blankLines + title;\n\n    } else {\n      if (title) {\n        globals.gTitles[linkId] = title.replace(/\"|'/g, '&quot;');\n      }\n      if (options.parseImgDimensions && width && height) {\n        globals.gDimensions[linkId] = {\n          width:  width,\n          height: height\n        };\n      }\n    }\n    // Completely remove the definition from the text\n    return '';\n  };\n\n  // first we try to find base64 link references\n  text = text.replace(base64Regex, replaceFunc);\n\n  text = text.replace(regex, replaceFunc);\n\n  // attacklab: strip sentinel\n  text = text.replace(/0/, '');\n\n  return text;\n});\n\r\nshowdown.subParser('tables', function (text, options, globals) {\n  'use strict';\n\n  if (!options.tables) {\n    return text;\n  }\n\n  var tableRgx       = /^ {0,3}\\|?.+\\|.+\\n {0,3}\\|?[ \\t]*:?[ \\t]*(?:[-=]){2,}[ \\t]*:?[ \\t]*\\|[ \\t]*:?[ \\t]*(?:[-=]){2,}[\\s\\S]+?(?:\\n\\n|0)/gm,\n      //singeColTblRgx = /^ {0,3}\\|.+\\|\\n {0,3}\\|[ \\t]*:?[ \\t]*(?:[-=]){2,}[ \\t]*:?[ \\t]*\\|[ \\t]*\\n(?: {0,3}\\|.+\\|\\n)+(?:\\n\\n|0)/gm;\n      singeColTblRgx = /^ {0,3}\\|.+\\|[ \\t]*\\n {0,3}\\|[ \\t]*:?[ \\t]*(?:[-=]){2,}[ \\t]*:?[ \\t]*\\|[ \\t]*\\n( {0,3}\\|.+\\|[ \\t]*\\n)*(?:\\n|0)/gm;\n\n  function parseStyles (sLine) {\n    if (/^:[ \\t]*--*$/.test(sLine)) {\n      return ' style=\"text-align:left;\"';\n    } else if (/^--*[ \\t]*:[ \\t]*$/.test(sLine)) {\n      return ' style=\"text-align:right;\"';\n    } else if (/^:[ \\t]*--*[ \\t]*:$/.test(sLine)) {\n      return ' style=\"text-align:center;\"';\n    } else {\n      return '';\n    }\n  }\n\n  function parseHeaders (header, style) {\n    var id = '';\n    header = header.trim();\n    // support both tablesHeaderId and tableHeaderId due to error in documentation so we don't break backwards compatibility\n    if (options.tablesHeaderId || options.tableHeaderId) {\n      id = ' id=\"' + header.replace(/ /g, '_').toLowerCase() + '\"';\n    }\n    header = showdown.subParser('spanGamut')(header, options, globals);\n\n    return '<th' + id + style + '>' + header + '</th>\\n';\n  }\n\n  function parseCells (cell, style) {\n    var subText = showdown.subParser('spanGamut')(cell, options, globals);\n    return '<td' + style + '>' + subText + '</td>\\n';\n  }\n\n  function buildTable (headers, cells) {\n    var tb = '<table>\\n<thead>\\n<tr>\\n',\n        tblLgn = headers.length;\n\n    for (var i = 0; i < tblLgn; ++i) {\n      tb += headers[i];\n    }\n    tb += '</tr>\\n</thead>\\n<tbody>\\n';\n\n    for (i = 0; i < cells.length; ++i) {\n      tb += '<tr>\\n';\n      for (var ii = 0; ii < tblLgn; ++ii) {\n        tb += cells[i][ii];\n      }\n      tb += '</tr>\\n';\n    }\n    tb += '</tbody>\\n</table>\\n';\n    return tb;\n  }\n\n  function parseTable (rawTable) {\n    var i, tableLines = rawTable.split('\\n');\n\n    for (i = 0; i < tableLines.length; ++i) {\n      // strip wrong first and last column if wrapped tables are used\n      if (/^ {0,3}\\|/.test(tableLines[i])) {\n        tableLines[i] = tableLines[i].replace(/^ {0,3}\\|/, '');\n      }\n      if (/\\|[ \\t]*$/.test(tableLines[i])) {\n        tableLines[i] = tableLines[i].replace(/\\|[ \\t]*$/, '');\n      }\n      // parse code spans first, but we only support one line code spans\n      tableLines[i] = showdown.subParser('codeSpans')(tableLines[i], options, globals);\n    }\n\n    var rawHeaders = tableLines[0].split('|').map(function (s) { return s.trim();}),\n        rawStyles = tableLines[1].split('|').map(function (s) { return s.trim();}),\n        rawCells = [],\n        headers = [],\n        styles = [],\n        cells = [];\n\n    tableLines.shift();\n    tableLines.shift();\n\n    for (i = 0; i < tableLines.length; ++i) {\n      if (tableLines[i].trim() === '') {\n        continue;\n      }\n      rawCells.push(\n        tableLines[i]\n          .split('|')\n          .map(function (s) {\n            return s.trim();\n          })\n      );\n    }\n\n    if (rawHeaders.length < rawStyles.length) {\n      return rawTable;\n    }\n\n    for (i = 0; i < rawStyles.length; ++i) {\n      styles.push(parseStyles(rawStyles[i]));\n    }\n\n    for (i = 0; i < rawHeaders.length; ++i) {\n      if (showdown.helper.isUndefined(styles[i])) {\n        styles[i] = '';\n      }\n      headers.push(parseHeaders(rawHeaders[i], styles[i]));\n    }\n\n    for (i = 0; i < rawCells.length; ++i) {\n      var row = [];\n      for (var ii = 0; ii < headers.length; ++ii) {\n        if (showdown.helper.isUndefined(rawCells[i][ii])) {\n\n        }\n        row.push(parseCells(rawCells[i][ii], styles[ii]));\n      }\n      cells.push(row);\n    }\n\n    return buildTable(headers, cells);\n  }\n\n  text = globals.converter._dispatch('tables.before', text, options, globals);\n\n  // find escaped pipe characters\n  text = text.replace(/\\\\(\\|)/g, showdown.helper.escapeCharactersCallback);\n\n  // parse multi column tables\n  text = text.replace(tableRgx, parseTable);\n\n  // parse one column tables\n  text = text.replace(singeColTblRgx, parseTable);\n\n  text = globals.converter._dispatch('tables.after', text, options, globals);\n\n  return text;\n});\n\r\nshowdown.subParser('underline', function (text, options, globals) {\n  'use strict';\n\n  if (!options.underline) {\n    return text;\n  }\n\n  text = globals.converter._dispatch('underline.before', text, options, globals);\n\n  if (options.literalMidWordUnderscores) {\n    text = text.replace(/\\b___(\\S[\\s\\S]*?)___\\b/g, function (wm, txt) {\n      return '<u>' + txt + '</u>';\n    });\n    text = text.replace(/\\b__(\\S[\\s\\S]*?)__\\b/g, function (wm, txt) {\n      return '<u>' + txt + '</u>';\n    });\n  } else {\n    text = text.replace(/___(\\S[\\s\\S]*?)___/g, function (wm, m) {\n      return (/\\S$/.test(m)) ? '<u>' + m + '</u>' : wm;\n    });\n    text = text.replace(/__(\\S[\\s\\S]*?)__/g, function (wm, m) {\n      return (/\\S$/.test(m)) ? '<u>' + m + '</u>' : wm;\n    });\n  }\n\n  // escape remaining underscores to prevent them being parsed by italic and bold\n  text = text.replace(/(_)/g, showdown.helper.escapeCharactersCallback);\n\n  text = globals.converter._dispatch('underline.after', text, options, globals);\n\n  return text;\n});\n\r\n/**\n * Swap back in all the special characters we've hidden.\n */\nshowdown.subParser('unescapeSpecialChars', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('unescapeSpecialChars.before', text, options, globals);\n\n  text = text.replace(/E(\\d+)E/g, function (wholeMatch, m1) {\n    var charCodeToReplace = parseInt(m1);\n    return String.fromCharCode(charCodeToReplace);\n  });\n\n  text = globals.converter._dispatch('unescapeSpecialChars.after', text, options, globals);\n  return text;\n});\n\r\nshowdown.subParser('makeMarkdown.blockquote', function (node, globals) {\n  'use strict';\n\n  var txt = '';\n  if (node.hasChildNodes()) {\n    var children = node.childNodes,\n        childrenLength = children.length;\n\n    for (var i = 0; i < childrenLength; ++i) {\n      var innerTxt = showdown.subParser('makeMarkdown.node')(children[i], globals);\n\n      if (innerTxt === '') {\n        continue;\n      }\n      txt += innerTxt;\n    }\n  }\n  // cleanup\n  txt = txt.trim();\n  txt = '> ' + txt.split('\\n').join('\\n> ');\n  return txt;\n});\n\r\nshowdown.subParser('makeMarkdown.codeBlock', function (node, globals) {\n  'use strict';\n\n  var lang = node.getAttribute('language'),\n      num  = node.getAttribute('precodenum');\n  return '```' + lang + '\\n' + globals.preList[num] + '\\n```';\n});\n\r\nshowdown.subParser('makeMarkdown.codeSpan', function (node) {\n  'use strict';\n\n  return '`' + node.innerHTML + '`';\n});\n\r\nshowdown.subParser('makeMarkdown.emphasis', function (node, globals) {\n  'use strict';\n\n  var txt = '';\n  if (node.hasChildNodes()) {\n    txt += '*';\n    var children = node.childNodes,\n        childrenLength = children.length;\n    for (var i = 0; i < childrenLength; ++i) {\n      txt += showdown.subParser('makeMarkdown.node')(children[i], globals);\n    }\n    txt += '*';\n  }\n  return txt;\n});\n\r\nshowdown.subParser('makeMarkdown.header', function (node, globals, headerLevel) {\n  'use strict';\n\n  var headerMark = new Array(headerLevel + 1).join('#'),\n      txt = '';\n\n  if (node.hasChildNodes()) {\n    txt = headerMark + ' ';\n    var children = node.childNodes,\n        childrenLength = children.length;\n\n    for (var i = 0; i < childrenLength; ++i) {\n      txt += showdown.subParser('makeMarkdown.node')(children[i], globals);\n    }\n  }\n  return txt;\n});\n\r\nshowdown.subParser('makeMarkdown.hr', function () {\n  'use strict';\n\n  return '---';\n});\n\r\nshowdown.subParser('makeMarkdown.image', function (node) {\n  'use strict';\n\n  var txt = '';\n  if (node.hasAttribute('src')) {\n    txt += '![' + node.getAttribute('alt') + '](';\n    txt += '<' + node.getAttribute('src') + '>';\n    if (node.hasAttribute('width') && node.hasAttribute('height')) {\n      txt += ' =' + node.getAttribute('width') + 'x' + node.getAttribute('height');\n    }\n\n    if (node.hasAttribute('title')) {\n      txt += ' \"' + node.getAttribute('title') + '\"';\n    }\n    txt += ')';\n  }\n  return txt;\n});\n\r\nshowdown.subParser('makeMarkdown.links', function (node, globals) {\n  'use strict';\n\n  var txt = '';\n  if (node.hasChildNodes() && node.hasAttribute('href')) {\n    var children = node.childNodes,\n        childrenLength = children.length;\n    txt = '[';\n    for (var i = 0; i < childrenLength; ++i) {\n      txt += showdown.subParser('makeMarkdown.node')(children[i], globals);\n    }\n    txt += '](';\n    txt += '<' + node.getAttribute('href') + '>';\n    if (node.hasAttribute('title')) {\n      txt += ' \"' + node.getAttribute('title') + '\"';\n    }\n    txt += ')';\n  }\n  return txt;\n});\n\r\nshowdown.subParser('makeMarkdown.list', function (node, globals, type) {\n  'use strict';\n\n  var txt = '';\n  if (!node.hasChildNodes()) {\n    return '';\n  }\n  var listItems       = node.childNodes,\n      listItemsLenght = listItems.length,\n      listNum = node.getAttribute('start') || 1;\n\n  for (var i = 0; i < listItemsLenght; ++i) {\n    if (typeof listItems[i].tagName === 'undefined' || listItems[i].tagName.toLowerCase() !== 'li') {\n      continue;\n    }\n\n    // define the bullet to use in list\n    var bullet = '';\n    if (type === 'ol') {\n      bullet = listNum.toString() + '. ';\n    } else {\n      bullet = '- ';\n    }\n\n    // parse list item\n    txt += bullet + showdown.subParser('makeMarkdown.listItem')(listItems[i], globals);\n    ++listNum;\n  }\n\n  // add comment at the end to prevent consecutive lists to be parsed as one\n  txt += '\\n<!-- -->\\n';\n  return txt.trim();\n});\n\r\nshowdown.subParser('makeMarkdown.listItem', function (node, globals) {\n  'use strict';\n\n  var listItemTxt = '';\n\n  var children = node.childNodes,\n      childrenLenght = children.length;\n\n  for (var i = 0; i < childrenLenght; ++i) {\n    listItemTxt += showdown.subParser('makeMarkdown.node')(children[i], globals);\n  }\n  // if it's only one liner, we need to add a newline at the end\n  if (!/\\n$/.test(listItemTxt)) {\n    listItemTxt += '\\n';\n  } else {\n    // it's multiparagraph, so we need to indent\n    listItemTxt = listItemTxt\n      .split('\\n')\n      .join('\\n    ')\n      .replace(/^ {4}$/gm, '')\n      .replace(/\\n\\n+/g, '\\n\\n');\n  }\n\n  return listItemTxt;\n});\n\r\n\n\nshowdown.subParser('makeMarkdown.node', function (node, globals, spansOnly) {\n  'use strict';\n\n  spansOnly = spansOnly || false;\n\n  var txt = '';\n\n  // edge case of text without wrapper paragraph\n  if (node.nodeType === 3) {\n    return showdown.subParser('makeMarkdown.txt')(node, globals);\n  }\n\n  // HTML comment\n  if (node.nodeType === 8) {\n    return '<!--' + node.data + '-->\\n\\n';\n  }\n\n  // process only node elements\n  if (node.nodeType !== 1) {\n    return '';\n  }\n\n  var tagName = node.tagName.toLowerCase();\n\n  switch (tagName) {\n\n    //\n    // BLOCKS\n    //\n    case 'h1':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.header')(node, globals, 1) + '\\n\\n'; }\n      break;\n    case 'h2':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.header')(node, globals, 2) + '\\n\\n'; }\n      break;\n    case 'h3':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.header')(node, globals, 3) + '\\n\\n'; }\n      break;\n    case 'h4':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.header')(node, globals, 4) + '\\n\\n'; }\n      break;\n    case 'h5':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.header')(node, globals, 5) + '\\n\\n'; }\n      break;\n    case 'h6':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.header')(node, globals, 6) + '\\n\\n'; }\n      break;\n\n    case 'p':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.paragraph')(node, globals) + '\\n\\n'; }\n      break;\n\n    case 'blockquote':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.blockquote')(node, globals) + '\\n\\n'; }\n      break;\n\n    case 'hr':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.hr')(node, globals) + '\\n\\n'; }\n      break;\n\n    case 'ol':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.list')(node, globals, 'ol') + '\\n\\n'; }\n      break;\n\n    case 'ul':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.list')(node, globals, 'ul') + '\\n\\n'; }\n      break;\n\n    case 'precode':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.codeBlock')(node, globals) + '\\n\\n'; }\n      break;\n\n    case 'pre':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.pre')(node, globals) + '\\n\\n'; }\n      break;\n\n    case 'table':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.table')(node, globals) + '\\n\\n'; }\n      break;\n\n    //\n    // SPANS\n    //\n    case 'code':\n      txt = showdown.subParser('makeMarkdown.codeSpan')(node, globals);\n      break;\n\n    case 'em':\n    case 'i':\n      txt = showdown.subParser('makeMarkdown.emphasis')(node, globals);\n      break;\n\n    case 'strong':\n    case 'b':\n      txt = showdown.subParser('makeMarkdown.strong')(node, globals);\n      break;\n\n    case 'del':\n      txt = showdown.subParser('makeMarkdown.strikethrough')(node, globals);\n      break;\n\n    case 'a':\n      txt = showdown.subParser('makeMarkdown.links')(node, globals);\n      break;\n\n    case 'img':\n      txt = showdown.subParser('makeMarkdown.image')(node, globals);\n      break;\n\n    default:\n      txt = node.outerHTML + '\\n\\n';\n  }\n\n  // common normalization\n  // TODO eventually\n\n  return txt;\n});\n\r\nshowdown.subParser('makeMarkdown.paragraph', function (node, globals) {\n  'use strict';\n\n  var txt = '';\n  if (node.hasChildNodes()) {\n    var children = node.childNodes,\n        childrenLength = children.length;\n    for (var i = 0; i < childrenLength; ++i) {\n      txt += showdown.subParser('makeMarkdown.node')(children[i], globals);\n    }\n  }\n\n  // some text normalization\n  txt = txt.trim();\n\n  return txt;\n});\n\r\nshowdown.subParser('makeMarkdown.pre', function (node, globals) {\n  'use strict';\n\n  var num  = node.getAttribute('prenum');\n  return '<pre>' + globals.preList[num] + '</pre>';\n});\n\r\nshowdown.subParser('makeMarkdown.strikethrough', function (node, globals) {\n  'use strict';\n\n  var txt = '';\n  if (node.hasChildNodes()) {\n    txt += '~~';\n    var children = node.childNodes,\n        childrenLength = children.length;\n    for (var i = 0; i < childrenLength; ++i) {\n      txt += showdown.subParser('makeMarkdown.node')(children[i], globals);\n    }\n    txt += '~~';\n  }\n  return txt;\n});\n\r\nshowdown.subParser('makeMarkdown.strong', function (node, globals) {\n  'use strict';\n\n  var txt = '';\n  if (node.hasChildNodes()) {\n    txt += '**';\n    var children = node.childNodes,\n        childrenLength = children.length;\n    for (var i = 0; i < childrenLength; ++i) {\n      txt += showdown.subParser('makeMarkdown.node')(children[i], globals);\n    }\n    txt += '**';\n  }\n  return txt;\n});\n\r\nshowdown.subParser('makeMarkdown.table', function (node, globals) {\n  'use strict';\n\n  var txt = '',\n      tableArray = [[], []],\n      headings   = node.querySelectorAll('thead>tr>th'),\n      rows       = node.querySelectorAll('tbody>tr'),\n      i, ii;\n  for (i = 0; i < headings.length; ++i) {\n    var headContent = showdown.subParser('makeMarkdown.tableCell')(headings[i], globals),\n        allign = '---';\n\n    if (headings[i].hasAttribute('style')) {\n      var style = headings[i].getAttribute('style').toLowerCase().replace(/\\s/g, '');\n      switch (style) {\n        case 'text-align:left;':\n          allign = ':---';\n          break;\n        case 'text-align:right;':\n          allign = '---:';\n          break;\n        case 'text-align:center;':\n          allign = ':---:';\n          break;\n      }\n    }\n    tableArray[0][i] = headContent.trim();\n    tableArray[1][i] = allign;\n  }\n\n  for (i = 0; i < rows.length; ++i) {\n    var r = tableArray.push([]) - 1,\n        cols = rows[i].getElementsByTagName('td');\n\n    for (ii = 0; ii < headings.length; ++ii) {\n      var cellContent = ' ';\n      if (typeof cols[ii] !== 'undefined') {\n        cellContent = showdown.subParser('makeMarkdown.tableCell')(cols[ii], globals);\n      }\n      tableArray[r].push(cellContent);\n    }\n  }\n\n  var cellSpacesCount = 3;\n  for (i = 0; i < tableArray.length; ++i) {\n    for (ii = 0; ii < tableArray[i].length; ++ii) {\n      var strLen = tableArray[i][ii].length;\n      if (strLen > cellSpacesCount) {\n        cellSpacesCount = strLen;\n      }\n    }\n  }\n\n  for (i = 0; i < tableArray.length; ++i) {\n    for (ii = 0; ii < tableArray[i].length; ++ii) {\n      if (i === 1) {\n        if (tableArray[i][ii].slice(-1) === ':') {\n          tableArray[i][ii] = showdown.helper.padEnd(tableArray[i][ii].slice(-1), cellSpacesCount - 1, '-') + ':';\n        } else {\n          tableArray[i][ii] = showdown.helper.padEnd(tableArray[i][ii], cellSpacesCount, '-');\n        }\n      } else {\n        tableArray[i][ii] = showdown.helper.padEnd(tableArray[i][ii], cellSpacesCount);\n      }\n    }\n    txt += '| ' + tableArray[i].join(' | ') + ' |\\n';\n  }\n\n  return txt.trim();\n});\n\r\nshowdown.subParser('makeMarkdown.tableCell', function (node, globals) {\n  'use strict';\n\n  var txt = '';\n  if (!node.hasChildNodes()) {\n    return '';\n  }\n  var children = node.childNodes,\n      childrenLength = children.length;\n\n  for (var i = 0; i < childrenLength; ++i) {\n    txt += showdown.subParser('makeMarkdown.node')(children[i], globals, true);\n  }\n  return txt.trim();\n});\n\r\nshowdown.subParser('makeMarkdown.txt', function (node) {\n  'use strict';\n\n  var txt = node.nodeValue;\n\n  // multiple spaces are collapsed\n  txt = txt.replace(/ +/g, ' ');\n\n  // replace the custom NBSP; with a space\n  txt = txt.replace(/NBSP;/g, ' ');\n\n  // \", <, > and & should replace escaped html entities\n  txt = showdown.helper.unescapeHTMLEntities(txt);\n\n  // escape markdown magic characters\n  // emphasis, strong and strikethrough - can appear everywhere\n  // we also escape pipe (|) because of tables\n  // and escape ` because of code blocks and spans\n  txt = txt.replace(/([*_~|`])/g, '\\\\$1');\n\n  // escape > because of blockquotes\n  txt = txt.replace(/^(\\s*)>/g, '\\\\$1>');\n\n  // hash character, only troublesome at the beginning of a line because of headers\n  txt = txt.replace(/^#/gm, '\\\\#');\n\n  // horizontal rules\n  txt = txt.replace(/^(\\s*)([-=]{3,})(\\s*)$/, '$1\\\\$2$3');\n\n  // dot, because of ordered lists, only troublesome at the beginning of a line when preceded by an integer\n  txt = txt.replace(/^( {0,3}\\d+)\\./gm, '$1\\\\.');\n\n  // +, * and -, at the beginning of a line becomes a list, so we need to escape them also (asterisk was already escaped)\n  txt = txt.replace(/^( {0,3})([+-])/gm, '$1\\\\$2');\n\n  // images and links, ] followed by ( is problematic, so we escape it\n  txt = txt.replace(/]([\\s]*)\\(/g, '\\\\]$1\\\\(');\n\n  // reference URIs must also be escaped\n  txt = txt.replace(/^ {0,3}\\[([\\S \\t]*?)]:/gm, '\\\\[$1]:');\n\n  return txt;\n});\n\r\nvar root = this;\n\n// AMD Loader\nif (typeof define === 'function' && define.amd) {\n  define(function () {\n    'use strict';\n    return showdown;\n  });\n\n// CommonJS/nodeJS Loader\n} else if (typeof module !== 'undefined' && module.exports) {\n  module.exports = showdown;\n\n// Regular Browser loader\n} else {\n  root.showdown = showdown;\n}\n}).call(this);\r\n\n//# sourceMappingURL=showdown.js.map\r\n",
    "\n/**\n * Module dependencies.\n */\n\n/**\n * toString ref.\n */\n\nvar toString = {}.toString;\n\n/**\n * Return ETag for `body`.\n *\n * @param {String|Buffer} body\n * @return {String}\n * @api private\n */\n\nexports.etag = function(body){\n  return '\"' + crc32.signed(body) + '\"';\n};\n\n/**\n * Make `locals()` bound to the given `obj`.\n *\n * This is used for `app.locals` and `res.locals`.\n *\n * @param {Object} obj\n * @return {Function}\n * @api private\n */\n\nexports.locals = function(obj){\n  function locals(obj){\n    for (var key in obj) locals[key] = obj[key];\n    return obj;\n  };\n\n  return locals;\n};\n\n/**\n * Check if `path` looks absolute.\n *\n * @param {String} path\n * @return {Boolean}\n * @api private\n */\n\nexports.isAbsolute = function(path){\n  if ('/' == path[0]) return true;\n  if (':' == path[1] && '\\\\' == path[2]) return true;\n};\n\n/**\n * Flatten the given `arr`.\n *\n * @param {Array} arr\n * @return {Array}\n * @api private\n */\n\nexports.flatten = function(arr, ret){\n  var ret = ret || []\n    , len = arr.length;\n  for (var i = 0; i < len; ++i) {\n    if (Array.isArray(arr[i])) {\n      exports.flatten(arr[i], ret);\n    } else {\n      ret.push(arr[i]);\n    }\n  }\n  return ret;\n};\n\n/**\n * Normalize the given `type`, for example \"html\" becomes \"text/html\".\n *\n * @param {String} type\n * @return {Object}\n * @api private\n */\n\nexports.normalizeType = function(type){\n  return ~type.indexOf('/')\n    ? acceptParams(type)\n    : { value: mime.lookup(type), params: {} };\n};\n\n/**\n * Normalize `types`, for example \"html\" becomes \"text/html\".\n *\n * @param {Array} types\n * @return {Array}\n * @api private\n */\n\nexports.normalizeTypes = function(types){\n  var ret = [];\n\n  for (var i = 0; i < types.length; ++i) {\n    ret.push(exports.normalizeType(types[i]));\n  }\n\n  return ret;\n};\n\n/**\n * Return the acceptable type in `types`, if any.\n *\n * @param {Array} types\n * @param {String} str\n * @return {String}\n * @api private\n */\n\nexports.acceptsArray = function(types, str){\n  // accept anything when Accept is not present\n  if (!str) return types[0];\n\n  // parse\n  var accepted = exports.parseAccept(str)\n    , normalized = exports.normalizeTypes(types)\n    , len = accepted.length;\n\n  for (var i = 0; i < len; ++i) {\n    for (var j = 0, jlen = types.length; j < jlen; ++j) {\n      if (exports.accept(normalized[j], accepted[i])) {\n        return types[j];\n      }\n    }\n  }\n};\n\n/**\n * Check if `type(s)` are acceptable based on\n * the given `str`.\n *\n * @param {String|Array} type(s)\n * @param {String} str\n * @return {Boolean|String}\n * @api private\n */\n\nexports.accepts = function(type, str){\n  if ('string' == typeof type) type = type.split(/ *, */);\n  return exports.acceptsArray(type, str);\n};\n\n/**\n * Check if `type` array is acceptable for `other`.\n *\n * @param {Object} type\n * @param {Object} other\n * @return {Boolean}\n * @api private\n */\n\nexports.accept = function(type, other){\n  var t = type.value.split('/');\n  return (t[0] == other.type || '*' == other.type)\n    && (t[1] == other.subtype || '*' == other.subtype)\n    && paramsEqual(type.params, other.params);\n};\n\n/**\n * Check if accept params are equal.\n *\n * @param {Object} a\n * @param {Object} b\n * @return {Boolean}\n * @api private\n */\n\nfunction paramsEqual(a, b){\n  return !Object.keys(a).some(function(k) {\n    return a[k] != b[k];\n  });\n}\n\n/**\n * Parse accept `str`, returning\n * an array objects containing\n * `.type` and `.subtype` along\n * with the values provided by\n * `parseQuality()`.\n *\n * @param {Type} name\n * @return {Type}\n * @api private\n */\n\nexports.parseAccept = function(str){\n  return exports\n    .parseParams(str)\n    .map(function(obj){\n      var parts = obj.value.split('/');\n      obj.type = parts[0];\n      obj.subtype = parts[1];\n      return obj;\n    });\n};\n\n/**\n * Parse quality `str`, returning an\n * array of objects with `.value`,\n * `.quality` and optional `.params`\n *\n * @param {String} str\n * @return {Array}\n * @api private\n */\n\nexports.parseParams = function(str){\n  return str\n    .split(/ *, */)\n    .map(acceptParams)\n    .filter(function(obj){\n      return obj.quality;\n    })\n    .sort(function(a, b){\n      if (a.quality === b.quality) {\n        return a.originalIndex - b.originalIndex;\n      } else {\n        return b.quality - a.quality;\n      }\n    });\n};\n\n/**\n * Parse accept params `str` returning an\n * object with `.value`, `.quality` and `.params`.\n * also includes `.originalIndex` for stable sorting\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nfunction acceptParams(str, index) {\n  var parts = str.split(/ *; */);\n  var ret = { value: parts[0], quality: 1, params: {}, originalIndex: index };\n\n  for (var i = 1; i < parts.length; ++i) {\n    var pms = parts[i].split(/ *= */);\n    if ('q' == pms[0]) {\n      ret.quality = parseFloat(pms[1]);\n    } else {\n      ret.params[pms[0]] = pms[1];\n    }\n  }\n\n  return ret;\n}\n\n/**\n * Escape special characters in the given string of html.\n *\n * @param  {String} html\n * @return {String}\n * @api private\n */\n\nexports.escape = function(html) {\n  return String(html)\n    .replace(/&/g, '&amp;')\n    .replace(/\"/g, '&quot;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;');\n};\n\n/**\n * Normalize the given path string,\n * returning a regular expression.\n *\n * An empty array should be passed,\n * which will contain the placeholder\n * key names. For example \"/user/:id\" will\n * then contain [\"id\"].\n *\n * @param  {String|RegExp|Array} path\n * @param  {Array} keys\n * @param  {Boolean} sensitive\n * @param  {Boolean} strict\n * @return {RegExp}\n * @api private\n */\n\nexports.pathRegexp = function(path, keys, sensitive, strict) {\n  if (toString.call(path) == '[object RegExp]') return path;\n  if (Array.isArray(path)) path = '(' + path.join('|') + ')';\n  path = path\n    .concat(strict ? '' : '/?')\n    .replace(/\\/\\(/g, '(?:/')\n    .replace(/(\\/)?(\\.)?:(\\w+)(?:(\\(.*?\\)))?(\\?)?(\\*)?/g, function(_, slash, format, key, capture, optional, star){\n      keys.push({ name: key, optional: !! optional });\n      slash = slash || '';\n      return ''\n        + (optional ? '' : slash)\n        + '(?:'\n        + (optional ? slash : '')\n        + (format || '') + (capture || (format && '([^/.]+?)' || '([^/]+?)')) + ')'\n        + (optional || '')\n        + (star ? '(/*)?' : '');\n    })\n    .replace(/([\\/.])/g, '\\\\$1')\n    .replace(/\\*/g, '(.*)');\n  return new RegExp('^' + path + '$', sensitive ? '' : 'i');\n}\n",
    "\n/**\n * Module dependencies.\n */\n\nvar utils = require('../utils');\n\n/**\n * Expose `Route`.\n */\n\nmodule.exports = Route;\n\n/**\n * Initialize `Route` with the given HTTP `method`, `path`,\n * and an array of `callbacks` and `options`.\n *\n * Options:\n *\n *   - `sensitive`    enable case-sensitive routes\n *   - `strict`       enable strict matching for trailing slashes\n *\n * @param {String} method\n * @param {String} path\n * @param {Array} callbacks\n * @param {Object} options.\n * @api private\n */\n\nfunction Route(method, path, callbacks, options) {\n  options = options || {};\n  this.path = path;\n  this.method = method;\n  this.callbacks = callbacks;\n  this.regexp = utils.pathRegexp(path\n    , this.keys = []\n    , options.sensitive\n    , options.strict);\n}\n\n/**\n * Check if this route matches `path`, if so\n * populate `.params`.\n *\n * @param {String} path\n * @return {Boolean}\n * @api private\n */\n\nRoute.prototype.match = function(path){\n  var keys = this.keys\n    , params = this.params = []\n    , m = this.regexp.exec(path);\n\n  if (!m) return false;\n\n  for (var i = 1, len = m.length; i < len; ++i) {\n    var key = keys[i - 1];\n\n    var val = 'string' == typeof m[i]\n      ? decodeURIComponent(m[i])\n      : m[i];\n\n    if (key) {\n      params[key.name] = val;\n    } else {\n      params.push(val);\n    }\n  }\n\n  return true;\n};\n",
    "'use strict';\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar hexTable = (function () {\n    var array = [];\n    for (var i = 0; i < 256; ++i) {\n        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());\n    }\n\n    return array;\n}());\n\nvar compactQueue = function compactQueue(queue) {\n    while (queue.length > 1) {\n        var item = queue.pop();\n        var obj = item.obj[item.prop];\n\n        if (isArray(obj)) {\n            var compacted = [];\n\n            for (var j = 0; j < obj.length; ++j) {\n                if (typeof obj[j] !== 'undefined') {\n                    compacted.push(obj[j]);\n                }\n            }\n\n            item.obj[item.prop] = compacted;\n        }\n    }\n};\n\nvar arrayToObject = function arrayToObject(source, options) {\n    var obj = options && options.plainObjects ? Object.create(null) : {};\n    for (var i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n            obj[i] = source[i];\n        }\n    }\n\n    return obj;\n};\n\nvar merge = function merge(target, source, options) {\n    /* eslint no-param-reassign: 0 */\n    if (!source) {\n        return target;\n    }\n\n    if (typeof source !== 'object') {\n        if (isArray(target)) {\n            target.push(source);\n        } else if (target && typeof target === 'object') {\n            if ((options && (options.plainObjects || options.allowPrototypes)) || !has.call(Object.prototype, source)) {\n                target[source] = true;\n            }\n        } else {\n            return [target, source];\n        }\n\n        return target;\n    }\n\n    if (!target || typeof target !== 'object') {\n        return [target].concat(source);\n    }\n\n    var mergeTarget = target;\n    if (isArray(target) && !isArray(source)) {\n        mergeTarget = arrayToObject(target, options);\n    }\n\n    if (isArray(target) && isArray(source)) {\n        source.forEach(function (item, i) {\n            if (has.call(target, i)) {\n                var targetItem = target[i];\n                if (targetItem && typeof targetItem === 'object' && item && typeof item === 'object') {\n                    target[i] = merge(targetItem, item, options);\n                } else {\n                    target.push(item);\n                }\n            } else {\n                target[i] = item;\n            }\n        });\n        return target;\n    }\n\n    return Object.keys(source).reduce(function (acc, key) {\n        var value = source[key];\n\n        if (has.call(acc, key)) {\n            acc[key] = merge(acc[key], value, options);\n        } else {\n            acc[key] = value;\n        }\n        return acc;\n    }, mergeTarget);\n};\n\nvar assign = function assignSingleSource(target, source) {\n    return Object.keys(source).reduce(function (acc, key) {\n        acc[key] = source[key];\n        return acc;\n    }, target);\n};\n\nvar decode = function (str, decoder, charset) {\n    var strWithoutPlus = str.replace(/\\+/g, ' ');\n    if (charset === 'iso-8859-1') {\n        // unescape never throws, no try...catch needed:\n        return strWithoutPlus.replace(/%[0-9a-f]{2}/gi, unescape);\n    }\n    // utf-8\n    try {\n        return decodeURIComponent(strWithoutPlus);\n    } catch (e) {\n        return strWithoutPlus;\n    }\n};\n\nvar encode = function encode(str, defaultEncoder, charset) {\n    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n\n    var string = str;\n    if (typeof str === 'symbol') {\n        string = Symbol.prototype.toString.call(str);\n    } else if (typeof str !== 'string') {\n        string = String(str);\n    }\n\n    if (charset === 'iso-8859-1') {\n        return escape(string).replace(/%u[0-9a-f]{4}/gi, function ($0) {\n            return '%26%23' + parseInt($0.slice(2), 16) + '%3B';\n        });\n    }\n\n    var out = '';\n    for (var i = 0; i < string.length; ++i) {\n        var c = string.charCodeAt(i);\n\n        if (\n            c === 0x2D // -\n            || c === 0x2E // .\n            || c === 0x5F // _\n            || c === 0x7E // ~\n            || (c >= 0x30 && c <= 0x39) // 0-9\n            || (c >= 0x41 && c <= 0x5A) // a-z\n            || (c >= 0x61 && c <= 0x7A) // A-Z\n        ) {\n            out += string.charAt(i);\n            continue;\n        }\n\n        if (c < 0x80) {\n            out = out + hexTable[c];\n            continue;\n        }\n\n        if (c < 0x800) {\n            out = out + (hexTable[0xC0 | (c >> 6)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        if (c < 0xD800 || c >= 0xE000) {\n            out = out + (hexTable[0xE0 | (c >> 12)] + hexTable[0x80 | ((c >> 6) & 0x3F)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        i += 1;\n        c = 0x10000 + (((c & 0x3FF) << 10) | (string.charCodeAt(i) & 0x3FF));\n        out += hexTable[0xF0 | (c >> 18)]\n            + hexTable[0x80 | ((c >> 12) & 0x3F)]\n            + hexTable[0x80 | ((c >> 6) & 0x3F)]\n            + hexTable[0x80 | (c & 0x3F)];\n    }\n\n    return out;\n};\n\nvar compact = function compact(value) {\n    var queue = [{ obj: { o: value }, prop: 'o' }];\n    var refs = [];\n\n    for (var i = 0; i < queue.length; ++i) {\n        var item = queue[i];\n        var obj = item.obj[item.prop];\n\n        var keys = Object.keys(obj);\n        for (var j = 0; j < keys.length; ++j) {\n            var key = keys[j];\n            var val = obj[key];\n            if (typeof val === 'object' && val !== null && refs.indexOf(val) === -1) {\n                queue.push({ obj: obj, prop: key });\n                refs.push(val);\n            }\n        }\n    }\n\n    compactQueue(queue);\n\n    return value;\n};\n\nvar isRegExp = function isRegExp(obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\nvar isBuffer = function isBuffer(obj) {\n    if (!obj || typeof obj !== 'object') {\n        return false;\n    }\n\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n};\n\nvar combine = function combine(a, b) {\n    return [].concat(a, b);\n};\n\nmodule.exports = {\n    arrayToObject: arrayToObject,\n    assign: assign,\n    combine: combine,\n    compact: compact,\n    decode: decode,\n    encode: encode,\n    isBuffer: isBuffer,\n    isRegExp: isRegExp,\n    merge: merge\n};\n",
    "'use strict';\n\nvar replace = String.prototype.replace;\nvar percentTwenties = /%20/g;\n\nvar util = require('./utils');\n\nvar Format = {\n    RFC1738: 'RFC1738',\n    RFC3986: 'RFC3986'\n};\n\nmodule.exports = util.assign(\n    {\n        'default': Format.RFC3986,\n        formatters: {\n            RFC1738: function (value) {\n                return replace.call(value, percentTwenties, '+');\n            },\n            RFC3986: function (value) {\n                return String(value);\n            }\n        }\n    },\n    Format\n);\n",
    "'use strict';\n\nvar utils = require('./utils');\nvar formats = require('./formats');\nvar has = Object.prototype.hasOwnProperty;\n\nvar arrayPrefixGenerators = {\n    brackets: function brackets(prefix) {\n        return prefix + '[]';\n    },\n    comma: 'comma',\n    indices: function indices(prefix, key) {\n        return prefix + '[' + key + ']';\n    },\n    repeat: function repeat(prefix) {\n        return prefix;\n    }\n};\n\nvar isArray = Array.isArray;\nvar push = Array.prototype.push;\nvar pushToArray = function (arr, valueOrArray) {\n    push.apply(arr, isArray(valueOrArray) ? valueOrArray : [valueOrArray]);\n};\n\nvar toISO = Date.prototype.toISOString;\n\nvar defaultFormat = formats['default'];\nvar defaults = {\n    addQueryPrefix: false,\n    allowDots: false,\n    charset: 'utf-8',\n    charsetSentinel: false,\n    delimiter: '&',\n    encode: true,\n    encoder: utils.encode,\n    encodeValuesOnly: false,\n    format: defaultFormat,\n    formatter: formats.formatters[defaultFormat],\n    // deprecated\n    indices: false,\n    serializeDate: function serializeDate(date) {\n        return toISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false\n};\n\nvar isNonNullishPrimitive = function isNonNullishPrimitive(v) {\n    return typeof v === 'string'\n        || typeof v === 'number'\n        || typeof v === 'boolean'\n        || typeof v === 'symbol'\n        || typeof v === 'bigint';\n};\n\nvar stringify = function stringify(\n    object,\n    prefix,\n    generateArrayPrefix,\n    strictNullHandling,\n    skipNulls,\n    encoder,\n    filter,\n    sort,\n    allowDots,\n    serializeDate,\n    formatter,\n    encodeValuesOnly,\n    charset\n) {\n    var obj = object;\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = serializeDate(obj);\n    } else if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        obj = obj.join(',');\n    }\n\n    if (obj === null) {\n        if (strictNullHandling) {\n            return encoder && !encodeValuesOnly ? encoder(prefix, defaults.encoder, charset, 'key') : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (isNonNullishPrimitive(obj) || utils.isBuffer(obj)) {\n        if (encoder) {\n            var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder, charset, 'key');\n            return [formatter(keyValue) + '=' + formatter(encoder(obj, defaults.encoder, charset, 'value'))];\n        }\n        return [formatter(prefix) + '=' + formatter(String(obj))];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n            continue;\n        }\n\n        if (isArray(obj)) {\n            pushToArray(values, stringify(\n                obj[key],\n                typeof generateArrayPrefix === 'function' ? generateArrayPrefix(prefix, key) : prefix,\n                generateArrayPrefix,\n                strictNullHandling,\n                skipNulls,\n                encoder,\n                filter,\n                sort,\n                allowDots,\n                serializeDate,\n                formatter,\n                encodeValuesOnly,\n                charset\n            ));\n        } else {\n            pushToArray(values, stringify(\n                obj[key],\n                prefix + (allowDots ? '.' + key : '[' + key + ']'),\n                generateArrayPrefix,\n                strictNullHandling,\n                skipNulls,\n                encoder,\n                filter,\n                sort,\n                allowDots,\n                serializeDate,\n                formatter,\n                encodeValuesOnly,\n                charset\n            ));\n        }\n    }\n\n    return values;\n};\n\nvar normalizeStringifyOptions = function normalizeStringifyOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (opts.encoder !== null && opts.encoder !== undefined && typeof opts.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n\n    var charset = opts.charset || defaults.charset;\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n\n    var format = formats['default'];\n    if (typeof opts.format !== 'undefined') {\n        if (!has.call(formats.formatters, opts.format)) {\n            throw new TypeError('Unknown format option provided.');\n        }\n        format = opts.format;\n    }\n    var formatter = formats.formatters[format];\n\n    var filter = defaults.filter;\n    if (typeof opts.filter === 'function' || isArray(opts.filter)) {\n        filter = opts.filter;\n    }\n\n    return {\n        addQueryPrefix: typeof opts.addQueryPrefix === 'boolean' ? opts.addQueryPrefix : defaults.addQueryPrefix,\n        allowDots: typeof opts.allowDots === 'undefined' ? defaults.allowDots : !!opts.allowDots,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        delimiter: typeof opts.delimiter === 'undefined' ? defaults.delimiter : opts.delimiter,\n        encode: typeof opts.encode === 'boolean' ? opts.encode : defaults.encode,\n        encoder: typeof opts.encoder === 'function' ? opts.encoder : defaults.encoder,\n        encodeValuesOnly: typeof opts.encodeValuesOnly === 'boolean' ? opts.encodeValuesOnly : defaults.encodeValuesOnly,\n        filter: filter,\n        formatter: formatter,\n        serializeDate: typeof opts.serializeDate === 'function' ? opts.serializeDate : defaults.serializeDate,\n        skipNulls: typeof opts.skipNulls === 'boolean' ? opts.skipNulls : defaults.skipNulls,\n        sort: typeof opts.sort === 'function' ? opts.sort : null,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = normalizeStringifyOptions(opts);\n\n    var objKeys;\n    var filter;\n\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (isArray(options.filter)) {\n        filter = options.filter;\n        objKeys = filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var arrayFormat;\n    if (opts && opts.arrayFormat in arrayPrefixGenerators) {\n        arrayFormat = opts.arrayFormat;\n    } else if (opts && 'indices' in opts) {\n        arrayFormat = opts.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = 'indices';\n    }\n\n    var generateArrayPrefix = arrayPrefixGenerators[arrayFormat];\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (options.sort) {\n        objKeys.sort(options.sort);\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (options.skipNulls && obj[key] === null) {\n            continue;\n        }\n        pushToArray(keys, stringify(\n            obj[key],\n            key,\n            generateArrayPrefix,\n            options.strictNullHandling,\n            options.skipNulls,\n            options.encode ? options.encoder : null,\n            options.filter,\n            options.sort,\n            options.allowDots,\n            options.serializeDate,\n            options.formatter,\n            options.encodeValuesOnly,\n            options.charset\n        ));\n    }\n\n    var joined = keys.join(options.delimiter);\n    var prefix = options.addQueryPrefix === true ? '?' : '';\n\n    if (options.charsetSentinel) {\n        if (options.charset === 'iso-8859-1') {\n            // encodeURIComponent('&#10003;'), the \"numeric entity\" representation of a checkmark\n            prefix += 'utf8=%26%2310003%3B&';\n        } else {\n            // encodeURIComponent('')\n            prefix += 'utf8=%E2%9C%93&';\n        }\n    }\n\n    return joined.length > 0 ? prefix + joined : '';\n};\n",
    "'use strict';\n\nvar utils = require('./utils');\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar defaults = {\n    allowDots: false,\n    allowPrototypes: false,\n    arrayLimit: 20,\n    charset: 'utf-8',\n    charsetSentinel: false,\n    comma: false,\n    decoder: utils.decode,\n    delimiter: '&',\n    depth: 5,\n    ignoreQueryPrefix: false,\n    interpretNumericEntities: false,\n    parameterLimit: 1000,\n    parseArrays: true,\n    plainObjects: false,\n    strictNullHandling: false\n};\n\nvar interpretNumericEntities = function (str) {\n    return str.replace(/&#(\\d+);/g, function ($0, numberStr) {\n        return String.fromCharCode(parseInt(numberStr, 10));\n    });\n};\n\n// This is what browsers will submit when the  character occurs in an\n// application/x-www-form-urlencoded body and the encoding of the page containing\n// the form is iso-8859-1, or when the submitted form has an accept-charset\n// attribute of iso-8859-1. Presumably also with other charsets that do not contain\n// the  character, such as us-ascii.\nvar isoSentinel = 'utf8=%26%2310003%3B'; // encodeURIComponent('&#10003;')\n\n// These are the percent-encoded utf-8 octets representing a checkmark, indicating that the request actually is utf-8 encoded.\nvar charsetSentinel = 'utf8=%E2%9C%93'; // encodeURIComponent('')\n\nvar parseValues = function parseQueryStringValues(str, options) {\n    var obj = {};\n    var cleanStr = options.ignoreQueryPrefix ? str.replace(/^\\?/, '') : str;\n    var limit = options.parameterLimit === Infinity ? undefined : options.parameterLimit;\n    var parts = cleanStr.split(options.delimiter, limit);\n    var skipIndex = -1; // Keep track of where the utf8 sentinel was found\n    var i;\n\n    var charset = options.charset;\n    if (options.charsetSentinel) {\n        for (i = 0; i < parts.length; ++i) {\n            if (parts[i].indexOf('utf8=') === 0) {\n                if (parts[i] === charsetSentinel) {\n                    charset = 'utf-8';\n                } else if (parts[i] === isoSentinel) {\n                    charset = 'iso-8859-1';\n                }\n                skipIndex = i;\n                i = parts.length; // The eslint settings do not allow break;\n            }\n        }\n    }\n\n    for (i = 0; i < parts.length; ++i) {\n        if (i === skipIndex) {\n            continue;\n        }\n        var part = parts[i];\n\n        var bracketEqualsPos = part.indexOf(']=');\n        var pos = bracketEqualsPos === -1 ? part.indexOf('=') : bracketEqualsPos + 1;\n\n        var key, val;\n        if (pos === -1) {\n            key = options.decoder(part, defaults.decoder, charset, 'key');\n            val = options.strictNullHandling ? null : '';\n        } else {\n            key = options.decoder(part.slice(0, pos), defaults.decoder, charset, 'key');\n            val = options.decoder(part.slice(pos + 1), defaults.decoder, charset, 'value');\n        }\n\n        if (val && options.interpretNumericEntities && charset === 'iso-8859-1') {\n            val = interpretNumericEntities(val);\n        }\n\n        if (val && typeof val === 'string' && options.comma && val.indexOf(',') > -1) {\n            val = val.split(',');\n        }\n\n        if (part.indexOf('[]=') > -1) {\n            val = isArray(val) ? [val] : val;\n        }\n\n        if (has.call(obj, key)) {\n            obj[key] = utils.combine(obj[key], val);\n        } else {\n            obj[key] = val;\n        }\n    }\n\n    return obj;\n};\n\nvar parseObject = function (chain, val, options) {\n    var leaf = val;\n\n    for (var i = chain.length - 1; i >= 0; --i) {\n        var obj;\n        var root = chain[i];\n\n        if (root === '[]' && options.parseArrays) {\n            obj = [].concat(leaf);\n        } else {\n            obj = options.plainObjects ? Object.create(null) : {};\n            var cleanRoot = root.charAt(0) === '[' && root.charAt(root.length - 1) === ']' ? root.slice(1, -1) : root;\n            var index = parseInt(cleanRoot, 10);\n            if (!options.parseArrays && cleanRoot === '') {\n                obj = { 0: leaf };\n            } else if (\n                !isNaN(index)\n                && root !== cleanRoot\n                && String(index) === cleanRoot\n                && index >= 0\n                && (options.parseArrays && index <= options.arrayLimit)\n            ) {\n                obj = [];\n                obj[index] = leaf;\n            } else {\n                obj[cleanRoot] = leaf;\n            }\n        }\n\n        leaf = obj;\n    }\n\n    return leaf;\n};\n\nvar parseKeys = function parseQueryStringKeys(givenKey, val, options) {\n    if (!givenKey) {\n        return;\n    }\n\n    // Transform dot notation to bracket notation\n    var key = options.allowDots ? givenKey.replace(/\\.([^.[]+)/g, '[$1]') : givenKey;\n\n    // The regex chunks\n\n    var brackets = /(\\[[^[\\]]*])/;\n    var child = /(\\[[^[\\]]*])/g;\n\n    // Get the parent\n\n    var segment = options.depth > 0 && brackets.exec(key);\n    var parent = segment ? key.slice(0, segment.index) : key;\n\n    // Stash the parent if it exists\n\n    var keys = [];\n    if (parent) {\n        // If we aren't using plain objects, optionally prefix keys that would overwrite object prototype properties\n        if (!options.plainObjects && has.call(Object.prototype, parent)) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(parent);\n    }\n\n    // Loop through children appending to the array until we hit depth\n\n    var i = 0;\n    while (options.depth > 0 && (segment = child.exec(key)) !== null && i < options.depth) {\n        i += 1;\n        if (!options.plainObjects && has.call(Object.prototype, segment[1].slice(1, -1))) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n        keys.push(segment[1]);\n    }\n\n    // If there's a remainder, just add whatever is left\n\n    if (segment) {\n        keys.push('[' + key.slice(segment.index) + ']');\n    }\n\n    return parseObject(keys, val, options);\n};\n\nvar normalizeParseOptions = function normalizeParseOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (opts.decoder !== null && opts.decoder !== undefined && typeof opts.decoder !== 'function') {\n        throw new TypeError('Decoder has to be a function.');\n    }\n\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new Error('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n    var charset = typeof opts.charset === 'undefined' ? defaults.charset : opts.charset;\n\n    return {\n        allowDots: typeof opts.allowDots === 'undefined' ? defaults.allowDots : !!opts.allowDots,\n        allowPrototypes: typeof opts.allowPrototypes === 'boolean' ? opts.allowPrototypes : defaults.allowPrototypes,\n        arrayLimit: typeof opts.arrayLimit === 'number' ? opts.arrayLimit : defaults.arrayLimit,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        comma: typeof opts.comma === 'boolean' ? opts.comma : defaults.comma,\n        decoder: typeof opts.decoder === 'function' ? opts.decoder : defaults.decoder,\n        delimiter: typeof opts.delimiter === 'string' || utils.isRegExp(opts.delimiter) ? opts.delimiter : defaults.delimiter,\n        // eslint-disable-next-line no-implicit-coercion, no-extra-parens\n        depth: (typeof opts.depth === 'number' || opts.depth === false) ? +opts.depth : defaults.depth,\n        ignoreQueryPrefix: opts.ignoreQueryPrefix === true,\n        interpretNumericEntities: typeof opts.interpretNumericEntities === 'boolean' ? opts.interpretNumericEntities : defaults.interpretNumericEntities,\n        parameterLimit: typeof opts.parameterLimit === 'number' ? opts.parameterLimit : defaults.parameterLimit,\n        parseArrays: opts.parseArrays !== false,\n        plainObjects: typeof opts.plainObjects === 'boolean' ? opts.plainObjects : defaults.plainObjects,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (str, opts) {\n    var options = normalizeParseOptions(opts);\n\n    if (str === '' || str === null || typeof str === 'undefined') {\n        return options.plainObjects ? Object.create(null) : {};\n    }\n\n    var tempObj = typeof str === 'string' ? parseValues(str, options) : str;\n    var obj = options.plainObjects ? Object.create(null) : {};\n\n    // Iterate over the keys and setup the new object\n\n    var keys = Object.keys(tempObj);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var newObj = parseKeys(key, tempObj[key], options);\n        obj = utils.merge(obj, newObj, options);\n    }\n\n    return utils.compact(obj);\n};\n",
    "'use strict';\n\nvar stringify = require('./stringify');\nvar parse = require('./parse');\nvar formats = require('./formats');\n\nmodule.exports = {\n    formats: formats,\n    parse: parse,\n    stringify: stringify\n};\n",
    "/*! https://mths.be/punycode v1.4.1 by @mathias */\n;(function(root) {\n\n\t/** Detect free variables */\n\tvar freeExports = typeof exports == 'object' && exports &&\n\t\t!exports.nodeType && exports;\n\tvar freeModule = typeof module == 'object' && module &&\n\t\t!module.nodeType && module;\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (\n\t\tfreeGlobal.global === freeGlobal ||\n\t\tfreeGlobal.window === freeGlobal ||\n\t\tfreeGlobal.self === freeGlobal\n\t) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n\t * The `punycode` object.\n\t * @name punycode\n\t * @type Object\n\t */\n\tvar punycode,\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\ttMin = 1,\n\ttMax = 26,\n\tskew = 38,\n\tdamp = 700,\n\tinitialBias = 72,\n\tinitialN = 128, // 0x80\n\tdelimiter = '-', // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\tfloor = Math.floor,\n\tstringFromCharCode = String.fromCharCode,\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type) {\n\t\tthrow new RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t * addresses.\n\t * @private\n\t * @param {String} domain The domain name or email address.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split('@');\n\t\tvar result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tstring = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\tvar labels = string.split('.');\n\t\tvar encoded = map(labels, fn).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} string The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function(value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {Number} codePoint The basic numeric code point value.\n\t * @returns {Number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {Number} digit The numeric value of a basic code point.\n\t * @returns {Number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * https://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\t\t    /** Cached calculation results */\n\t\t    baseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t * Punycode string of ASCII-only symbols.\n\t * @memberOf punycode\n\t * @param {String} input The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t    inputLength,\n\t\t    /** Cached calculation results */\n\t\t    handledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name or an email address\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t * it doesn't matter if you call it on a string that has already been\n\t * converted to Unicode.\n\t * @memberOf punycode\n\t * @param {String} input The Punycoded domain name or email address to\n\t * convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexPunycode.test(string)\n\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name or an email address to\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t * ASCII.\n\t * @memberOf punycode\n\t * @param {String} input The domain name or email address to convert, as a\n\t * Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name or\n\t * email address.\n\t */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n\t\t * A string representing the current Punycode.js version number.\n\t\t * @memberOf punycode\n\t\t * @type String\n\t\t */\n\t\t'version': '1.4.1',\n\t\t/**\n\t\t * An object of methods to convert from JavaScript's internal character\n\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode\n\t\t * @type Object\n\t\t */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine('punycode', function() {\n\t\t\treturn punycode;\n\t\t});\n\t} else if (freeExports && freeModule) {\n\t\tif (module.exports == freeExports) {\n\t\t\t// in Node.js, io.js, or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = punycode;\n\t\t} else {\n\t\t\t// in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (key in punycode) {\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t}\n\t\t}\n\t} else {\n\t\t// in Rhino or a web browser\n\t\troot.punycode = punycode;\n\t}\n\n}(this));\n",
    "'use strict';\n\nmodule.exports = {\n  isString: function(arg) {\n    return typeof(arg) === 'string';\n  },\n  isObject: function(arg) {\n    return typeof(arg) === 'object' && arg !== null;\n  },\n  isNull: function(arg) {\n    return arg === null;\n  },\n  isNullOrUndefined: function(arg) {\n    return arg == null;\n  }\n};\n",
    "// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n",
    "// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n",
    "'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n",
    "// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar punycode = require('punycode');\nvar util = require('./util');\n\nexports.parse = urlParse;\nexports.resolve = urlResolve;\nexports.resolveObject = urlResolveObject;\nexports.format = urlFormat;\n\nexports.Url = Url;\n\nfunction Url() {\n  this.protocol = null;\n  this.slashes = null;\n  this.auth = null;\n  this.host = null;\n  this.port = null;\n  this.hostname = null;\n  this.hash = null;\n  this.search = null;\n  this.query = null;\n  this.pathname = null;\n  this.path = null;\n  this.href = null;\n}\n\n// Reference: RFC 3986, RFC 1808, RFC 2396\n\n// define these here so at least they only have to be\n// compiled once on the first module load.\nvar protocolPattern = /^([a-z0-9.+-]+:)/i,\n    portPattern = /:[0-9]*$/,\n\n    // Special case for a simple path URL\n    simplePathPattern = /^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,\n\n    // RFC 2396: characters reserved for delimiting URLs.\n    // We actually just auto-escape these.\n    delims = ['<', '>', '\"', '`', ' ', '\\r', '\\n', '\\t'],\n\n    // RFC 2396: characters not allowed for various reasons.\n    unwise = ['{', '}', '|', '\\\\', '^', '`'].concat(delims),\n\n    // Allowed by RFCs, but cause of XSS attacks.  Always escape these.\n    autoEscape = ['\\''].concat(unwise),\n    // Characters that are never ever allowed in a hostname.\n    // Note that any invalid chars are also handled, but these\n    // are the ones that are *expected* to be seen, so we fast-path\n    // them.\n    nonHostChars = ['%', '/', '?', ';', '#'].concat(autoEscape),\n    hostEndingChars = ['/', '?', '#'],\n    hostnameMaxLen = 255,\n    hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,\n    hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,\n    // protocols that can allow \"unsafe\" and \"unwise\" chars.\n    unsafeProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that never have a hostname.\n    hostlessProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that always contain a // bit.\n    slashedProtocol = {\n      'http': true,\n      'https': true,\n      'ftp': true,\n      'gopher': true,\n      'file': true,\n      'http:': true,\n      'https:': true,\n      'ftp:': true,\n      'gopher:': true,\n      'file:': true\n    },\n    querystring = require('querystring');\n\nfunction urlParse(url, parseQueryString, slashesDenoteHost) {\n  if (url && util.isObject(url) && url instanceof Url) return url;\n\n  var u = new Url;\n  u.parse(url, parseQueryString, slashesDenoteHost);\n  return u;\n}\n\nUrl.prototype.parse = function(url, parseQueryString, slashesDenoteHost) {\n  if (!util.isString(url)) {\n    throw new TypeError(\"Parameter 'url' must be a string, not \" + typeof url);\n  }\n\n  // Copy chrome, IE, opera backslash-handling behavior.\n  // Back slashes before the query string get converted to forward slashes\n  // See: https://code.google.com/p/chromium/issues/detail?id=25916\n  var queryIndex = url.indexOf('?'),\n      splitter =\n          (queryIndex !== -1 && queryIndex < url.indexOf('#')) ? '?' : '#',\n      uSplit = url.split(splitter),\n      slashRegex = /\\\\/g;\n  uSplit[0] = uSplit[0].replace(slashRegex, '/');\n  url = uSplit.join(splitter);\n\n  var rest = url;\n\n  // trim before proceeding.\n  // This is to support parse stuff like \"  http://foo.com  \\n\"\n  rest = rest.trim();\n\n  if (!slashesDenoteHost && url.split('#').length === 1) {\n    // Try fast path regexp\n    var simplePath = simplePathPattern.exec(rest);\n    if (simplePath) {\n      this.path = rest;\n      this.href = rest;\n      this.pathname = simplePath[1];\n      if (simplePath[2]) {\n        this.search = simplePath[2];\n        if (parseQueryString) {\n          this.query = querystring.parse(this.search.substr(1));\n        } else {\n          this.query = this.search.substr(1);\n        }\n      } else if (parseQueryString) {\n        this.search = '';\n        this.query = {};\n      }\n      return this;\n    }\n  }\n\n  var proto = protocolPattern.exec(rest);\n  if (proto) {\n    proto = proto[0];\n    var lowerProto = proto.toLowerCase();\n    this.protocol = lowerProto;\n    rest = rest.substr(proto.length);\n  }\n\n  // figure out if it's got a host\n  // user@server is *always* interpreted as a hostname, and url\n  // resolution will treat //foo/bar as host=foo,path=bar because that's\n  // how the browser resolves relative URLs.\n  if (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)) {\n    var slashes = rest.substr(0, 2) === '//';\n    if (slashes && !(proto && hostlessProtocol[proto])) {\n      rest = rest.substr(2);\n      this.slashes = true;\n    }\n  }\n\n  if (!hostlessProtocol[proto] &&\n      (slashes || (proto && !slashedProtocol[proto]))) {\n\n    // there's a hostname.\n    // the first instance of /, ?, ;, or # ends the host.\n    //\n    // If there is an @ in the hostname, then non-host chars *are* allowed\n    // to the left of the last @ sign, unless some host-ending character\n    // comes *before* the @-sign.\n    // URLs are obnoxious.\n    //\n    // ex:\n    // http://a@b@c/ => user:a@b host:c\n    // http://a@b?@c => user:a host:c path:/?@c\n\n    // v0.12 TODO(isaacs): This is not quite how Chrome does things.\n    // Review our test case against browsers more comprehensively.\n\n    // find the first instance of any hostEndingChars\n    var hostEnd = -1;\n    for (var i = 0; i < hostEndingChars.length; i++) {\n      var hec = rest.indexOf(hostEndingChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n\n    // at this point, either we have an explicit point where the\n    // auth portion cannot go past, or the last @ char is the decider.\n    var auth, atSign;\n    if (hostEnd === -1) {\n      // atSign can be anywhere.\n      atSign = rest.lastIndexOf('@');\n    } else {\n      // atSign must be in auth portion.\n      // http://a@b/c@d => host:b auth:a path:/c@d\n      atSign = rest.lastIndexOf('@', hostEnd);\n    }\n\n    // Now we have a portion which is definitely the auth.\n    // Pull that off.\n    if (atSign !== -1) {\n      auth = rest.slice(0, atSign);\n      rest = rest.slice(atSign + 1);\n      this.auth = decodeURIComponent(auth);\n    }\n\n    // the host is the remaining to the left of the first non-host char\n    hostEnd = -1;\n    for (var i = 0; i < nonHostChars.length; i++) {\n      var hec = rest.indexOf(nonHostChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n    // if we still have not hit it, then the entire thing is a host.\n    if (hostEnd === -1)\n      hostEnd = rest.length;\n\n    this.host = rest.slice(0, hostEnd);\n    rest = rest.slice(hostEnd);\n\n    // pull out port.\n    this.parseHost();\n\n    // we've indicated that there is a hostname,\n    // so even if it's empty, it has to be present.\n    this.hostname = this.hostname || '';\n\n    // if hostname begins with [ and ends with ]\n    // assume that it's an IPv6 address.\n    var ipv6Hostname = this.hostname[0] === '[' &&\n        this.hostname[this.hostname.length - 1] === ']';\n\n    // validate a little.\n    if (!ipv6Hostname) {\n      var hostparts = this.hostname.split(/\\./);\n      for (var i = 0, l = hostparts.length; i < l; i++) {\n        var part = hostparts[i];\n        if (!part) continue;\n        if (!part.match(hostnamePartPattern)) {\n          var newpart = '';\n          for (var j = 0, k = part.length; j < k; j++) {\n            if (part.charCodeAt(j) > 127) {\n              // we replace non-ASCII char with a temporary placeholder\n              // we need this to make sure size of hostname is not\n              // broken by replacing non-ASCII by nothing\n              newpart += 'x';\n            } else {\n              newpart += part[j];\n            }\n          }\n          // we test again with ASCII char only\n          if (!newpart.match(hostnamePartPattern)) {\n            var validParts = hostparts.slice(0, i);\n            var notHost = hostparts.slice(i + 1);\n            var bit = part.match(hostnamePartStart);\n            if (bit) {\n              validParts.push(bit[1]);\n              notHost.unshift(bit[2]);\n            }\n            if (notHost.length) {\n              rest = '/' + notHost.join('.') + rest;\n            }\n            this.hostname = validParts.join('.');\n            break;\n          }\n        }\n      }\n    }\n\n    if (this.hostname.length > hostnameMaxLen) {\n      this.hostname = '';\n    } else {\n      // hostnames are always lower case.\n      this.hostname = this.hostname.toLowerCase();\n    }\n\n    if (!ipv6Hostname) {\n      // IDNA Support: Returns a punycoded representation of \"domain\".\n      // It only converts parts of the domain name that\n      // have non-ASCII characters, i.e. it doesn't matter if\n      // you call it with a domain that already is ASCII-only.\n      this.hostname = punycode.toASCII(this.hostname);\n    }\n\n    var p = this.port ? ':' + this.port : '';\n    var h = this.hostname || '';\n    this.host = h + p;\n    this.href += this.host;\n\n    // strip [ and ] from the hostname\n    // the host field still retains them, though\n    if (ipv6Hostname) {\n      this.hostname = this.hostname.substr(1, this.hostname.length - 2);\n      if (rest[0] !== '/') {\n        rest = '/' + rest;\n      }\n    }\n  }\n\n  // now rest is set to the post-host stuff.\n  // chop off any delim chars.\n  if (!unsafeProtocol[lowerProto]) {\n\n    // First, make 100% sure that any \"autoEscape\" chars get\n    // escaped, even if encodeURIComponent doesn't think they\n    // need to be.\n    for (var i = 0, l = autoEscape.length; i < l; i++) {\n      var ae = autoEscape[i];\n      if (rest.indexOf(ae) === -1)\n        continue;\n      var esc = encodeURIComponent(ae);\n      if (esc === ae) {\n        esc = escape(ae);\n      }\n      rest = rest.split(ae).join(esc);\n    }\n  }\n\n\n  // chop off from the tail first.\n  var hash = rest.indexOf('#');\n  if (hash !== -1) {\n    // got a fragment string.\n    this.hash = rest.substr(hash);\n    rest = rest.slice(0, hash);\n  }\n  var qm = rest.indexOf('?');\n  if (qm !== -1) {\n    this.search = rest.substr(qm);\n    this.query = rest.substr(qm + 1);\n    if (parseQueryString) {\n      this.query = querystring.parse(this.query);\n    }\n    rest = rest.slice(0, qm);\n  } else if (parseQueryString) {\n    // no query string, but parseQueryString still requested\n    this.search = '';\n    this.query = {};\n  }\n  if (rest) this.pathname = rest;\n  if (slashedProtocol[lowerProto] &&\n      this.hostname && !this.pathname) {\n    this.pathname = '/';\n  }\n\n  //to support http.request\n  if (this.pathname || this.search) {\n    var p = this.pathname || '';\n    var s = this.search || '';\n    this.path = p + s;\n  }\n\n  // finally, reconstruct the href based on what has been validated.\n  this.href = this.format();\n  return this;\n};\n\n// format a parsed object into a url string\nfunction urlFormat(obj) {\n  // ensure it's an object, and not a string url.\n  // If it's an obj, this is a no-op.\n  // this way, you can call url_format() on strings\n  // to clean up potentially wonky urls.\n  if (util.isString(obj)) obj = urlParse(obj);\n  if (!(obj instanceof Url)) return Url.prototype.format.call(obj);\n  return obj.format();\n}\n\nUrl.prototype.format = function() {\n  var auth = this.auth || '';\n  if (auth) {\n    auth = encodeURIComponent(auth);\n    auth = auth.replace(/%3A/i, ':');\n    auth += '@';\n  }\n\n  var protocol = this.protocol || '',\n      pathname = this.pathname || '',\n      hash = this.hash || '',\n      host = false,\n      query = '';\n\n  if (this.host) {\n    host = auth + this.host;\n  } else if (this.hostname) {\n    host = auth + (this.hostname.indexOf(':') === -1 ?\n        this.hostname :\n        '[' + this.hostname + ']');\n    if (this.port) {\n      host += ':' + this.port;\n    }\n  }\n\n  if (this.query &&\n      util.isObject(this.query) &&\n      Object.keys(this.query).length) {\n    query = querystring.stringify(this.query);\n  }\n\n  var search = this.search || (query && ('?' + query)) || '';\n\n  if (protocol && protocol.substr(-1) !== ':') protocol += ':';\n\n  // only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.\n  // unless they had them to begin with.\n  if (this.slashes ||\n      (!protocol || slashedProtocol[protocol]) && host !== false) {\n    host = '//' + (host || '');\n    if (pathname && pathname.charAt(0) !== '/') pathname = '/' + pathname;\n  } else if (!host) {\n    host = '';\n  }\n\n  if (hash && hash.charAt(0) !== '#') hash = '#' + hash;\n  if (search && search.charAt(0) !== '?') search = '?' + search;\n\n  pathname = pathname.replace(/[?#]/g, function(match) {\n    return encodeURIComponent(match);\n  });\n  search = search.replace('#', '%23');\n\n  return protocol + host + pathname + search + hash;\n};\n\nfunction urlResolve(source, relative) {\n  return urlParse(source, false, true).resolve(relative);\n}\n\nUrl.prototype.resolve = function(relative) {\n  return this.resolveObject(urlParse(relative, false, true)).format();\n};\n\nfunction urlResolveObject(source, relative) {\n  if (!source) return relative;\n  return urlParse(source, false, true).resolveObject(relative);\n}\n\nUrl.prototype.resolveObject = function(relative) {\n  if (util.isString(relative)) {\n    var rel = new Url();\n    rel.parse(relative, false, true);\n    relative = rel;\n  }\n\n  var result = new Url();\n  var tkeys = Object.keys(this);\n  for (var tk = 0; tk < tkeys.length; tk++) {\n    var tkey = tkeys[tk];\n    result[tkey] = this[tkey];\n  }\n\n  // hash is always overridden, no matter what.\n  // even href=\"\" will remove it.\n  result.hash = relative.hash;\n\n  // if the relative url is empty, then there's nothing left to do here.\n  if (relative.href === '') {\n    result.href = result.format();\n    return result;\n  }\n\n  // hrefs like //foo/bar always cut to the protocol.\n  if (relative.slashes && !relative.protocol) {\n    // take everything except the protocol from relative\n    var rkeys = Object.keys(relative);\n    for (var rk = 0; rk < rkeys.length; rk++) {\n      var rkey = rkeys[rk];\n      if (rkey !== 'protocol')\n        result[rkey] = relative[rkey];\n    }\n\n    //urlParse appends trailing / to urls like http://www.example.com\n    if (slashedProtocol[result.protocol] &&\n        result.hostname && !result.pathname) {\n      result.path = result.pathname = '/';\n    }\n\n    result.href = result.format();\n    return result;\n  }\n\n  if (relative.protocol && relative.protocol !== result.protocol) {\n    // if it's a known url protocol, then changing\n    // the protocol does weird things\n    // first, if it's not file:, then we MUST have a host,\n    // and if there was a path\n    // to begin with, then we MUST have a path.\n    // if it is file:, then the host is dropped,\n    // because that's known to be hostless.\n    // anything else is assumed to be absolute.\n    if (!slashedProtocol[relative.protocol]) {\n      var keys = Object.keys(relative);\n      for (var v = 0; v < keys.length; v++) {\n        var k = keys[v];\n        result[k] = relative[k];\n      }\n      result.href = result.format();\n      return result;\n    }\n\n    result.protocol = relative.protocol;\n    if (!relative.host && !hostlessProtocol[relative.protocol]) {\n      var relPath = (relative.pathname || '').split('/');\n      while (relPath.length && !(relative.host = relPath.shift()));\n      if (!relative.host) relative.host = '';\n      if (!relative.hostname) relative.hostname = '';\n      if (relPath[0] !== '') relPath.unshift('');\n      if (relPath.length < 2) relPath.unshift('');\n      result.pathname = relPath.join('/');\n    } else {\n      result.pathname = relative.pathname;\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    result.host = relative.host || '';\n    result.auth = relative.auth;\n    result.hostname = relative.hostname || relative.host;\n    result.port = relative.port;\n    // to support http.request\n    if (result.pathname || result.search) {\n      var p = result.pathname || '';\n      var s = result.search || '';\n      result.path = p + s;\n    }\n    result.slashes = result.slashes || relative.slashes;\n    result.href = result.format();\n    return result;\n  }\n\n  var isSourceAbs = (result.pathname && result.pathname.charAt(0) === '/'),\n      isRelAbs = (\n          relative.host ||\n          relative.pathname && relative.pathname.charAt(0) === '/'\n      ),\n      mustEndAbs = (isRelAbs || isSourceAbs ||\n                    (result.host && relative.pathname)),\n      removeAllDots = mustEndAbs,\n      srcPath = result.pathname && result.pathname.split('/') || [],\n      relPath = relative.pathname && relative.pathname.split('/') || [],\n      psychotic = result.protocol && !slashedProtocol[result.protocol];\n\n  // if the url is a non-slashed url, then relative\n  // links like ../.. should be able\n  // to crawl up to the hostname, as well.  This is strange.\n  // result.protocol has already been set by now.\n  // Later on, put the first path part into the host field.\n  if (psychotic) {\n    result.hostname = '';\n    result.port = null;\n    if (result.host) {\n      if (srcPath[0] === '') srcPath[0] = result.host;\n      else srcPath.unshift(result.host);\n    }\n    result.host = '';\n    if (relative.protocol) {\n      relative.hostname = null;\n      relative.port = null;\n      if (relative.host) {\n        if (relPath[0] === '') relPath[0] = relative.host;\n        else relPath.unshift(relative.host);\n      }\n      relative.host = null;\n    }\n    mustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');\n  }\n\n  if (isRelAbs) {\n    // it's absolute.\n    result.host = (relative.host || relative.host === '') ?\n                  relative.host : result.host;\n    result.hostname = (relative.hostname || relative.hostname === '') ?\n                      relative.hostname : result.hostname;\n    result.search = relative.search;\n    result.query = relative.query;\n    srcPath = relPath;\n    // fall through to the dot-handling below.\n  } else if (relPath.length) {\n    // it's relative\n    // throw away the existing file, and take the new path instead.\n    if (!srcPath) srcPath = [];\n    srcPath.pop();\n    srcPath = srcPath.concat(relPath);\n    result.search = relative.search;\n    result.query = relative.query;\n  } else if (!util.isNullOrUndefined(relative.search)) {\n    // just pull out the search.\n    // like href='?foo'.\n    // Put this after the other two cases because it simplifies the booleans\n    if (psychotic) {\n      result.hostname = result.host = srcPath.shift();\n      //occationaly the auth can get stuck only in host\n      //this especially happens in cases like\n      //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n      var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                       result.host.split('@') : false;\n      if (authInHost) {\n        result.auth = authInHost.shift();\n        result.host = result.hostname = authInHost.shift();\n      }\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    //to support http.request\n    if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n      result.path = (result.pathname ? result.pathname : '') +\n                    (result.search ? result.search : '');\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  if (!srcPath.length) {\n    // no path at all.  easy.\n    // we've already handled the other stuff above.\n    result.pathname = null;\n    //to support http.request\n    if (result.search) {\n      result.path = '/' + result.search;\n    } else {\n      result.path = null;\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  // if a url ENDs in . or .., then it must get a trailing slash.\n  // however, if it ends in anything else non-slashy,\n  // then it must NOT get a trailing slash.\n  var last = srcPath.slice(-1)[0];\n  var hasTrailingSlash = (\n      (result.host || relative.host || srcPath.length > 1) &&\n      (last === '.' || last === '..') || last === '');\n\n  // strip single dots, resolve double dots to parent dir\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = srcPath.length; i >= 0; i--) {\n    last = srcPath[i];\n    if (last === '.') {\n      srcPath.splice(i, 1);\n    } else if (last === '..') {\n      srcPath.splice(i, 1);\n      up++;\n    } else if (up) {\n      srcPath.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (!mustEndAbs && !removeAllDots) {\n    for (; up--; up) {\n      srcPath.unshift('..');\n    }\n  }\n\n  if (mustEndAbs && srcPath[0] !== '' &&\n      (!srcPath[0] || srcPath[0].charAt(0) !== '/')) {\n    srcPath.unshift('');\n  }\n\n  if (hasTrailingSlash && (srcPath.join('/').substr(-1) !== '/')) {\n    srcPath.push('');\n  }\n\n  var isAbsolute = srcPath[0] === '' ||\n      (srcPath[0] && srcPath[0].charAt(0) === '/');\n\n  // put the host back\n  if (psychotic) {\n    result.hostname = result.host = isAbsolute ? '' :\n                                    srcPath.length ? srcPath.shift() : '';\n    //occationaly the auth can get stuck only in host\n    //this especially happens in cases like\n    //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n    var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                     result.host.split('@') : false;\n    if (authInHost) {\n      result.auth = authInHost.shift();\n      result.host = result.hostname = authInHost.shift();\n    }\n  }\n\n  mustEndAbs = mustEndAbs || (result.host && srcPath.length);\n\n  if (mustEndAbs && !isAbsolute) {\n    srcPath.unshift('');\n  }\n\n  if (!srcPath.length) {\n    result.pathname = null;\n    result.path = null;\n  } else {\n    result.pathname = srcPath.join('/');\n  }\n\n  //to support request.http\n  if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n    result.path = (result.pathname ? result.pathname : '') +\n                  (result.search ? result.search : '');\n  }\n  result.auth = relative.auth || result.auth;\n  result.slashes = result.slashes || relative.slashes;\n  result.href = result.format();\n  return result;\n};\n\nUrl.prototype.parseHost = function() {\n  var host = this.host;\n  var port = portPattern.exec(host);\n  if (port) {\n    port = port[0];\n    if (port !== ':') {\n      this.port = port.substr(1);\n    }\n    host = host.substr(0, host.length - port.length);\n  }\n  if (host) this.hostname = host;\n};\n",
    "var qs = require('qs')\nvar nodeUrl = require('url');\n\nmodule.exports = {\n  render: render\n, isTransitional: isTransitional\n, mapRoute: mapRoute\n}\n\nfunction isTransitional(pattern) {\n  return pattern.hasOwnProperty('from') && pattern.hasOwnProperty('to')\n}\n\nfunction mapRoute(from, params) {\n  var i = params.url.indexOf('?')\n  var queryString = (~i) ? params.url.slice(i) : ''\n  // If the route looks like /:a/:b?/:c/:d?\n  // and :b and :d are missing, return /a/c\n  // Thus, skip the / if the value is missing\n  var i = 0\n  var path = from.replace(/\\/(?:(?:\\:([^?\\/:*(]+)(?:\\([^)]+\\))?)|\\*)(\\?)?/g, onMatch)\n  function onMatch(match, key, optional) {\n    var value = key ? params[key] : params[i++]\n    return (optional && value == null) ? '' : '/' + encodeURIComponent(value)\n  }\n  return path + queryString\n}\n\nfunction render(history, options, e) {\n  var req = new RenderReq(history.app.page, history.routes, options, e)\n  req.routeTransitional(0, function() {\n    req.page = history.page()\n    req.routeQueue(0, function() {\n      // Cancel rendering by this app if no routes match\n      req.cancel()\n    })\n  })\n}\n\nfunction RenderReq(page, routes, options, e) {\n  this.page = page\n  this.options = options\n  this.e = e\n  this.setUrl(options.url.replace(/#.*/, ''))\n  var queryString = nodeUrl.parse(this.url).query;\n  this.query = queryString ? qs.parse(queryString) : {}\n  this.method = options.method\n  this.body = options.body || {}\n  this.setPrevious(options.previous)\n  this.transitional = routes.transitional[this.method]\n  this.queue = routes.queue[this.method]\n  this.app = routes.app\n}\n\nRenderReq.prototype.cancel = function() {\n  var options = this.options\n  // Don't do anything if this is the result of an event, since the\n  // appropriate action will happen by default\n  if (this.e || options.noNavigate) return\n  // Otherwise, manually perform appropriate action\n  if (options.form) {\n    options.form.setAttribute('data-router-ignore', '')\n    options.form.submit()\n  } else {\n    window.location.assign(options.url)\n  }\n}\n\nRenderReq.prototype.setUrl = function(url) {\n  this.url = url\n  this.path = url.replace(/\\?.*/, '')\n}\nRenderReq.prototype.setPrevious = function(previous) {\n  this.previous = previous\n  this.previousPath = previous && previous.replace(/\\?.*/, '')\n}\n\nRenderReq.prototype.routeTransitional = function(i, next) {\n  i || (i = 0)\n  var item\n  while (item = this.transitional[i++]) {\n    if (!item.to.match(this.path) || !item.from.match(this.previousPath)) continue\n    var req = this\n    var params = this.routeParams(item.to)\n    // Even though we don't need to do anything after a done, pass a\n    // no op function, so that routes can expect it to be defined\n    function done() {}\n    this.onMatch(item.to, params, function(err) {\n      if (err) return req.cancel()\n      req.routeTransitional(i, next)\n    }, done)\n    return\n  }\n  next()\n}\n\nRenderReq.prototype.routeQueue = function(i, next) {\n  i || (i = 0)\n  var route\n  while (route = this.queue[i++]) {\n    if (!route.match(this.path)) continue\n    var req = this\n    var params = this.routeParams(route)\n    this.onMatch(route, params, function(err) {\n      if (err) return req.cancel()\n      req.routeQueue(i, next)\n    })\n    return\n  }\n  next()\n}\n\nRenderReq.prototype.onMatch = function(route, params, next, done) {\n  if (!this.page) return next()\n  // Stop the default browser action, such as clicking a link or submitting a form\n  if (this.e) {\n    this.e.preventDefault()\n    this.e = null\n  }\n  this.page.params = params\n  if (route.isTransitional) {\n    this.app.onRoute(route.callbacks, this.page, next, done)\n  } else {\n    this.app.onRoute(route.callbacks, this.page, next)\n  }\n}\n\nRenderReq.prototype.routeParams = function(route) {\n  var routeParams = route.params\n  var params = routeParams.slice()\n\n  for (var key in routeParams) {\n    params[key] = routeParams[key]\n  }\n  params.previous = this.previous\n  params.url = this.url\n  params.body = this.body\n  params.query = this.query\n  params.method = this.method\n  return params\n}\n",
    "var qs = require('qs')\nvar parseUrl = require('url').parse\nvar resolveUrl = require('url').resolve\nvar router = require('./router')\nvar currentPath = window.location.pathname + window.location.search\n\n// Replace the initial state with the current URL immediately,\n// so that it will be rendered if the state is later popped\nif (window.history.replaceState) {\n  window.history.replaceState({\n    $render: true,\n    $method: 'get'\n  }, null, window.location.href)\n}\n\nmodule.exports = History\n\nfunction History(app, routes) {\n  this.app = app\n  this.routes = routes\n\n  if (window.history.pushState) {\n    addListeners(this)\n    return\n  }\n  this.push = function(url) {\n    window.location.assign(url)\n  }\n  this.replace = function(url) {\n    window.location.replace(url)\n  }\n}\n\nHistory.prototype.push = function(url, render, state, e) {\n  this._update('pushState', url, render, state, e)\n}\n\nHistory.prototype.replace = function(url, render, state, e) {\n  this._update('replaceState', url, render, state, e)\n}\n\n// Rerender the current url locally\nHistory.prototype.refresh = function() {\n  var path = routePath(window.location.href)\n  // Note that we don't pass previous to avoid triggering transitions\n  router.render(this, {url: path, method: 'get'})\n}\n\nHistory.prototype.back = function() {\n  window.history.back()\n}\n\nHistory.prototype.forward = function() {\n  window.history.forward()\n}\n\nHistory.prototype.go = function(i) {\n  window.history.go(i)\n}\n\nHistory.prototype._update = function(historyMethod, relativeUrl, render, state, e) {\n  var url = resolveUrl(window.location.href, relativeUrl)\n  var path = routePath(url)\n\n  // TODO: history.push should set the window.location with external urls\n  if (!path) return\n  if (render == null) render = true\n  if (state == null) state = {}\n\n  // Update the URL\n  var options = renderOptions(e, path)\n  state.$render = true\n  state.$method = options.method\n  window.history[historyMethod](state, null, options.url)\n  currentPath = window.location.pathname + window.location.search\n  if (render) router.render(this, options, e)\n}\n\nHistory.prototype.page = function() {\n  var page = this.app.createPage()\n  var history = this\n\n  function redirect(url) {\n    if (url === 'back') return history.back()\n    // TODO: Add support for `basepath` option like Express\n    if (url === 'home') url = '\\\\'\n    history.replace(url, true)\n  }\n\n  page.redirect = redirect\n  return page\n}\n\n// Get the pathname if it is on the same protocol and domain\nfunction routePath(url) {\n  var match = parseUrl(url)\n  return match &&\n    match.protocol === window.location.protocol &&\n    match.host === window.location.host &&\n    match.pathname + (match.search || '')\n}\n\nfunction renderOptions(e, path) {\n  // If this is a form submission, extract the form data and\n  // append it to the url for a get or params.body for a post\n  if (e && e.type === 'submit') {\n    var form = e.target\n    var elements = form.elements\n    var query = []\n    for (var i = 0, len = elements.length, el; i < len; i++) {\n      el = elements[i]\n      var name = el.name\n      if (!name) continue\n      var value = el.value\n      query.push(encodeURIComponent(name) + '=' + encodeURIComponent(value))\n      if (name === '_method') {\n        var override = value.toLowerCase()\n        if (override === 'delete') override = 'del'\n      }\n    }\n    query = query.join('&')\n    if (form.method.toLowerCase() === 'post') {\n      var method = override || 'post'\n      var body = qs.parse(query)\n    } else {\n      method = 'get'\n      path += '?' + query\n    }\n  } else {\n    method = 'get'\n  }\n  return {\n    method: method\n  , url: path\n  , previous: window.location.pathname + window.location.search\n  , body: body\n  , form: form\n  , link: e && e._tracksLink\n  }\n}\n\nfunction addListeners(history) {\n\n  // Detect clicks on links\n  function onClick(e) {\n    var el = e.target\n\n    // Ignore command click, control click, and non-left click\n    if (e.metaKey || e.which !== 1) return\n\n    // Ignore if already prevented\n    if (e.defaultPrevented) return\n\n    // Also look up for parent links (<a><img></a>)\n    while (el) {\n      var url = el.href\n      if (url) {\n\n        // Ignore if created by Tracks\n        if (el.hasAttribute && el.hasAttribute('data-router-ignore')) return\n\n        // Ignore links meant to open in a different window or frame\n        if (el.target && el.target !== '_self') return\n\n        // Ignore hash links to the same page\n        var hashIndex = url.indexOf('#')\n        if (~hashIndex && url.slice(0, hashIndex) === window.location.href.replace(/#.*/, '')) {\n          return\n        }\n\n        e._tracksLink = el\n        history.push(url, true, null, e)\n        return\n      }\n\n      el = el.parentNode\n    }\n  }\n\n  function onSubmit(e) {\n    var target = e.target\n\n    // Ignore if already prevented\n    if (e.defaultPrevented) return\n\n    // Only handle if emitted on a form element that isn't multipart\n    if (target.tagName.toLowerCase() !== 'form') return\n    if (target.enctype === 'multipart/form-data') return\n\n    // Ignore if created by Tracks\n    if (target.hasAttribute && target.hasAttribute('data-router-ignore')) return\n\n    // Use the url from the form action, defaulting to the current url\n    var url = target.action || window.location.href\n    history.push(url, true, null, e)\n  }\n\n  function onPopState(e) {\n    // HACK: Chrome sometimes does a pop state before the app is set up properly\n    if (!history.app.page) return\n\n    var previous = currentPath\n    var state = e.state\n    currentPath = window.location.pathname + window.location.search\n\n    var options = {\n      previous: previous\n    , url: currentPath\n    }\n\n    if (state) {\n      if (!state.$render) return\n      options.method = state.$method\n      // Note that the post body is only sent on the initial reqest\n      // and it is empty if the state is later popped\n      return router.render(history, options)\n    }\n\n    // The state object will be null for states created by jump links.\n    // window.location.hash cannot be used, because it returns nothing\n    // if the url ends in just a hash character\n    var url = window.location.href\n      , hashIndex = url.indexOf('#')\n      , el, id\n    if (~hashIndex && currentPath !== previous) {\n      options.method = 'get'\n      router.render(history, options)\n      id = url.slice(hashIndex + 1)\n      if (el = document.getElementById(id) || document.getElementsByName(id)[0]) {\n        el.scrollIntoView()\n      }\n    }\n  }\n\n  document.addEventListener('click', onClick, true)\n  document.addEventListener('submit', onSubmit, false)\n  window.addEventListener('popstate', onPopState, true)\n}\n",
    "var Route = require('../vendor/express/router/route')\nvar History = require('./History')\nvar router = module.exports = require('./router')\n\nrouter.setup = setup\n\nfunction setup(app) {\n  var routes = {\n    queue: {}\n  , transitional: {}\n  , app: app\n  }\n  app.history = new History(app, routes)\n\n  ;['get', 'post', 'put', 'del', 'enter', 'exit'].forEach(function(method) {\n    var queue = routes.queue[method] = []\n    var transitional = routes.transitional[method] = []\n\n    app[method] = function(pattern, callback) {\n      if (Array.isArray(pattern)) {\n        pattern.forEach(function(item) {\n          app[method](item, callback)\n        })\n        return app\n      }\n\n      if (router.isTransitional(pattern)) {\n        var from = pattern.from\n        var to = pattern.to\n        var forward = pattern.forward || (callback && callback.forward) || callback\n        var back = pattern.back || (callback && callback.back)\n\n        var fromRoute = new Route(method, from, back)\n        var toRoute = new Route(method, to, forward)\n        fromRoute.isTransitional = true\n        toRoute.isTransitional = true\n        transitional.push({\n          from: fromRoute\n        , to: toRoute\n        })\n        if (back) transitional.push({\n          from: toRoute\n        , to: fromRoute\n        })\n\n        return app\n      }\n\n      queue.push(new Route(method, pattern, callback))\n      return app\n    }\n  })\n}\n",
    "exports.ContextMeta = ContextMeta;\nexports.Context = Context;\n\nfunction noop() {}\n\n// TODO:\n// Implement removeItemContext\n\nfunction ContextMeta() {\n  this.addBinding = noop;\n  this.removeBinding = noop;\n  this.removeNode = noop;\n  this.addItemContext = noop;\n  this.removeItemContext = noop;\n  this.views = null;\n  this.idNamespace = '';\n  this.idCount = 0;\n  this.pending = [];\n  this.pauseCount = 0;\n}\n\nfunction Context(meta, controller, parent, unbound, expression) {\n  // Required properties //\n\n  // Properties which are globally inherited for the entire page\n  this.meta = meta;\n  // The page or component. Must have a `model` property with a `data` property\n  this.controller = controller;\n\n  // Optional properties //\n\n  // Containing context\n  this.parent = parent;\n  // Boolean set to true when bindings should be ignored\n  this.unbound = unbound;\n  // The expression for a block\n  this.expression = expression;\n  // Alias name for the given expression\n  this.alias = expression && expression.meta && expression.meta.as;\n  // Alias name for the index or iterated key\n  this.keyAlias = expression && expression.meta && expression.meta.keyAs;\n\n  // For Context::eachChild\n  // The context of the each at render time\n  this.item = null;\n\n  // For Context::viewChild\n  // Reference to the current view\n  this.view = null;\n  // Attribute values passed to the view instance\n  this.attributes = null;\n  // MarkupHooks to be called after insert into DOM of component\n  this.hooks = null;\n  // MarkupHooks to be called immediately before init of component\n  this.initHooks = null;\n\n  // For Context::closureChild\n  // Reference to another context established at render time by ContextClosure\n  this.closure = null;\n\n  // Used in EventModel\n  this._id = null;\n}\n\nContext.prototype.id = function() {\n  var count = ++this.meta.idCount;\n  return this.meta.idNamespace + '_' + count.toString(36);\n};\n\nContext.prototype.addBinding = function(binding) {\n  // Don't add bindings that wrap list items. Only their outer range is needed\n  if (binding.itemFor) return;\n  var expression = binding.template.expression;\n  // Don't rerender in unbound sections\n  if (expression ? expression.isUnbound(this) : this.unbound) return;\n  // Don't rerender to changes in a with expression\n  if (expression && expression.meta && expression.meta.blockType === 'with') return;\n  this.meta.addBinding(binding);\n};\nContext.prototype.removeBinding = function(binding) {\n  this.meta.removeBinding(binding);\n};\nContext.prototype.removeNode = function(node) {\n  this.meta.removeNode(node);\n};\n\nContext.prototype.child = function(expression) {\n  // Set or inherit the binding mode\n  var blockType = expression.meta && expression.meta.blockType;\n  var unbound = (blockType === 'unbound') ? true :\n    (blockType === 'bound') ? false :\n    this.unbound;\n  return new Context(this.meta, this.controller, this, unbound, expression);\n};\n\nContext.prototype.componentChild = function(component) {\n  return new Context(this.meta, component, this, this.unbound);\n};\n\n// Make a context for an item in an each block\nContext.prototype.eachChild = function(expression, item) {\n  var context = new Context(this.meta, this.controller, this, this.unbound, expression);\n  context.item = item;\n  this.meta.addItemContext(context);\n  return context;\n};\n\nContext.prototype.viewChild = function(view, attributes, hooks, initHooks) {\n  var context = new Context(this.meta, this.controller, this, this.unbound);\n  context.view = view;\n  context.attributes = attributes;\n  context.hooks = hooks;\n  context.initHooks = initHooks;\n  return context;\n};\n\nContext.prototype.closureChild = function(closure) {\n  var context = new Context(this.meta, this.controller, this, this.unbound);\n  context.closure = closure;\n  return context;\n};\n\nContext.prototype.forRelative = function(expression) {\n  var context = this;\n  while (context && context.expression === expression || context.view) {\n    context = context.parent;\n  }\n  return context;\n};\n\n// Returns the closest context which defined the named alias\nContext.prototype.forAlias = function(alias) {\n  var context = this;\n  while (context) {\n    if (context.alias === alias || context.keyAlias === alias) return context;\n    context = context.parent;\n  }\n};\n\n// Returns the closest containing context for a view attribute name or nothing\nContext.prototype.forAttribute = function(attribute) {\n  var context = this;\n  while (context) {\n    // Find the closest context associated with a view\n    if (context.view) {\n      var attributes = context.attributes;\n      if (!attributes) return;\n      if (attributes.hasOwnProperty(attribute)) return context;\n      // If the attribute isn't found, but the attributes inherit, continue\n      // looking in the next closest view context\n      if (!attributes.inherit && !attributes.extend) return;\n    }\n    context = context.parent;\n  }\n};\n\nContext.prototype.forViewParent = function() {\n  var context = this;\n  while (context) {\n    // When a context with a `closure` property is encountered, skip to its\n    // parent context rather than returning the nearest view's. This reference\n    // is created by wrapping a template in a ContextClosure template\n    if (context.closure) return context.closure.parent;\n    // Find the closest view and return the containing context\n    if (context.view) return context.parent;\n    context = context.parent;\n  }\n};\n\nContext.prototype.getView = function() {\n  var context = this;\n  while (context) {\n    // Find the closest view\n    if (context.view) return context.view;\n    context = context.parent;\n  }\n};\n\n// Returns the `this` value for a context\nContext.prototype.get = function() {\n  var value = (this.expression) ?\n    this.expression.get(this) :\n    this.controller.model.data;\n  if (this.item != null) {\n    return value && value[this.item];\n  }\n  return value;\n};\n\nContext.prototype.pause = function() {\n  this.meta.pauseCount++;\n};\n\nContext.prototype.unpause = function() {\n  if (--this.meta.pauseCount) return;\n  this.flush();\n};\n\nContext.prototype.flush = function() {\n  var pending = this.meta.pending;\n  var len = pending.length;\n  if (!len) return;\n  this.meta.pending = [];\n  for (var i = 0; i < len; i++) {\n    pending[i]();\n  }\n};\n\nContext.prototype.queue = function(cb) {\n  this.meta.pending.push(cb);\n};\n",
    "// `-` and `+` can be either unary or binary, so all unary operators are\n// postfixed with `U` to differentiate\n\nexports.get = {\n  // Unary operators\n  '!U': function(value) {\n    return !value;\n  }\n, '-U': function(value) {\n    return -value;\n  }\n, '+U': function(value) {\n    return +value;\n  }\n, '~U': function(value) {\n    return ~value;\n  }\n, 'typeofU': function(value) {\n    return typeof value;\n  }\n  // Binary operators\n, '||': function(left, right) {\n    return left || right;\n  }\n, '&&': function(left, right) {\n    return left && right;\n  }\n, '|': function(left, right) {\n    return left | right;\n  }\n, '^': function(left, right) {\n    return left ^ right;\n  }\n, '&': function(left, right) {\n    return left & right;\n  }\n, '==': function(left, right) {\n    return left == right; // jshint ignore:line\n  }\n, '!=': function(left, right) {\n    return left != right; // jshint ignore:line\n  }\n, '===': function(left, right) {\n    return left === right;\n  }\n, '!==': function(left, right) {\n    return left !== right;\n  }\n, '<': function(left, right) {\n    return left < right;\n  }\n, '>': function(left, right) {\n    return left > right;\n  }\n, '<=': function(left, right) {\n    return left <= right;\n  }\n, '>=': function(left, right) {\n    return left >= right;\n  }\n, 'instanceof': function(left, right) {\n    return left instanceof right;\n  }\n, 'in': function(left, right) {\n    return left in right;\n  }\n, '<<': function(left, right) {\n    return left << right;\n  }\n, '>>': function(left, right) {\n    return left >> right;\n  }\n, '>>>': function(left, right) {\n    return left >>> right;\n  }\n, '+': function(left, right) {\n    return left + right;\n  }\n, '-': function(left, right) {\n    return left - right;\n  }\n, '*': function(left, right) {\n    return left * right;\n  }\n, '/': function(left, right) {\n    return left / right;\n  }\n, '%': function(left, right) {\n    return left % right;\n  }\n  // Conditional operator\n, '?': function(test, consequent, alternate) {\n    return (test) ? consequent : alternate;\n  }\n, // Sequence\n  ',': function() {\n    return arguments[arguments.length - 1];\n  }\n};\n\nexports.set = {\n  // Unary operators\n  '!U': function(value) {\n    return [!value];\n  }\n, '-U': function(value) {\n    return [-value];\n  }\n  // Binary operators\n, '==': function(value, left, right) {\n    if (value) return [right];\n  }\n, '===': function(value, left, right) {\n    if (value) return [right];\n  }\n, 'in': function(value, left, right) {\n    right[left] = true;\n    return {1: right};\n  }\n, '+': function(value, left, right) {\n    return [value - right];\n  }\n, '-': function(value, left, right) {\n    return [value + right];\n  }\n, '*': function(value, left, right) {\n    return [value / right];\n  }\n, '/': function(value, left, right) {\n    return [value * right];\n  }\n};\n",
    "if (typeof require === 'function') {\n  var serializeObject = require('serialize-object');\n}\n\n// UPDATE_PROPERTIES map HTML attribute names to an Element DOM property that\n// should be used for setting on bindings updates instead of setAttribute.\n//\n// https://github.com/jquery/jquery/blob/1.x-master/src/attributes/prop.js\n// https://github.com/jquery/jquery/blob/master/src/attributes/prop.js\n// http://webbugtrack.blogspot.com/2007/08/bug-242-setattribute-doesnt-always-work.html\nvar BOOLEAN_PROPERTIES = {\n  checked: 'checked'\n, disabled: 'disabled'\n, readonly: 'readOnly'\n, selected: 'selected'\n};\nvar INTEGER_PROPERTIES = {\n  colspan: 'colSpan'\n, maxlength: 'maxLength'\n, rowspan: 'rowSpan'\n, tabindex: 'tabIndex'\n};\nvar STRING_PROPERTIES = {\n  cellpadding: 'cellPadding'\n, cellspacing: 'cellSpacing'\n, 'class': 'className'\n, contenteditable: 'contentEditable'\n, enctype: 'encoding'\n, 'for': 'htmlFor'\n, frameborder: 'frameBorder'\n, id: 'id'\n, title: 'title'\n, type: 'type'\n, usemap: 'useMap'\n, value: 'value'\n};\nvar UPDATE_PROPERTIES = {};\nmergeInto(BOOLEAN_PROPERTIES, UPDATE_PROPERTIES);\nmergeInto(INTEGER_PROPERTIES, UPDATE_PROPERTIES);\nmergeInto(STRING_PROPERTIES, UPDATE_PROPERTIES);\n\n// CREATE_PROPERTIES map HTML attribute names to an Element DOM property that\n// should be used for setting on Element rendering instead of setAttribute.\n// input.defaultChecked and input.defaultValue affect the attribute, so we want\n// to use these for initial dynamic rendering. For binding updates,\n// input.checked and input.value are modified.\nvar CREATE_PROPERTIES = {};\nmergeInto(UPDATE_PROPERTIES, CREATE_PROPERTIES);\nCREATE_PROPERTIES.checked = 'defaultChecked';\nCREATE_PROPERTIES.value = 'defaultValue';\n\n// http://www.w3.org/html/wg/drafts/html/master/syntax.html#void-elements\nvar VOID_ELEMENTS = {\n  area: true\n, base: true\n, br: true\n, col: true\n, embed: true\n, hr: true\n, img: true\n, input: true\n, keygen: true\n, link: true\n, menuitem: true\n, meta: true\n, param: true\n, source: true\n, track: true\n, wbr: true\n};\n\nvar NAMESPACE_URIS = {\n  svg: 'http://www.w3.org/2000/svg'\n, xlink: 'http://www.w3.org/1999/xlink'\n, xmlns: 'http://www.w3.org/2000/xmlns/'\n};\n\nexports.CREATE_PROPERTIES = CREATE_PROPERTIES;\nexports.BOOLEAN_PROPERTIES = BOOLEAN_PROPERTIES;\nexports.INTEGER_PROPERTIES = INTEGER_PROPERTIES;\nexports.STRING_PROPERTIES = STRING_PROPERTIES;\nexports.UPDATE_PROPERTIES = UPDATE_PROPERTIES;\nexports.VOID_ELEMENTS = VOID_ELEMENTS;\nexports.NAMESPACE_URIS = NAMESPACE_URIS;\n\n// Template Classes\nexports.Template = Template;\nexports.Doctype = Doctype;\nexports.Text = Text;\nexports.DynamicText = DynamicText;\nexports.Comment = Comment;\nexports.DynamicComment = DynamicComment;\nexports.Html = Html;\nexports.DynamicHtml = DynamicHtml;\nexports.Element = Element;\nexports.DynamicElement = DynamicElement;\nexports.Block = Block;\nexports.ConditionalBlock = ConditionalBlock;\nexports.EachBlock = EachBlock;\n\nexports.Attribute = Attribute;\nexports.DynamicAttribute = DynamicAttribute;\n\n// Binding Classes\nexports.Binding = Binding;\nexports.NodeBinding = NodeBinding;\nexports.AttributeBinding = AttributeBinding;\nexports.RangeBinding = RangeBinding;\n\nfunction Template(content, source) {\n  this.content = content;\n  this.source = source;\n}\nTemplate.prototype.toString = function() {\n  return this.source;\n};\nTemplate.prototype.get = function(context, unescaped) {\n  return contentHtml(this.content, context, unescaped);\n};\nTemplate.prototype.getFragment = function(context, binding) {\n  var fragment = document.createDocumentFragment();\n  this.appendTo(fragment, context, binding);\n  return fragment;\n};\nTemplate.prototype.appendTo = function(parent, context) {\n  context.pause();\n  appendContent(parent, this.content, context);\n  context.unpause();\n};\nTemplate.prototype.attachTo = function(parent, node, context) {\n  context.pause();\n  var node = attachContent(parent, node, this.content, context);\n  context.unpause();\n  return node;\n};\nTemplate.prototype.update = function() {};\nTemplate.prototype.stringify = function(value) {\n  return (value == null) ? '' : value + '';\n};\nTemplate.prototype.equals = function(other) {\n  return this === other;\n};\nTemplate.prototype.module = 'templates';\nTemplate.prototype.type = 'Template';\nTemplate.prototype.serialize = function() {\n  return serializeObject.instance(this, this.content, this.source);\n};\n\n\nfunction Doctype(name, publicId, systemId) {\n  this.name = name;\n  this.publicId = publicId;\n  this.systemId = systemId;\n}\nDoctype.prototype = Object.create(Template.prototype);\nDoctype.prototype.constructor = Doctype;\nDoctype.prototype.get = function() {\n  var publicText = (this.publicId) ?\n    ' PUBLIC \"' + this.publicId  + '\"' :\n    '';\n  var systemText = (this.systemId) ?\n    (this.publicId) ?\n      ' \"' + this.systemId + '\"' :\n      ' SYSTEM \"' + this.systemId + '\"' :\n    '';\n  return '<!DOCTYPE ' + this.name + publicText + systemText + '>';\n};\nDoctype.prototype.appendTo = function() {\n  // Doctype could be created via:\n  //   document.implementation.createDocumentType(this.name, this.publicId, this.systemId)\n  // However, it does not appear possible or useful to append it to the\n  // document fragment. Therefore, just don't render it in the browser\n};\nDoctype.prototype.attachTo = function(parent, node) {\n  if (!node || node.nodeType !== 10) {\n    throw attachError(parent, node);\n  }\n  return node.nextSibling;\n};\nDoctype.prototype.type = 'Doctype';\nDoctype.prototype.serialize = function() {\n  return serializeObject.instance(this, this.name, this.publicId, this.systemId);\n};\n\nfunction Text(data) {\n  this.data = data;\n  this.escaped = escapeHtml(data);\n}\nText.prototype = Object.create(Template.prototype);\nText.prototype.constructor = Text;\nText.prototype.get = function(context, unescaped) {\n  return (unescaped) ? this.data : this.escaped;\n};\nText.prototype.appendTo = function(parent) {\n  var node = document.createTextNode(this.data);\n  parent.appendChild(node);\n};\nText.prototype.attachTo = function(parent, node) {\n  return attachText(parent, node, this.data, this);\n};\nText.prototype.type = 'Text';\nText.prototype.serialize = function() {\n  return serializeObject.instance(this, this.data);\n};\n\n// DynamicText might be more accurately named DynamicContent. When its\n// expression returns a template, it acts similar to a Block, and it renders\n// the template surrounded by comment markers for range replacement. When its\n// expression returns any other type, it renders a DOM Text node with no\n// markers. Text nodes are bound by updating their data property dynamically.\n// The update method must take care to switch between these types of bindings\n// in case the expression return type changes dynamically.\nfunction DynamicText(expression) {\n  this.expression = expression;\n  this.unbound = false;\n}\nDynamicText.prototype = Object.create(Template.prototype);\nDynamicText.prototype.constructor = DynamicText;\nDynamicText.prototype.get = function(context, unescaped) {\n  var value = this.expression.get(context);\n  if (value instanceof Template) {\n    do {\n      value = value.get(context, unescaped);\n    } while (value instanceof Template);\n    return value;\n  }\n  var data = this.stringify(value);\n  return (unescaped) ? data : escapeHtml(data);\n};\nDynamicText.prototype.appendTo = function(parent, context, binding) {\n  var value = this.expression.get(context);\n  if (value instanceof Template) {\n    var start = document.createComment(this.expression);\n    var end = document.createComment('/' + this.expression);\n    var condition = this.getCondition(context);\n    parent.appendChild(start);\n    value.appendTo(parent, context);\n    parent.appendChild(end);\n    updateRange(context, binding, this, start, end, null, condition);\n    return;\n  }\n  var data = this.stringify(value);\n  var node = document.createTextNode(data);\n  parent.appendChild(node);\n  addNodeBinding(this, context, node);\n};\nDynamicText.prototype.attachTo = function(parent, node, context) {\n  var value = this.expression.get(context);\n  if (value instanceof Template) {\n    var start = document.createComment(this.expression);\n    var end = document.createComment('/' + this.expression);\n    var condition = this.getCondition(context);\n    parent.insertBefore(start, node || null);\n    node = value.attachTo(parent, node, context);\n    parent.insertBefore(end, node || null);\n    updateRange(context, null, this, start, end, null, condition);\n    return node;\n  }\n  var data = this.stringify(value);\n  return attachText(parent, node, data, this, context);\n};\nDynamicText.prototype.update = function(context, binding) {\n  if (binding instanceof RangeBinding) {\n    this._blockUpdate(context, binding);\n    return;\n  }\n  var value = this.expression.get(context);\n  if (value instanceof Template) {\n    var start = binding.node;\n    if (!start.parentNode) return;\n    var end = start;\n    var fragment = this.getFragment(context);\n    replaceRange(context, start, end, fragment, binding);\n    return;\n  }\n  binding.node.data = this.stringify(value);\n};\nDynamicText.prototype.getCondition = function(context) {\n  return this.expression.get(context);\n};\nDynamicText.prototype.type = 'DynamicText';\nDynamicText.prototype.serialize = function() {\n  return serializeObject.instance(this, this.expression);\n};\n\nfunction attachText(parent, node, data, template, context) {\n  if (!node) {\n    var newNode = document.createTextNode(data);\n    parent.appendChild(newNode);\n    addNodeBinding(template, context, newNode);\n    return;\n  }\n  if (node.nodeType === 3) {\n    // Proceed if nodes already match\n    if (node.data === data) {\n      addNodeBinding(template, context, node);\n      return node.nextSibling;\n    }\n    data = normalizeLineBreaks(data);\n    // Split adjacent text nodes that would have been merged together in HTML\n    var nextNode = splitData(node, data.length);\n    if (node.data !== data) {\n      throw attachError(parent, node);\n    }\n    addNodeBinding(template, context, node);\n    return nextNode;\n  }\n  // An empty text node might not be created at the end of some text\n  if (data === '') {\n    var newNode = document.createTextNode('');\n    parent.insertBefore(newNode, node || null);\n    addNodeBinding(template, context, newNode);\n    return node;\n  }\n  throw attachError(parent, node);\n}\n\nfunction Comment(data, hooks) {\n  this.data = data;\n  this.hooks = hooks;\n}\nComment.prototype = Object.create(Template.prototype);\nComment.prototype.constructor = Comment;\nComment.prototype.get = function() {\n  return '<!--' + this.data + '-->';\n};\nComment.prototype.appendTo = function(parent, context) {\n  var node = document.createComment(this.data);\n  parent.appendChild(node);\n  emitHooks(this.hooks, context, node);\n};\nComment.prototype.attachTo = function(parent, node, context) {\n  return attachComment(parent, node, this.data, this, context);\n};\nComment.prototype.type = 'Comment';\nComment.prototype.serialize = function() {\n  return serializeObject.instance(this, this.data, this.hooks);\n}\n\nfunction DynamicComment(expression, hooks) {\n  this.expression = expression;\n  this.hooks = hooks;\n}\nDynamicComment.prototype = Object.create(Template.prototype);\nDynamicComment.prototype.constructor = DynamicComment;\nDynamicComment.prototype.get = function(context) {\n  var value = getUnescapedValue(this.expression, context);\n  var data = this.stringify(value);\n  return '<!--' + data + '-->';\n};\nDynamicComment.prototype.appendTo = function(parent, context) {\n  var value = getUnescapedValue(this.expression, context);\n  var data = this.stringify(value);\n  var node = document.createComment(data);\n  parent.appendChild(node);\n  addNodeBinding(this, context, node);\n};\nDynamicComment.prototype.attachTo = function(parent, node, context) {\n  var value = getUnescapedValue(this.expression, context);\n  var data = this.stringify(value);\n  return attachComment(parent, node, data, this, context);\n};\nDynamicComment.prototype.update = function(context, binding) {\n  var value = getUnescapedValue(this.expression, context);\n  binding.node.data = this.stringify(value);\n};\nDynamicComment.prototype.type = 'DynamicComment';\nDynamicComment.prototype.serialize = function() {\n  return serializeObject.instance(this, this.expression, this.hooks);\n}\n\nfunction attachComment(parent, node, data, template, context) {\n  // Sometimes IE fails to create Comment nodes from HTML or innerHTML.\n  // This is an issue inside of <select> elements, for example.\n  if (!node || node.nodeType !== 8) {\n    var newNode = document.createComment(data);\n    parent.insertBefore(newNode, node || null);\n    addNodeBinding(template, context, newNode);\n    return node;\n  }\n  // Proceed if nodes already match\n  if (node.data === data) {\n    addNodeBinding(template, context, node);\n    return node.nextSibling;\n  }\n  throw attachError(parent, node);\n}\n\nfunction addNodeBinding(template, context, node) {\n  if (template.expression && !template.unbound) {\n    context.addBinding(new NodeBinding(template, context, node));\n  }\n  emitHooks(template.hooks, context, node);\n}\n\nfunction Html(data) {\n  this.data = data;\n}\nHtml.prototype = Object.create(Template.prototype);\nHtml.prototype.constructor = Html;\nHtml.prototype.get = function() {\n  return this.data;\n};\nHtml.prototype.appendTo = function(parent) {\n  var fragment = createHtmlFragment(parent, this.data);\n  parent.appendChild(fragment);\n};\nHtml.prototype.attachTo = function(parent, node) {\n  return attachHtml(parent, node, this.data);\n};\nHtml.prototype.type = \"Html\";\nHtml.prototype.serialize = function() {\n  return serializeObject.instance(this, this.data);\n};\n\nfunction DynamicHtml(expression) {\n  this.expression = expression;\n  this.ending = '/' + expression;\n}\nDynamicHtml.prototype = Object.create(Template.prototype);\nDynamicHtml.prototype.constructor = DynamicHtml;\nDynamicHtml.prototype.get = function(context) {\n  var value = getUnescapedValue(this.expression, context);\n  return this.stringify(value);\n};\nDynamicHtml.prototype.appendTo = function(parent, context, binding) {\n  var start = document.createComment(this.expression);\n  var end = document.createComment(this.ending);\n  var value = getUnescapedValue(this.expression, context);\n  var html = this.stringify(value);\n  var fragment = createHtmlFragment(parent, html);\n  parent.appendChild(start);\n  parent.appendChild(fragment);\n  parent.appendChild(end);\n  updateRange(context, binding, this, start, end);\n};\nDynamicHtml.prototype.attachTo = function(parent, node, context) {\n  var start = document.createComment(this.expression);\n  var end = document.createComment(this.ending);\n  var value = getUnescapedValue(this.expression, context);\n  var html = this.stringify(value);\n  parent.insertBefore(start, node || null);\n  node = attachHtml(parent, node, html);\n  parent.insertBefore(end, node || null);\n  updateRange(context, null, this, start, end);\n  return node;\n};\nDynamicHtml.prototype.update = function(context, binding) {\n  var parent = binding.start.parentNode;\n  if (!parent) return;\n  // Get start and end in advance, since binding is mutated in getFragment\n  var start = binding.start;\n  var end = binding.end;\n  var value = getUnescapedValue(this.expression, context);\n  var html = this.stringify(value);\n  var fragment = createHtmlFragment(parent, html);\n  var innerOnly = true;\n  replaceRange(context, start, end, fragment, binding, innerOnly);\n};\nDynamicHtml.prototype.type = 'DynamicHtml';\nDynamicHtml.prototype.serialize = function() {\n  return serializeObject.instance(this, this.expression);\n};\n\nfunction createHtmlFragment(parent, html) {\n  if (parent && parent.nodeType === 1) {\n    var range = document.createRange();\n    range.selectNodeContents(parent);\n    return range.createContextualFragment(html);\n  }\n  var div = document.createElement('div');\n  var range = document.createRange();\n  div.innerHTML = html;\n  range.selectNodeContents(div);\n  return range.extractContents();\n}\nfunction attachHtml(parent, node, html) {\n  var fragment = createHtmlFragment(parent, html);\n  for (var i = 0, len = fragment.childNodes.length; i < len; i++) {\n    if (!node) throw attachError(parent, node);\n    node = node.nextSibling;\n  }\n  return node;\n}\n\nfunction Attribute(data, ns) {\n  this.data = data;\n  this.ns = ns;\n}\nAttribute.prototype = Object.create(Template.prototype);\nAttribute.prototype.constructor = Attribute;\nAttribute.prototype.get = Attribute.prototype.getBound = function(context) {\n  return this.data;\n};\nAttribute.prototype.type = 'Attribute';\nAttribute.prototype.serialize = function() {\n  return serializeObject.instance(this, this.data, this.ns);\n};\n\nfunction DynamicAttribute(expression, ns) {\n  // In attributes, expression may be an instance of Template or Expression\n  this.expression = expression;\n  this.ns = ns;\n  this.elementNs = null;\n}\nDynamicAttribute.prototype = Object.create(Attribute.prototype);\nDynamicAttribute.prototype.constructor = DynamicAttribute;\nDynamicAttribute.prototype.get = function(context) {\n  return getUnescapedValue(this.expression, context);\n};\nDynamicAttribute.prototype.getBound = function(context, element, name, elementNs) {\n  this.elementNs = elementNs;\n  context.addBinding(new AttributeBinding(this, context, element, name));\n  return getUnescapedValue(this.expression, context);\n};\nDynamicAttribute.prototype.update = function(context, binding) {\n  var value = getUnescapedValue(this.expression, context);\n  var element = binding.element;\n  var propertyName = !this.elementNs && UPDATE_PROPERTIES[binding.name];\n  if (propertyName) {\n    var propertyValue = (STRING_PROPERTIES[binding.name]) ?\n      this.stringify(value) : value;\n    if (element[propertyName] === propertyValue) return;\n    element[propertyName] = propertyValue;\n    return;\n  }\n  if (value === false || value == null) {\n    if (this.ns) {\n      element.removeAttributeNS(this.ns, binding.name);\n    } else {\n      element.removeAttribute(binding.name);\n    }\n    return;\n  }\n  if (value === true) value = binding.name;\n  if (this.ns) {\n    element.setAttributeNS(this.ns, binding.name, value);\n  } else {\n    element.setAttribute(binding.name, value);\n  }\n};\nDynamicAttribute.prototype.type = 'DynamicAttribute';\nDynamicAttribute.prototype.serialize = function() {\n  return serializeObject.instance(this, this.expression, this.ns);\n};\n\nfunction getUnescapedValue(expression, context) {\n  var unescaped = true;\n  var value = expression.get(context, unescaped);\n  while (value instanceof Template) {\n    value = value.get(context, unescaped);\n  }\n  return value;\n}\n\nfunction Element(tagName, attributes, content, hooks, selfClosing, notClosed, ns) {\n  this.tagName = tagName;\n  this.attributes = attributes;\n  this.content = content;\n  this.hooks = hooks;\n  this.selfClosing = selfClosing;\n  this.notClosed = notClosed;\n  this.ns = ns;\n\n  this.endTag = getEndTag(tagName, selfClosing, notClosed);\n  this.startClose = getStartClose(selfClosing);\n  var lowerTagName = tagName && tagName.toLowerCase();\n  this.unescapedContent = (lowerTagName === 'script' || lowerTagName === 'style');\n  this.bindContentToValue = (lowerTagName === 'textarea');\n}\nElement.prototype = Object.create(Template.prototype);\nElement.prototype.constructor = Element;\nElement.prototype.getTagName = function() {\n  return this.tagName;\n};\nElement.prototype.getEndTag = function() {\n  return this.endTag;\n};\nElement.prototype.get = function(context) {\n  var tagName = this.getTagName(context);\n  var endTag = this.getEndTag(tagName);\n  var tagItems = [tagName];\n  for (var key in this.attributes) {\n    var value = this.attributes[key].get(context);\n    if (value === true) {\n      tagItems.push(key);\n    } else if (value !== false && value != null) {\n      tagItems.push(key + '=\"' + escapeAttribute(value) + '\"');\n    }\n  }\n  var startTag = '<' + tagItems.join(' ') + this.startClose;\n  if (this.content) {\n    var inner = contentHtml(this.content, context, this.unescapedContent);\n    return startTag + inner + endTag;\n  }\n  return startTag + endTag;\n};\nElement.prototype.appendTo = function(parent, context) {\n  var tagName = this.getTagName(context);\n  var element = (this.ns) ?\n    document.createElementNS(this.ns, tagName) :\n    document.createElement(tagName);\n  for (var key in this.attributes) {\n    var attribute = this.attributes[key];\n    var value = attribute.getBound(context, element, key, this.ns);\n    if (value === false || value == null) continue;\n    var propertyName = !this.ns && CREATE_PROPERTIES[key];\n    if (propertyName) {\n      element[propertyName] = value;\n      continue;\n    }\n    if (value === true) value = key;\n    if (attribute.ns) {\n      element.setAttributeNS(attribute.ns, key, value);\n    } else {\n      element.setAttribute(key, value);\n    }\n  }\n  if (this.content) {\n    this._bindContent(context, element);\n    appendContent(element, this.content, context);\n  }\n  parent.appendChild(element);\n  emitHooks(this.hooks, context, element);\n};\nElement.prototype.attachTo = function(parent, node, context) {\n  var tagName = this.getTagName(context);\n  if (\n    !node ||\n    node.nodeType !== 1 ||\n    node.tagName.toLowerCase() !== tagName.toLowerCase()\n  ) {\n    throw attachError(parent, node);\n  }\n  for (var key in this.attributes) {\n    // Get each attribute to create bindings\n    this.attributes[key].getBound(context, node, key, this.ns);\n    // TODO: Ideally, this would also check that the node's current attributes\n    // are equivalent, but there are some tricky edge cases\n  }\n  if (this.content) {\n    this._bindContent(context, node);\n    attachContent(node, node.firstChild, this.content, context);\n  }\n  emitHooks(this.hooks, context, node);\n  return node.nextSibling;\n};\nElement.prototype._bindContent = function(context, element) {\n  // For textareas with dynamic text content, bind to the value property\n  var child = this.bindContentToValue &&\n    this.content.length === 1 &&\n    this.content[0];\n  if (child instanceof DynamicText) {\n    child.unbound = true;\n    var template = new DynamicAttribute(child.expression);\n    context.addBinding(new AttributeBinding(template, context, element, 'value'));\n  }\n};\nElement.prototype.type = 'Element';\nElement.prototype.serialize = function() {\n  return serializeObject.instance(\n    this\n  , this.tagName\n  , this.attributes\n  , this.content\n  , this.hooks\n  , this.selfClosing\n  , this.notClosed\n  , this.ns\n  );\n};\n\nfunction DynamicElement(tagName, attributes, content, hooks, selfClosing, notClosed, ns) {\n  this.tagName = tagName;\n  this.attributes = attributes;\n  this.content = content;\n  this.hooks = hooks;\n  this.selfClosing = selfClosing;\n  this.notClosed = notClosed;\n  this.ns = ns;\n\n  this.startClose = getStartClose(selfClosing);\n  this.unescapedContent = false;\n}\nDynamicElement.prototype = Object.create(Element.prototype);\nDynamicElement.prototype.constructor = DynamicElement;\nDynamicElement.prototype.getTagName = function(context) {\n  return getUnescapedValue(this.tagName, context);\n};\nDynamicElement.prototype.getEndTag = function(tagName) {\n  return getEndTag(tagName, this.selfClosing, this.notClosed);\n};\nDynamicElement.prototype.type = 'DynamicElement';\n\nfunction getStartClose(selfClosing) {\n  return (selfClosing) ? ' />' : '>';\n}\n\nfunction getEndTag(tagName, selfClosing, notClosed) {\n  var lowerTagName = tagName && tagName.toLowerCase();\n  var isVoid = VOID_ELEMENTS[lowerTagName];\n  return (isVoid || selfClosing || notClosed) ? '' : '</' + tagName + '>';\n}\n\nfunction getAttributeValue(element, name) {\n  var propertyName = UPDATE_PROPERTIES[name];\n  return (propertyName) ? element[propertyName] : element.getAttribute(name);\n}\n\nfunction emitHooks(hooks, context, value) {\n  if (!hooks) return;\n  context.queue(function queuedHooks() {\n    for (var i = 0, len = hooks.length; i < len; i++) {\n      hooks[i].emit(context, value);\n    }\n  });\n}\n\nfunction Block(expression, content) {\n  this.expression = expression;\n  this.ending = '/' + expression;\n  this.content = content;\n}\nBlock.prototype = Object.create(Template.prototype);\nBlock.prototype.constructor = Block;\nBlock.prototype.get = function(context, unescaped) {\n  var blockContext = context.child(this.expression);\n  return contentHtml(this.content, blockContext, unescaped);\n};\nBlock.prototype.appendTo = function(parent, context, binding) {\n  var blockContext = context.child(this.expression);\n  var start = document.createComment(this.expression);\n  var end = document.createComment(this.ending);\n  var condition = this.getCondition(context);\n  parent.appendChild(start);\n  appendContent(parent, this.content, blockContext);\n  parent.appendChild(end);\n  updateRange(context, binding, this, start, end, null, condition);\n};\nBlock.prototype.attachTo = function(parent, node, context) {\n  var blockContext = context.child(this.expression);\n  var start = document.createComment(this.expression);\n  var end = document.createComment(this.ending);\n  var condition = this.getCondition(context);\n  parent.insertBefore(start, node || null);\n  node = attachContent(parent, node, this.content, blockContext);\n  parent.insertBefore(end, node || null);\n  updateRange(context, null, this, start, end, null, condition);\n  return node;\n};\nBlock.prototype.type = 'Block';\nBlock.prototype.serialize = function() {\n  return serializeObject.instance(this, this.expression, this.content);\n};\nBlock.prototype.update = function(context, binding) {\n  if (!binding.start.parentNode) return;\n  var condition = this.getCondition(context);\n  // Cancel update if prior condition is equivalent to current value\n  if (equalConditions(condition, binding.condition)) return;\n  binding.condition = condition;\n  // Get start and end in advance, since binding is mutated in getFragment\n  var start = binding.start;\n  var end = binding.end;\n  var fragment = this.getFragment(context, binding);\n  replaceRange(context, start, end, fragment, binding);\n};\nBlock.prototype.getCondition = function(context) {\n  // We do an identity check to see if the value has changed before updating.\n  // With objects, the object would still be the same, so this identity check\n  // would fail to update enough. Thus, return NaN, which never equals anything\n  // including itself, so that we always update on objects.\n  //\n  // We could also JSON stringify or use some other hashing approach. However,\n  // that could be really expensive on gets of things that never change, and\n  // is probably not a good tradeoff. Perhaps there should be a separate block\n  // type that is only used in the case of dynamic updates\n  var value = this.expression.get(context);\n  return (typeof value === 'object') ? NaN : value;\n};\nDynamicText.prototype._blockUpdate = Block.prototype.update;\n\nfunction ConditionalBlock(expressions, contents) {\n  this.expressions = expressions;\n  this.beginning = expressions.join('; ');\n  this.ending = '/' + this.beginning;\n  this.contents = contents;\n}\nConditionalBlock.prototype = Object.create(Block.prototype);\nConditionalBlock.prototype.constructor = ConditionalBlock;\nConditionalBlock.prototype.get = function(context, unescaped) {\n  var condition = this.getCondition(context);\n  if (condition == null) return '';\n  var expression = this.expressions[condition];\n  var blockContext = context.child(expression);\n  return contentHtml(this.contents[condition], blockContext, unescaped);\n};\nConditionalBlock.prototype.appendTo = function(parent, context, binding) {\n  var start = document.createComment(this.beginning);\n  var end = document.createComment(this.ending);\n  parent.appendChild(start);\n  var condition = this.getCondition(context);\n  if (condition != null) {\n    var expression = this.expressions[condition];\n    var blockContext = context.child(expression);\n    appendContent(parent, this.contents[condition], blockContext);\n  }\n  parent.appendChild(end);\n  updateRange(context, binding, this, start, end, null, condition);\n};\nConditionalBlock.prototype.attachTo = function(parent, node, context) {\n  var start = document.createComment(this.beginning);\n  var end = document.createComment(this.ending);\n  parent.insertBefore(start, node || null);\n  var condition = this.getCondition(context);\n  if (condition != null) {\n    var expression = this.expressions[condition];\n    var blockContext = context.child(expression);\n    node = attachContent(parent, node, this.contents[condition], blockContext);\n  }\n  parent.insertBefore(end, node || null);\n  updateRange(context, null, this, start, end, null, condition);\n  return node;\n};\nConditionalBlock.prototype.type = 'ConditionalBlock';\nConditionalBlock.prototype.serialize = function() {\n  return serializeObject.instance(this, this.expressions, this.contents);\n};\nConditionalBlock.prototype.update = function(context, binding) {\n  if (!binding.start.parentNode) return;\n  var condition = this.getCondition(context);\n  // Cancel update if prior condition is equivalent to current value\n  if (equalConditions(condition, binding.condition)) return;\n  binding.condition = condition;\n  // Get start and end in advance, since binding is mutated in getFragment\n  var start = binding.start;\n  var end = binding.end;\n  var fragment = this.getFragment(context, binding);\n  replaceRange(context, start, end, fragment, binding);\n};\nConditionalBlock.prototype.getCondition = function(context) {\n  for (var i = 0, len = this.expressions.length; i < len; i++) {\n    if (this.expressions[i].truthy(context)) {\n      return i;\n    }\n  }\n};\n\nfunction EachBlock(expression, content, elseContent) {\n  this.expression = expression;\n  this.ending = '/' + expression;\n  this.content = content;\n  this.elseContent = elseContent;\n}\nEachBlock.prototype = Object.create(Block.prototype);\nEachBlock.prototype.constructor = EachBlock;\nEachBlock.prototype.get = function(context, unescaped) {\n  var items = this.expression.get(context);\n  if (items && items.length) {\n    var html = '';\n    for (var i = 0, len = items.length; i < len; i++) {\n      var itemContext = context.eachChild(this.expression, i);\n      html += contentHtml(this.content, itemContext, unescaped);\n    }\n    return html;\n  } else if (this.elseContent) {\n    return contentHtml(this.elseContent, context, unescaped);\n  }\n  return '';\n};\nEachBlock.prototype.appendTo = function(parent, context, binding) {\n  var items = this.expression.get(context);\n  var start = document.createComment(this.expression);\n  var end = document.createComment(this.ending);\n  parent.appendChild(start);\n  if (items && items.length) {\n    for (var i = 0, len = items.length; i < len; i++) {\n      var itemContext = context.eachChild(this.expression, i);\n      this.appendItemTo(parent, itemContext, start);\n    }\n  } else if (this.elseContent) {\n    appendContent(parent, this.elseContent, context);\n  }\n  parent.appendChild(end);\n  updateRange(context, binding, this, start, end);\n};\nEachBlock.prototype.appendItemTo = function(parent, context, itemFor, binding) {\n  var before = parent.lastChild;\n  var start, end;\n  appendContent(parent, this.content, context);\n  if (before === parent.lastChild) {\n    start = end = document.createComment('empty');\n    parent.appendChild(start);\n  } else {\n    start = (before && before.nextSibling) || parent.firstChild;\n    end = parent.lastChild;\n  }\n  updateRange(context, binding, this, start, end, itemFor);\n};\nEachBlock.prototype.attachTo = function(parent, node, context) {\n  var items = this.expression.get(context);\n  var start = document.createComment(this.expression);\n  var end = document.createComment(this.ending);\n  parent.insertBefore(start, node || null);\n  if (items && items.length) {\n    for (var i = 0, len = items.length; i < len; i++) {\n      var itemContext = context.eachChild(this.expression, i);\n      node = this.attachItemTo(parent, node, itemContext, start);\n    }\n  } else if (this.elseContent) {\n    node = attachContent(parent, node, this.elseContent, context);\n  }\n  parent.insertBefore(end, node || null);\n  updateRange(context, null, this, start, end);\n  return node;\n};\nEachBlock.prototype.attachItemTo = function(parent, node, context, itemFor) {\n  var start, end;\n  var oldPrevious = node && node.previousSibling;\n  var nextNode = attachContent(parent, node, this.content, context);\n  if (nextNode === node) {\n    start = end = document.createComment('empty');\n    parent.insertBefore(start, node || null);\n  } else {\n    start = (oldPrevious && oldPrevious.nextSibling) || parent.firstChild;\n    end = (nextNode && nextNode.previousSibling) || parent.lastChild;\n  }\n  updateRange(context, null, this, start, end, itemFor);\n  return nextNode;\n};\nEachBlock.prototype.update = function(context, binding) {\n  if (!binding.start.parentNode) return;\n  var start = binding.start;\n  var end = binding.end;\n  if (binding.itemFor) {\n    var fragment = document.createDocumentFragment();\n    this.appendItemTo(fragment, context, binding.itemFor, binding);\n  } else {\n    var fragment = this.getFragment(context, binding);\n  }\n  replaceRange(context, start, end, fragment, binding);\n};\nEachBlock.prototype.insert = function(context, binding, index, howMany) {\n  var parent = binding.start.parentNode;\n  if (!parent) return;\n  // In case we are inserting all of the items, update instead. This is needed\n  // when we were previously rendering elseContent so that it is replaced\n  if (index === 0 && this.expression.get(context).length === howMany) {\n    return this.update(context, binding);\n  }\n  var node = indexStartNode(binding, index);\n  var fragment = document.createDocumentFragment();\n  for (var i = index, len = index + howMany; i < len; i++) {\n    var itemContext = context.eachChild(this.expression, i);\n    this.appendItemTo(fragment, itemContext, binding.start);\n  }\n  parent.insertBefore(fragment, node || null);\n};\nEachBlock.prototype.remove = function(context, binding, index, howMany) {\n  var parent = binding.start.parentNode;\n  if (!parent) return;\n  // In case we are removing all of the items, update instead. This is needed\n  // when elseContent should be rendered\n  if (index === 0 && this.expression.get(context).length === 0) {\n    return this.update(context, binding);\n  }\n  var node = indexStartNode(binding, index);\n  var i = 0;\n  while (node) {\n    if (node === binding.end) return;\n    if (node.$bindItemStart && node.$bindItemStart.itemFor === binding.start) {\n      if (howMany === i++) return;\n    }\n    var nextNode = node.nextSibling;\n    parent.removeChild(node);\n    emitRemoved(context, node, binding);\n    node = nextNode;\n  }\n};\nEachBlock.prototype.move = function(context, binding, from, to, howMany) {\n  var parent = binding.start.parentNode;\n  if (!parent) return;\n  var node = indexStartNode(binding, from);\n  var fragment = document.createDocumentFragment();\n  var i = 0;\n  while (node) {\n    if (node === binding.end) break;\n    if (node.$bindItemStart && node.$bindItemStart.itemFor === binding.start) {\n      if (howMany === i++) break;\n    }\n    var nextNode = node.nextSibling;\n    fragment.appendChild(node);\n    node = nextNode;\n  }\n  node = indexStartNode(binding, to);\n  parent.insertBefore(fragment, node || null);\n};\nEachBlock.prototype.type = 'EachBlock';\nEachBlock.prototype.serialize = function() {\n  return serializeObject.instance(this, this.expression, this.content, this.elseContent);\n};\n\nfunction indexStartNode(binding, index) {\n  var node = binding.start;\n  var i = 0;\n  while (node = node.nextSibling) {\n    if (node === binding.end) return node;\n    if (node.$bindItemStart && node.$bindItemStart.itemFor === binding.start) {\n      if (index === i) return node;\n      i++;\n    }\n  }\n}\n\nfunction updateRange(context, binding, template, start, end, itemFor, condition) {\n  if (binding) {\n    binding.start = start;\n    binding.end = end;\n    binding.condition = condition;\n    setNodeBounds(binding, start, itemFor);\n  } else {\n    context.addBinding(new RangeBinding(template, context, start, end, itemFor, condition));\n  }\n}\nfunction setNodeBounds(binding, start, itemFor) {\n  if (itemFor) {\n    setNodeProperty(start, '$bindItemStart', binding);\n  } else {\n    setNodeProperty(start, '$bindStart', binding);\n  }\n}\n\nfunction appendContent(parent, content, context) {\n  for (var i = 0, len = content.length; i < len; i++) {\n    content[i].appendTo(parent, context);\n  }\n}\nfunction attachContent(parent, node, content, context) {\n  for (var i = 0, len = content.length; i < len; i++) {\n    while (node && node.hasAttribute && node.hasAttribute('data-no-attach')) {\n      node = node.nextSibling;\n    }\n    node = content[i].attachTo(parent, node, context);\n  }\n  return node;\n}\nfunction contentHtml(content, context, unescaped) {\n  var html = '';\n  for (var i = 0, len = content.length; i < len; i++) {\n    html += content[i].get(context, unescaped);\n  }\n  return html;\n}\nfunction replaceRange(context, start, end, fragment, binding, innerOnly) {\n  // Note: the calling function must make sure to check that there is a parent\n  var parent = start.parentNode;\n  // Copy item binding from old start to fragment being inserted\n  if (start.$bindItemStart && fragment.firstChild) {\n    setNodeProperty(fragment.firstChild, '$bindItemStart', start.$bindItemStart);\n    start.$bindItemStart.start = fragment.firstChild;\n  }\n  // Fast path for single node replacements\n  if (start === end) {\n    parent.replaceChild(fragment, start);\n    emitRemoved(context, start, binding);\n    return;\n  }\n  // Remove all nodes from start to end\n  var node = (innerOnly) ? start.nextSibling : start;\n  var nextNode;\n  while (node) {\n    nextNode = node.nextSibling;\n    emitRemoved(context, node, binding);\n    if (innerOnly && node === end) {\n      nextNode = end;\n      break;\n    }\n    parent.removeChild(node);\n    if (node === end) break;\n    node = nextNode;\n  }\n  // This also works if nextNode is null, by doing an append\n  parent.insertBefore(fragment, nextNode || null);\n}\nfunction emitRemoved(context, node, ignore) {\n  context.removeNode(node);\n  emitRemovedBinding(context, ignore, node, '$bindNode');\n  emitRemovedBinding(context, ignore, node, '$bindStart');\n  emitRemovedBinding(context, ignore, node, '$bindItemStart');\n  var attributes = node.$bindAttributes;\n  if (attributes) {\n    node.$bindAttributes = null;\n    for (var key in attributes) {\n      context.removeBinding(attributes[key]);\n    }\n  }\n  for (node = node.firstChild; node; node = node.nextSibling) {\n    emitRemoved(context, node, ignore);\n  }\n}\nfunction emitRemovedBinding(context, ignore, node, property) {\n  var binding = node[property];\n  if (binding) {\n    node[property] = null;\n    if (binding !== ignore) {\n      context.removeBinding(binding);\n    }\n  }\n}\n\nfunction attachError(parent, node) {\n  if (typeof console !== 'undefined') {\n    console.error('Attach failed for', node, 'within', parent);\n  }\n  return new Error('Attaching bindings failed, because HTML structure ' +\n    'does not match client rendering.'\n  );\n}\n\nfunction Binding() {\n  this.meta = null;\n}\nBinding.prototype.type = 'Binding';\nBinding.prototype.update = function() {\n  this.context.pause();\n  this.template.update(this.context, this);\n  this.context.unpause();\n};\nBinding.prototype.insert = function() {\n  this.update();\n};\nBinding.prototype.remove = function() {\n  this.update();\n};\nBinding.prototype.move = function() {\n  this.update();\n};\n\nfunction NodeBinding(template, context, node) {\n  this.template = template;\n  this.context = context;\n  this.node = node;\n  this.meta = null;\n  setNodeProperty(node, '$bindNode', this);\n}\nNodeBinding.prototype = Object.create(Binding.prototype);\nNodeBinding.prototype.constructor = NodeBinding;\nNodeBinding.prototype.type = 'NodeBinding';\n\nfunction AttributeBindingsMap() {}\nfunction AttributeBinding(template, context, element, name) {\n  this.template = template;\n  this.context = context;\n  this.element = element;\n  this.name = name;\n  this.meta = null;\n  var map = element.$bindAttributes ||\n    (element.$bindAttributes = new AttributeBindingsMap());\n  map[name] = this;\n}\nAttributeBinding.prototype = Object.create(Binding.prototype);\nAttributeBinding.prototype.constructor = AttributeBinding;\nAttributeBinding.prototype.type = 'AttributeBinding';\n\nfunction RangeBinding(template, context, start, end, itemFor, condition) {\n  this.template = template;\n  this.context = context;\n  this.start = start;\n  this.end = end;\n  this.itemFor = itemFor;\n  this.condition = condition;\n  this.meta = null;\n  setNodeBounds(this, start, itemFor);\n}\nRangeBinding.prototype = Object.create(Binding.prototype);\nRangeBinding.prototype.constructor = RangeBinding;\nRangeBinding.prototype.type = 'RangeBinding';\nRangeBinding.prototype.insert = function(index, howMany) {\n  this.context.pause();\n  if (this.template.insert) {\n    this.template.insert(this.context, this, index, howMany);\n  } else {\n    this.template.update(this.context, this);\n  }\n  this.context.unpause();\n};\nRangeBinding.prototype.remove = function(index, howMany) {\n  this.context.pause();\n  if (this.template.remove) {\n    this.template.remove(this.context, this, index, howMany);\n  } else {\n    this.template.update(this.context, this);\n  }\n  this.context.unpause();\n};\nRangeBinding.prototype.move = function(from, to, howMany) {\n  this.context.pause();\n  if (this.template.move) {\n    this.template.move(this.context, this, from, to, howMany);\n  } else {\n    this.template.update(this.context, this);\n  }\n  this.context.unpause();\n};\n\n\n//// Utility functions ////\n\nfunction noop() {}\n\nfunction mergeInto(from, to) {\n  for (var key in from) {\n    to[key] = from[key];\n  }\n}\n\nfunction escapeHtml(string) {\n  string = string + '';\n  return string.replace(/[&<]/g, function(match) {\n    return (match === '&') ? '&amp;' : '&lt;';\n  });\n}\n\nfunction escapeAttribute(string) {\n  string = string + '';\n  return string.replace(/[&\"]/g, function(match) {\n    return (match === '&') ? '&amp;' : '&quot;';\n  });\n}\n\nfunction equalConditions(a, b) {\n  // First, test for strict equality\n  if (a === b) return true;\n  // Failing that, allow for template objects used as a condition to define a\n  // custom `equals()` method to indicate equivalence\n  return (a instanceof Template) && a.equals(b);\n}\n\n\n//// Shims & workarounds ////\n\n// General notes:\n//\n// In all cases, Node.insertBefore should have `|| null` after its second\n// argument. IE works correctly when the argument is ommitted or equal\n// to null, but it throws and error if it is equal to undefined.\n\nif (!Array.isArray) {\n  Array.isArray = function(value) {\n    return Object.prototype.toString.call(value) === '[object Array]';\n  };\n}\n\n// Equivalent to textNode.splitText, which is buggy in IE <=9\nfunction splitData(node, index) {\n  var newNode = node.cloneNode(false);\n  newNode.deleteData(0, index);\n  node.deleteData(index, node.length - index);\n  node.parentNode.insertBefore(newNode, node.nextSibling || null);\n  return newNode;\n}\n\n// Defined so that it can be overriden in IE <=8\nfunction setNodeProperty(node, key, value) {\n  return node[key] = value;\n}\n\nfunction normalizeLineBreaks(string) {\n  return string;\n}\n\n(function() {\n  // Don't try to shim in Node.js environment\n  if (typeof document === 'undefined') return;\n\n  var div = document.createElement('div');\n  div.innerHTML = '\\r\\n<br>\\n'\n  var windowsLength = div.firstChild.data.length;\n  var unixLength = div.lastChild.data.length;\n  if (windowsLength === 1 && unixLength === 1) {\n    normalizeLineBreaks = function(string) {\n      return string.replace(/\\r\\n/g, '\\n');\n    };\n  } else if (windowsLength === 2 && unixLength === 2) {\n    normalizeLineBreaks = function(string) {\n      return string.replace(/(^|[^\\r])(\\n+)/g, function(match, value, newLines) {\n        for (var i = newLines.length; i--;) {\n          value += '\\r\\n';\n        }\n        return value;\n      });\n    };\n  }\n\n  // TODO: Shim createHtmlFragment for old IE\n\n  // TODO: Shim setAttribute('style'), which doesn't work in IE <=7\n  // http://webbugtrack.blogspot.com/2007/10/bug-245-setattribute-style-does-not.html\n\n  // TODO: Investigate whether input name attribute works in IE <=7. We could\n  // override Element::appendTo to use IE's alternative createElement syntax:\n  // document.createElement('<input name=\"xxx\">')\n  // http://webbugtrack.blogspot.com/2007/10/bug-235-createelement-is-broken-in-ie.html\n\n  // In IE, input.defaultValue doesn't work correctly, so use input.value,\n  // which mistakenly but conveniently sets both the value property and attribute.\n  //\n  // Surprisingly, in IE <=7, input.defaultChecked must be used instead of\n  // input.checked before the input is in the document.\n  // http://webbugtrack.blogspot.com/2007/11/bug-299-setattribute-checked-does-not.html\n  var input = document.createElement('input');\n  input.defaultValue = 'x';\n  if (input.value !== 'x') {\n    CREATE_PROPERTIES.value = 'value';\n  }\n\n  try {\n    // TextNodes are not expando in IE <=8\n    document.createTextNode('').$try = 0;\n  } catch (err) {\n    setNodeProperty = function(node, key, value) {\n      // If trying to set a property on a TextNode, create a proxy CommentNode\n      // and set the property on that node instead. Put the proxy after the\n      // TextNode if marking the end of a range, and before otherwise.\n      if (node.nodeType === 3) {\n        var proxyNode = node.previousSibling;\n        if (!proxyNode || proxyNode.$bindProxy !== node) {\n          proxyNode = document.createComment('proxy');\n          proxyNode.$bindProxy = node;\n          node.parentNode.insertBefore(proxyNode, node || null);\n        }\n        return proxyNode[key] = value;\n      }\n      // Set the property directly on other node types\n      return node[key] = value;\n    };\n  }\n})();\n",
    "\nexports.concat = function(a, b) {\n  if (!a) return b;\n  if (!b) return a;\n  return a.concat(b);\n};\n\nexports.hasKeys = function(value) {\n  if (!value) return false;\n  for (var key in value) {\n    return true;\n  }\n  return false;\n};\n\nexports.traverseAndCreate = function(node, segments) {\n  var len = segments.length;\n  if (!len) return node;\n  for (var i = 0; i < len; i++) {\n    var segment = segments[i];\n    node = node[segment] || (node[segment] = {});\n  }\n  return node;\n};\n",
    "var serializeObject = require('serialize-object');\nvar operatorFns = require('./operatorFns');\nvar templates = require('./templates');\nvar Template = templates.Template;\nvar util = require('./util');\nvar concat = util.concat;\n\nexports.lookup = lookup;\nexports.templateTruthy = templateTruthy;\nexports.pathSegments = pathSegments;\nexports.renderValue = renderValue;\nexports.renderTemplate = renderTemplate;\nexports.ExpressionMeta = ExpressionMeta;\n\nexports.Expression = Expression;\nexports.LiteralExpression = LiteralExpression;\nexports.PathExpression = PathExpression;\nexports.RelativePathExpression = RelativePathExpression;\nexports.AliasPathExpression = AliasPathExpression;\nexports.AttributePathExpression = AttributePathExpression;\nexports.BracketsExpression = BracketsExpression;\nexports.DeferRenderExpression = DeferRenderExpression;\nexports.ArrayExpression = ArrayExpression;\nexports.ObjectExpression = ObjectExpression;\nexports.FnExpression = FnExpression;\nexports.OperatorExpression = OperatorExpression;\nexports.NewExpression = NewExpression;\nexports.SequenceExpression = SequenceExpression;\nexports.ViewParentExpression = ViewParentExpression;\nexports.ScopedModelExpression = ScopedModelExpression;\n\nfunction lookup(segments, value) {\n  if (!segments) return value;\n\n  for (var i = 0, len = segments.length; i < len; i++) {\n    if (value == null) return value;\n    value = value[segments[i]];\n  }\n  return value;\n}\n\n// Unlike JS, `[]` is falsey. Otherwise, truthiness is the same as JS\nfunction templateTruthy(value) {\n  return (Array.isArray(value)) ? value.length > 0 : !!value;\n}\n\nfunction pathSegments(segments) {\n  var result = [];\n  for (var i = 0; i < segments.length; i++) {\n    var segment = segments[i];\n    result[i] = (typeof segment === 'object') ? segment.item : segment;\n  }\n  return result;\n}\n\nfunction renderValue(value, context) {\n  return (typeof value !== 'object') ? value :\n    (value instanceof Template) ? renderTemplate(value, context) :\n    (Array.isArray(value)) ? renderArray(value, context) :\n    renderObject(value, context);\n}\nfunction renderTemplate(value, context) {\n  var i = 1000;\n  while (value instanceof Template) {\n    if (--i < 0) throw new Error('Maximum template render passes exceeded');\n    value = value.get(context, true);\n  }\n  return value;\n}\nfunction renderArray(array, context) {\n  for (var i = 0; i < array.length; i++) {\n    if (hasTemplateProperty(array[i])) {\n      return renderArrayProperties(array, context);\n    }\n  }\n  return array;\n}\nfunction renderObject(object, context) {\n  return (hasTemplateProperty(object)) ?\n    renderObjectProperties(object, context) : object;\n}\nfunction hasTemplateProperty(object) {\n  if (!object) return false;\n  if (object.constructor !== Object) return false;\n  for (var key in object) {\n    if (object[key] instanceof Template) return true;\n  }\n  return false;\n}\nfunction renderArrayProperties(array, context) {\n  var out = new Array(array.length);\n  for (var i = 0; i < array.length; i++) {\n    out[i] = renderValue(array[i], context);\n  }\n  return out;\n}\nfunction renderObjectProperties(object, context) {\n  var out = {};\n  for (var key in object) {\n    out[key] = renderValue(object[key], context);\n  }\n  return out;\n}\n\nfunction ExpressionMeta(source, blockType, isEnd, as, keyAs, unescaped, bindType, valueType) {\n  this.source = source;\n  this.blockType = blockType;\n  this.isEnd = isEnd;\n  this.as = as;\n  this.keyAs = keyAs;\n  this.unescaped = unescaped;\n  this.bindType = bindType;\n  this.valueType = valueType;\n}\nExpressionMeta.prototype.module = 'expressions';\nExpressionMeta.prototype.type = 'ExpressionMeta';\nExpressionMeta.prototype.serialize = function() {\n  return serializeObject.instance(\n    this\n  , this.source\n  , this.blockType\n  , this.isEnd\n  , this.as\n  , this.keyAs\n  , this.unescaped\n  , this.bindType\n  , this.valueType\n  );\n};\n\nfunction Expression(meta) {\n  this.meta = meta;\n}\nExpression.prototype.module = 'expressions';\nExpression.prototype.type = 'Expression';\nExpression.prototype.serialize = function() {\n  return serializeObject.instance(this, this.meta);\n};\nExpression.prototype.toString = function() {\n  return this.meta && this.meta.source;\n};\nExpression.prototype.truthy = function(context) {\n  var blockType = this.meta.blockType;\n  if (blockType === 'else') return true;\n  var value = this.get(context, true);\n  var truthy = templateTruthy(value);\n  return (blockType === 'unless') ? !truthy : truthy;\n};\nExpression.prototype.get = function() {};\n// Return the expression's segment list with context objects\nExpression.prototype.resolve = function() {};\n// Return a list of segment lists or null\nExpression.prototype.dependencies = function() {};\n// Return the pathSegments that the expression currently resolves to or null\nExpression.prototype.pathSegments = function(context) {\n  var segments = this.resolve(context);\n  return segments && pathSegments(segments);\n};\nExpression.prototype.set = function(context, value) {\n  var segments = this.pathSegments(context);\n  if (!segments) throw new Error('Expression does not support setting');\n  context.controller.model._set(segments, value);\n};\nExpression.prototype._resolvePatch = function(context, segments) {\n  return (context && context.expression === this && context.item != null) ?\n    segments.concat(context) : segments;\n};\nExpression.prototype.isUnbound = function(context) {\n  // If the template being rendered has an explicit bindType keyword, such as:\n  // {{unbound #item.text}}\n  var bindType = this.meta && this.meta.bindType;\n  if (bindType === 'unbound') return true;\n  if (bindType === 'bound') return false;\n  // Otherwise, inherit from the context\n  return context.unbound;\n};\nExpression.prototype._lookupAndContextifyValue = function(value, context) {\n  if (this.segments && this.segments.length) {\n    // If expression has segments, e.g. `bar.baz` in `#foo.bar.baz`, then\n    // render the base value (e.g. `#foo`) if it's a template and look up the\n    // value at the indicated path.\n    value = renderTemplate(value, context);\n    value = lookup(this.segments, value);\n  }\n  if (value instanceof Template && !(value instanceof templates.ContextClosure)) {\n    // If we're not immediately rendering the template, then create a ContextClosure\n    // so that the value renders with the correct context later.\n    value = new templates.ContextClosure(value, context);\n  }\n  return value;\n};\n\n\nfunction LiteralExpression(value, meta) {\n  this.value = value;\n  this.meta = meta;\n}\nLiteralExpression.prototype = Object.create(Expression.prototype);\nLiteralExpression.prototype.constructor = LiteralExpression;\nLiteralExpression.prototype.type = 'LiteralExpression';\nLiteralExpression.prototype.serialize = function() {\n  return serializeObject.instance(this, this.value, this.meta);\n};\nLiteralExpression.prototype.get = function() {\n  return this.value;\n};\n\nfunction PathExpression(segments, meta) {\n  this.segments = segments;\n  this.meta = meta;\n}\nPathExpression.prototype = Object.create(Expression.prototype);\nPathExpression.prototype.constructor = PathExpression;\nPathExpression.prototype.type = 'PathExpression';\nPathExpression.prototype.serialize = function() {\n  return serializeObject.instance(this, this.segments, this.meta);\n};\nPathExpression.prototype.get = function(context) {\n  // See View::dependencies. This is needed in order to handle the case of\n  // getting dependencies within a component template, in which case we cannot\n  // access model data separate from rendering.\n  if (!context.controller) return;\n  return lookup(this.segments, context.controller.model.data);\n};\nPathExpression.prototype.resolve = function(context) {\n  // See View::dependencies. This is needed in order to handle the case of\n  // getting dependencies within a component template, in which case we cannot\n  // access model data separate from rendering.\n  if (!context.controller) return;\n  var segments = concat(context.controller._scope, this.segments);\n  return this._resolvePatch(context, segments);\n};\nPathExpression.prototype.dependencies = function(context, options) {\n  // See View::dependencies. This is needed in order to handle the case of\n  // getting dependencies within a component template, in which case we cannot\n  // access model data separate from rendering.\n  if (!context.controller) return;\n  var value = lookup(this.segments, context.controller.model.data);\n  var dependencies = getDependencies(value, context, options);\n  return appendDependency(dependencies, this, context);\n};\n\nfunction RelativePathExpression(segments, meta) {\n  this.segments = segments;\n  this.meta = meta;\n}\nRelativePathExpression.prototype = Object.create(Expression.prototype);\nRelativePathExpression.prototype.constructor = RelativePathExpression;\nRelativePathExpression.prototype.type = 'RelativePathExpression';\nRelativePathExpression.prototype.serialize = function() {\n  return serializeObject.instance(this, this.segments, this.meta);\n};\nRelativePathExpression.prototype.get = function(context) {\n  var relativeContext = context.forRelative(this);\n  var value = relativeContext.get();\n  return this._lookupAndContextifyValue(value, relativeContext);\n};\nRelativePathExpression.prototype.resolve = function(context) {\n  var relativeContext = context.forRelative(this);\n  var base = (relativeContext.expression) ?\n    relativeContext.expression.resolve(relativeContext) :\n    [];\n  if (!base) return;\n  var segments = base.concat(this.segments);\n  return this._resolvePatch(context, segments);\n};\nRelativePathExpression.prototype.dependencies = function(context, options) {\n  // Return inner dependencies from our ancestor\n  // (e.g., {{ with foo[bar] }} ... {{ this.x }} has 'bar' as a dependency.)\n  var relativeContext = context.forRelative(this);\n  var dependencies = relativeContext.expression &&\n    relativeContext.expression.dependencies(relativeContext, options);\n  return swapLastDependency(dependencies, this, context);\n};\n\nfunction AliasPathExpression(alias, segments, meta) {\n  this.alias = alias;\n  this.segments = segments;\n  this.meta = meta;\n}\nAliasPathExpression.prototype = Object.create(Expression.prototype);\nAliasPathExpression.prototype.constructor = AliasPathExpression;\nAliasPathExpression.prototype.type = 'AliasPathExpression';\nAliasPathExpression.prototype.serialize = function() {\n  return serializeObject.instance(this, this.alias, this.segments, this.meta);\n};\nAliasPathExpression.prototype.get = function(context) {\n  var aliasContext = context.forAlias(this.alias);\n  if (!aliasContext) return;\n  if (aliasContext.keyAlias === this.alias) {\n    return aliasContext.item;\n  }\n  var value = aliasContext.get();\n  return this._lookupAndContextifyValue(value, aliasContext);\n};\nAliasPathExpression.prototype.resolve = function(context) {\n  var aliasContext = context.forAlias(this.alias);\n  if (!aliasContext) return;\n  if (aliasContext.keyAlias === this.alias) return;\n  var base = aliasContext.expression.resolve(aliasContext);\n  if (!base) return;\n  var segments = base.concat(this.segments);\n  return this._resolvePatch(context, segments);\n};\nAliasPathExpression.prototype.dependencies = function(context, options) {\n  var aliasContext = context.forAlias(this.alias);\n  if (!aliasContext) return;\n  if (aliasContext.keyAlias === this.alias) {\n    // For keyAliases, use a dependency of the entire list, so that it will\n    // always update when the list itself changes. This is over-binding, but\n    // would otherwise be much more complex\n    var base = aliasContext.expression.resolve(aliasContext.parent);\n    if (!base) return;\n    return [base];\n  }\n\n  var dependencies = aliasContext.expression.dependencies(aliasContext, options);\n  return swapLastDependency(dependencies, this, context);\n};\n\nfunction AttributePathExpression(attribute, segments, meta) {\n  this.attribute = attribute;\n  this.segments = segments;\n  this.meta = meta;\n}\nAttributePathExpression.prototype = Object.create(Expression.prototype);\nAttributePathExpression.prototype.constructor = AttributePathExpression;\nAttributePathExpression.prototype.type = 'AttributePathExpression';\nAttributePathExpression.prototype.serialize = function() {\n  return serializeObject.instance(this, this.attribute, this.segments, this.meta);\n};\nAttributePathExpression.prototype.get = function(context) {\n  var attributeContext = context.forAttribute(this.attribute);\n  if (!attributeContext) return;\n  var value = attributeContext.attributes[this.attribute];\n  if (value instanceof Expression) {\n    value = value.get(attributeContext);\n  }\n  return this._lookupAndContextifyValue(value, attributeContext);\n};\nAttributePathExpression.prototype.resolve = function(context) {\n  var attributeContext = context.forAttribute(this.attribute);\n  if (!attributeContext) return;\n  // Attributes may be a template, an expression, or a literal value\n  var base;\n  var value = attributeContext.attributes[this.attribute];\n  if (value instanceof Expression || value instanceof Template) {\n    base = value.resolve(attributeContext);\n  }\n  if (!base) return;\n  var segments = base.concat(this.segments);\n  return this._resolvePatch(context, segments);\n};\nAttributePathExpression.prototype.dependencies = function(context, options) {\n  var attributeContext = context.forAttribute(this.attribute);\n  if (!attributeContext) return;\n\n  // Attributes may be a template, an expression, or a literal value\n  var value = attributeContext.attributes[this.attribute];\n  var dependencies = getDependencies(value, attributeContext, options);\n  return swapLastDependency(dependencies, this, context);\n};\n\nfunction BracketsExpression(before, inside, afterSegments, meta) {\n  this.before = before;\n  this.inside = inside;\n  this.afterSegments = afterSegments;\n  this.meta = meta;\n}\nBracketsExpression.prototype = Object.create(Expression.prototype);\nBracketsExpression.prototype.constructor = BracketsExpression;\nBracketsExpression.prototype.type = 'BracketsExpression';\nBracketsExpression.prototype.serialize = function() {\n  return serializeObject.instance(this, this.before, this.inside, this.afterSegments, this.meta);\n};\nBracketsExpression.prototype.get = function(context) {\n  var inside = this.inside.get(context);\n  if (inside == null) return;\n  var before = this.before.get(context);\n  if (!before) return;\n  var base = before[inside];\n  return (this.afterSegments) ? lookup(this.afterSegments, base) : base;\n};\nBracketsExpression.prototype.resolve = function(context) {\n  // Get and split the current value of the expression inside the brackets\n  var inside = this.inside.get(context);\n  if (inside == null) return;\n\n  // Concat the before, inside, and optional after segments\n  var base = this.before.resolve(context);\n  if (!base) return;\n  var segments = (this.afterSegments) ?\n    base.concat(inside, this.afterSegments) :\n    base.concat(inside);\n  return this._resolvePatch(context, segments);\n};\nBracketsExpression.prototype.dependencies = function(context, options) {\n  var before = this.before.dependencies(context, options);\n  if (before) before.pop();\n  var inner = this.inside.dependencies(context, options);\n  var dependencies = concat(before, inner);\n  return appendDependency(dependencies, this, context);\n};\n\n// This Expression is used to wrap a template so that when its containing\n// Expression--such as an ObjectExpression or ArrayExpression--is evaluated,\n// it returns the template unrendered and wrapped in the current context.\n// Separating evaluation of the containing expression from template rendering\n// is used to support array attributes of views. This way, we can evaluate an\n// array and iterate through it separately from rendering template content\nfunction DeferRenderExpression(template, meta) {\n  if (!(template instanceof Template)) {\n    throw new Error('DeferRenderExpression requires a Template argument');\n  }\n  this.template = template;\n  this.meta = meta;\n}\nDeferRenderExpression.prototype = Object.create(Expression.prototype);\nDeferRenderExpression.prototype.constructor = DeferRenderExpression;\nDeferRenderExpression.prototype.type = 'DeferRenderExpression';\nDeferRenderExpression.prototype.serialize = function() {\n  return serializeObject.instance(this, this.template, this.meta);\n};\nDeferRenderExpression.prototype.get = function(context) {\n  return new templates.ContextClosure(this.template, context);\n};\n\nfunction ArrayExpression(items, afterSegments, meta) {\n  this.items = items;\n  this.afterSegments = afterSegments;\n  this.meta = meta;\n}\nArrayExpression.prototype = Object.create(Expression.prototype);\nArrayExpression.prototype.constructor = ArrayExpression;\nArrayExpression.prototype.type = 'ArrayExpression';\nArrayExpression.prototype.serialize = function() {\n  return serializeObject.instance(this, this.items, this.afterSegments, this.meta);\n};\nArrayExpression.prototype.get = function(context) {\n  var items = new Array(this.items.length);\n  for (var i = 0; i < this.items.length; i++) {\n    var value = this.items[i].get(context);\n    items[i] = value;\n  }\n  return (this.afterSegments) ? lookup(this.afterSegments, items) : items;\n};\nArrayExpression.prototype.dependencies = function(context, options) {\n  if (!this.items) return;\n  var dependencies;\n  for (var i = 0; i < this.items.length; i++) {\n    var itemDependencies = this.items[i].dependencies(context, options);\n    dependencies = concat(dependencies, itemDependencies);\n  }\n  return dependencies;\n};\n\nfunction ObjectExpression(properties, afterSegments, meta) {\n  this.properties = properties;\n  this.afterSegments = afterSegments;\n  this.meta = meta;\n}\nObjectExpression.prototype = Object.create(Expression.prototype);\nObjectExpression.prototype.constructor = ObjectExpression;\nObjectExpression.prototype.type = 'ObjectExpression';\nObjectExpression.prototype.serialize = function() {\n  return serializeObject.instance(this, this.properties, this.afterSegments, this.meta);\n};\nObjectExpression.prototype.get = function(context) {\n  var object = {};\n  for (var key in this.properties) {\n    var value = this.properties[key].get(context);\n    object[key] = value;\n  }\n  return (this.afterSegments) ? lookup(this.afterSegments, object) : object;\n};\nObjectExpression.prototype.dependencies = function(context, options) {\n  if (!this.properties) return;\n  var dependencies;\n  for (var key in this.properties) {\n    var propertyDependencies = this.properties[key].dependencies(context, options);\n    dependencies = concat(dependencies, propertyDependencies);\n  }\n  return dependencies;\n};\n\nfunction FnExpression(segments, args, afterSegments, meta) {\n  this.segments = segments;\n  this.args = args;\n  this.afterSegments = afterSegments;\n  this.meta = meta;\n  var parentSegments = segments && segments.slice();\n  this.lastSegment = parentSegments && parentSegments.pop();\n  this.parentSegments = (parentSegments && parentSegments.length) ? parentSegments : null;\n}\nFnExpression.prototype = Object.create(Expression.prototype);\nFnExpression.prototype.constructor = FnExpression;\nFnExpression.prototype.type = 'FnExpression';\nFnExpression.prototype.serialize = function() {\n  return serializeObject.instance(this, this.segments, this.args, this.afterSegments, this.meta);\n};\nFnExpression.prototype.get = function(context) {\n  var value = this.apply(context);\n  // Lookup property underneath computed value if needed\n  return (this.afterSegments) ? lookup(this.afterSegments, value) : value;\n};\nFnExpression.prototype.apply = function(context, extraInputs) {\n  // See View::dependencies. This is needed in order to handle the case of\n  // getting dependencies within a component template, in which case we cannot\n  // access model data separate from rendering.\n  if (!context.controller) return;\n  var parent = this._lookupParent(context);\n  var fn = parent[this.lastSegment];\n  var getFn = fn.get || fn;\n  var out = this._applyFn(getFn, context, extraInputs, parent);\n  return out;\n};\nFnExpression.prototype._lookupParent = function(context) {\n  // Lookup function on current controller\n  var controller = context.controller;\n  var segments = this.parentSegments;\n  var parent = (segments) ? lookup(segments, controller) : controller;\n  if (parent && parent[this.lastSegment]) return parent;\n  // Otherwise lookup function on page\n  var page = controller.page;\n  if (controller !== page) {\n    parent = (segments) ? lookup(segments, page) : page;\n    if (parent && parent[this.lastSegment]) return parent;\n  }\n  // Otherwise lookup function on global\n  parent = (segments) ? lookup(segments, global) : global;\n  if (parent && parent[this.lastSegment]) return parent;\n  // Throw if not found\n  throw new Error('Function not found for: ' + this.segments.join('.'));\n};\nFnExpression.prototype._getInputs = function(context) {\n  var inputs = [];\n  for (var i = 0, len = this.args.length; i < len; i++) {\n    var value = this.args[i].get(context);\n    inputs.push(renderValue(value, context));\n  }\n  return inputs;\n};\nFnExpression.prototype._applyFn = function(fn, context, extraInputs, thisArg) {\n  // Apply if there are no path inputs\n  if (!this.args) {\n    return (extraInputs) ?\n      fn.apply(thisArg, extraInputs) :\n      fn.call(thisArg);\n  }\n  // Otherwise, get the current value for path inputs and apply\n  var inputs = this._getInputs(context);\n  if (extraInputs) {\n    for (var i = 0, len = extraInputs.length; i < len; i++) {\n      inputs.push(extraInputs[i]);\n    }\n  }\n  return fn.apply(thisArg, inputs);\n};\nFnExpression.prototype.dependencies = function(context, options) {\n  var dependencies = [];\n  if (!this.args) return dependencies;\n  for (var i = 0, len = this.args.length; i < len; i++) {\n    var argDependencies = this.args[i].dependencies(context, options);\n    if (!argDependencies || argDependencies.length < 1) continue;\n    var end = argDependencies.length - 1;\n    for (var j = 0; j < end; j++) {\n      dependencies.push(argDependencies[j]);\n    }\n    var last = argDependencies[end];\n    if (last[last.length - 1] !== '*') {\n      last = last.concat('*');\n    }\n    dependencies.push(last);\n  }\n  return dependencies;\n};\nFnExpression.prototype.set = function(context, value) {\n  var controller = context.controller;\n  var fn, parent;\n  while (controller) {\n    parent = (this.parentSegments) ?\n      lookup(this.parentSegments, controller) :\n      controller;\n    fn = parent && parent[this.lastSegment];\n    if (fn) break;\n    controller = controller.parent;\n  }\n  var setFn = fn && fn.set;\n  if (!setFn) throw new Error('No setter function for: ' + this.segments.join('.'));\n  var inputs = this._getInputs(context);\n  inputs.unshift(value);\n  var out = setFn.apply(parent, inputs);\n  for (var i in out) {\n    this.args[i].set(context, out[i]);\n  }\n};\n\nfunction NewExpression(segments, args, afterSegments, meta) {\n  FnExpression.call(this, segments, args, afterSegments, meta);\n}\nNewExpression.prototype = Object.create(FnExpression.prototype);\nNewExpression.prototype.constructor = NewExpression;\nNewExpression.prototype.type = 'NewExpression';\nNewExpression.prototype._applyFn = function(Fn, context) {\n  // Apply if there are no path inputs\n  if (!this.args) return new Fn();\n  // Otherwise, get the current value for path inputs and apply\n  var inputs = this._getInputs(context);\n  inputs.unshift(null);\n  return new (Fn.bind.apply(Fn, inputs))();\n};\n\nfunction OperatorExpression(name, args, afterSegments, meta) {\n  this.name = name;\n  this.args = args;\n  this.afterSegments = afterSegments;\n  this.meta = meta;\n  this.getFn = operatorFns.get[name];\n  this.setFn = operatorFns.set[name];\n}\nOperatorExpression.prototype = Object.create(FnExpression.prototype);\nOperatorExpression.prototype.constructor = OperatorExpression;\nOperatorExpression.prototype.type = 'OperatorExpression';\nOperatorExpression.prototype.serialize = function() {\n  return serializeObject.instance(this, this.name, this.args, this.afterSegments, this.meta);\n};\nOperatorExpression.prototype.apply = function(context) {\n  var inputs = this._getInputs(context);\n  return this.getFn.apply(null, inputs);\n};\nOperatorExpression.prototype.set = function(context, value) {\n  var inputs = this._getInputs(context);\n  inputs.unshift(value);\n  var out = this.setFn.apply(null, inputs);\n  for (var i in out) {\n    this.args[i].set(context, out[i]);\n  }\n};\n\nfunction SequenceExpression(args, afterSegments, meta) {\n  this.args = args;\n  this.afterSegments = afterSegments;\n  this.meta = meta;\n}\nSequenceExpression.prototype = Object.create(OperatorExpression.prototype);\nSequenceExpression.prototype.constructor = SequenceExpression;\nSequenceExpression.prototype.type = 'SequenceExpression';\nSequenceExpression.prototype.serialize = function() {\n  return serializeObject.instance(this, this.args, this.afterSegments, this.meta);\n};\nSequenceExpression.prototype.name = ',';\nSequenceExpression.prototype.getFn = operatorFns.get[','];\nSequenceExpression.prototype.resolve = function(context) {\n  var last = this.args[this.args.length - 1];\n  return last.resolve(context);\n};\nSequenceExpression.prototype.dependencies = function(context, options) {\n  var dependencies = [];\n  for (var i = 0, len = this.args.length; i < len; i++) {\n    var argDependencies = this.args[i].dependencies(context, options);\n    for (var j = 0, jLen = argDependencies.length; j < jLen; j++) {\n      dependencies.push(argDependencies[j]);\n    }\n  }\n  return dependencies;\n};\n\n// For each method that takes a context argument, get the nearest parent view\n// context, then delegate methods to the inner expression\nfunction ViewParentExpression(expression, meta) {\n  this.expression = expression;\n  this.meta = meta;\n}\nViewParentExpression.prototype = Object.create(Expression.prototype);\nViewParentExpression.prototype.constructor = ViewParentExpression;\nViewParentExpression.prototype.type = 'ViewParentExpression';\nViewParentExpression.prototype.serialize = function() {\n  return serializeObject.instance(this, this.expression, this.meta);\n};\nViewParentExpression.prototype.get = function(context) {\n  var parentContext = context.forViewParent();\n  return this.expression.get(parentContext);\n};\nViewParentExpression.prototype.resolve = function(context) {\n  var parentContext = context.forViewParent();\n  return this.expression.resolve(parentContext);\n};\nViewParentExpression.prototype.dependencies = function(context, options) {\n  var parentContext = context.forViewParent();\n  return this.expression.dependencies(parentContext, options);\n};\nViewParentExpression.prototype.pathSegments = function(context) {\n  var parentContext = context.forViewParent();\n  return this.expression.pathSegments(parentContext);\n};\nViewParentExpression.prototype.set = function(context, value) {\n  var parentContext = context.forViewParent();\n  return this.expression.set(parentContext, value);\n};\n\nfunction ScopedModelExpression(expression, meta) {\n  this.expression = expression;\n  this.meta = meta;\n}\nScopedModelExpression.prototype = Object.create(Expression.prototype);\nScopedModelExpression.prototype.constructor = ScopedModelExpression;\nScopedModelExpression.prototype.type = 'ScopedModelExpression';\nScopedModelExpression.prototype.serialize = function() {\n  return serializeObject.instance(this, this.expression, this.meta);\n};\n// Return a scoped model instead of the value\nScopedModelExpression.prototype.get = function(context) {\n  var segments = this.pathSegments(context);\n  if (!segments) return;\n  return context.controller.model.scope(segments.join('.'));\n};\n// Delegate other methods to the inner expression\nScopedModelExpression.prototype.resolve = function(context) {\n  return this.expression.resolve(context);\n};\nScopedModelExpression.prototype.dependencies = function(context, options) {\n  return this.expression.dependencies(context, options);\n};\nScopedModelExpression.prototype.pathSegments = function(context) {\n  return this.expression.pathSegments(context);\n};\nScopedModelExpression.prototype.set = function(context, value) {\n  return this.expression.set(context, value);\n};\n\nfunction getDependencies(value, context, options) {\n  if (value instanceof Expression || value instanceof Template) {\n    return value.dependencies(context, options);\n  }\n}\n\nfunction appendDependency(dependencies, expression, context) {\n  var segments = expression.resolve(context);\n  if (!segments) return dependencies;\n  if (dependencies) {\n    dependencies.push(segments);\n    return dependencies;\n  }\n  return [segments];\n}\n\nfunction swapLastDependency(dependencies, expression, context) {\n  if (!expression.segments.length) {\n    return dependencies;\n  }\n  var segments = expression.resolve(context);\n  if (!segments) return dependencies;\n  if (dependencies) {\n    dependencies.pop();\n    dependencies.push(segments);\n    return dependencies;\n  }\n  return [segments];\n}\n",
    "exports.contexts = require('./lib/contexts');\nexports.expressions = require('./lib/expressions');\nexports.operatorFns = require('./lib/operatorFns');\nexports.options = require('./lib/options');\nexports.templates = require('./lib/templates');\n",
    "module.exports = Dom;\n\nfunction Dom(controller) {\n  this.controller = controller;\n  this._listeners = null;\n}\n\nDom.prototype._initListeners = function() {\n  var dom = this;\n  this.controller.on('destroy', function domOnDestroy() {\n    var listeners = dom._listeners;\n    if (!listeners) return;\n    for (var i = listeners.length; i--;) {\n      listeners[i].remove();\n    }\n    dom._listeners = null;\n  });\n  return this._listeners = [];\n};\n\nDom.prototype._listenerIndex = function(domListener) {\n  var listeners = this._listeners;\n  if (!listeners) return -1;\n  for (var i = listeners.length; i--;) {\n    if (listeners[i].equals(domListener)) return i;\n  }\n  return -1;\n};\n\nDom.prototype.addListener = function(type, target, listener, useCapture) {\n  if (typeof target === 'function') {\n    useCapture = listener;\n    listener = target;\n    target = document;\n  }\n  var domListener =\n    (type === 'destroy') ? new DestroyListener(target, listener) :\n    new DomListener(type, target, listener, useCapture);\n  if (-1 === this._listenerIndex(domListener)) {\n    var listeners = this._listeners || this._initListeners();\n    listeners.push(domListener);\n  }\n  domListener.add();\n};\nDom.prototype.on = Dom.prototype.addListener;\n\nDom.prototype.once = function(type, target, listener, useCapture) {\n  if (typeof target === 'function') {\n    useCapture = listener;\n    listener = target;\n    target = document;\n  }\n  this.addListener(type, target, wrappedListener, useCapture);\n  var dom = this;\n  function wrappedListener() {\n    dom.removeListener(type, target, wrappedListener, useCapture);\n    return listener.apply(this, arguments);\n  }\n};\n\nDom.prototype.removeListener = function(type, target, listener, useCapture) {\n  if (typeof target === 'function') {\n    useCapture = listener;\n    listener = target;\n    target = document;\n  }\n  var domListener = new DomListener(type, target, listener, useCapture);\n  domListener.remove();\n  var i = this._listenerIndex(domListener);\n  if (i > -1) this._listeners.splice(i, 1);\n};\n\nfunction DomListener(type, target, listener, useCapture) {\n  this.type = type;\n  this.target = target;\n  this.listener = listener;\n  this.useCapture = !!useCapture;\n}\nDomListener.prototype.equals = function(domListener) {\n  return this.listener === domListener.listener &&\n    this.target === domListener.target &&\n    this.type === domListener.type &&\n    this.useCapture === domListener.useCapture;\n};\nDomListener.prototype.add = function() {\n  this.target.addEventListener(this.type, this.listener, this.useCapture);\n};\nDomListener.prototype.remove = function() {\n  this.target.removeEventListener(this.type, this.listener, this.useCapture);\n};\n\nfunction DestroyListener(target, listener) {\n  DomListener.call(this, 'destroy', target, listener);\n}\nDestroyListener.prototype = new DomListener();\nDestroyListener.prototype.add = function() {\n  var listeners = this.target.$destroyListeners || (this.target.$destroyListeners = []);\n  if (listeners.indexOf(this.listener) === -1) {\n    listeners.push(this.listener);\n  }\n};\nDestroyListener.prototype.remove = function() {\n  var listeners = this.target.$destroyListeners;\n  if (!listeners) return;\n  var index = listeners.indexOf(this.listener);\n  if (index !== -1) {\n    listeners.splice(index, 1);\n  }\n};\n",
    "var EventEmitter = require('events').EventEmitter;\nvar util = require('racer/lib/util');\nvar Dom = require('./Dom');\n\nmodule.exports = Controller;\n\nfunction Controller(app, page, model) {\n  EventEmitter.call(this);\n  this.dom = new Dom(this);\n  this.app = app;\n  this.page = page;\n  this.model = model;\n  model.data.$controller = this;\n}\n\nutil.mergeInto(Controller.prototype, EventEmitter.prototype);\n\nController.prototype.emitCancellable = function() {\n  var cancelled = false;\n  function cancel() {\n    cancelled = true;\n  }\n\n  var args = Array.prototype.slice.call(arguments);\n  args.push(cancel);\n  this.emit.apply(this, args);\n\n  return cancelled;\n};\n\nController.prototype.emitDelayable = function() {\n  var args = Array.prototype.slice.call(arguments);\n  var callback = args.pop();\n\n  var delayed = false;\n  function delay() {\n    delayed = true;\n    return callback;\n  }\n\n  args.push(delay);\n  this.emit.apply(this, args);\n  if (!delayed) callback();\n\n  return delayed;\n};\n",
    "/*\n * components.js\n *\n * Components associate custom script functionality with a view. They can be\n * distributed as standalone modules containing templates, scripts, and styles.\n * They can also be used to modularize application functionality.\n *\n */\n\nvar util = require('racer/lib/util');\nvar derbyTemplates = require('derby-templates');\nvar templates = derbyTemplates.templates;\nvar expressions = derbyTemplates.expressions;\nvar Controller = require('./Controller');\nvar slice = [].slice;\n\nexports.Component = Component;\nexports.ComponentAttribute = ComponentAttribute;\nexports.ComponentAttributeBinding = ComponentAttributeBinding;\nexports.ComponentFactory = ComponentFactory;\nexports.SingletonComponentFactory = SingletonComponentFactory;\nexports.createFactory = createFactory;\nexports.extendComponent = extendComponent;\n\nfunction Component(context, data) {\n  var parent = context.controller;\n  var id = context.id();\n  var scope = ['$components', id];\n  var model = parent.model.root.eventContext(id);\n  model._at = scope.join('.');\n  data.id = id;\n  model._set(scope, data);\n  // Store a reference to the component's scope such that the expression\n  // getters are relative to the component\n  model.data = data;\n\n  Controller.call(this, parent.app, parent.page, model);\n  this.parent = parent;\n  this.context = context.componentChild(this);\n  this.id = id;\n  this._scope = scope;\n\n  // Add reference to this component on the page so that all components\n  // associated with a page can be destroyed when the page transitions\n  this.page._components[id] = this;\n  this.isDestroyed = false;\n}\n\nutil.mergeInto(Component.prototype, Controller.prototype);\n\nComponent.prototype.destroy = function() {\n  this.emit('destroy');\n  this.model.removeContextListeners();\n  this.model.destroy();\n  delete this.page._components[this.id];\n  var components = this.page._eventModel.object.$components;\n  if (components) delete components.object[this.id];\n  this.isDestroyed = true;\n};\n\n// Apply calls to the passed in function with the component as the context.\n// Stop calling back once the component is destroyed, which avoids possible bugs\n// and memory leaks.\nComponent.prototype.bind = function(callback) {\n  var component = this;\n  this.on('destroy', function() {\n    // Reduce potential for memory leaks by removing references to the component\n    // and the passed in callback, which could have closure references\n    component = null;\n    // Cease calling back after component is removed from the DOM\n    callback = null;\n  });\n  return function componentBindWrapper() {\n    if (!callback) return;\n    return callback.apply(component, arguments);\n  };\n};\n\n// When passing in a numeric delay, calls the function at most once per that\n// many milliseconds. Like Underscore, the function will be called on the\n// leading and the trailing edge of the delay as appropriate. Unlike Underscore,\n// calls are consistently called via setTimeout and are never synchronous. This\n// should be used for reducing the frequency of ongoing updates, such as scroll\n// events or other continuous streams of events.\n//\n// Additionally, implements an interface intended to be used with\n// window.requestAnimationFrame or process.nextTick. If one of these is passed,\n// it will be used to create a single async call following any number of\n// synchronous calls. This mode is typically used to coalesce many synchronous\n// events (such as multiple model events) into a single async event.\n//\n// Like component.bind(), will no longer call back once the component is\n// destroyed, which avoids possible bugs and memory leaks.\nComponent.prototype.throttle = function(callback, delayArg) {\n  var component = this;\n  this.on('destroy', function() {\n    // Reduce potential for memory leaks by removing references to the component\n    // and the passed in callback, which could have closure references\n    component = null;\n    // Cease calling back after component is removed from the DOM\n    callback = null;\n  });\n\n  // throttle(callback)\n  // throttle(callback, 150)\n  if (delayArg == null || typeof delayArg === 'number') {\n    var delay = delayArg || 0;\n    var nextArgs;\n    var previous;\n    var boundCallback = function() {\n      var args = nextArgs;\n      nextArgs = null;\n      previous = +new Date();\n      if (callback && args) {\n        callback.apply(component, args);\n      }\n    };\n    return function componentThrottleWrapper() {\n      var queueCall = !nextArgs;\n      nextArgs = slice.call(arguments);\n      if (queueCall) {\n        var now = +new Date();\n        var remaining = Math.max(previous + delay - now, 0);\n        setTimeout(boundCallback, remaining);\n      }\n    };\n  }\n\n  // throttle(callback, window.requestAnimationFrame)\n  // throttle(callback, process.nextTick)\n  if (typeof delayArg === 'function') {\n    var nextArgs;\n    var boundCallback = function() {\n      var args = nextArgs;\n      nextArgs = null;\n      if (callback && args) {\n        callback.apply(component, args);\n      }\n    };\n    return function componentThrottleWrapper() {\n      var queueCall = !nextArgs;\n      nextArgs = slice.call(arguments);\n      if (queueCall) delayArg(boundCallback);\n    };\n  }\n\n  throw new Error('Second argument must be a delay function or number');\n};\n\n// Suppresses calls until the function is no longer called for that many\n// milliseconds. This should be used for delaying updates triggered by user\n// input, such as window resizing, or typing text that has a live preview or\n// client-side validation. This should not be used for inputs that trigger\n// server requests, such as search autocomplete; use debounceAsync for those\n// cases instead.\n//\n// Like component.bind(), will no longer call back once the component is\n// destroyed, which avoids possible bugs and memory leaks.\nComponent.prototype.debounce = function(callback, delay) {\n  delay = delay || 0;\n  if (typeof delay !== 'number') {\n    throw new Error('Second argument must be a number');\n  }\n  var component = this;\n  this.on('destroy', function() {\n    // Reduce potential for memory leaks by removing references to the component\n    // and the passed in callback, which could have closure references\n    component = null;\n    // Cease calling back after component is removed from the DOM\n    callback = null;\n  });\n  var nextArgs;\n  var timeout;\n  var boundCallback = function() {\n    var args = nextArgs;\n    nextArgs = null;\n    timeout = null;\n    if (callback && args) {\n      callback.apply(component, args);\n    }\n  };\n  return function componentDebounceWrapper() {\n    nextArgs = slice.call(arguments);\n    if (timeout) clearTimeout(timeout);\n    timeout = setTimeout(boundCallback, delay);\n  };\n};\n\n// Forked from: https://github.com/juliangruber/async-debounce\n//\n// Like debounce(), suppresses calls until the function is no longer called for\n// that many milliseconds. In addition, suppresses calls while the callback\n// function is running. In other words, the callback will not be called again\n// until the supplied done() argument is called. When the debounced function is\n// called while the callback is running, the callback will be called again\n// immediately after done() is called. Thus, the callback will always receive\n// the last value passed to the debounced function.\n//\n// This avoids the potential for multiple callbacks to execute in parallel and\n// complete out of order. It also acts as an adaptive rate limiter. Use this\n// method to debounce any field that triggers an async call as the user types.\n//\n// Like component.bind(), will no longer call back once the component is\n// destroyed, which avoids possible bugs and memory leaks.\nComponent.prototype.debounceAsync = function(callback, delay) {\n  var applyArguments = callback.length !== 1;\n  delay = delay || 0;\n  if (typeof delay !== 'number') {\n    throw new Error('Second argument must be a number');\n  }\n  var component = this;\n  this.on('destroy', function() {\n    // Reduce potential for memory leaks by removing references to the component\n    // and the passed in callback, which could have closure references\n    component = null;\n    // Cease calling back after component is removed from the DOM\n    callback = null;\n  });\n  var running = false;\n  var nextArgs;\n  var timeout;\n  function done() {\n    var args = nextArgs;\n    nextArgs = null;\n    timeout = null;\n    if (callback && args) {\n      running = true;\n      args.push(done);\n      callback.apply(component, args);\n    } else {\n      running = false;\n    }\n  }\n  return function componentDebounceAsyncWrapper() {\n    nextArgs = (applyArguments) ? slice.call(arguments) : [];\n    if (timeout) clearTimeout(timeout);\n    if (running) return;\n    timeout = setTimeout(done, delay);\n  };\n};\n\nComponent.prototype.get = function(viewName, unescaped) {\n  var view = this.getView(viewName);\n  return view.get(this.context, unescaped);\n};\n\nComponent.prototype.getFragment = function(viewName) {\n  var view = this.getView(viewName);\n  return view.getFragment(this.context);\n};\n\nComponent.prototype.getView = function(viewName) {\n  var contextView = this.context.getView();\n  return (viewName) ?\n    this.app.views.find(viewName, contextView.namespace) : contextView;\n};\n\nComponent.prototype.getAttribute = function(key) {\n  var attributeContext = this.context.forAttribute(key);\n  if (!attributeContext) return;\n  var value = attributeContext.attributes[key];\n  if (value instanceof expressions.Expression) {\n    value = value.get(attributeContext);\n  }\n  return expressions.renderValue(value, this.context);\n};\n\nComponent.prototype.setAttribute = function(key, value) {\n  this.context.parent.attributes[key] = value;\n};\n\nComponent.prototype.setNullAttribute = function(key, value) {\n  var attributes = this.context.parent.attributes;\n  if (attributes[key] == null) attributes[key] = value;\n};\n\nfunction ComponentAttribute(expression, model, key) {\n  this.expression = expression;\n  this.model = model;\n  this.key = key;\n}\nComponentAttribute.prototype.update = function(context, binding) {\n  var value = this.expression.get(context);\n  binding.condition = value;\n  this.model.setDiff(this.key, value);\n};\nfunction ComponentAttributeBinding(expression, model, key, context) {\n  this.template = new ComponentAttribute(expression, model, key);\n  this.context = context;\n  this.condition = expression.get(context);\n}\nComponentAttributeBinding.prototype = Object.create(templates.Binding.prototype);\nComponentAttributeBinding.prototype.constructor = ComponentAttributeBinding;\n\nfunction setModelAttributes(context, model) {\n  var attributes = context.parent.attributes;\n  if (!attributes) return;\n  // Set attribute values on component model\n  for (var key in attributes) {\n    var value = attributes[key];\n    setModelAttribute(context, model, key, value);\n  }\n}\n\nfunction setModelAttribute(context, model, key, value) {\n  // If an attribute is an Expression, set its current value in the model\n  // and keep it up to date. When it is a resolvable path, use a Racer ref,\n  // which makes it a two-way binding. Otherwise, set to the current value\n  // and create a binding that will set the value in the model as the\n  // expression's dependencies change.\n  if (value instanceof expressions.Expression) {\n    var segments = value.pathSegments(context);\n    if (segments) {\n      model.root.ref(model._at + '.' + key, segments.join('.'), {updateIndices: true});\n    } else {\n      var binding = new ComponentAttributeBinding(value, model, key, context);\n      context.addBinding(binding);\n      model.set(key, binding.condition);\n    }\n    return;\n  }\n\n  // If an attribute is a Template, set a template object in the model.\n  // Eagerly rendering a template can cause excessive rendering when the\n  // developer wants to pass in a complex chunk of HTML, and if we were to\n  // set a string in the model that represents the template value, we'd lose\n  // the ability to use the value in the component's template, since HTML\n  // would be escaped and we'd lose the ability to create proper bindings.\n  //\n  // This may be of surprise to developers, since it may not be intuitive\n  // whether a passed in value will produce an expression or a template. To\n  // get the rendered value consistently, the component's getAttribute(key)\n  // method may be used to get the value that would be rendered.\n  if (value instanceof templates.Template) {\n    var template = new templates.ContextClosure(value, context);\n    model.set(key, template);\n    return;\n  }\n\n  // For all other value types, set the passed in value directly. Passed in\n  // values will only be set initially, so model paths should be used if\n  // bindings are desired.\n  model.set(key, value);\n}\n\nfunction createFactory(constructor) {\n  // DEPRECATED: constructor.prototype.singleton is deprecated. \"singleton\"\n  // static property on the constructor is preferred\n  return (constructor.singleton || constructor.prototype.singleton) ?\n    new SingletonComponentFactory(constructor) :\n    new ComponentFactory(constructor);\n}\n\nfunction emitInitHooks(context, component) {\n  if (!context.initHooks) return;\n  // Run initHooks for `on` listeners immediately before init\n  for (var i = 0, len = context.initHooks.length; i < len; i++) {\n    context.initHooks[i].emit(context, component);\n  }\n}\n\nfunction ComponentModelData() {\n  this.id = null;\n  this.$controller = null;\n}\n\nfunction ComponentFactory(constructor) {\n  this.constructor = constructor;\n}\nComponentFactory.prototype.init = function(context) {\n  var DataConstructor = this.constructor.DataConstructor || ComponentModelData;\n  var data = new DataConstructor();\n  var component = new this.constructor(context, data);\n  // Detect whether the component constructor already called super by checking\n  // for one of the properties it sets. If not, call the Component constructor\n  if (!component.context) {\n    Component.call(component, context, data);\n  }\n\n  setModelAttributes(component.context, component.model);\n\n  // Do the user-specific initialization. The component constructor should be\n  // an empty function and the actual initialization code should be done in the\n  // component's init method. This means that we don't have to rely on users\n  // properly calling the Component constructor method and avoids having to\n  // play nice with how CoffeeScript extends class constructors\n  emitInitHooks(context, component);\n  component.emit('init', component);\n  if (component.init) component.init(component.model);\n\n  return component.context;\n};\nComponentFactory.prototype.create = function(context) {\n  var component = context.controller;\n  component.emit('create', component);\n  // Call the component's create function after its view is rendered\n  if (component.create) {\n    component.create(component.model, component.dom);\n  }\n};\n\nfunction noop() {}\n\nfunction SingletonComponentFactory(constructor) {\n  this.constructor = constructor;\n  this.component = null;\n  // Disable component from being destroyed, since it is intended to\n  // be used multiple times\n  constructor.prototype.destroy = noop;\n}\nSingletonComponentFactory.prototype.isSingleton = true;\nSingletonComponentFactory.prototype.init = function(context) {\n  if (!this.component) this.component = new this.constructor();\n  return context.componentChild(this.component);\n};\n// Don't call the init or create methods for singleton components\nSingletonComponentFactory.prototype.create = noop;\n\nfunction isBasePrototype(object) {\n  return (object === Object.prototype) ||\n    (object === Function.prototype) ||\n    (object === null);\n}\nfunction getRootPrototype(object) {\n  while (true) {\n    var prototype = Object.getPrototypeOf(object);\n    if (isBasePrototype(prototype)) return object;\n    object = prototype;\n  }\n}\nvar _extendComponent = (Object.setPrototypeOf && Object.getPrototypeOf) ?\n  // Modern version, which supports ES6 classes\n  function(constructor) {\n    // Find the end of the prototype chain\n    var rootPrototype = getRootPrototype(constructor.prototype);\n\n    // This guard is a workaroud to a bug that has occurred in Chakra when\n    // app.component() is invoked twice on the same constructor. In that case,\n    // the `instanceof Component` check in extendComponent incorrectly returns\n    // false after the prototype has already been set to `Component.prototype`.\n    // Then, this code proceeds to set the prototype of Component.prototype\n    // to itself, which throws a \"Cyclic __proto__ value\" error.\n    // https://github.com/Microsoft/ChakraCore/issues/5915\n    if (rootPrototype === Component.prototype) return;\n\n    // Establish inheritance with the pattern that Node's util.inherits() uses\n    // if Object.setPrototypeOf() is available (all modern browsers & IE11).\n    // This inhertance pattern is not equivalent to class extends, but it does\n    // work to make instances of the constructor inherit the desired prototype\n    // https://github.com/nodejs/node/issues/4179\n    Object.setPrototypeOf(rootPrototype, Component.prototype);\n  } :\n  // Fallback for older browsers\n  function(constructor) {\n    // In this version, we iterate over all of the properties on the\n    // constructor's prototype and merge them into a new prototype object.\n    // This flattens the prototype chain, meaning that instanceof will not\n    // work for classes from which the current component inherits\n    var prototype = constructor.prototype;\n    // Otherwise, modify constructor.prototype. This won't work with ES6\n    // classes, since their prototype property is non-writeable. However, it\n    // does work in older browsers that don't support Object.setPrototypeOf(),\n    // and those browsers don't support ES6 classes either\n    constructor.prototype = Object.create(Component.prototype);\n    constructor.prototype.constructor = constructor;\n    util.mergeInto(constructor.prototype, prototype);\n  };\nfunction extendComponent(constructor) {\n  // Don't do anything if the constructor already extends Component\n  if (constructor.prototype instanceof Component) return;\n  // Otherwise, append Component.prototype to constructor's prototype chain\n  _extendComponent(constructor);\n}\n",
    "var expressions = require('derby-templates').expressions;\n\n// The many trees of bindings:\n//\n// - Model tree, containing your actual data. Eg:\n//    {users:{fred:{age:40}, wilma:{age:37}}}\n//\n// - Event model tree, whose structure mirrors the model tree. The event model\n//   tree lets us annotate the model tree with listeners which fire when events\n//   change. I think there are three types of listeners:\n//\n//   1. Reference binding binds to whatever is referred to by the path. Eg,\n//   {{each items as item}} binds item by reference as it goes through the\n//   list.\n//   2. Fixed path bindings explicitly bind to whatever is at that path\n//   regardless of how the model changes underneath the event model\n//   3. Listen on a subtree and fire when anything in the subtree changes. This\n//   is used for custom functions.\n//\n// {{foo.id}} would listen on the fixed path ['foo', 'id'].\n//\n//\n// - Context tree represents the changing (embedded) contexts of the templating\n//   engine. This maps to the tree of templates and allows templates to reference\n//   anything in any of their enclosing template scopes.\n//\n\nmodule.exports = EventModel;\n\n// The code here uses object-based set pattern where objects are keyed using\n// sequentially generated IDs.\nvar nextId = 1;\n\n// A binding object is something with update(), insert()/move()/remove() defined.\n\n\n// Given x[y] with model.get(y) == 5:\n//  item = 5\n//  segments = ['y']\n//  outside = the EventModel for x.\n//\n// Note that item could be a Context or another ModelRef - eg:\n//\n// {{ each foo as bar }} ... {{ x[bar] }}  -or-  {{ x[y[z]] }}\nfunction ModelRef(model, item, segments, outside) {\n  this.id = nextId++;\n\n  // We need a reference to the model & our segment list so we can update our\n  // value.\n  this.model = model;\n  this.segments = segments;\n\n  // Our current value.\n  this.item = item;\n\n  // outside is a reference to the EventModel of the thing on the lhs of the\n  // brackets. For example, in x[y].z, outside is the EventModel of x.\n  this.outside = outside;\n\n  // result is the EventModel of the evaluated version of the brackets. In\n  // x[y].z, its the EventModel of x[y].\n  this.result = outside.child(item).refChild(this);\n}\n\nModelRef.prototype.update = function() {\n  var segments = expressions.pathSegments(this.segments);\n  var newItem = expressions.lookup(segments, this.model.data);\n  if (this.item === newItem) return;\n\n  // First remove myself.\n  delete this.outside.child(this.item).refChildren[this.id];\n\n  this.item = newItem;\n\n  var container = this.outside.child(this.item);\n  // I want to just call refChild but that would create a new EM. Instead I\n  // want to just implant my current EM there.\n  if (!container.refChildren) container.refChildren = new RefChildrenMap();\n  container.refChildren[this.id] = this.result;\n\n  // Finally, update all the bindings in the tree.\n  this.result.update();\n};\n\n\nfunction RefOutMap() {}\nfunction RefChildrenMap() {}\nfunction BindingsMap() {}\nfunction ItemContextsMap() {}\nfunction EventModelsMap() {}\n\nfunction EventModel() {\n  this.id = nextId++;\n\n  // Most of these won't ever be filled in, so I'm just leaving them null.\n  //\n  // These contain our EventModel children.\n  this.object = null;\n  this.array = null;\n\n  // This contains any EventModel children which have floating references.\n  this.arrayByReference = null;\n\n  // If the data stored here is ever used to lookup other values, this is an\n  // object mapping remote child ID -> ref.\n  //\n  // Eg given x[y], y.refOut[x.id] = <Binding>\n  this.refOut = null;\n\n  // This is a map from ref id -> event model for events bound to this\n  // EventModel but via a ref. We could just merge them into the main tree, but\n  // this way they're easy to move.\n  //\n  // Eg, given x[y] (y=1), x.1.refChildren[ref id] is an EventModel.\n  this.refChildren = null;\n\n  this.bindings = null;\n\n  // Item contexts are contexts which need their item number changed as this\n  // EventModel object moves around its surrounding list.\n  this.itemContexts = null;\n}\n\nEventModel.prototype.refChild = function(ref) {\n  if (!this.refChildren) this.refChildren = new RefChildrenMap();\n  var id = ref.id;\n\n  if (!this.refChildren[id]) {\n    this.refChildren[id] = new EventModel();\n  }\n  return this.refChildren[id];\n};\n\nEventModel.prototype.arrayLookup = function(model, segmentsBefore, segmentsInside) {\n  var segments = expressions.pathSegments(segmentsInside);\n  var item = expressions.lookup(segments, model.data);\n\n  var source = this.at(segmentsInside);\n\n  // What the array currently resolves to. Given x[y] with y=1, container is\n  // the EM for x\n  var container = this.at(segmentsBefore);\n\n  if (!source.refOut) source.refOut = new RefOutMap();\n\n  var ref = source.refOut[container.id];\n  if (ref == null) {\n    ref = new ModelRef(model, item, segmentsInside, container);\n    source.refOut[container.id] = ref;\n  }\n\n  return ref;\n};\n\n// Returns the EventModel node of the named child.\nEventModel.prototype.child = function(segment) {\n  var container;\n  if (typeof segment === 'string') {\n    // Object\n    if (!this.object) this.object = {};\n    container = this.object;\n\n  } else if (typeof segment === 'number') {\n    // Array by value\n    if (!this.array) this.array = [];\n    container = this.array;\n\n  } else if (segment instanceof ModelRef) {\n    // Array reference. We'll need to lookup the child with the right\n    // value, then look inside its ref children for the right EventModel\n    // (so we can update it later). This is pretty janky, but should be\n    // *correct* even in the face of recursive array accessors.\n    //\n    // This will calculate it based on the current segment values, but refs\n    // cache the EM anyway.\n    //return this.child(segment.item).refChild(segment);\n    return segment.result;\n\n  } else {\n    // Array by reference\n    if (!this.arrayByReference) this.arrayByReference = [];\n    container = this.arrayByReference;\n    segment = segment.item;\n  }\n\n  return container[segment] || (container[segment] = new EventModel());\n};\n\n// Returns the EventModel node at the given segments list. Note that although\n// EventModel nodes are unique, its possible for multiple EventModel nodes to\n// refer to the same section of the model because of references.\n//\n// If you want to update the bindings that refer to a specific path, use\n// each().\n//\n// EventModel objects are created as needed.\nEventModel.prototype.at = function(segments) {\n  // For unbound dependancies.\n  if (segments == null) return this;\n\n  var eventModel = this;\n\n  for (var i = 0; i < segments.length; i++) {\n    eventModel = eventModel.child(segments[i]);\n  }\n\n  return eventModel;\n};\n\nEventModel.prototype.isEmpty = function() {\n  if (hasKeys(this.dependancies)) return false;\n  if (hasKeys(this.itemContexts)) return false;\n\n  if (this.object) {\n    if (hasKeys(this.object)) return false;\n    this.object = null;\n  }\n\n  if (this.arrayByReference) {\n    for (var i = 0; i < this.arrayByReference.length; i++) {\n      if (this.arrayByReference[i] != null) return false;\n    }\n    this.arrayByReference = null;\n  }\n\n  if (this.array) {\n    for (var i = 0; i < this.array.length; i++) {\n      if (this.array[i] != null) return false;\n    }\n    this.array = null;\n  }\n\n  return true;\n};\n\nfunction hasKeys(object) {\n  for (var key in object) {\n    return true;\n  }\n  return false;\n}\n\n\n// **** Updating the EventModel\n\nEventModel.prototype._addItemContext = function(context) {\n  if (!context._id) context._id = nextId++;\n  if (!this.itemContexts) this.itemContexts = new ItemContextsMap();\n  this.itemContexts[context._id] = context;\n};\n\nEventModel.prototype._removeItemContext = function(context) {\n  if (this.itemContexts) {\n    delete this.itemContexts[context._id];\n  }\n};\n\nEventModel.prototype._addBinding = function(binding) {\n  var bindings = this.bindings || (this.bindings = new BindingsMap());\n  binding.eventModels || (binding.eventModels = new EventModelsMap());\n  bindings[binding.id] = binding;\n  binding.eventModels[this.id] = this;\n};\n\n// This is the main hook to add bindings to the event model tree. It should\n// only be called on the root EventModel object.\nEventModel.prototype.addBinding = function(segments, binding) {\n  this.at(segments)._addBinding(binding);\n};\n\n// This is used for objects (contexts in derby's case) that have a .item\n// property which refers to an array index.\nEventModel.prototype.addItemContext = function(segments, context) {\n  this.at(segments)._addItemContext(context);\n};\n\nEventModel.prototype.removeBinding = function(binding) {\n  if (!binding.eventModels) return;\n  for (var id in binding.eventModels) {\n    var eventModel = binding.eventModels[id];\n    if (eventModel.bindings) delete eventModel.bindings[binding.id];\n  }\n  binding.eventModels = null;\n};\n\nEventModel.prototype._each = function(segments, pos, fn) {\n  // Our refChildren are effectively merged into this object.\n  if (this.refChildren) {\n    for (var id in this.refChildren) {\n      var refChild = this.refChildren[id];\n      if (refChild) refChild._each(segments, pos, fn);\n    }\n  }\n\n  if (segments.length === pos) {\n    fn(this);\n    return;\n  }\n\n  var segment = segments[pos];\n  var child;\n  if (typeof segment === 'string') {\n    // Object. Just recurse into our objects set. Its possible to rewrite this\n    // function to simply loop in the case of object lookups, but I don't think\n    // it'll buy us much.\n    child = this.object && this.object[segment];\n    if (child) child._each(segments, pos + 1, fn);\n\n  } else {\n    // Number. Recurse both into the fixed list and the reference list.\n    child = this.array && this.array[segment];\n    if (child) child._each(segments, pos + 1, fn);\n\n    child = this.arrayByReference && this.arrayByReference[segment];\n    if (child) child._each(segments, pos + 1, fn);\n  }\n};\n\n// Called when the scalar value at the path changes. This only calls update()\n// on this node. See update() below if you want to update entire\n// subtrees.\nEventModel.prototype.localUpdate = function(previous, pass) {\n  if (this.bindings) {\n    for (var id in this.bindings) {\n      var binding = this.bindings[id];\n      if (binding) binding.update(previous, pass);\n    }\n  }\n\n  // If our value changed, we also need to update anything that depends on it\n  // via refOut.\n  if (this.refOut) {\n    for (var id in this.refOut) {\n      var ref = this.refOut[id];\n      if (ref) ref.update();\n    }\n  }\n};\n\n// This is used when an object subtree is replaced / removed.\nEventModel.prototype.update = function(previous, pass) {\n  this.localUpdate(previous, pass);\n\n  if (this.object) {\n    for (var key in this.object) {\n      var binding = this.object[key];\n      if (binding) binding.update();\n    }\n  }\n\n  if (this.array) {\n    for (var i = 0; i < this.array.length; i++) {\n      var binding = this.array[i];\n      if (binding) binding.update();\n    }\n  }\n\n  if (this.arrayByReference) {\n    for (var i = 0; i < this.arrayByReference.length; i++) {\n      var binding = this.arrayByReference[i];\n      if (binding) binding.update();\n    }\n  }\n};\n\n// Updates the indexes in itemContexts of our children in the range of\n// [from, to). from and to both optional.\nEventModel.prototype._updateChildItemContexts = function(from, to) {\n  if (!this.arrayByReference) return;\n\n  if (from == null) from = 0;\n  if (to == null) to = this.arrayByReference.length;\n\n  for (var i = from; i < to; i++) {\n    var contexts = this.arrayByReference[i] &&\n      this.arrayByReference[i].itemContexts;\n    if (contexts) {\n      for (var key in contexts) {\n        contexts[key].item = i;\n      }\n    }\n  }\n};\n\n// Updates our array-by-value values. They have to recursively update every\n// binding in their children. Sad.\nEventModel.prototype._updateArray = function(from, to) {\n  if (!this.array) return;\n\n  if (from == null) from = 0;\n  if (to == null) to = this.array.length;\n\n  for (var i = from; i < to; i++) {\n    var binding = this.array[i];\n    if (binding) binding.update();\n  }\n};\n\nEventModel.prototype._updateObject = function() {\n  if (this.object) {\n    for (var key in this.object) {\n      var binding = this.object[key];\n      if (binding) binding.update();\n    }\n  }\n};\n\nEventModel.prototype._set = function(previous, pass) {\n  // This just updates anything thats bound to the whole subtree. An alternate\n  // implementation could be passed in the new value at this node (which we\n  // cache), then compare with the old version and only update parts of the\n  // subtree which are relevant. I don't know if thats an important\n  // optimization - it really depends on your use case.\n  this.update(previous, pass);\n};\n\n// Insert into this EventModel node.\nEventModel.prototype._insert = function(index, howMany) {\n  // Update fixed paths\n  this._updateArray(index);\n\n  // Update relative paths\n  if (this.arrayByReference && this.arrayByReference.length > index) {\n    // Shift the actual items in the array references array.\n\n    // This probably isn't the best way to implement insert. Other options are\n    // using concat() on slices or though constructing a temporary array and\n    // using splice.call. Hopefully if this method is slow it'll come up during\n    // profiling.\n    for (var i = 0; i < howMany; i++) {\n      this.arrayByReference.splice(index, 0, null);\n    }\n\n    // Update the path in the contexts\n    this._updateChildItemContexts(index + howMany);\n  }\n\n  // Finally call our bindings.\n  if (this.bindings) {\n    for (var id in this.bindings) {\n      var binding = this.bindings[id];\n      if (binding) binding.insert(index, howMany);\n    }\n  }\n  this._updateObject();\n};\n\n// Remove howMany child elements from this EventModel at index.\nEventModel.prototype._remove = function(index, howMany) {\n  // Update fixed paths. Both the removed items and items after it may have changed.\n  this._updateArray(index);\n\n  if (this.arrayByReference) {\n    // Update relative paths. First throw away all the children which have been removed.\n    this.arrayByReference.splice(index, howMany);\n\n    this._updateChildItemContexts(index);\n  }\n\n  // Call bindings.\n  if (this.bindings) {\n    for (var id in this.bindings) {\n      var binding = this.bindings[id];\n      if (binding) binding.remove(index, howMany);\n    }\n  }\n  this._updateObject();\n};\n\n// Move howMany items from `from` to `to`.\nEventModel.prototype._move = function(from, to, howMany) {\n  // first points to the first element that was moved. end points to the list\n  // element past the end of the changed region.\n  var first, end;\n  if (from < to) {\n    first = from;\n    end = to + howMany;\n  } else {\n    first = to;\n    end = from + howMany;\n  }\n\n  // Update fixed paths.\n  this._updateArray(first, end);\n\n  // Update relative paths\n  var arr = this.arrayByReference;\n  if (arr && arr.length > first) {\n    // Remove from the old location\n    var values = arr.splice(from, howMany);\n\n    // Insert at the new location\n    arr.splice.apply(arr, [to, 0].concat(values));\n\n    // Update the path in the contexts\n    this._updateChildItemContexts(first, end);\n  }\n\n  // Finally call our bindings.\n  if (this.bindings) {\n    for (var id in this.bindings) {\n      var binding = this.bindings[id];\n      if (binding) binding.move(from, to, howMany);\n    }\n  }\n  this._updateObject();\n};\n\n\n// Helpers.\n\nEventModel.prototype.mutate = function(segments, fn) {\n  // This finds & returns a list of all event models which exist and could match\n  // the specified path. The path cannot contain contexts like derby expression\n  // segment lists (just because I don't think thats a useful feature and its not\n  // implemented)\n  this._each(segments, 0, fn);\n\n  // Also emit all mutations as sets on star paths, which are how dependencies\n  // for view helper functions are represented. They should react to a path\n  // or any child path being modified\n  for (var i = 0, len = segments.length; i++ < len;) {\n    var wildcardSegments = segments.slice(0, i);\n    wildcardSegments.push('*');\n    this._each(wildcardSegments, 0, childSetWildcard);\n  }\n};\n\nfunction childSetWildcard(child) {\n  child._set();\n}\n\nEventModel.prototype.set = function(segments, previous, pass) {\n  this.mutate(segments, function childSet(child) {\n    child._set(previous, pass);\n  });\n};\n\nEventModel.prototype.insert = function(segments, index, howMany) {\n  this.mutate(segments, function childInsert(child) {\n    child._insert(index, howMany);\n  });\n};\n\nEventModel.prototype.remove = function(segments, index, howMany) {\n  this.mutate(segments, function childRemove(child) {\n    child._remove(index, howMany);\n  });\n};\n\nEventModel.prototype.move = function(segments, from, to, howMany) {\n  this.mutate(segments, function childMove(child) {\n    child._move(from, to, howMany);\n  });\n};\n",
    "exports.onStringInsert = onStringInsert;\nexports.onStringRemove = onStringRemove;\nexports.onTextInput = onTextInput;\n\nfunction onStringInsert(el, previous, index, text) {\n  function transformCursor(cursor) {\n    return (index < cursor) ? cursor + text.length : cursor;\n  }\n  previous || (previous = '');\n  var newText = previous.slice(0, index) + text + previous.slice(index);\n  replaceText(el, newText, transformCursor);\n}\n\nfunction onStringRemove(el, previous, index, howMany) {\n  function transformCursor(cursor) {\n    return (index < cursor) ? cursor - Math.min(howMany, cursor - index) : cursor;\n  }\n  previous || (previous = '');\n  var newText = previous.slice(0, index) + previous.slice(index + howMany);\n  replaceText(el, newText, transformCursor);\n}\n\nfunction replaceText(el, newText, transformCursor) {\n  var selectionStart = transformCursor(el.selectionStart);\n  var selectionEnd = transformCursor(el.selectionEnd);\n\n  var scrollTop = el.scrollTop;\n  el.value = newText;\n  if (el.scrollTop !== scrollTop) {\n    el.scrollTop = scrollTop;\n  }\n  if (document.activeElement === el) {\n    el.selectionStart = selectionStart;\n    el.selectionEnd = selectionEnd;\n  }\n}\n\nfunction onTextInput(model, segments, value) {\n  var previous = model._get(segments) || '';\n  if (previous === value) return;\n  var start = 0;\n  while (previous.charAt(start) === value.charAt(start)) {\n    start++;\n  }\n  var end = 0;\n  while (\n    previous.charAt(previous.length - 1 - end) === value.charAt(value.length - 1 - end) &&\n    end + start < previous.length &&\n    end + start < value.length\n  ) {\n    end++;\n  }\n\n  if (previous.length !== start + end) {\n    var howMany = previous.length - start - end;\n    model._stringRemove(segments, start, howMany);\n  }\n  if (value.length !== start + end) {\n    var inserted = value.slice(start, value.length - end);\n    model._stringInsert(segments, start, inserted);\n  }\n}\n",
    "var derbyTemplates = require('derby-templates');\nvar contexts = derbyTemplates.contexts;\nvar expressions = derbyTemplates.expressions;\nvar templates = derbyTemplates.templates;\nvar DependencyOptions = derbyTemplates.options.DependencyOptions;\nvar util = require('racer/lib/util');\nvar components = require('./components');\nvar EventModel = require('./eventmodel');\nvar textDiff = require('./textDiff');\nvar Controller = require('./Controller');\nvar documentListeners = require('./documentListeners');\n\nmodule.exports = Page;\n\nfunction Page(app, model) {\n  Controller.call(this, app, this, model);\n  this.params = null;\n  if (this.init) this.init(model);\n  this.context = this._createContext();\n  this._eventModel = null;\n  this._removeModelListeners = null;\n  this._components = {};\n  this._addListeners();\n}\n\nutil.mergeInto(Page.prototype, Controller.prototype);\n\nPage.prototype.$bodyClass = function(ns) {\n  if (!ns) return;\n  var classNames = [];\n  var segments = ns.split(':');\n  for (var i = 0, len = segments.length; i < len; i++) {\n    var className = segments.slice(0, i + 1).join('-');\n    classNames.push(className);\n  }\n  return classNames.join(' ');\n};\n\nPage.prototype.$preventDefault = function(e) {\n  e.preventDefault();\n};\n\nPage.prototype.$stopPropagation = function(e) {\n  e.stopPropagation();\n};\n\nPage.prototype._setRenderParams = function(ns) {\n  this.model.set('$render.ns', ns);\n  this.model.set('$render.params', this.params);\n  this.model.set('$render.url', this.params && this.params.url);\n  this.model.set('$render.query', this.params && this.params.query);\n};\n\nPage.prototype._setRenderPrefix = function(ns) {\n  var prefix = (ns) ? ns + ':' : '';\n  this.model.set('$render.prefix', prefix);\n};\n\nPage.prototype.get = function(viewName, ns, unescaped) {\n  this._setRenderPrefix(ns);\n  var view = this.getView(viewName, ns);\n  return view.get(this.context, unescaped);\n};\n\nPage.prototype.getFragment = function(viewName, ns) {\n  this._setRenderPrefix(ns);\n  var view = this.getView(viewName, ns);\n  return view.getFragment(this.context);\n};\n\nPage.prototype.getView = function(viewName, ns) {\n  return this.app.views.find(viewName, ns);\n};\n\nPage.prototype.render = function(ns) {\n  this.app.emit('render', this);\n  this.context.pause();\n  this._setRenderParams(ns);\n  var titleFragment = this.getFragment('TitleElement', ns);\n  var bodyFragment = this.getFragment('BodyElement', ns);\n  var titleElement = document.getElementsByTagName('title')[0];\n  titleElement.parentNode.replaceChild(titleFragment, titleElement);\n  document.body.parentNode.replaceChild(bodyFragment, document.body);\n  this.context.unpause();\n  if (this.create) this.create(this.model, this.dom);\n  this.app.emit('routeDone', this, 'render');\n};\n\nPage.prototype.attach = function() {\n  this.context.pause();\n  var ns = this.model.get('$render.ns');\n  var titleView = this.getView('TitleElement', ns);\n  var bodyView = this.getView('BodyElement', ns);\n  var titleElement = document.getElementsByTagName('title')[0];\n  titleView.attachTo(titleElement.parentNode, titleElement, this.context);\n  bodyView.attachTo(document.body.parentNode, document.body, this.context);\n  this.context.unpause();\n  if (this.create) this.create(this.model, this.dom);\n};\n\nPage.prototype._createContext = function() {\n  var contextMeta = new contexts.ContextMeta();\n  contextMeta.views = this.app && this.app.views;\n  var context = new contexts.Context(contextMeta, this);\n  context.expression = new expressions.PathExpression([]);\n  context.alias = '#root';\n  return context;\n};\n\nPage.prototype._addListeners = function() {\n  var eventModel = this._eventModel = new EventModel();\n  this._addModelListeners(eventModel);\n  this._addContextListeners(eventModel);\n};\n\nPage.prototype.destroy = function() {\n  this.emit('destroy');\n  this._removeModelListeners();\n  for (var id in this._components) {\n    var component = this._components[id];\n    component.destroy();\n  }\n  // Remove all data, refs, listeners, and reactive functions\n  // for the previous page\n  var silentModel = this.model.silent();\n  silentModel.destroy('_page');\n  silentModel.destroy('$components');\n  // Unfetch and unsubscribe from all queries and documents\n  silentModel.unloadAll && silentModel.unloadAll();\n};\n\nPage.prototype._addModelListeners = function(eventModel) {\n  var model = this.model;\n  if (!model) return;\n  // Registering model listeners with the *Immediate events helps to prevent\n  // a bug with binding updates where a model listener causes a change to the\n  // path being listened on, directly or indirectly.\n\n  // TODO: Remove this when upgrading Racer to the next major version. Feature\n  // detect which type of event listener to register by emitting a test event\n  if (useLegacyListeners(model)) {\n    return this._addModelListenersLegacy(eventModel);\n  }\n\n  // `util.castSegments(segments)` is needed to cast string segments into\n  // numbers, since EventModel#child does typeof checks against segments. This\n  // could be done once in Racer's Model#emit, instead of in every listener.\n  var changeListener = model.on('changeImmediate', function onChange(segments, event) {\n    // The pass parameter is passed in for special handling of updates\n    // resulting from stringInsert or stringRemove\n    segments = util.castSegments(segments.slice());\n    eventModel.set(segments, event.previous, event.pass);\n  });\n  var loadListener = model.on('loadImmediate', function onLoad(segments) {\n    segments = util.castSegments(segments.slice());\n    eventModel.set(segments);\n  });\n  var unloadListener = model.on('unloadImmediate', function onUnload(segments, event) {\n    segments = util.castSegments(segments.slice());\n    eventModel.set(segments, event.previous);\n  });\n  var insertListener = model.on('insertImmediate', function onInsert(segments, event) {\n    segments = util.castSegments(segments.slice());\n    eventModel.insert(segments, event.index, event.values.length);\n  });\n  var removeListener = model.on('removeImmediate', function onRemove(segments, event) {\n    segments = util.castSegments(segments.slice());\n    eventModel.remove(segments, event.index, event.values.length);\n  });\n  var moveListener = model.on('moveImmediate', function onMove(segments, event) {\n    segments = util.castSegments(segments.slice());\n    eventModel.move(segments, event.from, event.to, event.howMany);\n  });\n\n  this._removeModelListeners = function() {\n    model.removeListener('changeImmediate', changeListener);\n    model.removeListener('loadImmediate', loadListener);\n    model.removeListener('unloadImmediate', unloadListener);\n    model.removeListener('insertImmediate', insertListener);\n    model.removeListener('removeImmediate', removeListener);\n    model.removeListener('moveImmediate', moveListener);\n  };\n};\nfunction useLegacyListeners(model) {\n  var useLegacy = true;\n  // model.once is broken in older racer, so manually remove event\n  var listener = model.on('changeImmediate', function(segments, event) {\n    model.removeListener('changeImmediate', listener);\n    // Older Racer emits an array of eventArgs, whereas newer racer emits an event object\n    useLegacy = Array.isArray(event);\n  });\n  model.set('$derby.testEvent', true);\n  return useLegacy;\n}\nPage.prototype._addModelListenersLegacy = function(eventModel) {\n  var model = this.model;\n  if (!model) return;\n\n  // `util.castSegments(segments)` is needed to cast string segments into\n  // numbers, since EventModel#child does typeof checks against segments. This\n  // could be done once in Racer's Model#emit, instead of in every listener.\n  var changeListener = model.on('changeImmediate', function onChange(segments, eventArgs) {\n    // eventArgs[0] is the new value, which Derby bindings don't use directly.\n    var previous = eventArgs[1];\n    // The pass parameter is passed in for special handling of updates\n    // resulting from stringInsert or stringRemove\n    var pass = eventArgs[2];\n    segments = util.castSegments(segments.slice());\n    eventModel.set(segments, previous, pass);\n  });\n  var loadListener = model.on('loadImmediate', function onLoad(segments) {\n    segments = util.castSegments(segments.slice());\n    eventModel.set(segments);\n  });\n  var unloadListener = model.on('unloadImmediate', function onUnload(segments) {\n    segments = util.castSegments(segments.slice());\n    eventModel.set(segments);\n  });\n  var insertListener = model.on('insertImmediate', function onInsert(segments, eventArgs) {\n    var index = eventArgs[0];\n    var values = eventArgs[1];\n    segments = util.castSegments(segments.slice());\n    eventModel.insert(segments, index, values.length);\n  });\n  var removeListener = model.on('removeImmediate', function onRemove(segments, eventArgs) {\n    var index = eventArgs[0];\n    var values = eventArgs[1];\n    segments = util.castSegments(segments.slice());\n    eventModel.remove(segments, index, values.length);\n  });\n  var moveListener = model.on('moveImmediate', function onMove(segments, eventArgs) {\n    var from = eventArgs[0];\n    var to = eventArgs[1];\n    var howMany = eventArgs[2];\n    segments = util.castSegments(segments.slice());\n    eventModel.move(segments, from, to, howMany);\n  });\n\n  this._removeModelListeners = function() {\n    model.removeListener('changeImmediate', changeListener);\n    model.removeListener('loadImmediate', loadListener);\n    model.removeListener('unloadImmediate', unloadListener);\n    model.removeListener('insertImmediate', insertListener);\n    model.removeListener('removeImmediate', removeListener);\n    model.removeListener('moveImmediate', moveListener);\n  };\n};\n\nPage.prototype._addContextListeners = function(eventModel) {\n  this.context.meta.addBinding = addBinding;\n  this.context.meta.removeBinding = removeBinding;\n  this.context.meta.removeNode = removeNode;\n  this.context.meta.addItemContext = addItemContext;\n  this.context.meta.removeItemContext = removeItemContext;\n\n  function addItemContext(context) {\n    var segments = context.expression.resolve(context);\n    eventModel.addItemContext(segments, context);\n  }\n  function removeItemContext(context) {\n    // TODO\n  }\n  function addBinding(binding) {\n    patchTextBinding(binding);\n    var expressions = binding.template.expressions;\n    if (expressions) {\n      for (var i = 0, len = expressions.length; i < len; i++) {\n        addDependencies(eventModel, expressions[i], binding);\n      }\n    } else {\n      var expression = binding.template.expression;\n      addDependencies(eventModel, expression, binding);\n    }\n  }\n  function removeBinding(binding) {\n    var bindingWrappers = binding.meta;\n    if (!bindingWrappers) return;\n    for (var i = bindingWrappers.length; i--;) {\n      eventModel.removeBinding(bindingWrappers[i]);\n    }\n  }\n  function removeNode(node) {\n    var component = node.$component;\n    if (component) component.destroy();\n    var destroyListeners = node.$destroyListeners;\n    if (destroyListeners) {\n      for (var i = 0; i < destroyListeners.length; i++) {\n        destroyListeners[i]();\n      }\n    }\n  }\n};\n\nfunction addDependencies(eventModel, expression, binding) {\n  var bindingWrapper = new BindingWrapper(eventModel, expression, binding);\n  bindingWrapper.updateDependencies();\n}\n\n// The code here uses object-based set pattern where objects are keyed using\n// sequentially generated IDs.\nvar nextId = 1;\nfunction BindingWrapper(eventModel, expression, binding) {\n  this.eventModel = eventModel;\n  this.expression = expression;\n  this.binding = binding;\n  this.id = nextId++;\n  this.eventModels = null;\n  this.dependencies = null;\n  this.ignoreTemplateDependency = (\n    binding instanceof components.ComponentAttributeBinding\n  ) || (\n    (binding.template instanceof templates.DynamicText) &&\n    (binding instanceof templates.RangeBinding)\n  );\n  if (binding.meta) {\n    binding.meta.push(this);\n  } else {\n    binding.meta = [this];\n  }\n}\nBindingWrapper.prototype.updateDependencies = function() {\n  var dependencyOptions;\n  if (this.ignoreTemplateDependency && this.binding.condition instanceof templates.Template) {\n    dependencyOptions = new DependencyOptions();\n    dependencyOptions.setIgnoreTemplate(this.binding.condition);\n  }\n  var dependencies = this.expression.dependencies(this.binding.context, dependencyOptions);\n  if (this.dependencies) {\n    // Do nothing if dependencies haven't changed\n    if (equalDependencies(this.dependencies, dependencies)) return;\n    // Otherwise, remove current dependencies\n    this.eventModel.removeBinding(this);\n  }\n  // Add new dependencies\n  if (!dependencies) return;\n  this.dependencies = dependencies;\n  for (var i = 0, len = dependencies.length; i < len; i++) {\n    var dependency = dependencies[i];\n    if (dependency) this.eventModel.addBinding(dependency, this);\n  }\n};\nBindingWrapper.prototype.update = function(previous, pass) {\n  this.binding.update(previous, pass);\n  this.updateDependencies();\n};\nBindingWrapper.prototype.insert = function(index, howMany) {\n  this.binding.insert(index, howMany);\n  this.updateDependencies();\n};\nBindingWrapper.prototype.remove = function(index, howMany) {\n  this.binding.remove(index, howMany);\n  this.updateDependencies();\n};\nBindingWrapper.prototype.move = function(from, to, howMany) {\n  this.binding.move(from, to, howMany);\n  this.updateDependencies();\n};\n\nfunction equalDependencies(a, b) {\n  var lenA = a ? a.length : -1;\n  var lenB = b ? b.length : -1;\n  if (lenA !== lenB) return false;\n  for (var i = 0; i < lenA; i++) {\n    var itemA = a[i];\n    var itemB = b[i];\n    var lenItemA = itemA ? itemA.length : -1;\n    var lenItemB = itemB ? itemB.length : -1;\n    if (lenItemA !== lenItemB) return false;\n    for (var j = 0; j < lenItemB; j++) {\n      if (itemA[j] !== itemB[j]) return false;\n    }\n  }\n  return true;\n}\n\nfunction patchTextBinding(binding) {\n  if (\n    binding instanceof templates.AttributeBinding &&\n    binding.name === 'value' &&\n    (binding.element.tagName === 'INPUT' || binding.element.tagName === 'TEXTAREA') &&\n    documentListeners.inputSupportsSelection(binding.element) &&\n    binding.template.expression.resolve(binding.context)\n  ) {\n    binding.update = textInputUpdate;\n  }\n}\n\nfunction textInputUpdate(previous, pass) {\n  textUpdate(this, this.element, previous, pass);\n}\nfunction textUpdate(binding, element, previous, pass) {\n  if (pass) {\n    if (pass.$event && pass.$event.target === element) {\n      return;\n    } else if (pass.$stringInsert) {\n      return textDiff.onStringInsert(\n        element,\n        previous,\n        pass.$stringInsert.index,\n        pass.$stringInsert.text\n      );\n    } else if (pass.$stringRemove) {\n      return textDiff.onStringRemove(\n        element,\n        previous,\n        pass.$stringRemove.index,\n        pass.$stringRemove.howMany\n      );\n    }\n  }\n  binding.template.update(binding.context, binding);\n}\n",
    "/*DERBY_SERIALIZED_VIEWS*/module.exports = function(derbyTemplates, views){var expressions = derbyTemplates.expressions,templates = derbyTemplates.templates;views.deserialize([[function(){return this.template=new templates.Template([new templates.Element('title', void 0, [new templates.Block(new templates.Template([new templates.DynamicText(new expressions.PathExpression(['$render', 'prefix'], new expressions.ExpressionMeta('$render.prefix'))), new templates.Text('Title')], '{{$render.prefix}}Title'), [new templates.DynamicViewInstance(new templates.Template([new templates.DynamicText(new expressions.PathExpression(['$render', 'prefix'], new expressions.ExpressionMeta('$render.prefix'))), new templates.Text('Title')], '{{$render.prefix}}Title'), {})])], void 0, false)])},'TitleElement'],[function(){return this.template=new templates.Template([new templates.Element('body', {'class': new templates.DynamicAttribute(new expressions.FnExpression(['$bodyClass'], [new expressions.PathExpression(['$render', 'ns'])], void 0, new expressions.ExpressionMeta('$bodyClass($render.ns)')))}, [new templates.Block(new templates.Template([new templates.DynamicText(new expressions.PathExpression(['$render', 'prefix'], new expressions.ExpressionMeta('$render.prefix'))), new templates.Text('Body')], '{{$render.prefix}}Body'), [new templates.DynamicViewInstance(new templates.Template([new templates.DynamicText(new expressions.PathExpression(['$render', 'prefix'], new expressions.ExpressionMeta('$render.prefix'))), new templates.Text('Body')], '{{$render.prefix}}Body'), {})])], void 0, false, true)])},'BodyElement'],[function(){return this.template=new templates.Template([new templates.Text('Derby App')])},'Title'],[function(){return this.template=new templates.Template([new templates.ViewInstance('d-codemirror:includes', {})])},'Head'],[function(){return this.template=new templates.Template([new templates.Element('div', {'class': new templates.Attribute('editor')}, [new templates.ViewInstance('d-codemirror', {'text': new expressions.ViewParentExpression(new expressions.PathExpression(['codemirror', 'text'], new expressions.ExpressionMeta('codemirror.text'))), 'options': {'tabSize': 2, 'mode': 'markdown'}})], void 0, false), new templates.Element('div', {'class': new templates.Attribute('preview')}, [new templates.DynamicHtml(new expressions.FnExpression(['markdownHtml'], [new expressions.PathExpression(['codemirror', 'text'])], void 0, new expressions.ExpressionMeta('unescaped markdownHtml(codemirror.text)', void 0, void 0, void 0, void 0, true)))], void 0, false)])},'Body'],[function(){return this.template=new templates.Template([])},'Tail'],[function(){return this.template=new templates.Template([new templates.Marker('d-codemirror:index'), new templates.Element('textarea', void 0, [new templates.DynamicText(new expressions.PathExpression(['text'], new expressions.ExpressionMeta('text')))], [new templates.AsProperty(['textarea'])], false)])},'d-codemirror:index'],[function(){return this.template=new templates.Template([new templates.Block(new expressions.OperatorExpression('||', [new expressions.AttributePathExpression('static', []), new expressions.LiteralExpression('/codemirror')], void 0, new expressions.ExpressionMeta('with @static || \\'/codemirror\\' as #static', 'with', void 0, '#static')), [new templates.Element('link', {'rel': new templates.Attribute('stylesheet'), 'href': new templates.DynamicAttribute(new templates.Template([new templates.DynamicText(new expressions.AliasPathExpression('#static', [], new expressions.ExpressionMeta('#static'))), new templates.Text('/lib/codemirror.css')], '{{#static}}/lib/codemirror.css'))}, null, void 0, false), new templates.Element('script', {'src': new templates.DynamicAttribute(new templates.Template([new templates.DynamicText(new expressions.AliasPathExpression('#static', [], new expressions.ExpressionMeta('#static'))), new templates.Text('/lib/codemirror.js')], '{{#static}}/lib/codemirror.js'))}, [], void 0, false), new templates.Element('script', void 0, [new templates.Text('CodeMirror.modeURL = \\''), new templates.DynamicText(new expressions.AliasPathExpression('#static', [], new expressions.ExpressionMeta('#static'))), new templates.Text('/mode/%N/%N.js\\';')], void 0, false), new templates.Element('script', {'src': new templates.DynamicAttribute(new templates.Template([new templates.DynamicText(new expressions.AliasPathExpression('#static', [], new expressions.ExpressionMeta('#static'))), new templates.Text('/addon/mode/loadmode.js')], '{{#static}}/addon/mode/loadmode.js'))}, [], void 0, false)])])},'d-codemirror:includes']])};/*DERBY_SERIALIZED_VIEWS_END*/",
    "/*\n * App.js\n *\n * Provides the glue between views, controllers, and routes for an\n * application's functionality. Apps are responsible for creating pages.\n *\n */\n\nvar path = require('path');\nvar EventEmitter = require('events').EventEmitter;\nvar tracks = require('tracks');\nvar util = require('racer/lib/util');\nvar derbyTemplates = require('derby-templates');\nvar templates = derbyTemplates.templates;\nvar components = require('./components');\nvar PageBase = require('./Page');\nvar serializedViews = require('./_views');\n\nmodule.exports = App;\n\nfunction App(derby, name, filename, options) {\n  EventEmitter.call(this);\n  this.derby = derby;\n  this.name = name;\n  this.filename = filename;\n  this.scriptHash = '{{DERBY_SCRIPT_HASH}}';\n  this.bundledAt = '{{DERBY_BUNDLED_AT}}';\n  this.Page = createAppPage(derby);\n  this.proto = this.Page.prototype;\n  this.views = new templates.Views();\n  this.tracksRoutes = tracks.setup(this);\n  this.model = null;\n  this.page = null;\n  this._pendingComponentMap = {};\n  this._init(options);\n}\n\nfunction createAppPage(derby) {\n  var Page = (derby && derby.Page) || PageBase;\n  // Inherit from Page/PageForServer so that we can add controller functions as prototype\n  // methods on this app's pages\n  function AppPage() {\n    Page.apply(this, arguments);\n  }\n  AppPage.prototype = Object.create(Page.prototype);\n  return AppPage;\n}\n\nutil.mergeInto(App.prototype, EventEmitter.prototype);\n\n// Overriden on server\nApp.prototype._init = function() {\n  this._waitForAttach = true;\n  this._cancelAttach = false;\n  this.model = new this.derby.Model();\n  serializedViews(derbyTemplates, this.views);\n  // Must init async so that app.on('model') listeners can be added.\n  // Must also wait for content ready so that bundle is fully downloaded.\n  this._contentReady();\n};\nApp.prototype._finishInit = function() {\n  var script = this._getScript();\n  var data = JSON.parse(script.nextSibling.innerHTML);\n  this.model.createConnection(data);\n  this.emit('model', this.model);\n  util.isProduction = data.nodeEnv === 'production';\n  if (!util.isProduction) this._autoRefresh();\n  this.model.unbundle(data);\n  var page = this.createPage();\n  page.params = this.model.get('$render.params');\n  this.emit('ready', page);\n  this._waitForAttach = false;\n  // Instead of attaching, do a route and render if a link was clicked before\n  // the page finished attaching\n  if (this._cancelAttach) {\n    this.history.refresh();\n    return;\n  }\n  // Since an attachment failure is *fatal* and could happen as a result of a\n  // browser extension like AdBlock, an invalid template, or a small bug in\n  // Derby or Saddle, re-render from scratch on production failures\n  if (util.isProduction) {\n    try {\n      page.attach();\n    } catch (err) {\n      this.history.refresh();\n      console.warn('attachment error', err.stack);\n    }\n  } else {\n    page.attach();\n  }\n  this.emit('load', page);\n};\n// Modified from: https://github.com/addyosmani/jquery.parts/blob/master/jquery.documentReady.js\nApp.prototype._contentReady = function() {\n  // Is the DOM ready to be used? Set to true once it occurs.\n  var isReady = false;\n  var app = this;\n\n  // The ready event handler\n  function onDOMContentLoaded() {\n    if (document.addEventListener) {\n      document.removeEventListener('DOMContentLoaded', onDOMContentLoaded, false);\n    } else {\n      // we're here because readyState !== 'loading' in oldIE\n      // which is good enough for us to call the dom ready!\n      document.detachEvent('onreadystatechange', onDOMContentLoaded);\n    }\n    onDOMReady();\n  }\n\n  // Handle when the DOM is ready\n  function onDOMReady() {\n    // Make sure that the DOM is not already loaded\n    if (isReady) return;\n    // Make sure body exists, at least, in case IE gets a little overzealous (ticket #5443).\n    if (!document.body) return setTimeout(onDOMReady, 0);\n    // Remember that the DOM is ready\n    isReady = true;\n    // Make sure this is always async and then finishin init\n    setTimeout(function() {\n      app._finishInit();\n    }, 0);\n  }\n\n  // The DOM ready check for Internet Explorer\n  function doScrollCheck() {\n    if (isReady) return;\n    try {\n      // If IE is used, use the trick by Diego Perini\n      // http://javascript.nwbox.com/IEContentLoaded/\n      document.documentElement.doScroll('left');\n    } catch (err) {\n      setTimeout(doScrollCheck, 0);\n      return;\n    }\n    // and execute any waiting functions\n    onDOMReady();\n  }\n\n  // Catch cases where called after the browser event has already occurred.\n  if (document.readyState !== 'loading') return onDOMReady();\n\n  // Mozilla, Opera and webkit nightlies currently support this event\n  if (document.addEventListener) {\n    // Use the handy event callback\n    document.addEventListener('DOMContentLoaded', onDOMContentLoaded, false);\n    // A fallback to window.onload, that will always work\n    window.addEventListener('load', onDOMContentLoaded, false);\n    // If IE event model is used\n  } else if (document.attachEvent) {\n    // ensure firing before onload,\n    // maybe late but safe also for iframes\n    document.attachEvent('onreadystatechange', onDOMContentLoaded);\n    // A fallback to window.onload, that will always work\n    window.attachEvent('onload', onDOMContentLoaded);\n    // If IE and not a frame\n    // continually check to see if the document is ready\n    var toplevel;\n    try {\n      toplevel = window.frameElement == null;\n    } catch (err) {}\n    if (document.documentElement.doScroll && toplevel) {\n      doScrollCheck();\n    }\n  }\n};\n\nApp.prototype._getScript = function() {\n  return document.querySelector('script[data-derby-app]');\n};\n\nApp.prototype.use = util.use;\nApp.prototype.serverUse = util.serverUse;\n\nApp.prototype.loadViews = function() {};\n\nApp.prototype.loadStyles = function() {};\n\n// This function is overriden by requiring 'derby/parsing'\nApp.prototype.addViews = function() {\n  throw new Error(\n    'Parsing not available. Registering a view from source should not be used ' +\n    'in application code. Instead, specify a filename with view.file.'\n  );\n};\n\nApp.prototype.component = function(name, constructor, isDependency) {\n  if (typeof name === 'function') {\n    constructor = name;\n    name = null;\n  }\n  if (typeof constructor !== 'function') {\n    throw new Error('Missing component constructor argument');\n  }\n\n  var viewProp = constructor.view;\n  var viewIs, viewFilename, viewSource, viewDependencies;\n  // Always using an object for the static `view` property is preferred\n  if (viewProp && typeof viewProp === 'object') {\n    viewIs = viewProp.is;\n    viewFilename = viewProp.file;\n    viewSource = viewProp.source;\n    viewDependencies = viewProp.dependencies;\n  } else {\n    // Ignore other properties when `view` is an object. It is possible that\n    // properties could be inherited from a parent component when extending it.\n    //\n    // DEPRECATED: constructor.prototype.name and constructor.prototype.view\n    // use the equivalent static properties instead\n    viewIs = constructor.is || constructor.prototype.name;\n    viewFilename = constructor.view || constructor.prototype.view;\n  }\n  var viewName = name || viewIs ||\n    (viewFilename && path.basename(viewFilename, '.html'));\n\n  if (!viewName) {\n    throw new Error('No view specified for component');\n  }\n  if (viewFilename && viewSource) {\n    throw new Error('Component may not specify both a view file and source');\n  }\n\n  // TODO: DRY. This is copy-pasted from derby-templates\n  var mapName = viewName.replace(/:index$/, '');\n  var currentView = this.views.nameMap[mapName];\n  var currentConstructor = (currentView && currentView.componentFactory) ?\n    currentView.componentFactory.constructor :\n    this._pendingComponentMap[mapName];\n\n  // Avoid registering the same component twice; we want to avoid the overhead\n  // of loading view files from disk again. This is also what prevents\n  // circular dependencies from infinite looping\n  if (currentConstructor === constructor) return;\n\n  // Calling app.component() overrides existing views or components. Prevent\n  // dependencies from doing this without warning\n  if (isDependency && currentView && !currentView.fromSerialized) {\n    throw new Error('Dependencies cannot override existing views. Already registered \"' + viewName + '\"');\n  }\n\n  // This map is used to prevent infinite loops from circular dependencies\n  this._pendingComponentMap[mapName] = constructor;\n\n  // Recursively register component dependencies\n  if (viewDependencies) {\n    for (var i = 0; i < viewDependencies.length; i++) {\n      var dependency = viewDependencies[i];\n      if (Array.isArray(dependency)) {\n        this.component(dependency[0], dependency[1], true);\n      } else {\n        this.component(null, dependency, true);\n      }\n    }\n  }\n\n  // Register or find views specified by the component\n  var view;\n  if (viewFilename) {\n    this.loadViews(viewFilename, viewName);\n    view = this.views.find(viewName);\n\n  } else if (viewSource) {\n    this.addViews(viewSource, viewName);\n    view = this.views.find(viewName);\n\n  } else if (name) {\n    view = this.views.find(viewName);\n\n  } else {\n    view = this.views.register(viewName, '');\n  }\n  if (!view) {\n    var message = this.views.findErrorMessage(viewName);\n    throw new Error(message);\n  }\n\n  // Inherit from Component\n  components.extendComponent(constructor);\n  // Associate the appropriate view with the component constructor\n  view.componentFactory = components.createFactory(constructor);\n\n  delete this._pendingComponentMap[mapName];\n\n  // Make chainable\n  return this;\n};\n\nApp.prototype.createPage = function() {\n  if (this.page) {\n    this.emit('destroyPage', this.page);\n    this.page.destroy();\n  }\n  var page = new this.Page(this, this.model);\n  this.page = page;\n  return page;\n};\n\nApp.prototype.onRoute = function(callback, page, next, done) {\n  if (this._waitForAttach) {\n    // Cancel any routing before the initial page attachment. Instead, do a\n    // render once derby is ready\n    this._cancelAttach = true;\n    return;\n  }\n  this.emit('route', page);\n  // HACK: To update render in transitional routes\n  page.model.set('$render.params', page.params);\n  page.model.set('$render.url', page.params.url);\n  page.model.set('$render.query', page.params.query);\n  // If transitional\n  if (done) {\n    var app = this;\n    var _done = function() {\n      app.emit('routeDone', page, 'transition');\n      done();\n    };\n    callback.call(page, page, page.model, page.params, next, _done);\n    return;\n  }\n  callback.call(page, page, page.model, page.params, next);\n};\n\nApp.prototype._autoRefresh = function() {\n  var app = this;\n  var connection = this.model.connection;\n  connection.on('connected', function() {\n    connection.send({\n      derby: 'app',\n      name: app.name,\n      hash: app.scriptHash\n    });\n  });\n  connection.on('receive', function(request) {\n    if (request.data.derby) {\n      var message = request.data;\n      request.data = null;\n      app._handleMessage(message.derby, message);\n    }\n  });\n};\n\nApp.prototype._handleMessage = function(action, message) {\n  if (action === 'refreshViews') {\n    var fn = new Function('return ' + message.views)(); // jshint ignore:line\n    fn(derbyTemplates, this.views);\n    var ns = this.model.get('$render.ns');\n    this.page.render(ns);\n\n  } else if (action === 'refreshStyles') {\n    var styleElement = document.querySelector('style[data-filename=\"' +\n      message.filename + '\"]');\n    if (styleElement) styleElement.innerHTML = message.css;\n\n  } else if (action === 'reload') {\n    this.model.whenNothingPending(function() {\n      window.location = window.location;\n    });\n  }\n};\n",
    "/*\n * Derby.js\n * Meant to be the entry point for the framework.\n *\n */\nvar racer = require('racer');\n\nmodule.exports = Derby;\n\nfunction Derby() {}\nDerby.prototype = Object.create(racer);\nDerby.prototype.constructor = Derby;\n\nDerby.prototype.App = require('./App');\nDerby.prototype.Page = require('./Page');\nDerby.prototype.Component = require('./components').Component;\n\nDerby.prototype.createApp = function(name, filename, options) {\n  return new this.App(this, name, filename, options);\n};\n\nif (!racer.util.isServer) {\n  require('./documentListeners').add(document);\n}\n",
    "var serverRequire = require('racer').util.serverRequire;\nvar Derby = serverRequire(module, './lib/DerbyForServer') || require('./lib/Derby');\nmodule.exports = new Derby();\n",
    "\nmodule.exports = function(app) {\n  app.on('ready', function(page) {\n    window.MODEL = page.model;\n    window.APP = app;\n    app.findComponent = findComponent;\n    app.componentCommand = componentCommand;\n    app.derby.Model.prototype.logEvents = logEvents;\n  });\n}\n\nfunction findComponent(name, index) {\n  if (index == null) index = 0;\n  var commentIterator = document.createTreeWalker(document, 128, null, false);\n  var node;\n  while ((node = commentIterator.nextNode())) {\n    if (node.data !== name) continue;\n    if (index === 0) {\n      return node.$component;\n    }\n    index--;\n  }\n};\n\nfunction componentCommand(comment) {\n  var count = 0;\n  var commentIterator = document.createTreeWalker(document, 128, null, false);\n  var node;\n  while ((node = commentIterator.nextNode())) {\n    if (node === comment) {\n      return '(component = APP.findComponent(\\'' + node.data + '\\',' + count + '))';\n    }\n    if (node.data === comment.data) count++;\n  }\n};\n\nfunction logEvents(path) {\n  if (path == null) path = '';\n  this.on('all', path + '**', console.log.bind(console));\n};\n",
    "module.exports = CM;\nfunction CM() {}\nCM.prototype.view = __dirname;\n\nif (require && require.resolve) {\n  var path = require('path');\n  var entry = require.resolve('codemirror');\n  CM.root = path.resolve(entry, '../../');\n}\n\nCM.prototype.init = function() {\n  var model = this.model;\n  model.setNull(\"options\", {});\n  model.setNull(\"debounce\", 150)\n};\n\nCM.prototype.create = function() {\n  var model = this.model;\n  var that = this;\n\n  var options = this.getAttribute(\"options\");\n  var cm = this.cm = CodeMirror.fromTextArea(this.textarea, options);\n\n  // Dynamically load necessary files for the CodeMirror mode set through the mode option\n  // Mode can either be a mime-type `text/html` or a CodeMirror mode-name `htmlmixed`\n  // cf. http://codemirror.net/demo/loadmode.html\n  if (options.mode) {\n    var mode = options.mode;\n    if (/\\//.test(options.mode)) {\n      var info = CodeMirror.findModeByMIME(options.mode);\n      if (info) {\n        mode = info.mode;\n      }\n    }\n    CodeMirror.autoLoadMode(cm, mode);\n  }\n\n  // changes in values inside the array\n  model.on(\"change\", \"text\", function(newVal, oldVal, passed) {\n    //we don't want to change the CM instance if we did the change\n    if(passed.editing) return;\n\n    var stringInsert = passed.$stringInsert;\n    var stringRemove = passed.$stringRemove;\n    if(stringInsert && stringInsert.text) {\n      that.supress = true;\n      cm.replaceRange(stringInsert.text, cm.posFromIndex(stringInsert.index));\n      that.supress = false;\n      that.check();\n    } else if(stringRemove && stringRemove.howMany) {\n      that.supress = true;\n      var from = cm.posFromIndex(stringRemove.index);\n      var to = cm.posFromIndex(stringRemove.howMany);\n      cm.replaceRange('', from, to);\n      that.supress = false;\n    } else {\n      // using model.setDiff doesnt provide stringInsert and stringRemove, just changes the text\n      var cursor = that.cm.getCursor();\n      that.supress = true;\n      that.cm.setValue(newVal);\n      that.supress = false;\n      that.cm.setCursor(cursor)\n    }\n  });\n\n  var debounce;\n  cm.on(\"change\", function(cm, change) {\n    if(that.supress) return;\n    if(debounce) {\n      clearTimeout(debounce);\n      debounce = null;\n    }\n    debounce = setTimeout(function(){\n      var value = cm.getValue();\n      that.model.pass({editing: true}).setDiff(\"text\", value)\n    }, model.get(\"debounce\"))\n  });\n};\n\nCM.prototype.check = function() {\n  var that = this;\n  setTimeout(function () {\n    var cmText = that.cm.getValue();\n    var otText = that.model.get(\"text\") || '';\n    var cursor = that.cm.getCursor();\n\n    if (cmText != otText) {\n      /*\n      console.error(\"Text does not match!\");\n      console.error(\"cm: \" + cmText);\n      console.error(\"ot: \" + otText);\n      */\n      // Replace the editor text with the current model value.\n      that.supress = true;\n      that.cm.setValue(otText);\n      that.supress = false;\n      that.cm.setCursor(cursor)\n    }\n  }, 0);\n};\n",
    "\nexposedRequire.m[\"racer\"] = _$lib_racer;\nexposedRequire.m[\"derby\"] = _$derby_derby;\nreturn exposedRequire;\n}(typeof require === 'function' ? require : void 0));",
    "\"use strict\";\n\nvar showdown = require('showdown');\n\nvar app = module.exports = require('derby').createApp('codemirror', __filename);\n\napp.use(require('derby-debug'));\napp.serverUse(module, 'derby-stylus');\napp.loadViews(__dirname);\napp.loadStyles(__dirname);\napp.component(require('d-codemirror')); // Routes render on client as well as server\n\napp.get('/', function (page, model) {\n  // Subscribe specifies the data to sync\n  var text = model.at('codemirror.text');\n  text.subscribe(function () {\n    // Set default content if none has been set\n    text.createNull('# Hello world');\n    page.render();\n  });\n});\nvar converter = new showdown.Converter();\n\napp.proto.markdownHtml = function (text) {\n  return converter.makeHtml(text);\n};"
  ],
  "sourceRoot": ""
}