"use strict";

var stylus = require('./');

var value = "\n$IMG = {\n  temp: {\n    selectors: (\"test\" \"test1\")\n    props: {\n      pop: \"dies\"\n    }\n  }\n}\n\nadd-property(name, expr)\n  {name} expr\n\ngenerateImgClasses()\n  for $img, $obj in $IMG\n    {join(\",\", $obj.selectors)}\n      for $prop in $IMG\n        add-property($prop, \"url(%s)\" % $img)\n\nhtml\n  generateImgClasses()";
stylus(value).render(function (err, css) {
  if (err) {
    throw err;
  }

  console.log(css);
});