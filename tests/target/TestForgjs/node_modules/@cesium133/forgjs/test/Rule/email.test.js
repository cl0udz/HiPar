"use strict";

require("core-js/modules/es.array.index-of.js");

require("core-js/modules/es.array.index-of.js");

var _require = require('../../src'),
    Rule = _require.Rule;

test('type email false', function () {
  var emailRule = new Rule({
    type: 'email'
  }, null);
  expect(emailRule.test([])).toBe(false);
});
test('type email', function () {
  var emailRule = new Rule({
    type: 'email'
  }, null);
  expect(emailRule.test('frfrfr')).toBe(false);
});
test('type email true', function () {
  var emailRule = new Rule({
    type: 'email'
  }, null);
  expect(emailRule.test('dedede@afe.fr')).toBe(true);
});
test('type user and domain true', function () {
  var emailRule = new Rule({
    type: 'email',
    user: function user(_user) {
      return _user === 'dedede';
    },
    domain: function domain(_domain) {
      return ['outlook', 'gmail'].indexOf(_domain) !== -1;
    }
  }, null);
  expect(emailRule.test('dedede@gmail.fr')).toBe(true);
});