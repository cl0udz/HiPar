"use strict";

var _require = require('../../src'),
    Rule = _require.Rule;

test('type test not int is false', function () {
  var intRule = new Rule({
    type: 'int'
  }, null);
  expect(intRule.test([])).toBe(false);
});
test('type test', function () {
  var intRule = new Rule({
    type: 'int'
  }, null);
  expect(intRule.test(2)).toBe(true);
});
test('max is true if < 100', function () {
  var intRule = new Rule({
    type: 'int',
    max: 100
  }, null);
  expect(intRule.test(99)).toBe(true);
});
test('max is false if  > 100', function () {
  var intRule = new Rule({
    type: 'int',
    max: 100
  }, null);
  expect(intRule.test(101)).toBe(false);
});
test('equal returns true if 100', function () {
  var intRule = new Rule({
    type: 'int',
    equal: 100
  }, null);
  expect(intRule.test(100)).toBe(true);
});
test('custom rulle should return true', function () {
  var intRule = new Rule({
    type: 'int',
    custom: function custom(val) {
      return val % 2 === 0;
    }
  }, null);
  expect(intRule.test(4)).toBe(true);
});
test('custom rulle should return false', function () {
  var intRule = new Rule({
    type: 'int',
    custom: function custom(val) {
      return val % 2 === 0;
    }
  }, null);
  expect(intRule.test(3)).toBe(false);
});
test('mixng rulles returns true', function () {
  var intRule = new Rule({
    type: 'int',
    max: 50,
    min: 5,
    custom: function custom(val) {
      return val % 2 === 0;
    }
  }, null);
  expect(intRule.test(6)).toBe(true);
});
test('mixng rulles returns false', function () {
  var intRule = new Rule({
    type: 'int',
    max: 50,
    min: 5,
    custom: function custom(val) {
      return val % 2 === 0;
    }
  }, null);
  expect(intRule.test(1)).toBe(false);
});
test('throws error when test doesn\'t exist', function () {
  expect(function () {
    var intRule = new Rule({
      type: 'int',
      test: false
    }, null);
    intRule.test(3);
  }).toThrow();
});
test('returns true if optional set to true and patram undefined', function () {
  var intRule = new Rule({
    type: 'int',
    optional: true
  }, null);
  expect(intRule.test()).toBe(true);
});
test('returns false if optional set to true and patram dont match', function () {
  var intRule = new Rule({
    type: 'int',
    optional: true
  }, null);
  expect(intRule.test('hello')).toBe(false);
});
test('returns true if optional set to true and patram match', function () {
  var intRule = new Rule({
    type: 'int',
    optional: true
  }, null);
  expect(intRule.test(150)).toBe(true);
});
test('returns true if optional set to false and patram match', function () {
  var intRule = new Rule({
    type: 'int',
    optional: false
  }, null);
  expect(intRule.test(150)).toBe(true);
});
test('returns false if optional set to false and patram dont match', function () {
  var intRule = new Rule({
    type: 'int',
    optional: false
  }, null);
  expect(intRule.test('150')).toBe(false);
});