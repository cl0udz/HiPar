'use strict';

require("core-js/modules/web.timers");

require("core-js/modules/web.timers");

var test = require('tap').test;

var boot = require('..');

var noop = function noop() {};

test('boot a plugin and then execute a call after that', function (t) {
  t.plan(1);
  process.on('warning', function (warning) {
    t.fail('we should not get a warning', warning);
  });
  var app = boot();

  for (var i = 0; i < 12; i++) {
    app.on('preReady', noop);
  }

  setTimeout(function () {
    t.pass('Everything ok');
  }, 500);
});