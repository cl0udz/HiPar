'use strict';

require("core-js/modules/es.regexp.exec");

require("core-js/modules/es.string.match");

require("core-js/modules/es.regexp.exec");

require("core-js/modules/es.string.match");

var t = require('tap');

var boot = require('..');

t.plan(2);
var server = {};
var app = boot(server, {
  autostart: false
});

app.override = function () {
  throw Error('catch it');
};

app.use(function () {}).start();
app.ready(function (err) {
  t.type(err, Error);
  t.match(err, /catch it/);
});