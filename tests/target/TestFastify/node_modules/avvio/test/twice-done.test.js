'use strict';

var test = require('tap').test;

var boot = require('..');

test('calling done twice does not throw error', function (t) {
  t.plan(2);
  var app = boot();
  app.use(twiceDone).ready(function (err) {
    t.notOk(err, 'no error');
  });

  function twiceDone(s, opts, done) {
    done();
    done();
    t.pass('did not throw');
  }
});