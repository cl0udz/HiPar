'use strict';

require("core-js/modules/es.date.to-string");

require("core-js/modules/es.date.to-string");

var test = require('tap').test;

var validator = require('is-my-json-valid');

var build = require('..');

test('render a a date in a string as JSON', function (t) {
  t.plan(2);
  var schema = {
    title: 'a date in a string',
    type: 'string'
  };
  var toStringify = new Date();
  var validate = validator(schema);
  var stringify = build(schema);
  var output = stringify(toStringify);
  t.equal(output, JSON.stringify(toStringify));
  t.ok(validate(JSON.parse(output)), 'valid schema');
});