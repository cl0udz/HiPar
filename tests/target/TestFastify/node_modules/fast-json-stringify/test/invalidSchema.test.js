'use strict';

require("core-js/modules/es.regexp.exec");

require("core-js/modules/es.string.match");

require("core-js/modules/es.regexp.exec");

require("core-js/modules/es.string.match");

var test = require('tap').test;

var build = require('..'); // Covers issue #139


test('Should throw on invalid schema', function (t) {
  t.plan(2);

  try {
    build({}, {
      schema: {
        invalid: {
          type: 'Dinosaur'
        }
      }
    });
    t.fail('should be an invalid schema');
  } catch (err) {
    t.match(err.message, /^"invalid" schema is invalid:.*/, 'Schema contains invalid key');
    t.ok(err);
  }
});