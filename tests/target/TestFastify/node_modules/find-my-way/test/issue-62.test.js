'use strict';

require("core-js/modules/es.array.find");

require("core-js/modules/es.array.find");

var t = require('tap');

var FindMyWay = require('../');

var noop = function noop() {};

t.test('issue-62', function (t) {
  t.plan(2);
  var findMyWay = FindMyWay({
    allowUnsafeRegex: true
  });
  findMyWay.on('GET', '/foo/:id(([a-f0-9]{3},?)+)', noop);
  t.notOk(findMyWay.find('GET', '/foo/qwerty'));
  t.ok(findMyWay.find('GET', '/foo/bac,1ea'));
});
t.test('issue-62 - escape chars', function (t) {
  var findMyWay = FindMyWay();
  t.plan(2);
  findMyWay.get('/foo/:param(\\([a-f0-9]{3}\\))', noop);
  t.notOk(findMyWay.find('GET', '/foo/abc'));
  t.ok(findMyWay.find('GET', '/foo/(abc)'));
});