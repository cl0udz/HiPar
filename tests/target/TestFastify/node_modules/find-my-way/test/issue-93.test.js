'use strict';

var t = require('tap');

var test = t.test;

var FindMyWay = require('../');

var noop = function noop() {};

test('Should keep semver store when split node', function (t) {
  t.plan(4);
  var findMyWay = FindMyWay();
  findMyWay.on('GET', '/t1', {
    version: '1.0.0'
  }, noop);
  findMyWay.on('GET', '/t2', {
    version: '2.1.0'
  }, noop);
  t.ok(findMyWay.find('GET', '/t1', '1.0.0'));
  t.ok(findMyWay.find('GET', '/t2', '2.x'));
  t.notOk(findMyWay.find('GET', '/t1', '2.x'));
  t.notOk(findMyWay.find('GET', '/t2', '1.0.0'));
});