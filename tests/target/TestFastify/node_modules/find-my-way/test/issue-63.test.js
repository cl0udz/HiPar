'use strict';

var t = require('tap');

var factory = require('../');

var noop = function noop() {};

t.test('issue-63', function (t) {
  t.plan(2);
  var fmw = factory();
  t.throws(function () {
    fmw.on('GET', '/foo/:id(a', noop);
  });

  try {
    fmw.on('GET', '/foo/:id(a', noop);
    t.fail('should fail');
  } catch (err) {
    t.is(err.message, 'Invalid regexp expression in "/foo/:id(a"');
  }
});