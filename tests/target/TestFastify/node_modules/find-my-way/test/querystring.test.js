'use strict';

var t = require('tap');

var test = t.test;

var FindMyWay = require('../');

test('should sanitize the url - query', function (t) {
  t.plan(1);
  var findMyWay = FindMyWay();
  findMyWay.on('GET', '/test', function (req, res, params) {
    t.ok('inside the handler');
  });
  findMyWay.lookup({
    method: 'GET',
    url: '/test?hello=world',
    headers: {}
  }, null);
});
test('should sanitize the url - hash', function (t) {
  t.plan(1);
  var findMyWay = FindMyWay();
  findMyWay.on('GET', '/test', function (req, res, params) {
    t.ok('inside the handler');
  });
  findMyWay.lookup({
    method: 'GET',
    url: '/test#hello',
    headers: {}
  }, null);
});
test('handles path and query separated by ;', function (t) {
  t.plan(1);
  var findMyWay = FindMyWay();
  findMyWay.on('GET', '/test', function (req, res, params) {
    t.ok('inside the handler');
  });
  findMyWay.lookup({
    method: 'GET',
    url: '/test;jsessionid=123456',
    headers: {}
  }, null);
});