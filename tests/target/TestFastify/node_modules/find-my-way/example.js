'use strict';

var http = require('http');

var router = require('./')({
  defaultRoute: function defaultRoute(req, res) {
    res.end('not found');
  }
});

router.on('GET', '/test', function (req, res, params) {
  res.end('{"hello":"world"}');
});
router.on('GET', '/:test', function (req, res, params) {
  res.end(JSON.stringify(params));
});
router.on('GET', '/text/hello', function (req, res, params) {
  res.end('{"winter":"is here"}');
});
var server = http.createServer(function (req, res) {
  router.lookup(req, res);
});
server.listen(3000, function (err) {
  if (err) throw err;
  console.log('Server listening on: http://localhost:3000');
});