'use strict';

require("core-js/modules/es.array.fill");

require("core-js/modules/es.date.to-string");

require("core-js/modules/es.object.to-string");

require("core-js/modules/es.regexp.to-string");

require("core-js/modules/es.array.fill");

require("core-js/modules/es.date.to-string");

require("core-js/modules/es.object.to-string");

require("core-js/modules/es.regexp.to-string");

var SonicBoom = require('..');

var out = new SonicBoom(process.stdout.fd);
var str = Buffer.alloc(1000).fill('a').toString();
var i = 0;

function write() {
  if (i++ === 10) {
    return;
  }

  if (out.write(str)) {
    write();
  } else {
    out.once('drain', write);
  }
}

write();