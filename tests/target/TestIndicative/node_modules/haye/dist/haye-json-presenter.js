"use strict";

function JsonPresenter() {
  return {
    nodes: [],
    currentNode: null,
    add: function add() {
      this.currentNode = {
        name: "",
        args: []
      }, this.nodes.push(this.currentNode);
    },
    appendKey: function appendKey(e, n) {
      32 !== n && (this.currentNode.name += e);
    },
    appendValue: function appendValue(e) {
      this.currentNode.args[this.currentNode.args.length - 1] += e;
    },
    shiftValue: function shiftValue() {
      this.currentNode.args.push("");
    },
    toJSON: function toJSON() {
      return this.nodes.reduce(function (e, n) {
        return e[n.name] = n.args, e;
      }, {});
    }
  };
}

module.exports = JsonPresenter;