"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var indicative_utils_1 = require("indicative-utils");

var empty_1 = require("../../raw/empty");

var existy_1 = require("../../raw/existy");

var MISSING_VALUES = 'requiredWithoutAll:make sure to define one or more target fields';
var validation = {
  async: false,
  compile: function compile(args) {
    indicative_utils_1.ensureLength(args, MISSING_VALUES, 1);
    return args.map(function (arg) {
      return String(arg);
    });
  },
  validate: function validate(data, field, args) {
    var hasAnyField = args.some(function (item) {
      return existy_1.existy(indicative_utils_1.getValue(data, item));
    });

    if (hasAnyField) {
      return true;
    }

    return !empty_1.empty(indicative_utils_1.getValue(data, field));
  }
};
exports["default"] = validation;